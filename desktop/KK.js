(function ($hx_exports, $global) { "use strict"; var $hx_script = (function (exports, global) { !function($hx_exports,$global){"use strict";$hx_exports.lime=$hx_exports.lime||{};var $hxClasses={},$estr=function(){return js_Boot.__string_rec(this,"")},$hxEnums=$hxEnums||{},$_;function $extend(e,t){var a=Object.create(e);for(var n in t)a[n]=t[n];return t.toString!==Object.prototype.toString&&(a.toString=t.toString),a}var lime_app_IModule=function(){};$hxClasses["lime.app.IModule"]=lime_app_IModule,lime_app_IModule.__name__="lime.app.IModule",lime_app_IModule.__isInterface__=!0,lime_app_IModule.prototype={__class__:lime_app_IModule};var lime_app_Module=function(){this.onExit=new lime_app__$Event_$Int_$Void};$hxClasses["lime.app.Module"]=lime_app_Module,lime_app_Module.__name__="lime.app.Module",lime_app_Module.__interfaces__=[lime_app_IModule],lime_app_Module.prototype={__registerLimeModule:function(e){},__unregisterLimeModule:function(e){},__class__:lime_app_Module};var lime__$internal_backend_html5_HTML5Application=function(e){this.gameDeviceCache=new haxe_ds_IntMap,this.parent=e,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,lime_media_AudioManager.init(),this.accelerometer=lime_system_Sensor.registerSensor(lime_system_SensorType.ACCELEROMETER,0)};$hxClasses["lime._internal.backend.html5.HTML5Application"]=lime__$internal_backend_html5_HTML5Application,lime__$internal_backend_html5_HTML5Application.__name__="lime._internal.backend.html5.HTML5Application",lime__$internal_backend_html5_HTML5Application.prototype={convertKeyCode:function(e){if(e>=65&&e<=90)return e+32;switch(e){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 92:case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:return 1073741923;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:return 96;case 172:return 1073741898;case 173:return 45;case 174:return 1073741953;case 175:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 193:return 63;case 194:return 1073741923;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 223:return 96;case 224:return 1073742051;case 226:return 92}return e},exec:function(){if(window.addEventListener("keydown",$bind(this,this.handleKeyEvent),!1),window.addEventListener("keyup",$bind(this,this.handleKeyEvent),!1),window.addEventListener("focus",$bind(this,this.handleWindowEvent),!1),window.addEventListener("blur",$bind(this,this.handleWindowEvent),!1),window.addEventListener("resize",$bind(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",$bind(this,this.handleWindowEvent),!1),window.addEventListener("devicemotion",$bind(this,this.handleSensorEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(e,t,a){return!1}),CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(e,t,a){return!1}),"performance"in window==0&&(window.performance={}),"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}for(var t=0,a=["ms","moz","webkit","o"],n=0;n<a.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[a[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[n]+"CancelAnimationFrame"]||window[a[n]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(e,a){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),s=window.setTimeout((function(){e(n+i)}),i);return t=n+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(e){for(var t=0,a=this.parent.__windows;t<a.length;){var n=a[t];++t,n.__backend.updateSize()}if(this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate){this.deltaTime=this.currentUpdate-this.lastUpdate;for(t=0,a=this.parent.__windows;t<a.length;){n=a[t];++t,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=n.context&&n.onRender.dispatch(n.context)}this.framePeriod<0?this.nextUpdate=this.currentUpdate:this.nextUpdate=this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod,this.lastUpdate=this.currentUpdate}window.requestAnimationFrame($bind(this,this.handleApplicationEvent))},handleKeyEvent:function(e){if(null!=this.parent.__window){var t=this.convertKeyCode(null!=e.keyCode?e.keyCode:e.which),a=(e.shiftKey?3:0)|(e.ctrlKey?192:0)|(e.altKey?768:0)|(e.metaKey?3072:0);"keydown"==e.type?(this.parent.__window.onKeyDown.dispatch(t,a),this.parent.__window.onKeyDown.canceled&&e.cancelable&&e.preventDefault()):(this.parent.__window.onKeyUp.dispatch(t,a),this.parent.__window.onKeyUp.canceled&&e.cancelable&&e.preventDefault())}},handleSensorEvent:function(e){this.accelerometer.onUpdate.dispatch(e.accelerationIncludingGravity.x,e.accelerationIncludingGravity.y,e.accelerationIncludingGravity.z)},handleWindowEvent:function(e){if(null!=this.parent.__window)switch(e.type){case"beforeunload":break;case"blur":this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch();break;case"focus":this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch();break;case"resize":this.parent.__window.__backend.handleResizeEvent(e)}},updateGameDevices:function(){var e=lime_ui_Joystick.__getDeviceData();if(null!=e)for(var t,a,n,i,s,_=0,r=e.length;_<r;){if(null!=(i=e[t=_++])){if(!this.gameDeviceCache.h.hasOwnProperty(t)){(s=new lime__$internal_backend_html5_GameDeviceData).id=t,s.connected=i.connected;for(var o=0,l=i.buttons.length;o<l;){var h=o++;s.buttons.push(i.buttons[h].value)}for(var u=0,p=i.axes.length;u<p;){var c=u++;s.axes.push(i.axes[c])}"standard"==i.mapping&&(s.isGamepad=!0),this.gameDeviceCache.h[t]=s,i.connected&&(lime_ui_Joystick.__connect(t),s.isGamepad&&lime_ui_Gamepad.__connect(t))}if(s=this.gameDeviceCache.h[t],n=lime_ui_Joystick.devices.h[t],a=lime_ui_Gamepad.devices.h[t],i.connected){for(var d,f,m=0,g=i.buttons.length;m<g;){var x=m++;if((f=i.buttons[x].value)!=s.buttons[x]){if(6==x)n.onAxisMove.dispatch(i.axes.length,f),null!=a&&a.onAxisMove.dispatch(4,f);else if(7==x)n.onAxisMove.dispatch(i.axes.length+1,f),null!=a&&a.onAxisMove.dispatch(5,f);else if(f>0?n.onButtonDown.dispatch(x):n.onButtonUp.dispatch(x),null!=a){switch(x){case 0:d=0;break;case 1:d=1;break;case 2:d=2;break;case 3:d=3;break;case 4:d=9;break;case 5:d=10;break;case 8:d=4;break;case 9:d=6;break;case 10:d=7;break;case 11:d=8;break;case 12:d=11;break;case 13:d=12;break;case 14:d=13;break;case 15:d=14;break;case 16:d=5;break;default:continue}f>0?a.onButtonDown.dispatch(d):a.onButtonUp.dispatch(d)}s.buttons[x]=f}}for(var k=0,y=i.axes.length;k<y;){var b=k++;i.axes[b]!=s.axes[b]&&(n.onAxisMove.dispatch(b,i.axes[b]),null!=a&&a.onAxisMove.dispatch(b,i.axes[b]),s.axes[b]=i.axes[b])}}else s.connected&&(s.connected=!1,lime_ui_Joystick.__disconnect(t),lime_ui_Gamepad.__disconnect(t))}}},__class__:lime__$internal_backend_html5_HTML5Application};var lime_app_Application=function(){this.onCreateWindow=new lime_app__$Event_$lime_$ui_$Window_$Void,this.onUpdate=new lime_app__$Event_$Int_$Void,lime_app_Module.call(this),null==lime_app_Application.current&&(lime_app_Application.current=this),this.meta=new haxe_ds_StringMap,this.modules=[],this.__windowByID=new haxe_ds_IntMap,this.__windows=[],this.__backend=new lime__$internal_backend_html5_HTML5Application(this),this.__registerLimeModule(this),this.__preloader=new lime_utils_Preloader,this.__preloader.onProgress.add($bind(this,this.onPreloadProgress)),this.__preloader.onComplete.add($bind(this,this.onPreloadComplete))};$hxClasses["lime.app.Application"]=lime_app_Application,lime_app_Application.__name__="lime.app.Application",lime_app_Application.__super__=lime_app_Module,lime_app_Application.prototype=$extend(lime_app_Module.prototype,{addModule:function(e){e.__registerLimeModule(this),this.modules.push(e)},createWindow:function(e){var t=this.__createWindow(e);return this.__addWindow(t),t},exec:function(){return lime_app_Application.current=this,this.__backend.exec()},onGamepadAxisMove:function(e,t,a){},onGamepadButtonDown:function(e,t){},onGamepadButtonUp:function(e,t){},onGamepadConnect:function(e){},onGamepadDisconnect:function(e){},onJoystickAxisMove:function(e,t,a){},onJoystickButtonDown:function(e,t){},onJoystickButtonUp:function(e,t){},onJoystickConnect:function(e){},onJoystickDisconnect:function(e){},onJoystickHatMove:function(e,t,a){},onJoystickTrackballMove:function(e,t,a,n){},onKeyDown:function(e,t){},onKeyUp:function(e,t){},onModuleExit:function(e){},onMouseDown:function(e,t,a){},onMouseMove:function(e,t){},onMouseMoveRelative:function(e,t){},onMouseUp:function(e,t,a){},onMouseWheel:function(e,t,a){},onPreloadComplete:function(){},onPreloadProgress:function(e,t){},onRenderContextLost:function(){},onRenderContextRestored:function(e){},onTextEdit:function(e,t,a){},onTextInput:function(e){},onTouchCancel:function(e){},onTouchEnd:function(e){},onTouchMove:function(e){},onTouchStart:function(e){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(e){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(e,t){},onWindowMinimize:function(){},onWindowResize:function(e,t){},onWindowRestore:function(){},removeModule:function(e){null!=e&&(e.__unregisterLimeModule(this),HxOverrides.remove(this.modules,e))},render:function(e){},update:function(e){},__addWindow:function(e){if(null!=e){this.__windows.push(e),this.__windowByID.h[e.id]=e;var t=$bind(this,this.__onWindowClose),a=e;e.onClose.add((function(){t(a)}),!1,-1e4),null==this.__window&&(this.__window=e,e.onActivate.add($bind(this,this.onWindowActivate)),e.onRenderContextLost.add($bind(this,this.onRenderContextLost)),e.onRenderContextRestored.add($bind(this,this.onRenderContextRestored)),e.onDeactivate.add($bind(this,this.onWindowDeactivate)),e.onDropFile.add($bind(this,this.onWindowDropFile)),e.onEnter.add($bind(this,this.onWindowEnter)),e.onExpose.add($bind(this,this.onWindowExpose)),e.onFocusIn.add($bind(this,this.onWindowFocusIn)),e.onFocusOut.add($bind(this,this.onWindowFocusOut)),e.onFullscreen.add($bind(this,this.onWindowFullscreen)),e.onKeyDown.add($bind(this,this.onKeyDown)),e.onKeyUp.add($bind(this,this.onKeyUp)),e.onLeave.add($bind(this,this.onWindowLeave)),e.onMinimize.add($bind(this,this.onWindowMinimize)),e.onMouseDown.add($bind(this,this.onMouseDown)),e.onMouseMove.add($bind(this,this.onMouseMove)),e.onMouseMoveRelative.add($bind(this,this.onMouseMoveRelative)),e.onMouseUp.add($bind(this,this.onMouseUp)),e.onMouseWheel.add($bind(this,this.onMouseWheel)),e.onMove.add($bind(this,this.onWindowMove)),e.onRender.add($bind(this,this.render)),e.onResize.add($bind(this,this.onWindowResize)),e.onRestore.add($bind(this,this.onWindowRestore)),e.onTextEdit.add($bind(this,this.onTextEdit)),e.onTextInput.add($bind(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(e)}},__createWindow:function(e){var t=new lime_ui_Window(this,e);return-1==t.id?null:t},__registerLimeModule:function(e){e.onUpdate.add($bind(this,this.update)),e.onExit.add($bind(this,this.onModuleExit),!1,0),e.onExit.add($bind(this,this.__onModuleExit),!1,0);for(var t=lime_ui_Gamepad.devices.iterator();t.hasNext();){var a=t.next();this.__onGamepadConnect(a)}lime_ui_Gamepad.onConnect.add($bind(this,this.__onGamepadConnect));for(var n=lime_ui_Joystick.devices.iterator();n.hasNext();){var i=n.next();this.__onJoystickConnect(i)}lime_ui_Joystick.onConnect.add($bind(this,this.__onJoystickConnect)),lime_ui_Touch.onCancel.add($bind(this,this.onTouchCancel)),lime_ui_Touch.onStart.add($bind(this,this.onTouchStart)),lime_ui_Touch.onMove.add($bind(this,this.onTouchMove)),lime_ui_Touch.onEnd.add($bind(this,this.onTouchEnd))},__removeWindow:function(e){null!=e&&this.__windowByID.h.hasOwnProperty(e.id)&&(this.__window==e&&(this.__window=null),HxOverrides.remove(this.__windows,e),this.__windowByID.remove(e.id),e.close(),0==this.__windows.length&&lime_system_System.exit(0))},__onGamepadConnect:function(e){this.onGamepadConnect(e);var t=$bind(this,this.onGamepadAxisMove),a=e,n=function(e,n){t(a,e,n)};e.onAxisMove.add(n);var i=$bind(this,this.onGamepadButtonDown),s=e;n=function(e){i(s,e)};e.onButtonDown.add(n);var _=$bind(this,this.onGamepadButtonUp),r=e;n=function(e){_(r,e)};e.onButtonUp.add(n);var o=$bind(this,this.onGamepadDisconnect),l=e;n=function(){o(l)};e.onDisconnect.add(n)},__onJoystickConnect:function(e){this.onJoystickConnect(e);var t=$bind(this,this.onJoystickAxisMove),a=e,n=function(e,n){t(a,e,n)};e.onAxisMove.add(n);var i=$bind(this,this.onJoystickButtonDown),s=e;n=function(e){i(s,e)};e.onButtonDown.add(n);var _=$bind(this,this.onJoystickButtonUp),r=e;n=function(e){_(r,e)};e.onButtonUp.add(n);var o=$bind(this,this.onJoystickDisconnect),l=e;n=function(){o(l)};e.onDisconnect.add(n);var h=$bind(this,this.onJoystickHatMove),u=e;n=function(e,t){h(u,e,t)};e.onHatMove.add(n);var p=$bind(this,this.onJoystickTrackballMove),c=e;n=function(e,t,a){p(c,e,t,a)};e.onTrackballMove.add(n)},__onModuleExit:function(e){this.__backend.exit()},__onWindowClose:function(e){this.__window==e&&this.onWindowClose(),this.__removeWindow(e)},__unregisterLimeModule:function(e){e.onUpdate.remove($bind(this,this.update)),e.onExit.remove($bind(this,this.__onModuleExit)),e.onExit.remove($bind(this,this.onModuleExit)),lime_ui_Gamepad.onConnect.remove($bind(this,this.__onGamepadConnect)),lime_ui_Joystick.onConnect.remove($bind(this,this.__onJoystickConnect)),lime_ui_Touch.onCancel.remove($bind(this,this.onTouchCancel)),lime_ui_Touch.onStart.remove($bind(this,this.onTouchStart)),lime_ui_Touch.onMove.remove($bind(this,this.onTouchMove)),lime_ui_Touch.onEnd.remove($bind(this,this.onTouchEnd)),this.onModuleExit(0)},get_preloader:function(){return this.__preloader},get_window:function(){return this.__window},get_windows:function(){return this.__windows},__class__:lime_app_Application,__properties__:{get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}});var ApplicationMain=function(){};$hxClasses.ApplicationMain=ApplicationMain,ApplicationMain.__name__="ApplicationMain",ApplicationMain.main=function(){lime_system_System.__registerEntryPoint("KK",ApplicationMain.create)},ApplicationMain.create=function(e){var t=new openfl_display_Application;ManifestResources.init(e),t.meta.h.build="72",t.meta.h.company="Kro13",t.meta.h.file="KK",t.meta.h.name="Kanyon Karver",t.meta.h.packageName="com.kro13.kanyonkarver",t.meta.h.version="0.13.177";var a={allowHighDPI:!1,alwaysOnTop:!1,borderless:!1,element:null,frameRate:60,height:1400,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,title:"Kanyon Karver",width:2100,x:null,y:null,context:{antialiasing:0,background:16777215,colorDepth:32,depth:!0,hardware:!0,stencil:!0,type:null,vsync:!1}};if(null==t.__window&&null!=e)for(var n=0,i=Reflect.fields(e);n<i.length;){var s=i[n];++n,Object.prototype.hasOwnProperty.call(a,s)?a[s]=Reflect.field(e,s):Object.prototype.hasOwnProperty.call(a.context,s)&&(a.context[s]=Reflect.field(e,s))}t.createWindow(a);var _=new openfl_display_Preloader(new haxepunk_Preloader);t.__preloader.onProgress.add((function(e,t){_.update(e,t)})),t.__preloader.onComplete.add((function(){_.start()}));var r=t.__window.stage;_.onComplete.add((function(){ApplicationMain.start(r)}));for(n=0,i=ManifestResources.preloadLibraries;n<i.length;){var o=i[n];++n,t.__preloader.addLibrary(o)}for(n=0,i=ManifestResources.preloadLibraryNames;n<i.length;){var l=i[n];++n,t.__preloader.addLibraryName(l)}t.__preloader.load();t.exec()},ApplicationMain.start=function(e){try{kro13_kk_Main.main(),e.dispatchEvent(new openfl_events_Event("resize",!1,!1)),e.window.__fullscreen&&e.dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",!1,!1,!0,!0))}catch(a){haxe_NativeStackTrace.lastError=a;var t=haxe_Exception.caught(a).unwrap();e.__handleError(t)}};var kro13_kk_Main=function(){};$hxClasses["kro13.kk.Main"]=kro13_kk_Main,kro13_kk_Main.__name__="kro13.kk.Main",kro13_kk_Main.main=function(){new kro13_kk_KKGame},kro13_kk_Main.onResize=function(e){haxe_Log.trace(openfl_Lib.get_current().stage.stageWidth,{fileName:"src/kro13/kk/Main.hx",lineNumber:28,className:"kro13.kk.Main",methodName:"onResize",customParams:[openfl_Lib.get_current().stage.stageWidth]})};var DocumentClass=function(){};$hxClasses.DocumentClass=DocumentClass,DocumentClass.__name__="DocumentClass",DocumentClass.__super__=kro13_kk_Main,DocumentClass.prototype=$extend(kro13_kk_Main.prototype,{__class__:DocumentClass});var EReg=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};$hxClasses.EReg=EReg,EReg.__name__="EReg",EReg.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw haxe_Exception.thrown("EReg::matched")},matchedLeft:function(){if(null==this.r.m)throw haxe_Exception.thrown("No string matched");return HxOverrides.substr(this.r.s,0,this.r.m.index)},matchedRight:function(){if(null==this.r.m)throw haxe_Exception.thrown("No string matched");var e=this.r.m.index+this.r.m[0].length;return HxOverrides.substr(this.r.s,e,this.r.s.length-e)},matchedPos:function(){if(null==this.r.m)throw haxe_Exception.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,t,a){var n;return null==a&&(a=-1),this.r.global?(this.r.lastIndex=t,this.r.m=this.r.exec(a<0?e:HxOverrides.substr(e,0,t+a)),(n=null!=this.r.m)&&(this.r.s=e),n):((n=this.match(a<0?HxOverrides.substr(e,t,null):HxOverrides.substr(e,t,a)))&&(this.r.s=e,this.r.m.index+=t),n)},split:function(e){var t="#__delim__#";return e.replace(this.r,t).split(t)},map:function(e,t){for(var a=0,n="";!(a>=e.length);){if(!this.matchSub(e,a)){n+=Std.string(HxOverrides.substr(e,a,null));break}var i=this.matchedPos();if(n+=Std.string(HxOverrides.substr(e,a,i.pos-a)),n+=Std.string(t(this)),0==i.len?(n+=Std.string(HxOverrides.substr(e,i.pos,1)),a=i.pos+1):a=i.pos+i.len,!this.r.global)break}return!this.r.global&&a>0&&a<e.length&&(n+=Std.string(HxOverrides.substr(e,a,null))),n},__class__:EReg};var HxOverrides=function(){};$hxClasses.HxOverrides=HxOverrides,HxOverrides.__name__="HxOverrides",HxOverrides.dateStr=function(e){var t=e.getMonth()+1,a=e.getDate(),n=e.getHours(),i=e.getMinutes(),s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(a<10?"0"+a:""+a)+" "+(n<10?"0"+n:""+n)+":"+(i<10?"0"+i:""+i)+":"+(s<10?"0"+s:""+s)},HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),a=new Date;return a.setTime(0),a.setUTCHours(t[0]),a.setUTCMinutes(t[1]),a.setUTCSeconds(t[2]),a;case 10:t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var n=(t=e.split(" "))[0].split("-"),i=t[1].split(":");return new Date(n[0],n[1]-1,n[2],i[0],i[1],i[2]);default:throw haxe_Exception.thrown("Invalid date format : "+e)}},HxOverrides.cca=function(e,t){var a=e.charCodeAt(t);if(a==a)return a},HxOverrides.substr=function(e,t,a){if(null==a)a=e.length;else if(a<0){if(0!=t)return"";a=e.length+a}return e.substr(t,a)},HxOverrides.remove=function(e,t){var a=e.indexOf(t);return-1!=a&&(e.splice(a,1),!0)},HxOverrides.now=function(){return Date.now()};var Lambda=function(){};$hxClasses.Lambda=Lambda,Lambda.__name__="Lambda",Lambda.array=function(e){for(var t=[],a=$getIterator(e);a.hasNext();){var n=a.next();t.push(n)}return t},Lambda.fold=function(e,t,a){for(var n=$getIterator(e);n.hasNext();){a=t(n.next(),a)}return a},Lambda.count=function(e,t){var a=0;if(null==t)for(var n=$getIterator(e);n.hasNext();){n.next();++a}else for(var i=$getIterator(e);i.hasNext();){t(i.next())&&++a}return a};var ManifestResources=function(){};$hxClasses.ManifestResources=ManifestResources,ManifestResources.__name__="ManifestResources",ManifestResources.init=function(e){ManifestResources.preloadLibraries=[],ManifestResources.preloadLibraryNames=[],ManifestResources.rootPath=null,null!=e&&Object.prototype.hasOwnProperty.call(e,"rootPath")&&(ManifestResources.rootPath=Reflect.field(e,"rootPath")),null==ManifestResources.rootPath&&(ManifestResources.rootPath="./"),openfl_text_Font.registerFont(_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf);var t=lime_utils_AssetManifest.parse('{"name":null,"assets":"aoy4:pathy29:graphics%2Fdebug%2Fbutton.pngy4:sizei248y4:typey5:IMAGEy2:idR1y7:preloadtgoR0y36:graphics%2Fdebug%2Fconsole_debug.pngR2i242R3R4R5R7R6tgoR0y43:graphics%2Fdebug%2Fconsole_drawcall_add.pngR2i183R3R4R5R8R6tgoR0y43:graphics%2Fdebug%2Fconsole_drawcall_all.pngR2i189R3R4R5R9R6tgoR0y37:graphics%2Fdebug%2Fconsole_hidden.pngR2i1216R3R4R5R10R6tgoR0y35:graphics%2Fdebug%2Fconsole_logo.pngR2i21764R3R4R5R11R6tgoR0y37:graphics%2Fdebug%2Fconsole_output.pngR2i186R3R4R5R12R6tgoR0y36:graphics%2Fdebug%2Fconsole_pause.pngR2i213R3R4R5R13R6tgoR0y35:graphics%2Fdebug%2Fconsole_play.pngR2i242R3R4R5R14R6tgoR0y35:graphics%2Fdebug%2Fconsole_step.pngR2i251R3R4R5R15R6tgoR0y38:graphics%2Fdebug%2Fconsole_visible.pngR2i1275R3R4R5R16R6tgoR0y35:graphics%2Fpreloader%2Fhaxepunk.pngR2i21044R3R4R5R17R6tgoR2i58088R3y4:FONTy9:classNamey27:__ASSET__font_monofonto_ttfR5y20:font%2Fmonofonto.ttfR6tgoR0y20:font%2Fmonofonto.fntR2i11598R3y4:TEXTR5R22R6tgoR0y20:font%2Fmonofonto.pngR2i19822R3R4R5R24R6tgoR0y17:images%2Fback.pngR2i32750R3R4R5R25R6tgoR0y18:images%2Fboard.pngR2i2914R3R4R5R26R6tgoR0y17:images%2Fkk.atlasR2i6010R3R23R5R27R6tgoR0y15:images%2Fkk.pngR2i137381R3R4R5R28R6tgoR0y17:images%2Flike.pngR2i2936R3R4R5R29R6tgoR0y18:images%2Fthanx.pngR2i3715R3R4R5R30R6tgoR0y25:fonts%2FNorse-Bold-ru.fntR2i42776R3R23R5R31R6tgoR0y25:fonts%2FNorse-Bold-ru.pngR2i29571R3R4R5R32R6tgoR0y17:fonts%2FNorse.fntR2i35308R3R23R5R33R6tgoR0y17:fonts%2FNorse.pngR2i21628R3R4R5R34R6tgoR0y21:fonts%2Fsnowstorm.fntR2i37598R3R23R5R35R6tgoR0y21:fonts%2Fsnowstorm.pngR2i23606R3R4R5R36R6tgoR0y24:fonts%2Fupheaval_pro.fntR2i52594R3R23R5R37R6tgoR0y26:fonts%2Fupheaval_pro_0.pngR2i12695R3R4R5R38R6tgoR2i85058R3y5:MUSICR5y21:audio%2Favalanche.mp3y9:pathGroupaR40y21:audio%2Favalanche.ogghR6tgoR2i62840R3y5:SOUNDR5R42R41aR40R42hgoR2i114366R3R39R5y22:audio%2Favalanche1.mp3R41aR44y22:audio%2Favalanche1.ogghR6tgoR2i84068R3R43R5R45R41aR44R45hgoR2i34299R3R39R5y22:audio%2Fcircle_big.mp3R41aR46y22:audio%2Fcircle_big.ogghR6tgoR2i30943R3R43R5R47R41aR46R47hgoR2i36963R3R39R5y23:audio%2Fcircle_big1.mp3R41aR48y23:audio%2Fcircle_big1.ogghR6tgoR2i32482R3R43R5R49R41aR48R49hgoR2i18436R3R39R5y24:audio%2Fcircle_small.mp3R41aR50y24:audio%2Fcircle_small.ogghR6tgoR2i19014R3R43R5R51R41aR50R51hgoR2i12686R3R39R5y17:audio%2Fcrash.mp3R41aR52y17:audio%2Fcrash.ogghR6tgoR2i13894R3R43R5R53R41aR52R53hgoR2i48156R3R39R5y17:audio%2Feagle.mp3R41aR54y17:audio%2Feagle.ogghR6tgoR2i41852R3R43R5R55R41aR54R55hgoR2i7588R3R39R5y16:audio%2Fhare.mp3R41aR56y16:audio%2Fhare.ogghR6tgoR2i10030R3R43R5R57R41aR56R57hgoR2i10643R3R39R5y15:audio%2Fhit.mp3R41aR58y15:audio%2Fhit.ogghR6tgoR2i12080R3R43R5R59R41aR58R59hgoR2i7141R3R39R5y17:audio%2Fland0.mp3R41aR60y17:audio%2Fland0.ogghR6tgoR2i9848R3R43R5R61R41aR60R61hgoR2i14077R3R39R5y17:audio%2Fland1.mp3R41aR62y17:audio%2Fland1.ogghR6tgoR2i16290R3R43R5R63R41aR62R63hgoR2i3053705R3R39R5y17:audio%2Fmain3.mp3R41aR64y17:audio%2Fmain3.ogghR6tgoR2i2422896R3R39R5R65R41aR64R65hgoR2i49617R3R39R5y17:audio%2Fsnow1.mp3R41aR66y17:audio%2Fsnow1.ogghR6tgoR2i49468R3R43R5R67R41aR66R67hgoR2i124715R3R39R5y16:audio%2Fwind.mp3R41aR68y16:audio%2Fwind.ogghR6tgoR2i108347R3R43R5R69R41aR68R69hgoR0y16:locale%2Fen.jsonR2i4204R3R23R5R70R6tgoR0y16:locale%2Fru.jsonR2i6257R3R23R5R71R6tgoR0y19:shaders%2Fblur.fragR2i680R3R23R5R72R6tgoR0y23:shaders%2Fscanline.fragR2i366R3R23R5R73R6tgoR0y19:shaders%2Ftest.fragR2i283R3R23R5R74R6tgoR0y19:shaders%2Ftest.vertR2i332R3R23R5R75R6tgoR0y20:shaders%2Ftest1.fragR2i5338R3R23R5R76R6tgh","rootPath":null,"version":2,"libraryArgs":[],"libraryType":null}',ManifestResources.rootPath),a=lime_utils_AssetLibrary.fromManifest(t);lime_utils_Assets.registerLibrary("default",a),null!=(a=lime_utils_Assets.getLibrary("default"))?ManifestResources.preloadLibraries.push(a):ManifestResources.preloadLibraryNames.push("default")};var lime_text_Font=function(e){null!=e&&(this.name=e),this.__init||(null==this.ascender&&(this.ascender=0),null==this.descender&&(this.descender=0),null==this.height&&(this.height=0),null==this.numGlyphs&&(this.numGlyphs=0),null==this.underlinePosition&&(this.underlinePosition=0),null==this.underlineThickness&&(this.underlineThickness=0),null==this.unitsPerEM&&(this.unitsPerEM=0),null!=this.__fontID?lime_utils_Assets.isLocal(this.__fontID)&&this.__fromBytes(lime_utils_Assets.getBytes(this.__fontID)):null!=this.__fontPath&&this.__fromFile(this.__fontPath))};$hxClasses["lime.text.Font"]=lime_text_Font,lime_text_Font.__name__="lime.text.Font",lime_text_Font.fromBytes=function(e){if(null==e)return null;var t=new lime_text_Font;return t.__fromBytes(e),t},lime_text_Font.fromFile=function(e){if(null==e)return null;var t=new lime_text_Font;return t.__fromFile(e),t},lime_text_Font.loadFromBytes=function(e){return lime_app_Future.withValue(lime_text_Font.fromBytes(e))},lime_text_Font.loadFromFile=function(e){return(new lime_net__$HTTPRequest_$lime_$text_$Font).load(e).then((function(e){return null!=e?lime_app_Future.withValue(e):lime_app_Future.withError("")}))},lime_text_Font.loadFromName=function(e){return(new lime_text_Font).__loadFromName(e)},lime_text_Font.__measureFontNode=function(e){var t=window.document.createElement("span");t.setAttribute("aria-hidden","true");var a=window.document.createTextNode("BESbswy");t.appendChild(a);var n=t.style;return n.display="block",n.position="absolute",n.top="-9999px",n.left="-9999px",n.fontSize="300px",n.width="auto",n.height="auto",n.lineHeight="normal",n.margin="0",n.padding="0",n.fontVariant="normal",n.whiteSpace="nowrap",n.fontFamily=e,window.document.body.appendChild(t),t},lime_text_Font.prototype={decompose:function(){return null},getGlyph:function(e){return-1},getGlyphs:function(e){return null==e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(e){return null},renderGlyph:function(e,t){return null},renderGlyphs:function(e,t){return null},__copyFrom:function(e){null!=e&&(this.ascender=e.ascender,this.descender=e.descender,this.height=e.height,this.name=e.name,this.numGlyphs=e.numGlyphs,this.src=e.src,this.underlinePosition=e.underlinePosition,this.underlineThickness=e.underlineThickness,this.unitsPerEM=e.unitsPerEM,this.__fontID=e.__fontID,this.__fontPath=e.__fontPath,this.__init=!0)},__fromBytes:function(e){this.__fontPath=null},__fromFile:function(e){this.__fontPath=e},__initializeSource:function(){this.__init=!0},__loadFromName:function(e){var t=this,a=new lime_app_Promise;this.name=e;var n=$global.navigator.userAgent.toLowerCase(),i=n.indexOf(" safari/")>=0&&n.indexOf(" chrome/")<0,s=new EReg("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i").match(n);if(!i&&!s&&window.document.fonts&&$bind($_=window.document.fonts,$_.load))window.document.fonts.load("1em '"+e+"'").then((function(e){a.complete(t)}),(function(n){lime_utils_Log.warn('Could not load web font "'+e+'"',{fileName:"lime/text/Font.hx",lineNumber:513,className:"lime.text.Font",methodName:"__loadFromName"}),a.complete(t)}));else{var _,r,o=lime_text_Font.__measureFontNode("'"+e+"', sans-serif"),l=lime_text_Font.__measureFontNode("'"+e+"', serif"),h=o.offsetWidth,u=l.offsetWidth,p=-1,c=0;p=window.setInterval((function(){c+=1,_=o.offsetWidth!=h||l.offsetWidth!=u,r=50*c>=3e3,(_||r)&&(window.clearInterval(p),o.parentNode.removeChild(o),l.parentNode.removeChild(l),o=null,l=null,r&&lime_utils_Log.warn('Could not load web font "'+e+'"',{fileName:"lime/text/Font.hx",lineNumber:548,className:"lime.text.Font",methodName:"__loadFromName"}),a.complete(t))}),50)}return a.future},__setSize:function(e){},__class__:lime_text_Font};var _$_$ASSET_$_$font_$monofonto_$ttf=$hx_exports.__ASSET__font_monofonto_ttf=function(){this.ascender=960,this.descender=-240,this.height=1200,this.numGlyphs=387,this.underlinePosition=-143,this.underlineThickness=20,this.unitsPerEM=1e3,this.name="Monofonto-Regular",lime_text_Font.call(this)};$hxClasses.__ASSET__font_monofonto_ttf=_$_$ASSET_$_$font_$monofonto_$ttf,_$_$ASSET_$_$font_$monofonto_$ttf.__name__="__ASSET__font_monofonto_ttf",_$_$ASSET_$_$font_$monofonto_$ttf.__super__=lime_text_Font,_$_$ASSET_$_$font_$monofonto_$ttf.prototype=$extend(lime_text_Font.prototype,{__class__:_$_$ASSET_$_$font_$monofonto_$ttf});var openfl_text_Font=function(e){lime_text_Font.call(this,e)};$hxClasses["openfl.text.Font"]=openfl_text_Font,openfl_text_Font.__name__="openfl.text.Font",openfl_text_Font.enumerateFonts=function(e){return null==e&&(e=!1),openfl_text_Font.__registeredFonts},openfl_text_Font.fromBytes=function(e){var t=new openfl_text_Font;return t.__fromBytes(openfl_utils_ByteArray.toBytes(e)),t},openfl_text_Font.fromFile=function(e){var t=new openfl_text_Font;return t.__fromFile(e),t},openfl_text_Font.loadFromBytes=function(e){return lime_text_Font.loadFromBytes(openfl_utils_ByteArray.toBytes(e)).then((function(e){var t=new openfl_text_Font;return t.__fromLimeFont(e),lime_app_Future.withValue(t)}))},openfl_text_Font.loadFromFile=function(e){return lime_text_Font.loadFromFile(e).then((function(e){var t=new openfl_text_Font;return t.__fromLimeFont(e),lime_app_Future.withValue(t)}))},openfl_text_Font.loadFromName=function(e){return lime_text_Font.loadFromName(e).then((function(e){var t=new openfl_text_Font;return t.__fromLimeFont(e),lime_app_Future.withValue(t)}))},openfl_text_Font.registerFont=function(e){var t=null;null!=(t=null==js_Boot.getClass(e)?js_Boot.__cast(Type.createInstance(e,[]),openfl_text_Font):js_Boot.__cast(e,openfl_text_Font))&&(openfl_text_Font.__registeredFonts.push(t),openfl_text_Font.__fontByName.h[t.name]=t)},openfl_text_Font.__super__=lime_text_Font,openfl_text_Font.prototype=$extend(lime_text_Font.prototype,{__fromLimeFont:function(e){this.__copyFrom(e)},__initialize:function(){return this.__initialized},get_fontName:function(){return this.name},set_fontName:function(e){return this.name=e},__class__:openfl_text_Font,__properties__:{set_fontName:"set_fontName",get_fontName:"get_fontName"}});var _$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf=$hx_exports.__ASSET__OPENFL__font_monofonto_ttf=function(){this.__fromLimeFont(new _$_$ASSET_$_$font_$monofonto_$ttf),openfl_text_Font.call(this)};$hxClasses.__ASSET__OPENFL__font_monofonto_ttf=_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf,_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf.__name__="__ASSET__OPENFL__font_monofonto_ttf",_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf.__super__=openfl_text_Font,_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf.prototype=$extend(openfl_text_Font.prototype,{__class__:_$_$ASSET_$_$OPENFL_$_$font_$monofonto_$ttf}),Math.__name__="Math";var Reflect=function(){};$hxClasses.Reflect=Reflect,Reflect.__name__="Reflect",Reflect.field=function(e,t){try{return e[t]}catch(e){return haxe_NativeStackTrace.lastError=e,null}},Reflect.getProperty=function(e,t){var a;return null==e?null:!!e.__properties__&&(a=e.__properties__["get_"+t])?e[a]():e[t]},Reflect.setProperty=function(e,t,a){var n;!!e.__properties__&&(n=e.__properties__["set_"+t])?e[n](a):e[t]=a},Reflect.fields=function(e){var t=[];if(null!=e){var a=Object.prototype.hasOwnProperty;for(var n in e)"__id__"!=n&&"hx__closures__"!=n&&a.call(e,n)&&t.push(n)}return t},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.compare=function(e,t){return e==t?0:e>t?1:-1},Reflect.compareMethods=function(e,t){return e==t||!(!Reflect.isFunction(e)||!Reflect.isFunction(t))&&(e.scope==t.scope&&e.method==t.method&&null!=e.method)},Reflect.isObject=function(e){if(null==e)return!1;var t=typeof e;return"string"==t||"object"==t&&null==e.__enum__||"function"==t&&null!=(e.__name__||e.__ename__)},Reflect.isEnumValue=function(e){return null!=e&&null!=e.__enum__},Reflect.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)},Reflect.makeVarArgs=function(e){return function(){var t=Array.prototype.slice,a=arguments,n=t.call(a);return e(n)}};var Std=function(){};$hxClasses.Std=Std,Std.__name__="Std",Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){if(null!=e)for(var t=0,a=e.length;t<a;){var n=t++,i=e.charCodeAt(n);if(i<=8||i>=14&&32!=i&&45!=i){var s=e.charCodeAt(n+1),_=parseInt(e,120==s||88==s?16:10);return isNaN(_)?null:_}}return null},Std.random=function(e){return e<=0?0:Math.floor(Math.random()*e)};var _$String_String_$Impl_$=function(){};$hxClasses["_String.String_Impl_"]=_$String_String_$Impl_$,_$String_String_$Impl_$.__name__="_String.String_Impl_",_$String_String_$Impl_$.fromCharCode=function(e){return String.fromCodePoint(e)};var StringBuf=function(){this.b=""};$hxClasses.StringBuf=StringBuf,StringBuf.__name__="StringBuf",StringBuf.prototype={__class__:StringBuf};var StringTools=function(){};$hxClasses.StringTools=StringTools,StringTools.__name__="StringTools",StringTools.htmlEscape=function(e,t){for(var a="",n=0,i=e;n<i.length;){var s=n++,_=(e=i).charCodeAt(s);_>=55296&&_<=56319&&(_=_-55232<<10|1023&e.charCodeAt(s+1));_>=65536&&++n;var r=_;switch(r){case 34:a+=t?"&quot;":String.fromCodePoint(r);break;case 38:a+="&amp;";break;case 39:a+=t?"&#039;":String.fromCodePoint(r);break;case 60:a+="&lt;";break;case 62:a+="&gt;";break;default:a+=String.fromCodePoint(r)}}return a},StringTools.htmlUnescape=function(e){return e.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")},StringTools.startsWith=function(e,t){return e.length>=t.length&&0==e.lastIndexOf(t,0)},StringTools.endsWith=function(e,t){var a=t.length,n=e.length;return n>=a&&e.indexOf(t,n-a)==n-a},StringTools.isSpace=function(e,t){var a=HxOverrides.cca(e,t);return a>8&&a<14||32==a},StringTools.ltrim=function(e){for(var t=e.length,a=0;a<t&&StringTools.isSpace(e,a);)++a;return a>0?HxOverrides.substr(e,a,t-a):e},StringTools.rtrim=function(e){for(var t=e.length,a=0;a<t&&StringTools.isSpace(e,t-a-1);)++a;return a>0?HxOverrides.substr(e,0,t-a):e},StringTools.trim=function(e){return StringTools.ltrim(StringTools.rtrim(e))},StringTools.lpad=function(e,t,a){if(t.length<=0)return e;var n="";for(a-=e.length;n.length<a;)n+=null==t?"null":""+t;return n+=null==e?"null":""+e},StringTools.rpad=function(e,t,a){if(t.length<=0)return e;var n="";for(n+=null==e?"null":""+e;n.length<a;)n+=null==t?"null":""+t;return n},StringTools.replace=function(e,t,a){return e.split(t).join(a)},StringTools.hex=function(e,t){for(var a="";a="0123456789ABCDEF".charAt(15&e)+a,(e>>>=4)>0;);if(null!=t)for(;a.length<t;)a="0"+a;return a};var ValueType=$hxEnums.ValueType={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:$estr},TInt:{_hx_index:1,__enum__:"ValueType",toString:$estr},TFloat:{_hx_index:2,__enum__:"ValueType",toString:$estr},TBool:{_hx_index:3,__enum__:"ValueType",toString:$estr},TObject:{_hx_index:4,__enum__:"ValueType",toString:$estr},TFunction:{_hx_index:5,__enum__:"ValueType",toString:$estr},TClass:($_=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:$estr}},$_.__params__=["c"],$_),TEnum:($_=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}},$_.__params__=["e"],$_),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:$estr}},Type=function(){};$hxClasses.Type=Type,Type.__name__="Type",Type.resolveEnum=function(e){return $hxEnums[e]},Type.createInstance=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},Type.createEnum=function(e,t,a){var n=Reflect.field(e,t);if(null==n)throw haxe_Exception.thrown("No such constructor "+t);if(Reflect.isFunction(n)){if(null==a)throw haxe_Exception.thrown("Constructor "+t+" need parameters");return n.apply(e,a)}if(null!=a&&0!=a.length)throw haxe_Exception.thrown("Constructor "+t+" does not need parameters");return n},Type.typeof=function(e){switch(typeof e){case"boolean":return ValueType.TBool;case"function":return e.__name__||e.__ename__?ValueType.TObject:ValueType.TFunction;case"number":return Math.ceil(e)==e%2147483648?ValueType.TInt:ValueType.TFloat;case"object":if(null==e)return ValueType.TNull;var t=e.__enum__;if(null!=t)return ValueType.TEnum($hxEnums[t]);var a=js_Boot.getClass(e);return null!=a?ValueType.TClass(a):ValueType.TObject;case"string":return ValueType.TClass(String);case"undefined":return ValueType.TNull;default:return ValueType.TUnknown}},Type.enumParameters=function(e){var t=$hxEnums[e.__enum__],a=t[t.__constructs__[e._hx_index]].__params__;if(null!=a){for(var n=[],i=0;i<a.length;){var s=a[i];++i,n.push(e[s])}return n}return[]};var UInt={gt:function(e,t){var a=e<0;return a!=t<0?a:e>t},toFloat:function(e){return e<0?4294967296+e:e+0}},UnicodeString={__properties__:{get_length:"get_length"},charAt:function(e,t){if(t<0)return"";for(var a=0,n=0;n<e.length;){var i=n++,s=e.charCodeAt(i);s>=55296&&s<=56319&&(s=s-55232<<10|1023&e.charCodeAt(i+1));var _=s;if(a==t)return String.fromCodePoint(_);_>=65536&&++n,++a}return""},get_length:function(e){for(var t=0,a=0,n=e;a<n.length;){var i=n,s=a++,_=i.charCodeAt(s);_>=55296&&_<=56319&&(_=_-55232<<10|1023&i.charCodeAt(s+1));_>=65536&&++a;++t}return t}},XmlType={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},Xml=function(e){this.nodeType=e,this.children=[],this.attributeMap=new haxe_ds_StringMap};$hxClasses.Xml=Xml,Xml.__name__="Xml",Xml.parse=function(e){return haxe_xml_Parser.parse(e)},Xml.createElement=function(e){var t=new Xml(Xml.Element);if(t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeName=e,t},Xml.createPCData=function(e){var t=new Xml(Xml.PCData);if(t.nodeType==Xml.Document||t.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeValue=e,t},Xml.createCData=function(e){var t=new Xml(Xml.CData);if(t.nodeType==Xml.Document||t.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeValue=e,t},Xml.createComment=function(e){var t=new Xml(Xml.Comment);if(t.nodeType==Xml.Document||t.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeValue=e,t},Xml.createDocType=function(e){var t=new Xml(Xml.DocType);if(t.nodeType==Xml.Document||t.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeValue=e,t},Xml.createProcessingInstruction=function(e){var t=new Xml(Xml.ProcessingInstruction);if(t.nodeType==Xml.Document||t.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":XmlType.toString(t.nodeType)));return t.nodeValue=e,t},Xml.createDocument=function(){return new Xml(Xml.Document)},Xml.prototype={get:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,t){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));this.attributeMap.h[e]=t},exists:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));return haxe_ds_StringMap.keysIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));for(var e=[],t=0,a=this.children;t<a.length;){var n=a[t];++t,n.nodeType==Xml.Element&&e.push(n)}return new haxe_iterators_ArrayIterator(e)},elementsNamed:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));for(var t=[],a=0,n=this.children;a<n.length;){var i,s=n[a];if(++a,s.nodeType==Xml.Element){if(s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":XmlType.toString(s.nodeType)));i=s.nodeName==e}else i=!1;i&&t.push(s)}return new haxe_iterators_ArrayIterator(t)},firstElement:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));for(var e=0,t=this.children;e<t.length;){var a=t[e];if(++e,a.nodeType==Xml.Element)return a}return null},addChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":XmlType.toString(this.nodeType)));return!!HxOverrides.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return haxe_xml_Printer.print(this)},__class__:Xml};var extension_ga_GADef=function(){};$hxClasses["extension.ga.GADef"]=extension_ga_GADef,extension_ga_GADef.__name__="extension.ga.GADef",extension_ga_GADef.genderToString=function(e){switch(e){case 1:return"Male";case 2:return"Female";default:return""}},extension_ga_GADef.flowToString=function(e){switch(e){case 1:return"Source";case 2:return"Sink";default:return"Undefined"}},extension_ga_GADef.errorToString=function(e){switch(e){case 1:return"Debug";case 2:return"Info";case 3:return"Warning";case 4:return"Error";case 5:return"Critical";default:return"Undefined"}};var extension_ga_GameAnalytics=function(){};$hxClasses["extension.ga.GameAnalytics"]=extension_ga_GameAnalytics,extension_ga_GameAnalytics.__name__="extension.ga.GameAnalytics",extension_ga_GameAnalytics.initialise=function(e,t){extension_ga_GameAnalytics.gameKey=e,extension_ga_GameAnalytics.secretKey=t,extension_ga_GameAnalytics.initialiseWithGameKeyJS()},extension_ga_GameAnalytics.initialiseWithGameKeyiOS=function(){extension_ga_GameAnalytics.configureSdkVersion(),extension_ga_GameAnalytics.configureEngineVersion()},extension_ga_GameAnalytics.initialiseWithGameKeyAndroid=function(){extension_ga_GameAnalytics.configureSdkVersion(),extension_ga_GameAnalytics.configureEngineVersion()},extension_ga_GameAnalytics.initialiseWithGameKeyJS=function(){window.GameAnalytics("initialize",extension_ga_GameAnalytics.gameKey,extension_ga_GameAnalytics.secretKey)},extension_ga_GameAnalytics.enableVerbose=function(e){extension_ga_GameAnalytics.enableVerboseB=e,extension_ga_GameAnalytics.enableVerboseLog()},extension_ga_GameAnalytics.enableVerboseLog=function(){window.GameAnalytics("setEnabledInfoLog",extension_ga_GameAnalytics.enableVerboseB)},extension_ga_GameAnalytics.enableInfo=function(e){extension_ga_GameAnalytics.enableInfoB=e,extension_ga_GameAnalytics.enableInfoLog()},extension_ga_GameAnalytics.enableInfoLog=function(){window.GameAnalytics("setEnabledInfoLog",extension_ga_GameAnalytics.enableInfoB)},extension_ga_GameAnalytics.configureUserId=function(e){extension_ga_GameAnalytics.user_id=e,extension_ga_GameAnalytics.configUserId()},extension_ga_GameAnalytics.configUserId=function(){window.GameAnalytics("configureUserId",extension_ga_GameAnalytics.user_id)},extension_ga_GameAnalytics.configureBuild=function(e){extension_ga_GameAnalytics.build=e,window.GameAnalytics("configureBuild",e)},extension_ga_GameAnalytics.configureAvailableResourceCurrencies=function(e){extension_ga_GameAnalytics.currencies=e,extension_ga_GameAnalytics.availableResourceCurrencies()},extension_ga_GameAnalytics.availableResourceCurrencies=function(){var e=extension_ga_GameAnalytics.currencies.split(",");window.GameAnalytics("configureAvailableResourceCurrencies",e)},extension_ga_GameAnalytics.configureAvailableResourceItemTypes=function(e){extension_ga_GameAnalytics.itemTypes=e,extension_ga_GameAnalytics.availableResourceItemTypes()},extension_ga_GameAnalytics.availableResourceItemTypes=function(){var e=extension_ga_GameAnalytics.itemTypes.split(",");window.GameAnalytics("configureAvailableResourceItemTypes",e)},extension_ga_GameAnalytics.configureAvailableCustomDimensions01=function(e){extension_ga_GameAnalytics.customDimensions01=e,extension_ga_GameAnalytics.availableCustomDimensions01()},extension_ga_GameAnalytics.availableCustomDimensions01=function(){var e=extension_ga_GameAnalytics.itemTypes.split(",");window.GameAnalytics("configureAvailableCustomDimensions01",e)},extension_ga_GameAnalytics.configureAvailableCustomDimensions02=function(e){extension_ga_GameAnalytics.customDimensions02=e,extension_ga_GameAnalytics.availableCustomDimensions02()},extension_ga_GameAnalytics.availableCustomDimensions02=function(){var e=extension_ga_GameAnalytics.itemTypes.split(",");window.GameAnalytics("configureAvailableCustomDimensions02",e)},extension_ga_GameAnalytics.configureAvailableCustomDimensions03=function(e){extension_ga_GameAnalytics.customDimensions03=e,extension_ga_GameAnalytics.availableCustomDimensions03()},extension_ga_GameAnalytics.availableCustomDimensions03=function(){var e=extension_ga_GameAnalytics.itemTypes.split(",");window.GameAnalytics("configureAvailableCustomDimensions03",e)},extension_ga_GameAnalytics.setCustomDimension01=function(e){extension_ga_GameAnalytics.customDimension=e,extension_ga_GameAnalytics.setCustomDim01()},extension_ga_GameAnalytics.setCustomDim01=function(){window.GameAnalytics("setCustomDimension01",extension_ga_GameAnalytics.customDimension)},extension_ga_GameAnalytics.setCustomDimension02=function(e){extension_ga_GameAnalytics.customDimension=e,extension_ga_GameAnalytics.setCustomDim02()},extension_ga_GameAnalytics.setCustomDim02=function(){window.GameAnalytics("setCustomDimension02",extension_ga_GameAnalytics.customDimension)},extension_ga_GameAnalytics.setCustomDimension03=function(e){extension_ga_GameAnalytics.customDimension=e,extension_ga_GameAnalytics.setCustomDim03()},extension_ga_GameAnalytics.setCustomDim03=function(){window.GameAnalytics("setCustomDimension03",extension_ga_GameAnalytics.customDimension)},extension_ga_GameAnalytics.setGender=function(e){extension_ga_GameAnalytics.gender=e,extension_ga_GameAnalytics.genderGA()},extension_ga_GameAnalytics.genderGA=function(){var e=extension_ga_GADef.genderToString(extension_ga_GameAnalytics.gender);window.GameAnalytics("setGender",e)},extension_ga_GameAnalytics.setBirthYear=function(e){extension_ga_GameAnalytics.birthYear=e,extension_ga_GameAnalytics.birthYearGA()},extension_ga_GameAnalytics.birthYearGA=function(){window.GameAnalytics("setBirthYear",extension_ga_GameAnalytics.birthYear)},extension_ga_GameAnalytics.sendDesignEvent=function(e){extension_ga_GameAnalytics.designEventId=e,extension_ga_GameAnalytics.designEvent()},extension_ga_GameAnalytics.designEvent=function(){window.GameAnalytics("addDesignEvent",extension_ga_GameAnalytics.designEventId)},extension_ga_GameAnalytics.sendDesignEventWithAmount=function(e,t){extension_ga_GameAnalytics.designEventId=e,extension_ga_GameAnalytics.amount=t,extension_ga_GameAnalytics.designEventWithAmount()},extension_ga_GameAnalytics.designEventWithAmount=function(){window.GameAnalytics("addDesignEvent",extension_ga_GameAnalytics.designEventId,extension_ga_GameAnalytics.amount)},extension_ga_GameAnalytics.sendBusinessEventIOS=function(e,t,a,n,i,s){extension_ga_GameAnalytics.currency=e,extension_ga_GameAnalytics.amountInCents=t,extension_ga_GameAnalytics.itemType=a,extension_ga_GameAnalytics.itemId=n,extension_ga_GameAnalytics.cartType=i,extension_ga_GameAnalytics.receipt=s,extension_ga_GameAnalytics.businessEvent()},extension_ga_GameAnalytics.sendBusinessEventAndroid=function(e,t,a,n,i,s,_){extension_ga_GameAnalytics.currency=e,extension_ga_GameAnalytics.amountInCents=t,extension_ga_GameAnalytics.itemType=a,extension_ga_GameAnalytics.itemId=n,extension_ga_GameAnalytics.cartType=i,extension_ga_GameAnalytics.receipt=s,extension_ga_GameAnalytics.signature=_,extension_ga_GameAnalytics.businessEvent()},extension_ga_GameAnalytics.businessEvent=function(){window.GameAnalytics("addBusinessEvent",extension_ga_GameAnalytics.amountInCents,extension_ga_GameAnalytics.currency,extension_ga_GameAnalytics.amount,extension_ga_GameAnalytics.itemType,extension_ga_GameAnalytics.itemId,extension_ga_GameAnalytics.cartType)},extension_ga_GameAnalytics.sendResourceEvent=function(e,t,a,n,i){extension_ga_GameAnalytics.flowType=e,extension_ga_GameAnalytics.currency=t,extension_ga_GameAnalytics.amount=a,extension_ga_GameAnalytics.itemType=n,extension_ga_GameAnalytics.itemId=i,extension_ga_GameAnalytics.resourceEvent()},extension_ga_GameAnalytics.resourceEvent=function(){var e=extension_ga_GADef.flowToString(extension_ga_GameAnalytics.flowType);window.GameAnalytics("addResourceEvent",e,extension_ga_GameAnalytics.currency,extension_ga_GameAnalytics.itemType,extension_ga_GameAnalytics.itemId)},extension_ga_GameAnalytics.sendProgressionEvent=function(e,t,a,n,i){null==i&&(i=0),extension_ga_GameAnalytics.status=e,extension_ga_GameAnalytics.progression01=t,extension_ga_GameAnalytics.progression02=a,extension_ga_GameAnalytics.progression03=n,extension_ga_GameAnalytics.score=i,extension_ga_GameAnalytics.progressionEvent()},extension_ga_GameAnalytics.progressionEvent=function(){haxe_Log.trace("addProgressionEvent",{fileName:"extension/ga/GameAnalytics.hx",lineNumber:671,className:"extension.ga.GameAnalytics",methodName:"progressionEvent",customParams:[extension_ga_GameAnalytics.status,extension_ga_GameAnalytics.progression01,extension_ga_GameAnalytics.progression02,extension_ga_GameAnalytics.progression03,extension_ga_GameAnalytics.score]}),window.GameAnalytics("addProgressionEvent",extension_ga_GameAnalytics.status,extension_ga_GameAnalytics.progression01,extension_ga_GameAnalytics.progression02,extension_ga_GameAnalytics.progression03,extension_ga_GameAnalytics.score)},extension_ga_GameAnalytics.sendErrorEvent=function(e,t){extension_ga_GameAnalytics.severity=e,extension_ga_GameAnalytics.message=t,extension_ga_GameAnalytics.errorEvent()},extension_ga_GameAnalytics.errorEvent=function(){var e=extension_ga_GADef.errorToString(extension_ga_GameAnalytics.severity);window.GameAnalytics("addErrorEvent",e,extension_ga_GameAnalytics.message)},extension_ga_GameAnalytics.configureSdkVersion=function(){window.GameAnalytics("configureSdkGameEngineVersion","javascript 3.1.2")},extension_ga_GameAnalytics.configureEngineVersion=function(){window.GameAnalytics("configureGameEngineVersion","openfl 9.1.0")},extension_ga_GameAnalytics.setEnableManualSessionHandling=function(){window.GameAnalytics("setEnabledManualSessionHandling",!0)},extension_ga_GameAnalytics.startSession=function(){window.GameAnalytics("startSession")},extension_ga_GameAnalytics.endSession=function(){window.GameAnalytics("endSession")},extension_ga_GameAnalytics.isCommandCenterReady=function(){return extension_ga_GameAnalytics.ready=window.GameAnalytics("isCommandCenterReady"),extension_ga_GameAnalytics.ready},extension_ga_GameAnalytics.getCommandCenterValueAsString=function(e){return extension_ga_GameAnalytics.configKey=e,extension_ga_GameAnalytics.configValue=extension_ga_GameAnalytics._getCommandCenterValueAsString(),extension_ga_GameAnalytics.configValue},extension_ga_GameAnalytics._getCommandCenterValueAsString=function(){return extension_ga_GameAnalytics.ready=window.GameAnalytics("getCommandCenterValueAsString",extension_ga_GameAnalytics.configKey),""},extension_ga_GameAnalytics.getCommandCenterValueAsStringWithDefVal=function(e,t){return extension_ga_GameAnalytics.configKey=e,extension_ga_GameAnalytics.configDefaultValue=t,extension_ga_GameAnalytics.configValue=extension_ga_GameAnalytics._getCommandCenterValueAsStringWithDefVal(),extension_ga_GameAnalytics.configValue},extension_ga_GameAnalytics._getCommandCenterValueAsStringWithDefVal=function(){return extension_ga_GameAnalytics.ready=window.GameAnalytics("getCommandCenterValueAsString",extension_ga_GameAnalytics.configKey,extension_ga_GameAnalytics.configDefaultValue),""},extension_ga_GameAnalytics.printMessage=function(e){};var haxe_StackItem=$hxEnums["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:($_=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:$estr}},$_.__params__=["m"],$_),FilePos:($_=function(e,t,a,n){return{_hx_index:2,s:e,file:t,line:a,column:n,__enum__:"haxe.StackItem",toString:$estr}},$_.__params__=["s","file","line","column"],$_),Method:($_=function(e,t){return{_hx_index:3,classname:e,method:t,__enum__:"haxe.StackItem",toString:$estr}},$_.__params__=["classname","method"],$_),LocalFunction:($_=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:$estr}},$_.__params__=["v"],$_)},haxe_CallStack={callStack:function(){return haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.callStack())},exceptionStack:function(){var e=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.exceptionStack());return haxe_CallStack.subtract(e,haxe_CallStack.callStack())},toString:function(e){for(var t=new StringBuf,a=0,n=e;a<n.length;){var i=n[a];++a,t.b+="\nCalled from ",haxe_CallStack.itemToString(t,i)}return t.b},subtract:function(e,t){for(var a=-1,n=-1;++n<e.length;){for(var i=0,s=t.length;i<s;){var _=i++;if(haxe_CallStack.equalItems(e[n],t[_])){if(a<0&&(a=n),++n>=e.length)break}else a=-1}if(a>=0)break}return a>=0?e.slice(0,a):e},equalItems:function(e,t){if(null==e)return null==t;switch(e._hx_index){case 0:return null!=t&&0==t._hx_index;case 1:return null!=t&&(1==t._hx_index&&e.m==t.m);case 2:if(null==t)return!1;if(2==t._hx_index){var a=e.s,n=e.file,i=e.line,s=e.column,_=t.column,r=t.line,o=t.file,l=t.s;return n==o&&i==r&&s==_&&haxe_CallStack.equalItems(a,l)}return!1;case 3:if(null==t)return!1;if(3==t._hx_index){var h=e.classname,u=e.method,p=t.method;return h==t.classname&&u==p}return!1;case 4:return null!=t&&(4==t._hx_index&&e.v==t.v)}},itemToString:function(e,t){switch(t._hx_index){case 0:e.b+="a C function";break;case 1:var a=t.m;e.b+="module ",e.b+=null==a?"null":""+a;break;case 2:var n=t.column,i=t.line,s=t.file,_=t.s;null!=_&&(haxe_CallStack.itemToString(e,_),e.b+=" ("),e.b+=null==s?"null":""+s,e.b+=" line ",e.b+=null==i?"null":""+i,null!=n&&(e.b+=" column ",e.b+=null==n?"null":""+n),null!=_&&(e.b+=")");break;case 3:var r=t.method,o=t.classname;e.b+=Std.string(null==o?"<unknown>":o),e.b+=".",e.b+=null==r?"null":""+r;break;case 4:var l=t.v;e.b+="local function #",e.b+=null==l?"null":""+l}}},haxe_IMap=function(){};$hxClasses["haxe.IMap"]=haxe_IMap,haxe_IMap.__name__="haxe.IMap",haxe_IMap.__isInterface__=!0,haxe_IMap.prototype={__class__:haxe_IMap};var haxe_Exception=function(e,t,a){Error.call(this,e),this.message=e,this.__previousException=t,this.__nativeException=null!=a?a:this};$hxClasses["haxe.Exception"]=haxe_Exception,haxe_Exception.__name__="haxe.Exception",haxe_Exception.caught=function(e){return e instanceof haxe_Exception?e:e instanceof Error?new haxe_Exception(e.message,null,e):new haxe_ValueException(e,null,e)},haxe_Exception.thrown=function(e){return e instanceof haxe_Exception?e.get_native():e instanceof Error?e:new haxe_ValueException(e)},haxe_Exception.__super__=Error,haxe_Exception.prototype=$extend(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:haxe_Exception,__properties__:{get_native:"get_native"}});var haxe__$Int64__$_$_$Int64=function(e,t){this.high=e,this.low=t};$hxClasses["haxe._Int64.___Int64"]=haxe__$Int64__$_$_$Int64,haxe__$Int64__$_$_$Int64.__name__="haxe._Int64.___Int64",haxe__$Int64__$_$_$Int64.prototype={__class__:haxe__$Int64__$_$_$Int64};var haxe_Log=function(){};$hxClasses["haxe.Log"]=haxe_Log,haxe_Log.__name__="haxe.Log",haxe_Log.formatOutput=function(e,t){var a=Std.string(e);if(null==t)return a;var n=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var i=0,s=t.customParams;i<s.length;){e=s[i];++i,a+=", "+Std.string(e)}return n+": "+a},haxe_Log.trace=function(e,t){var a=haxe_Log.formatOutput(e,t);"undefined"!=typeof console&&null!=console.log&&console.log(a)};var haxe_NativeStackTrace=function(){};$hxClasses["haxe.NativeStackTrace"]=haxe_NativeStackTrace,haxe_NativeStackTrace.__name__="haxe.NativeStackTrace",haxe_NativeStackTrace.saveStack=function(e){haxe_NativeStackTrace.lastError=e},haxe_NativeStackTrace.callStack=function(){var e=new Error(""),t=haxe_NativeStackTrace.tryHaxeStack(e);if(void 0===t){try{throw e}catch(e){}t=e.stack}return haxe_NativeStackTrace.normalize(t,2)},haxe_NativeStackTrace.exceptionStack=function(){return haxe_NativeStackTrace.normalize(haxe_NativeStackTrace.tryHaxeStack(haxe_NativeStackTrace.lastError))},haxe_NativeStackTrace.toHaxe=function(e,t){if(null==t&&(t=0),null==e)return[];if("string"==typeof e){var a=e.split("\n");"Error"==a[0]&&a.shift();for(var n=[],i=0,s=a.length;i<s;){var _=i++;if(!(t>_)){var r=a[_],o=r.match(/^    at ([A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(null!=o){var l=o[1].split(".");"$hxClasses"==l[0]&&l.shift();var h=l.pop(),u=o[2],p=Std.parseInt(o[3]),c=Std.parseInt(o[4]);n.push(haxe_StackItem.FilePos("Anonymous function"==h?haxe_StackItem.LocalFunction():"Global code"==h?null:haxe_StackItem.Method(l.join("."),h),u,p,c))}else n.push(haxe_StackItem.Module(StringTools.trim(r)))}}return n}return t>0&&Array.isArray(e)?e.slice(t):e},haxe_NativeStackTrace.tryHaxeStack=function(e){if(null==e)return[];var t=Error.prepareStackTrace;Error.prepareStackTrace=haxe_NativeStackTrace.prepareHxStackTrace;var a=e.stack;return Error.prepareStackTrace=t,a},haxe_NativeStackTrace.prepareHxStackTrace=function(e,t){for(var a=[],n=0;n<t.length;){var i=t[n];++n,null!=haxe_NativeStackTrace.wrapCallSite&&(i=haxe_NativeStackTrace.wrapCallSite(i));var s=null,_=i.getFunctionName();if(null!=_){var r=_.lastIndexOf(".");if(r>=0){var o=_.substring(0,r),l=_.substring(r+1);s=haxe_StackItem.Method(o,l)}else s=haxe_StackItem.Method(null,_)}var h=i.getFileName(),u=null==h?-1:h.indexOf("file:");null!=haxe_NativeStackTrace.wrapCallSite&&u>0&&(h=h.substring(u+6)),a.push(haxe_StackItem.FilePos(s,h,i.getLineNumber(),i.getColumnNumber()))}return a},haxe_NativeStackTrace.normalize=function(e,t){if(null==t&&(t=0),Array.isArray(e)&&t>0)return e.slice(t);if("string"==typeof e){switch(e.substring(0,6)){case"Error\n":case"Error:":++t}return haxe_NativeStackTrace.skipLines(e,t)}return e},haxe_NativeStackTrace.skipLines=function(e,t,a){return null==a&&(a=0),t>0?(a=e.indexOf("\n",a))<0?"":haxe_NativeStackTrace.skipLines(e,--t,a+1):e.substring(a)};var haxe_Serializer=function(){this.buf=new StringBuf,this.cache=[],this.useCache=haxe_Serializer.USE_CACHE,this.useEnumIndex=haxe_Serializer.USE_ENUM_INDEX,this.shash=new haxe_ds_StringMap,this.scount=0};$hxClasses["haxe.Serializer"]=haxe_Serializer,haxe_Serializer.__name__="haxe.Serializer",haxe_Serializer.run=function(e){var t=new haxe_Serializer;return t.serialize(e),t.toString()},haxe_Serializer.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.h[e];if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=Std.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=typeof e,a=0,n=this.cache.length;a<n;){var i=a++,s=this.cache[i];if(typeof s==t&&s==e)return this.buf.b+="r",this.buf.b+=null==i?"null":""+i,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,a=Reflect.fields(e);t<a.length;){var n=a[t];++t,this.serializeString(n),this.serialize(Reflect.field(e,n))}this.buf.b+="g"},serialize:function(e){switch((v=Type.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(t=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==t?"null":""+t;break;case 2:var t=e;isNaN(t)?this.buf.b+="k":isFinite(t)?(this.buf.b+="d",this.buf.b+=null==t?"null":""+t):this.buf.b+=t<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(js_Boot.__instanceof(e,Class)){var a=e.__name__;this.buf.b+="A",this.serializeString(a)}else if(js_Boot.__instanceof(e,Enum))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw haxe_Exception.thrown("Cannot serialize function");case 6:var n=v.c;if(n==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(n){case Array:var i=0;this.buf.b+="a";for(var s=0,_=e.length;s<_;){null==e[p=s++]?++i:(i>0&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i),i=0),this.serialize(e[p]))}i>0&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i)),this.buf.b+="h";break;case Date:var r=e;this.buf.b+="v",this.buf.b+=Std.string(r.getTime());break;case haxe_ds_IntMap:this.buf.b+="q";for(var o=(t=e).keys();o.hasNext();){var l=o.next();this.buf.b+=":",this.buf.b+=null==l?"null":""+l,this.serialize(t.h[l])}this.buf.b+="h";break;case haxe_ds_List:this.buf.b+="l";for(var h=(t=e).h;null!=h;){var u=h.item;h=h.next;var p=u;this.serialize(p)}this.buf.b+="h";break;case haxe_ds_ObjectMap:this.buf.b+="M";for(o=(t=e).keys();o.hasNext();){l=o.next();var c=Reflect.field(l,"__id__");Reflect.deleteField(l,"__id__"),this.serialize(l),l.__id__=c,this.serialize(t.h[l.__id__])}this.buf.b+="h";break;case haxe_ds_StringMap:this.buf.b+="b";for(t=e,o=haxe_ds_StringMap.keysIterator(t.h);o.hasNext();){l=o.next();this.serializeString(l),this.serialize(t.h[l])}this.buf.b+="h";break;case haxe_io_Bytes:t=e;this.buf.b+="s",this.buf.b+=Std.string(Math.ceil(8*t.length/6)),this.buf.b+=":";p=0;var d=t.length-2,f=haxe_Serializer.BASE64_CODES;if(null==f){f=new Array(haxe_Serializer.BASE64.length);for(s=0,_=haxe_Serializer.BASE64.length;s<_;){var m=s++;f[m]=HxOverrides.cca(haxe_Serializer.BASE64,m)}haxe_Serializer.BASE64_CODES=f}for(;p<d;){var g=t.b[p++],x=t.b[p++],k=t.b[p++];this.buf.b+=String.fromCodePoint(f[g>>2]),this.buf.b+=String.fromCodePoint(f[63&(g<<4|x>>4)]),this.buf.b+=String.fromCodePoint(f[63&(x<<2|k>>6)]),this.buf.b+=String.fromCodePoint(f[63&k])}if(p==d){g=t.b[p++],x=t.b[p++];this.buf.b+=String.fromCodePoint(f[g>>2]),this.buf.b+=String.fromCodePoint(f[63&(g<<4|x>>4)]),this.buf.b+=String.fromCodePoint(f[x<<2&63])}else if(p==d+1){g=t.b[p++];this.buf.b+=String.fromCodePoint(f[g>>2]),this.buf.b+=String.fromCodePoint(f[g<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(n.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(n.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:var y=v.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}if(this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(y.__ename__),this.useEnumIndex)this.buf.b+=":",this.buf.b+=Std.string(e._hx_index);else{y=e;this.serializeString($hxEnums[y.__enum__].__constructs__[y._hx_index])}this.buf.b+=":";var b=Type.enumParameters(e);this.buf.b+=Std.string(b.length);for(var v=0;v<b.length;){var P=b[v];++v,this.serialize(P)}this.useCache&&this.cache.push(e);break;default:throw haxe_Exception.thrown("Cannot serialize "+Std.string(e))}},__class__:haxe_Serializer};var haxe__$Template_TemplateExpr=$hxEnums["haxe._Template.TemplateExpr"]={__ename__:"haxe._Template.TemplateExpr",__constructs__:["OpVar","OpExpr","OpIf","OpStr","OpBlock","OpForeach","OpMacro"],OpVar:($_=function(e){return{_hx_index:0,v:e,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["v"],$_),OpExpr:($_=function(e){return{_hx_index:1,expr:e,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["expr"],$_),OpIf:($_=function(e,t,a){return{_hx_index:2,expr:e,eif:t,eelse:a,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["expr","eif","eelse"],$_),OpStr:($_=function(e){return{_hx_index:3,str:e,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["str"],$_),OpBlock:($_=function(e){return{_hx_index:4,l:e,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["l"],$_),OpForeach:($_=function(e,t){return{_hx_index:5,expr:e,loop:t,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["expr","loop"],$_),OpMacro:($_=function(e,t){return{_hx_index:6,name:e,params:t,__enum__:"haxe._Template.TemplateExpr",toString:$estr}},$_.__params__=["name","params"],$_)},haxe_iterators_ArrayIterator=function(e){this.current=0,this.array=e};$hxClasses["haxe.iterators.ArrayIterator"]=haxe_iterators_ArrayIterator,haxe_iterators_ArrayIterator.__name__="haxe.iterators.ArrayIterator",haxe_iterators_ArrayIterator.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:haxe_iterators_ArrayIterator};var haxe_Template=function(e){var t=this.parseTokens(e);if(this.expr=this.parseBlock(t),!t.isEmpty())throw haxe_Exception.thrown("Unexpected '"+Std.string(t.first().s)+"'")};$hxClasses["haxe.Template"]=haxe_Template,haxe_Template.__name__="haxe.Template",haxe_Template.prototype={execute:function(e,t){return this.macros=null==t?{}:t,this.context=e,this.stack=new haxe_ds_List,this.buf=new StringBuf,this.run(this.expr),this.buf.b},resolve:function(e){if("__current__"==e)return this.context;var t=Reflect.getProperty(this.context,e);if(null!=t||Object.prototype.hasOwnProperty.call(this.context,e))return t;for(var a=this.stack.h;null!=a;){var n=a.item;a=a.next;var i=n;if(null!=(t=Reflect.getProperty(i,e))||Object.prototype.hasOwnProperty.call(i,e))return t}return Reflect.field(haxe_Template.globals,e)},parseTokens:function(e){for(var t=new haxe_ds_List;haxe_Template.splitter.match(e);){var a=haxe_Template.splitter.matchedPos();if(a.pos>0&&t.add({p:HxOverrides.substr(e,0,a.pos),s:!0,l:null}),58!=HxOverrides.cca(e,a.pos)){for(var n=a.pos+a.len,i=1,s=[],_="";;){var r=HxOverrides.cca(e,n);if(++n,40==r)++i;else if(41==r){if(--i<=0)break}else if(null==r)throw haxe_Exception.thrown("Unclosed macro parenthesis");44==r&&1==i?(s.push(_),_=""):_+=String.fromCodePoint(r)}s.push(_),t.add({p:haxe_Template.splitter.matched(2),s:!1,l:s}),e=HxOverrides.substr(e,n,e.length-n)}else t.add({p:HxOverrides.substr(e,a.pos+2,a.len-4),s:!1,l:null}),e=haxe_Template.splitter.matchedRight()}return e.length>0&&t.add({p:e,s:!0,l:null}),t},parseBlock:function(e){for(var t=new haxe_ds_List;;){var a=e.first();if(null==a)break;if(!a.s&&("end"==a.p||"else"==a.p||"elseif "==HxOverrides.substr(a.p,0,7)))break;t.add(this.parse(e))}return 1==t.length?t.first():haxe__$Template_TemplateExpr.OpBlock(t)},parse:function(e){var t=(u=e.pop()).p;if(u.s)return haxe__$Template_TemplateExpr.OpStr(t);if(null!=u.l){for(var a=new haxe_ds_List,n=0,i=u.l;n<i.length;){var s=i[n];++n,a.add(this.parseBlock(this.parseTokens(s)))}return haxe__$Template_TemplateExpr.OpMacro(t,a)}var _,r=function(e){var a=-1,n=e.length;if(HxOverrides.substr(t,0,n)==e){a=n;for(var i=0,s=HxOverrides.substr(t,n,null);i<s.length;){if(32!=s.charCodeAt(i++))break;++a}}return a};if((_=r("if"))>0){t=HxOverrides.substr(t,_,t.length-_);var o,l=this.parseExpr(t),h=this.parseBlock(e);if(null==(u=e.first()))throw haxe_Exception.thrown("Unclosed 'if'");if("end"==u.p)e.pop(),o=null;else if("else"==u.p){if(e.pop(),o=this.parseBlock(e),null==(u=e.pop())||"end"!=u.p)throw haxe_Exception.thrown("Unclosed 'else'")}else u.p=HxOverrides.substr(u.p,4,u.p.length-4),o=this.parse(e);return haxe__$Template_TemplateExpr.OpIf(l,h,o)}if((_=r("foreach"))>=0){t=HxOverrides.substr(t,_,t.length-_);l=this.parseExpr(t);var u,p=this.parseBlock(e);if(null==(u=e.pop())||"end"!=u.p)throw haxe_Exception.thrown("Unclosed 'foreach'");return haxe__$Template_TemplateExpr.OpForeach(l,p)}return haxe_Template.expr_splitter.match(t)?haxe__$Template_TemplateExpr.OpExpr(this.parseExpr(t)):haxe__$Template_TemplateExpr.OpVar(t)},parseExpr:function(e){for(var t,a=new haxe_ds_List,n=e;haxe_Template.expr_splitter.match(e);){var i=haxe_Template.expr_splitter.matchedPos();i.pos,i.len;0!=i.pos&&a.add({p:HxOverrides.substr(e,0,i.pos),s:!0});var s=haxe_Template.expr_splitter.matched(0);a.add({p:s,s:s.indexOf('"')>=0}),e=haxe_Template.expr_splitter.matchedRight()}if(0!=e.length)for(var _=0,r=e;_<r.length;){var o=_;if(32!=r.charCodeAt(_++)){a.add({p:HxOverrides.substr(e,o,null),s:!0});break}}try{if(t=this.makeExpr(a),!a.isEmpty())throw haxe_Exception.thrown(a.first().p)}catch(e){haxe_NativeStackTrace.lastError=e;var l=haxe_Exception.caught(e).unwrap();if("string"==typeof l){var h=l;throw haxe_Exception.thrown("Unexpected '"+h+"' in "+n)}throw e}return function(){try{return t()}catch(t){haxe_NativeStackTrace.lastError=t;var e=haxe_Exception.caught(t).unwrap();throw haxe_Exception.thrown("Error : "+Std.string(e)+" in "+n)}}},makeConst:function(e){if(haxe_Template.expr_trim.match(e),e=haxe_Template.expr_trim.matched(1),34==HxOverrides.cca(e,0)){var t=HxOverrides.substr(e,1,e.length-2);return function(){return t}}if(haxe_Template.expr_int.match(e)){var a=Std.parseInt(e);return function(){return a}}if(haxe_Template.expr_float.match(e)){var n=parseFloat(e);return function(){return n}}var i=this;return function(){return i.resolve(e)}},makePath:function(e,t){var a=t.first();if(null==a||"."!=a.p)return e;t.pop();var n=t.pop();if(null==n||!n.s)throw haxe_Exception.thrown(n.p);var i=n.p;return haxe_Template.expr_trim.match(i),i=haxe_Template.expr_trim.matched(1),this.makePath((function(){return Reflect.field(e(),i)}),t)},makeExpr:function(e){return this.makePath(this.makeExpr2(e),e)},skipSpaces:function(e){for(var t=e.first();null!=t;){for(var a=0,n=t.p;a<n.length;){if(32!=n.charCodeAt(a++))return}e.pop(),t=e.first()}},makeExpr2:function(e){this.skipSpaces(e);var t=e.pop();if(this.skipSpaces(e),null==t)throw haxe_Exception.thrown("<eof>");if(t.s)return this.makeConst(t.p);switch(t.p){case"!":var a=this.makeExpr(e);return function(){var e=a();return null==e||0==e};case"(":this.skipSpaces(e);var n=this.makeExpr(e);this.skipSpaces(e);var i=e.pop();if(null==i||i.s)throw haxe_Exception.thrown(i);if(")"==i.p)return n;this.skipSpaces(e);var s=this.makeExpr(e);this.skipSpaces(e);var _=e.pop();if(this.skipSpaces(e),null==_||")"!=_.p)throw haxe_Exception.thrown(_);switch(i.p){case"!=":return function(){return n()!=s()};case"&&":return function(){return n()&&s()};case"*":return function(){return n()*s()};case"+":return function(){return n()+s()};case"-":return function(){return n()-s()};case"/":return function(){return n()/s()};case"<":return function(){return n()<s()};case"<=":return function(){return n()<=s()};case"==":return function(){return n()==s()};case">":return function(){return n()>s()};case">=":return function(){return n()>=s()};case"||":return function(){return n()||s()};default:throw haxe_Exception.thrown("Unknown operation "+i.p)}break;case"-":var r=this.makeExpr(e);return function(){return-r()}}throw haxe_Exception.thrown(t.p)},run:function(e){switch(e._hx_index){case 0:var t=e.v,a=this.buf,n=Std.string(this.resolve(t));a.b+=Std.string(n);break;case 1:var i=e.expr;a=this.buf,n=Std.string(i());a.b+=Std.string(n);break;case 2:var s=e.eelse,_=e.eif;null==(t=(i=e.expr)())||0==t?null!=s&&this.run(s):this.run(_);break;case 3:var r=e.str;this.buf.b+=null==r?"null":""+r;break;case 4:for(var o=e.l.h;null!=o;){var l=o.item;o=o.next;i=l;this.run(i)}break;case 5:var h=e.loop;t=(i=e.expr)();try{if(null==(n=$getIterator(t)).hasNext)throw haxe_Exception.thrown(null);t=n}catch(e){haxe_NativeStackTrace.lastError=e;try{if(null==t.hasNext)throw haxe_Exception.thrown(null)}catch(e){throw haxe_Exception.thrown("Cannot iter on "+Std.string(t))}}this.stack.push(this.context);for(var u=x=t;u.hasNext();){var p=u.next();this.context=p,this.run(h)}this.context=this.stack.pop();break;case 6:var c=e.params,d=e.name,f=(t=Reflect.field(this.macros,d),[]),m=this.buf;f.push($bind(this,this.resolve));for(o=c.h;null!=o;){l=o.item;o=o.next;var g=l;if(0==g._hx_index){var x=g.v;f.push(this.resolve(x))}else this.buf=new StringBuf,this.run(g),f.push(this.buf.b)}this.buf=m;try{a=this.buf,n=Std.string(t.apply(this.macros,f));a.b+=Std.string(n)}catch(t){haxe_NativeStackTrace.lastError=t;var k;e=haxe_Exception.caught(t).unwrap();try{k=f.join(",")}catch(e){k="???"}var y="Macro call "+d+"("+k+") failed ("+Std.string(e)+")";throw haxe_Exception.thrown(y)}}},__class__:haxe_Template};var haxe_Timer=function(e){var t=this;this.id=setInterval((function(){t.run()}),e)};$hxClasses["haxe.Timer"]=haxe_Timer,haxe_Timer.__name__="haxe.Timer",haxe_Timer.delay=function(e,t){var a=new haxe_Timer(t);return a.run=function(){a.stop(),e()},a},haxe_Timer.measure=function(e,t){var a=(new Date).getTime()/1e3,n=e();return haxe_Log.trace((new Date).getTime()/1e3-a+"s",t),n},haxe_Timer.stamp=function(){return(new Date).getTime()/1e3},haxe_Timer.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:haxe_Timer};var haxe__$Unserializer_DefaultResolver=function(){};$hxClasses["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver,haxe__$Unserializer_DefaultResolver.__name__="haxe._Unserializer.DefaultResolver",haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(e){return $hxClasses[e]},resolveEnum:function(e){return $hxEnums[e]},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[];var t=haxe_Unserializer.DEFAULT_RESOLVER;null==t&&(t=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.DEFAULT_RESOLVER=t),this.resolver=t};$hxClasses["haxe.Unserializer"]=haxe_Unserializer,haxe_Unserializer.__name__="haxe.Unserializer",haxe_Unserializer.initCodes=function(){for(var e=[],t=0,a=haxe_Unserializer.BASE64.length;t<a;){var n=t++;e[haxe_Unserializer.BASE64.charCodeAt(n)]=n}return e},haxe_Unserializer.run=function(e){return new haxe_Unserializer(e).unserialize()},haxe_Unserializer.prototype={setResolver:function(e){null==e?(null==haxe__$Unserializer_NullResolver.instance&&(haxe__$Unserializer_NullResolver.instance=new haxe__$Unserializer_NullResolver),this.resolver=haxe__$Unserializer_NullResolver.instance):this.resolver=e},readDigits:function(){for(var e=0,t=!1,a=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(45!=n){if(n<48||n>57)break;e=10*e+(n-48),this.pos++}else{if(this.pos!=a)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}return parseFloat(HxOverrides.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw haxe_Exception.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw haxe_Exception.thrown("Invalid object key");var a=this.unserialize();e[t]=a}this.pos++},unserializeEnum:function(e,t){if(58!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid enum format");var a=this.readDigits();if(0==a)return Type.createEnum(e,t);for(var n=[];a-- >0;)n.push(this.unserialize());return Type.createEnum(e,t,n)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);return o;case 66:e=this.unserialize();if(null==(u=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);return u;case 67:e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);var t=Object.create(o.prototype);if(this.cache.push(t),t.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid custom data");return t;case 77:var a=new haxe_ds_ObjectMap;this.cache.push(a);for(var n=this.buf;104!=this.buf.charCodeAt(this.pos);){var i=this.unserialize();a.set(i,this.unserialize())}return this.pos++,a;case 82:if((_=this.readDigits())<0||_>=this.scache.length)throw haxe_Exception.thrown("Invalid string reference");return this.scache[_];case 97:n=this.buf;var s=[];for(this.cache.push(s);;){if(104==(c=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==c){this.pos++;var _=this.readDigits();s[s.length+_-1]=null}else s.push(this.unserialize())}return s;case 98:a=new haxe_ds_StringMap;this.cache.push(a);for(n=this.buf;104!=this.buf.charCodeAt(this.pos);){i=this.unserialize();var r=this.unserialize();a.h[i]=r}return this.pos++,a;case 99:var o;e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);t=Object.create(o.prototype);return this.cache.push(t),this.unserializeObject(t),t;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(C=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);this.pos++;var l=this.readDigits(),h=C.__constructs__.slice()[l];if(null==h)throw haxe_Exception.thrown("Unknown enum index "+e+"@"+l);var u=this.unserializeEnum(C,h);return this.cache.push(u),u;case 107:return NaN;case 108:var p=new haxe_ds_List;this.cache.push(p);for(n=this.buf;104!=this.buf.charCodeAt(this.pos);)p.add(this.unserialize());return this.pos++,p;case 109:return-1/0;case 110:return null;case 111:t={};return this.cache.push(t),this.unserializeObject(t),t;case 112:return 1/0;case 113:a=new haxe_ds_IntMap;this.cache.push(a);n=this.buf;for(var c=this.buf.charCodeAt(this.pos++);58==c;){var d=this.readDigits();r=this.unserialize();a.h[d]=r,c=this.buf.charCodeAt(this.pos++)}if(104!=c)throw haxe_Exception.thrown("Invalid IntMap format");return a;case 114:if((_=this.readDigits())<0||_>=this.cache.length)throw haxe_Exception.thrown("Invalid reference");return this.cache[_];case 115:var f=this.readDigits();n=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<f)throw haxe_Exception.thrown("Invalid bytes length");var m=haxe_Unserializer.CODES;null==m&&(m=haxe_Unserializer.initCodes(),haxe_Unserializer.CODES=m);for(var g=3&f,x=(d=this.pos)+(f-g),k=new haxe_io_Bytes(new ArrayBuffer(3*(f>>2)+(g>=2?g-1:0))),y=0;d<x;){var b=m[n.charCodeAt(d++)],v=m[n.charCodeAt(d++)];k.b[y++]=255&(b<<2|v>>4);var P=m[n.charCodeAt(d++)];k.b[y++]=255&(v<<4|P>>2);var w=m[n.charCodeAt(d++)];k.b[y++]=255&(P<<6|w)}if(g>=2){b=m[n.charCodeAt(d++)],v=m[n.charCodeAt(d++)];if(k.b[y++]=255&(b<<2|v>>4),3==g){P=m[n.charCodeAt(d++)];k.b[y++]=255&(v<<4|P>>2)}}return this.pos+=f,this.cache.push(k),k;case 116:return!0;case 118:var T;return this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(T=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19)),this.pos+=19):T=new Date(this.readFloat()),this.cache.push(T),T;case 119:var C;e=this.unserialize();if(null==(C=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);u=this.unserializeEnum(C,this.unserialize());return this.cache.push(u),u;case 120:throw haxe_Exception.thrown(this.unserialize());case 121:f=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<f)throw haxe_Exception.thrown("Invalid string length");i=HxOverrides.substr(this.buf,this.pos,f);return this.pos+=f,i=decodeURIComponent(i.split("+").join(" ")),this.scache.push(i),i;case 122:return 0}throw this.pos--,haxe_Exception.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe__$Unserializer_NullResolver=function(){};$hxClasses["haxe._Unserializer.NullResolver"]=haxe__$Unserializer_NullResolver,haxe__$Unserializer_NullResolver.__name__="haxe._Unserializer.NullResolver",haxe__$Unserializer_NullResolver.prototype={resolveClass:function(e){return null},resolveEnum:function(e){return null},__class__:haxe__$Unserializer_NullResolver};var haxe_ValueException=function(e,t,a){haxe_Exception.call(this,String(e),t,a),this.value=e};$hxClasses["haxe.ValueException"]=haxe_ValueException,haxe_ValueException.__name__="haxe.ValueException",haxe_ValueException.__super__=haxe_Exception,haxe_ValueException.prototype=$extend(haxe_Exception.prototype,{unwrap:function(){return this.value},__class__:haxe_ValueException});var haxe_crypto_Adler32=function(){this.a1=1,this.a2=0};$hxClasses["haxe.crypto.Adler32"]=haxe_crypto_Adler32,haxe_crypto_Adler32.__name__="haxe.crypto.Adler32",haxe_crypto_Adler32.read=function(e){var t=new haxe_crypto_Adler32,a=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return t.a1=i<<8|s,t.a2=a<<8|n,t},haxe_crypto_Adler32.prototype={update:function(e,t,a){for(var n=this.a1,i=this.a2,s=t,_=t+a;s<_;){var r=s++;i=(i+(n=(n+e.b[r])%65521))%65521}this.a1=n,this.a2=i},equals:function(e){return e.a1==this.a1&&e.a2==this.a2},__class__:haxe_crypto_Adler32};var haxe_io_Bytes=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};$hxClasses["haxe.io.Bytes"]=haxe_io_Bytes,haxe_io_Bytes.__name__="haxe.io.Bytes",haxe_io_Bytes.alloc=function(e){return new haxe_io_Bytes(new ArrayBuffer(e))},haxe_io_Bytes.ofString=function(e,t){for(var a=[],n=0;n<e.length;){var i=e.charCodeAt(n++);55296<=i&&i<=56319&&(i=i-55232<<10|1023&e.charCodeAt(n++)),i<=127?a.push(i):i<=2047?(a.push(192|i>>6),a.push(128|63&i)):i<=65535?(a.push(224|i>>12),a.push(128|i>>6&63),a.push(128|63&i)):(a.push(240|i>>18),a.push(128|i>>12&63),a.push(128|i>>6&63),a.push(128|63&i))}return new haxe_io_Bytes(new Uint8Array(a).buffer)},haxe_io_Bytes.ofData=function(e){var t=e.hxBytes;return null!=t?t:new haxe_io_Bytes(e)},haxe_io_Bytes.ofHex=function(e){if(0!=(1&e.length))throw haxe_Exception.thrown("Not a hex string (odd number of digits)");for(var t=[],a=0,n=e.length>>1;a<n;){var i=e.charCodeAt(2*a),s=e.charCodeAt(2*a+1);i=(15&i)+9*((64&i)>>6),s=(15&s)+9*((64&s)>>6),t.push(255&(i<<4|s)),++a}return new haxe_io_Bytes(new Uint8Array(t).buffer)},haxe_io_Bytes.fastGet=function(e,t){return e.bytes[t]},haxe_io_Bytes.prototype={get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},blit:function(e,t,a,n){if(e<0||a<0||n<0||e+n>this.length||a+n>t.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);0==a&&n==t.b.byteLength?this.b.set(t.b,e):this.b.set(t.b.subarray(a,a+n),e)},fill:function(e,t,a){for(var n=0,i=t;n<i;){n++;this.b[e++]=255&a}},sub:function(e,t){if(e<0||t<0||e+t>this.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);return new haxe_io_Bytes(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},compare:function(e){for(var t=this.b,a=e.b,n=0,i=this.length<e.length?this.length:e.length;n<i;){var s=n++;if(t[s]!=a[s])return t[s]-a[s]}return this.length-e.length},initData:function(){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(e,!0)},getFloat:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(e,!0)},setDouble:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(e,t,!0)},setFloat:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(e,t,!0)},getUInt16:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getUint16(e,!0)},setUInt16:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(e,t,!0)},getInt32:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(e,!0)},setInt32:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(e,t,!0)},getInt64:function(e){return new haxe__$Int64__$_$_$Int64(this.getInt32(e+4),this.getInt32(e))},setInt64:function(e,t){this.setInt32(e,t.low),this.setInt32(e+4,t.high)},getString:function(e,t,a){if(e<0||t<0||e+t>this.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);for(var n="",i=this.b,s=_$String_String_$Impl_$.fromCharCode,_=e,r=e+t;_<r;){var o=i[_++];if(o<128){if(0==o)break;n+=s(o)}else if(o<224)n+=s((63&o)<<6|127&i[_++]);else if(o<240){n+=s((31&o)<<12|(127&i[_++])<<6|127&i[_++])}else{var l=(15&o)<<18|(127&i[_++])<<12|(127&i[_++])<<6|127&i[_++];n+=s(55232+(l>>10)),n+=s(1023&l|56320)}}return n},readString:function(e,t){return this.getString(e,t)},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var e="",t=[],a="0123456789abcdef",n=0,i=a.length;n<i;){var s=n++;t.push(HxOverrides.cca(a,s))}for(n=0,i=this.length;n<i;){s=n++;var _=this.b[s];e+=String.fromCodePoint(t[_>>4]),e+=String.fromCodePoint(t[15&_])}return e},getData:function(){return this.b.bufferValue},__class__:haxe_io_Bytes};var haxe_crypto_Base64=function(){};$hxClasses["haxe.crypto.Base64"]=haxe_crypto_Base64,haxe_crypto_Base64.__name__="haxe.crypto.Base64",haxe_crypto_Base64.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==HxOverrides.cca(e,e.length-1);)e=HxOverrides.substr(e,0,-1);return new haxe_crypto_BaseCode(haxe_crypto_Base64.BYTES).decodeBytes(haxe_io_Bytes.ofString(e))};var haxe_crypto_BaseCode=function(e){for(var t=e.length,a=1;t>1<<a;)++a;if(a>8||t!=1<<a)throw haxe_Exception.thrown("BaseCode : base length must be a power of two.");this.base=e,this.nbits=a};$hxClasses["haxe.crypto.BaseCode"]=haxe_crypto_BaseCode,haxe_crypto_BaseCode.__name__="haxe.crypto.BaseCode",haxe_crypto_BaseCode.prototype={initTable:function(){for(var e=[],t=0;t<256;){e[n=t++]=-1}t=0;for(var a=this.base.length;t<a;){var n=t++;e[this.base.b[n]]=n}this.tbl=e},decodeBytes:function(e){var t=this.nbits;this.base;null==this.tbl&&this.initTable();for(var a=this.tbl,n=e.length*t>>3,i=new haxe_io_Bytes(new ArrayBuffer(n)),s=0,_=0,r=0,o=0;o<n;){for(;_<8;){_+=t,s<<=t;var l=a[e.b[r++]];if(-1==l)throw haxe_Exception.thrown("BaseCode : invalid encoded char");s|=l}_-=8,i.b[o++]=255&s>>_}return i},__class__:haxe_crypto_BaseCode};var haxe_ds_ArraySort=function(){};$hxClasses["haxe.ds.ArraySort"]=haxe_ds_ArraySort,haxe_ds_ArraySort.__name__="haxe.ds.ArraySort",haxe_ds_ArraySort.sort=function(e,t){haxe_ds_ArraySort.rec(e,t,0,e.length)},haxe_ds_ArraySort.rec=function(e,t,a,n){var i=a+n>>1;if(n-a<12){if(n<=a)return;for(var s=a+1,_=n;s<_;)for(var r=s++;r>a&&t(e[r],e[r-1])<0;)haxe_ds_ArraySort.swap(e,r-1,r),--r}else haxe_ds_ArraySort.rec(e,t,a,i),haxe_ds_ArraySort.rec(e,t,i,n),haxe_ds_ArraySort.doMerge(e,t,a,i,n,i-a,n-i)},haxe_ds_ArraySort.doMerge=function(e,t,a,n,i,s,_){var r,o,l,h;if(0!=s&&0!=_)if(s+_!=2){s>_?(r=a+(l=s>>1),h=(o=haxe_ds_ArraySort.lower(e,t,n,i,r))-n):(o=n+(h=_>>1),l=(r=haxe_ds_ArraySort.upper(e,t,a,n,o))-a),haxe_ds_ArraySort.rotate(e,t,r,n,o);var u=r+h;haxe_ds_ArraySort.doMerge(e,t,a,r,u,l,h),haxe_ds_ArraySort.doMerge(e,t,u,o,i,s-l,_-h)}else t(e[n],e[a])<0&&haxe_ds_ArraySort.swap(e,n,a)},haxe_ds_ArraySort.rotate=function(e,t,a,n,i){if(a!=n&&n!=i)for(var s=haxe_ds_ArraySort.gcd(i-a,n-a);0!=s--;){for(var _=e[a+s],r=n-a,o=a+s,l=a+s+r;l!=a+s;)e[o]=e[l],o=l,i-l>r?l+=r:l=a+(r-(i-l));e[o]=_}},haxe_ds_ArraySort.gcd=function(e,t){for(;0!=t;){var a=e%t;e=t,t=a}return e},haxe_ds_ArraySort.upper=function(e,t,a,n,i){for(var s,_,r=n-a;r>0;)_=a+(s=r>>1),t(e[i],e[_])<0?r=s:(a=_+1,r=r-s-1);return a},haxe_ds_ArraySort.lower=function(e,t,a,n,i){for(var s,_,r=n-a;r>0;)t(e[_=a+(s=r>>1)],e[i])<0?(a=_+1,r=r-s-1):r=s;return a},haxe_ds_ArraySort.swap=function(e,t,a){var n=e[t];e[t]=e[a],e[a]=n};var haxe_ds_BalancedTree=function(){};$hxClasses["haxe.ds.BalancedTree"]=haxe_ds_BalancedTree,haxe_ds_BalancedTree.__name__="haxe.ds.BalancedTree",haxe_ds_BalancedTree.__interfaces__=[haxe_IMap],haxe_ds_BalancedTree.iteratorLoop=function(e,t){null!=e&&(haxe_ds_BalancedTree.iteratorLoop(e.left,t),t.push(e.value),haxe_ds_BalancedTree.iteratorLoop(e.right,t))},haxe_ds_BalancedTree.prototype={set:function(e,t){this.root=this.setLoop(e,t,this.root)},get:function(e){for(var t=this.root;null!=t;){var a=this.compare(e,t.key);if(0==a)return t.value;t=a<0?t.left:t.right}return null},remove:function(e){try{return this.root=this.removeLoop(e,this.root),!0}catch(e){if(haxe_NativeStackTrace.lastError=e,"string"==typeof haxe_Exception.caught(e).unwrap())return!1;throw e}},exists:function(e){for(var t=this.root;null!=t;){var a=this.compare(e,t.key);if(0==a)return!0;t=a<0?t.left:t.right}return!1},iterator:function(){var e=[];return haxe_ds_BalancedTree.iteratorLoop(this.root,e),new haxe_iterators_ArrayIterator(e)},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},keys:function(){var e=[];return this.keysLoop(this.root,e),new haxe_iterators_ArrayIterator(e)},setLoop:function(e,t,a){if(null==a)return new haxe_ds_TreeNode(null,e,t,null);var n=this.compare(e,a.key);if(0==n)return new haxe_ds_TreeNode(a.left,e,t,a.right,null==a?0:a._height);if(n<0){var i=this.setLoop(e,t,a.left);return this.balance(i,a.key,a.value,a.right)}var s=this.setLoop(e,t,a.right);return this.balance(a.left,a.key,a.value,s)},removeLoop:function(e,t){if(null==t)throw haxe_Exception.thrown("Not_found");var a=this.compare(e,t.key);return 0==a?this.merge(t.left,t.right):a<0?this.balance(this.removeLoop(e,t.left),t.key,t.value,t.right):this.balance(t.left,t.key,t.value,this.removeLoop(e,t.right))},keysLoop:function(e,t){null!=e&&(this.keysLoop(e.left,t),t.push(e.key),this.keysLoop(e.right,t))},merge:function(e,t){if(null==e)return t;if(null==t)return e;var a=this.minBinding(t);return this.balance(e,a.key,a.value,this.removeMinBinding(t))},minBinding:function(e){if(null==e)throw haxe_Exception.thrown("Not_found");return null==e.left?e:this.minBinding(e.left)},removeMinBinding:function(e){return null==e.left?e.right:this.balance(this.removeMinBinding(e.left),e.key,e.value,e.right)},balance:function(e,t,a,n){var i=null==e?0:e._height,s=null==n?0:n._height;if(i>s+2){var _=e.left,r=e.right;return(null==_?0:_._height)>=(null==r?0:r._height)?new haxe_ds_TreeNode(e.left,e.key,e.value,new haxe_ds_TreeNode(e.right,t,a,n)):new haxe_ds_TreeNode(new haxe_ds_TreeNode(e.left,e.key,e.value,e.right.left),e.right.key,e.right.value,new haxe_ds_TreeNode(e.right.right,t,a,n))}if(s>i+2){_=n.right,r=n.left;return(null==_?0:_._height)>(null==r?0:r._height)?new haxe_ds_TreeNode(new haxe_ds_TreeNode(e,t,a,n.left),n.key,n.value,n.right):new haxe_ds_TreeNode(new haxe_ds_TreeNode(e,t,a,n.left.left),n.left.key,n.left.value,new haxe_ds_TreeNode(n.left.right,n.key,n.value,n.right))}return new haxe_ds_TreeNode(e,t,a,n,(i>s?i:s)+1)},compare:function(e,t){return Reflect.compare(e,t)},__class__:haxe_ds_BalancedTree};var haxe_ds_TreeNode=function(e,t,a,n,i){if(null==i&&(i=-1),this.left=e,this.key=t,this.value=a,this.right=n,-1==i){var s,_=this.left,r=this.right;if((null==_?0:_._height)>(null==r?0:r._height))s=null==(_=this.left)?0:_._height;else s=null==(_=this.right)?0:_._height;this._height=s+1}else this._height=i};$hxClasses["haxe.ds.TreeNode"]=haxe_ds_TreeNode,haxe_ds_TreeNode.__name__="haxe.ds.TreeNode",haxe_ds_TreeNode.prototype={__class__:haxe_ds_TreeNode};var haxe_ds_Either=$hxEnums["haxe.ds.Either"]={__ename__:"haxe.ds.Either",__constructs__:["Left","Right"],Left:($_=function(e){return{_hx_index:0,v:e,__enum__:"haxe.ds.Either",toString:$estr}},$_.__params__=["v"],$_),Right:($_=function(e){return{_hx_index:1,v:e,__enum__:"haxe.ds.Either",toString:$estr}},$_.__params__=["v"],$_)},haxe_ds_EnumValueMap=function(){haxe_ds_BalancedTree.call(this)};$hxClasses["haxe.ds.EnumValueMap"]=haxe_ds_EnumValueMap,haxe_ds_EnumValueMap.__name__="haxe.ds.EnumValueMap",haxe_ds_EnumValueMap.__interfaces__=[haxe_IMap],haxe_ds_EnumValueMap.__super__=haxe_ds_BalancedTree,haxe_ds_EnumValueMap.prototype=$extend(haxe_ds_BalancedTree.prototype,{compare:function(e,t){var a=e._hx_index-t._hx_index;if(0!=a)return a;var n=Type.enumParameters(e),i=Type.enumParameters(t);return 0==n.length&&0==i.length?0:this.compareArgs(n,i)},compareArgs:function(e,t){var a=e.length-t.length;if(0!=a)return a;for(var n=0,i=e.length;n<i;){var s=n++,_=this.compareArg(e[s],t[s]);if(0!=_)return _}return 0},compareArg:function(e,t){return Reflect.isEnumValue(e)&&Reflect.isEnumValue(t)?this.compare(e,t):e instanceof Array&&t instanceof Array?this.compareArgs(e,t):Reflect.compare(e,t)},__class__:haxe_ds_EnumValueMap});var haxe_ds_IntMap=function(){this.h={}};$hxClasses["haxe.ds.IntMap"]=haxe_ds_IntMap,haxe_ds_IntMap.__name__="haxe.ds.IntMap",haxe_ds_IntMap.__interfaces__=[haxe_IMap],haxe_ds_IntMap.prototype={set:function(e,t){this.h[e]=t},get:function(e){return this.h[e]},exists:function(e){return this.h.hasOwnProperty(e)},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},toString:function(){var e="";e+="{";for(var t=this.keys(),a=t;a.hasNext();){var n=a.next();e+=null==n?"null":""+n,e+=" => ",e+=Std.string(Std.string(this.h[n])),t.hasNext()&&(e+=", ")}return e+="}"},__class__:haxe_ds_IntMap};var haxe_ds_List=function(){this.length=0};$hxClasses["haxe.ds.List"]=haxe_ds_List,haxe_ds_List.__name__="haxe.ds.List",haxe_ds_List.prototype={add:function(e){var t=new haxe_ds__$List_ListNode(e,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(e){var t=new haxe_ds__$List_ListNode(e,this.h);this.h=t,null==this.q&&(this.q=t),this.length++},first:function(){return null==this.h?null:this.h.item},pop:function(){if(null==this.h)return null;var e=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,e},isEmpty:function(){return null==this.h},clear:function(){this.h=null,this.q=null,this.length=0},remove:function(e){for(var t=null,a=this.h;null!=a;){if(a.item==e)return null==t?this.h=a.next:t.next=a.next,this.q==a&&(this.q=t),this.length--,!0;t=a,a=a.next}return!1},iterator:function(){return new haxe_ds__$List_ListIterator(this.h)},toString:function(){var e="",t=!0,a=this.h;for(e+="{";null!=a;)t?t=!1:e+=", ",e+=Std.string(Std.string(a.item)),a=a.next;return e+="}"},__class__:haxe_ds_List};var haxe_ds__$List_ListNode=function(e,t){this.item=e,this.next=t};$hxClasses["haxe.ds._List.ListNode"]=haxe_ds__$List_ListNode,haxe_ds__$List_ListNode.__name__="haxe.ds._List.ListNode",haxe_ds__$List_ListNode.prototype={__class__:haxe_ds__$List_ListNode};var haxe_ds__$List_ListIterator=function(e){this.head=e};$hxClasses["haxe.ds._List.ListIterator"]=haxe_ds__$List_ListIterator,haxe_ds__$List_ListIterator.__name__="haxe.ds._List.ListIterator",haxe_ds__$List_ListIterator.prototype={hasNext:function(){return null!=this.head},next:function(){var e=this.head.item;return this.head=this.head.next,e},__class__:haxe_ds__$List_ListIterator};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};$hxClasses["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap,haxe_ds_ObjectMap.__name__="haxe.ds.ObjectMap",haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={set:function(e,t){var a=e.__id__;null==a&&(a=e.__id__=$global.$haxeUID++),this.h[a]=t,this.h.__keys__[a]=e},get:function(e){return this.h[e.__id__]},exists:function(e){return null!=this.h.__keys__[e.__id__]},remove:function(e){var t=e.__id__;return null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},toString:function(){var e="";e+="{";for(var t=this.keys(),a=t;a.hasNext();){var n=a.next();e+=Std.string(Std.string(n)),e+=" => ",e+=Std.string(Std.string(this.h[n.__id__])),t.hasNext()&&(e+=", ")}return e+="}"},__class__:haxe_ds_ObjectMap};var haxe_ds_StringMap=function(){this.h=Object.create(null)};$hxClasses["haxe.ds.StringMap"]=haxe_ds_StringMap,haxe_ds_StringMap.__name__="haxe.ds.StringMap",haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.keysIterator=function(e){var t=Object.keys(e),a=t.length,n=0;return{hasNext:function(){return n<a},next:function(){return t[(n+=1)-1]}}},haxe_ds_StringMap.valueIterator=function(e){var t=Object.keys(e),a=t.length,n=0;return{hasNext:function(){return n<a},next:function(){return e[t[(n+=1)-1]]}}},haxe_ds_StringMap.kvIterator=function(e){var t=Object.keys(e),a=t.length,n=0;return{hasNext:function(){return n<a},next:function(){var a=t[(n+=1)-1];return{key:a,value:e[a]}}}},haxe_ds_StringMap.stringify=function(e){var t="{",a=!0;for(var n in e)a?a=!1:t+=",",t+=n+" => "+Std.string(e[n]);return t+"}"},haxe_ds_StringMap.prototype={exists:function(e){return Object.prototype.hasOwnProperty.call(this.h,e)},get:function(e){return this.h[e]},set:function(e,t){this.h[e]=t},remove:function(e){return!!Object.prototype.hasOwnProperty.call(this.h,e)&&(delete this.h[e],!0)},keys:function(){return haxe_ds_StringMap.keysIterator(this.h)},iterator:function(){return haxe_ds_StringMap.valueIterator(this.h)},keyValueIterator:function(){return haxe_ds_StringMap.kvIterator(this.h)},__class__:haxe_ds_StringMap};var haxe_io_BytesBuffer=function(){this.pos=0,this.size=0};$hxClasses["haxe.io.BytesBuffer"]=haxe_io_BytesBuffer,haxe_io_BytesBuffer.__name__="haxe.io.BytesBuffer",haxe_io_BytesBuffer.prototype={addByte:function(e){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,e)},add:function(e){if(this.pos+e.length>this.size&&this.grow(e.length),0!=this.size){var t=new Uint8Array(e.b.buffer,e.b.byteOffset,e.length);this.u8.set(t,this.pos),this.pos+=e.length}},addBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);if(this.pos+a>this.size&&this.grow(a),0!=this.size){var n=new Uint8Array(e.b.buffer,e.b.byteOffset+t,a);this.u8.set(n,this.pos),this.pos+=a}},grow:function(e){for(var t=this.pos+e,a=0==this.size?16:this.size;a<t;)a=3*a>>1;var n=new ArrayBuffer(a),i=new Uint8Array(n);this.size>0&&i.set(this.u8),this.size=a,this.buffer=n,this.u8=i,this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new haxe_io_Bytes(new ArrayBuffer(0));var e=new haxe_io_Bytes(this.buffer);return e.length=this.pos,e},__class__:haxe_io_BytesBuffer};var haxe_io_Input=function(){};$hxClasses["haxe.io.Input"]=haxe_io_Input,haxe_io_Input.__name__="haxe.io.Input",haxe_io_Input.prototype={readByte:function(){throw haxe_Exception.thrown("Not implemented")},readBytes:function(e,t,a){var n=a,i=e.b;if(t<0||a<0||t+a>e.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);try{for(;n>0;)i[t]=this.readByte(),++t,--n}catch(e){if(haxe_NativeStackTrace.lastError=e,!(haxe_Exception.caught(e).unwrap()instanceof haxe_io_Eof))throw e}return a-n},readFullBytes:function(e,t,a){for(;a>0;){var n=this.readBytes(e,t,a);if(0==n)throw haxe_Exception.thrown(haxe_io_Error.Blocked);t+=n,a-=n}},read:function(e){for(var t=new haxe_io_Bytes(new ArrayBuffer(e)),a=0;e>0;){var n=this.readBytes(t,a,e);if(0==n)throw haxe_Exception.thrown(haxe_io_Error.Blocked);a+=n,e-=n}return t},readLine:function(){var e,t,a=new haxe_io_BytesBuffer;try{for(;10!=(e=this.readByte());)a.addByte(e);t=a.getBytes().toString(),13==HxOverrides.cca(t,t.length-1)&&(t=HxOverrides.substr(t,0,-1))}catch(e){haxe_NativeStackTrace.lastError=e;var n=haxe_Exception.caught(e).unwrap();if(!(n instanceof haxe_io_Eof))throw e;var i=n;if(0==(t=a.getBytes().toString()).length)throw haxe_Exception.thrown(i)}return t},readInt16:function(){var e=this.readByte(),t=this.readByte(),a=this.bigEndian?t|e<<8:e|t<<8;return 0!=(32768&a)?a-65536:a},readUInt16:function(){var e=this.readByte(),t=this.readByte();return this.bigEndian?t|e<<8:e|t<<8},readInt32:function(){var e=this.readByte(),t=this.readByte(),a=this.readByte(),n=this.readByte();return this.bigEndian?n|a<<8|t<<16|e<<24:e|t<<8|a<<16|n<<24},readString:function(e,t){var a=new haxe_io_Bytes(new ArrayBuffer(e));return this.readFullBytes(a,0,e),a.getString(0,e,t)},__class__:haxe_io_Input};var haxe_io_BytesInput=function(e,t,a){if(null==t&&(t=0),null==a&&(a=e.length-t),t<0||a<0||t+a>e.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);this.b=e.b,this.pos=t,this.len=a,this.totlen=a};$hxClasses["haxe.io.BytesInput"]=haxe_io_BytesInput,haxe_io_BytesInput.__name__="haxe.io.BytesInput",haxe_io_BytesInput.__super__=haxe_io_Input,haxe_io_BytesInput.prototype=$extend(haxe_io_Input.prototype,{readByte:function(){if(0==this.len)throw haxe_Exception.thrown(new haxe_io_Eof);return this.len--,this.b[this.pos++]},readBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);if(0==this.len&&a>0)throw haxe_Exception.thrown(new haxe_io_Eof);this.len<a&&(a=this.len);for(var n=this.b,i=e.b,s=0,_=a;s<_;){var r=s++;i[t+r]=n[this.pos+r]}return this.pos+=a,this.len-=a,a},__class__:haxe_io_BytesInput});var haxe_io_Encoding=$hxEnums["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}},haxe_io_Eof=function(){};$hxClasses["haxe.io.Eof"]=haxe_io_Eof,haxe_io_Eof.__name__="haxe.io.Eof",haxe_io_Eof.prototype={toString:function(){return"Eof"},__class__:haxe_io_Eof};var haxe_io_Error=$hxEnums["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:($_=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr}},$_.__params__=["e"],$_)},haxe_io_FPHelper=function(){};$hxClasses["haxe.io.FPHelper"]=haxe_io_FPHelper,haxe_io_FPHelper.__name__="haxe.io.FPHelper",haxe_io_FPHelper.i32ToFloat=function(e){return haxe_io_FPHelper.helper.setInt32(0,e,!0),haxe_io_FPHelper.helper.getFloat32(0,!0)},haxe_io_FPHelper.floatToI32=function(e){return haxe_io_FPHelper.helper.setFloat32(0,e,!0),haxe_io_FPHelper.helper.getInt32(0,!0)},haxe_io_FPHelper.i64ToDouble=function(e,t){return haxe_io_FPHelper.helper.setInt32(0,e,!0),haxe_io_FPHelper.helper.setInt32(4,t,!0),haxe_io_FPHelper.helper.getFloat64(0,!0)},haxe_io_FPHelper.doubleToI64=function(e){var t=haxe_io_FPHelper.i64tmp;return haxe_io_FPHelper.helper.setFloat64(0,e,!0),t.low=haxe_io_FPHelper.helper.getInt32(0,!0),t.high=haxe_io_FPHelper.helper.getInt32(4,!0),t};var haxe_io_Path=function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var t=e.lastIndexOf("/"),a=e.lastIndexOf("\\");t<a?(this.dir=HxOverrides.substr(e,0,a),e=HxOverrides.substr(e,a+1,null),this.backslash=!0):a<t?(this.dir=HxOverrides.substr(e,0,t),e=HxOverrides.substr(e,t+1,null)):this.dir=null;var n=e.lastIndexOf(".");-1!=n?(this.ext=HxOverrides.substr(e,n+1,null),this.file=HxOverrides.substr(e,0,n)):(this.ext=null,this.file=e)};$hxClasses["haxe.io.Path"]=haxe_io_Path,haxe_io_Path.__name__="haxe.io.Path",haxe_io_Path.directory=function(e){var t=new haxe_io_Path(e);return null==t.dir?"":t.dir},haxe_io_Path.extension=function(e){var t=new haxe_io_Path(e);return null==t.ext?"":t.ext},haxe_io_Path.join=function(e){for(var t=[],a=0,n=e;a<n.length;){var i=n[a];++a,null!=i&&""!=i&&t.push(i)}if(0==(e=t).length)return"";var s=e[0];for(t=1,a=e.length;t<a;){var _=t++;s=haxe_io_Path.addTrailingSlash(s),s+=e[_]}return haxe_io_Path.normalize(s)},haxe_io_Path.normalize=function(e){if("/"==(e=e.split("\\").join("/")))return"/";for(var t=[],a=0,n=e.split("/");a<n.length;){var i=n[a];++a,".."==i&&t.length>0&&".."!=t[t.length-1]?t.pop():""==i?(t.length>0||47==HxOverrides.cca(e,0))&&t.push(i):"."!=i&&t.push(i)}for(var s="",_=!1,r=!1,o=0,l=t.join("/");o<l.length;){var h=l,u=o++,p=h.charCodeAt(u);p>=55296&&p<=56319&&(p=p-55232<<10|1023&h.charCodeAt(u+1));p>=65536&&++o;var c=p;switch(c){case 47:if(_){var d=c;_=!1,r&&(s+="/",r=!1),s+=String.fromCodePoint(d)}else r=!0;break;case 58:s+=":",_=!0;break;default:var f=c;_=!1,r&&(s+="/",r=!1),s+=String.fromCodePoint(f)}}return s},haxe_io_Path.addTrailingSlash=function(e){if(0==e.length)return"/";var t=e.lastIndexOf("/"),a=e.lastIndexOf("\\");return t<a?a!=e.length-1?e+"\\":e:t!=e.length-1?e+"/":e},haxe_io_Path.prototype={__class__:haxe_io_Path};var haxe_io_StringInput=function(e){haxe_io_BytesInput.call(this,haxe_io_Bytes.ofString(e))};$hxClasses["haxe.io.StringInput"]=haxe_io_StringInput,haxe_io_StringInput.__name__="haxe.io.StringInput",haxe_io_StringInput.__super__=haxe_io_BytesInput,haxe_io_StringInput.prototype=$extend(haxe_io_BytesInput.prototype,{__class__:haxe_io_StringInput});var haxe_iterators_MapKeyValueIterator=function(e){this.map=e,this.keys=e.keys()};$hxClasses["haxe.iterators.MapKeyValueIterator"]=haxe_iterators_MapKeyValueIterator,haxe_iterators_MapKeyValueIterator.__name__="haxe.iterators.MapKeyValueIterator",haxe_iterators_MapKeyValueIterator.prototype={hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:haxe_iterators_MapKeyValueIterator};var haxe_xml__$Access_NodeAccess={resolve:function(e,t){var a=e.elementsNamed(t).next();if(null==a){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));n=e.nodeName}throw haxe_Exception.thrown(n+" is missing element "+t)}if(a.nodeType!=Xml.Document&&a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==a.nodeType?"null":XmlType.toString(a.nodeType)));return e=a}},haxe_xml__$Access_AttribAccess={resolve:function(e,t){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+t);var a=e.get(t);if(null==a){if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));throw haxe_Exception.thrown(e.nodeName+" is missing attribute "+t)}return a}},haxe_xml__$Access_HasAttribAccess={resolve:function(e,t){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+t);return e.exists(t)}},haxe_xml__$Access_NodeListAccess={resolve:function(e,t){for(var a=[],n=e.elementsNamed(t);n.hasNext();){var i=n.next();if(i.nodeType!=Xml.Document&&i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==i.nodeType?"null":XmlType.toString(i.nodeType)));e=i;a.push(e)}return a}},haxe_xml_XmlParserException=function(e,t,a){this.xml=t,this.message=e,this.position=a,this.lineNumber=1,this.positionAtLine=0;for(var n=0,i=a;n<i;){var s=n++,_=t.charCodeAt(s);10==_?(this.lineNumber++,this.positionAtLine=0):13!=_&&this.positionAtLine++}};$hxClasses["haxe.xml.XmlParserException"]=haxe_xml_XmlParserException,haxe_xml_XmlParserException.__name__="haxe.xml.XmlParserException",haxe_xml_XmlParserException.prototype={toString:function(){return js_Boot.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:haxe_xml_XmlParserException};var haxe_xml_Parser=function(){};$hxClasses["haxe.xml.Parser"]=haxe_xml_Parser,haxe_xml_Parser.__name__="haxe.xml.Parser",haxe_xml_Parser.parse=function(e,t){null==t&&(t=!1);var a=Xml.createDocument();return haxe_xml_Parser.doParse(e,t,0,a),a},haxe_xml_Parser.doParse=function(e,t,a,n){null==a&&(a=0);for(var i=null,s=1,_=1,r=null,o=0,l=0,h=0,u=e.charCodeAt(a),p=new StringBuf,c=1,d=-1;u==u;){switch(s){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:s=_;continue}break;case 1:if(60!=u){o=a,s=13;continue}s=0,_=2;break;case 2:switch(u){case 33:if(91==e.charCodeAt(a+1)){if(a+=2,"CDATA["!=HxOverrides.substr(e,a,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <![CDATA[",e,a));s=17,o=(a+=5)+1}else if(68==e.charCodeAt(a+1)||100==e.charCodeAt(a+1)){if("OCTYPE"!=HxOverrides.substr(e,a+2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <!DOCTYPE",e,a));s=16,o=(a+=8)+1}else{if(45!=e.charCodeAt(a+1)||45!=e.charCodeAt(a+2))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected \x3c!--",e,a));s=15,o=(a+=2)+1}break;case 47:if(null==n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,a));o=a+1,s=0,_=10;break;case 63:s=14,o=a;break;default:s=3,o=a;continue}break;case 3:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){if(a==o)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,a));i=Xml.createElement(HxOverrides.substr(e,o,a-o)),n.addChild(i),++l,s=0,_=4;continue}break;case 4:switch(u){case 47:s=11;break;case 62:s=9;break;default:s=5,o=a;continue}break;case 5:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){if(o==a)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected attribute name",e,a));if(r=HxOverrides.substr(e,o,a-o),i.exists(r))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Duplicate attribute ["+r+"]",e,a));s=0,_=6;continue}break;case 6:if(61!=u)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected =",e,a));s=0,_=7;break;case 7:switch(u){case 34:case 39:p=new StringBuf,s=8,o=a+1,d=u;break;default:throw haxe_Exception.thrown(new haxe_xml_XmlParserException('Expected "',e,a))}break;case 8:switch(u){case 38:var f=a-o;p.b+=null==f?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,f),s=18,c=8,o=a+1;break;case 60:case 62:if(t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid unescaped "+String.fromCodePoint(u)+" in attribute value",e,a));if(u==d){var m=a-o;p.b+=null==m?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,m);var g=p.b;p=new StringBuf,i.set(r,g),s=0,_=4}break;default:if(u==d){var x=a-o;p.b+=null==x?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,x);var k=p.b;p=new StringBuf,i.set(r,k),s=0,_=4}}break;case 9:o=a=haxe_xml_Parser.doParse(e,t,a,i),s=1;break;case 10:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){if(o==a)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,a));var y=HxOverrides.substr(e,o,a-o);if(null==n||0!=n.nodeType)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected </"+y+">, tag is not open",e,a));if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":XmlType.toString(n.nodeType)));if(y!=n.nodeName){if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":XmlType.toString(n.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected </"+n.nodeName+">",e,a))}s=0,_=12;continue}break;case 11:if(62!=u)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,a));s=1;break;case 12:if(62==u)return 0==l&&n.addChild(Xml.createPCData("")),a;throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,a));case 13:if(60==u){var b=a-o;p.b+=null==b?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,b);var v=Xml.createPCData(p.b);p=new StringBuf,n.addChild(v),++l,s=0,_=2}else if(38==u){var P=a-o;p.b+=null==P?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,P),s=18,c=13,o=a+1}break;case 14:if(63==u&&62==e.charCodeAt(a+1)){++a;var w=HxOverrides.substr(e,o+1,a-o-2);n.addChild(Xml.createProcessingInstruction(w)),++l,s=1}break;case 15:45==u&&45==e.charCodeAt(a+1)&&62==e.charCodeAt(a+2)&&(n.addChild(Xml.createComment(HxOverrides.substr(e,o,a-o))),++l,a+=2,s=1);break;case 16:91==u?++h:93==u?--h:62==u&&0==h&&(n.addChild(Xml.createDocType(HxOverrides.substr(e,o,a-o))),++l,s=1);break;case 17:if(93==u&&93==e.charCodeAt(a+1)&&62==e.charCodeAt(a+2)){var T=Xml.createCData(HxOverrides.substr(e,o,a-o));n.addChild(T),++l,a+=2,s=1}break;case 18:if(59==u){var C=HxOverrides.substr(e,o,a-o);if(35==C.charCodeAt(0)){var S=120==C.charCodeAt(1)?Std.parseInt("0"+HxOverrides.substr(C,1,C.length-1)):Std.parseInt(HxOverrides.substr(C,1,C.length-1));p.b+=String.fromCodePoint(S)}else if(Object.prototype.hasOwnProperty.call(haxe_xml_Parser.escapes.h,C))p.b+=Std.string(haxe_xml_Parser.escapes.h[C]);else{if(t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Undefined entity: "+C,e,a));p.b+=Std.string("&"+C+";")}o=a+1,s=c}else if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid character in entity: "+String.fromCodePoint(u),e,a));p.b+=String.fromCodePoint(38);var A=a-o;p.b+=null==A?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,A),o=--a+1,s=c}}u=e.charCodeAt(++a)}if(1==s&&(o=a,s=13),13==s){if(0==n.nodeType){if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":XmlType.toString(n.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unclosed node <"+n.nodeName+">",e,a))}if(a!=o||0==l){f=a-o;p.b+=null==f?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,f),n.addChild(Xml.createPCData(p.b)),++l}return a}if(!t&&18==s&&13==c){p.b+=String.fromCodePoint(38);f=a-o;return p.b+=null==f?HxOverrides.substr(e,o,null):HxOverrides.substr(e,o,f),n.addChild(Xml.createPCData(p.b)),++l,a}throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected end",e,a))};var haxe_xml_Printer=function(e){this.output=new StringBuf,this.pretty=e};$hxClasses["haxe.xml.Printer"]=haxe_xml_Printer,haxe_xml_Printer.__name__="haxe.xml.Printer",haxe_xml_Printer.print=function(e,t){null==t&&(t=!1);var a=new haxe_xml_Printer(t);return a.writeNode(e,""),a.output.b},haxe_xml_Printer.prototype={writeNode:function(e,t){switch(e.nodeType){case 0:if(this.output.b+=Std.string(t+"<"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName);for(var a=e.attributes();a.hasNext();){var n=a.next();this.output.b+=Std.string(" "+n+'="');var i=StringTools.htmlEscape(e.get(n),!0);this.output.b+=Std.string(i),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));for(var s=0,_=e.children;s<_.length;){var r=_[s++];this.writeNode(r,this.pretty?t+"\t":t)}if(this.output.b+=Std.string(t+"</"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));var o=e.nodeValue;if(0!=o.length){i=t+StringTools.htmlEscape(o);this.output.b+=Std.string(i),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Std.string(t+"<![CDATA["),e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));this.output.b+=Std.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));var l=e.nodeValue,h=new RegExp("[\n\r\t]+","g".split("u").join(""));l="\x3c!--"+(l=l.replace(h,""))+"--\x3e",this.output.b+=null==t?"null":""+t;i=StringTools.trim(l);this.output.b+=Std.string(i),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));this.output.b+=Std.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));this.output.b+=Std.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));for(s=0,_=e.children;s<_.length;){r=_[s++];this.writeNode(r,t)}}},hasChildren:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":XmlType.toString(e.nodeType)));for(var t=0,a=e.children;t<a.length;){var n=a[t++];switch(n.nodeType){case 0:case 1:return!0;case 2:case 3:if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":XmlType.toString(n.nodeType)));if(0!=StringTools.ltrim(n.nodeValue).length)return!0}}return!1},__class__:haxe_xml_Printer};var haxe_zip_ExtraField=$hxEnums["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"],FUnknown:($_=function(e,t){return{_hx_index:0,tag:e,bytes:t,__enum__:"haxe.zip.ExtraField",toString:$estr}},$_.__params__=["tag","bytes"],$_),FInfoZipUnicodePath:($_=function(e,t){return{_hx_index:1,name:e,crc:t,__enum__:"haxe.zip.ExtraField",toString:$estr}},$_.__params__=["name","crc"],$_),FUtf8:{_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:$estr}},haxe_zip_Huffman=$hxEnums["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:["Found","NeedBit","NeedBits"],Found:($_=function(e){return{_hx_index:0,i:e,__enum__:"haxe.zip.Huffman",toString:$estr}},$_.__params__=["i"],$_),NeedBit:($_=function(e,t){return{_hx_index:1,left:e,right:t,__enum__:"haxe.zip.Huffman",toString:$estr}},$_.__params__=["left","right"],$_),NeedBits:($_=function(e,t){return{_hx_index:2,n:e,table:t,__enum__:"haxe.zip.Huffman",toString:$estr}},$_.__params__=["n","table"],$_)},haxe_zip_HuffTools=function(){};$hxClasses["haxe.zip.HuffTools"]=haxe_zip_HuffTools,haxe_zip_HuffTools.__name__="haxe.zip.HuffTools",haxe_zip_HuffTools.prototype={treeDepth:function(e){switch(e._hx_index){case 0:e.i;return 0;case 1:var t=e.right,a=e.left,n=this.treeDepth(a),i=this.treeDepth(t);return 1+(n<i?n:i);case 2:e.table,e.n;throw haxe_Exception.thrown("assert")}},treeCompress:function(e){var t=this.treeDepth(e);if(0==t)return e;if(1==t){if(1==e._hx_index){var a=e.right,n=e.left;return haxe_zip_Huffman.NeedBit(this.treeCompress(n),this.treeCompress(a))}throw haxe_Exception.thrown("assert")}for(var i=[],s=0,_=1<<t;s<_;){s++;i.push(haxe_zip_Huffman.Found(-1))}return this.treeWalk(i,0,0,t,e),haxe_zip_Huffman.NeedBits(t,i)},treeWalk:function(e,t,a,n,i){if(1==i._hx_index){var s=i.right,_=i.left;n>0?(this.treeWalk(e,t,a+1,n-1,_),this.treeWalk(e,t|1<<a,a+1,n-1,s)):e[t]=this.treeCompress(i)}else e[t]=this.treeCompress(i)},treeMake:function(e,t,a,n){if(n>t)throw haxe_Exception.thrown("Invalid huffman");var i=a<<5|n;return e.h.hasOwnProperty(i)?haxe_zip_Huffman.Found(e.h[i]):(a<<=1,++n,haxe_zip_Huffman.NeedBit(this.treeMake(e,t,a,n),this.treeMake(e,t,1|a,n)))},make:function(e,t,a,n){if(1==a)return haxe_zip_Huffman.NeedBit(haxe_zip_Huffman.Found(0),haxe_zip_Huffman.Found(0));var i=[],s=[];if(n>32)throw haxe_Exception.thrown("Invalid huffman");for(var _=0,r=n;_<r;){var o=_++;i.push(0),s.push(0)}for(_=0,r=a;_<r;){var l=e[(o=_++)+t];if(l>=n)throw haxe_Exception.thrown("Invalid huffman");i[l]++}var h=0;for(_=1,r=n-1;_<r;){h=h+i[o=_++]<<1,s[o]=h}var u=new haxe_ds_IntMap;for(_=0,r=a;_<r;){var p=e[(o=_++)+t];if(0!=p){var c=s[p-1];s[p-1]=c+1,u.h[c<<5|p]=o}}return this.treeCompress(haxe_zip_Huffman.NeedBit(this.treeMake(u,n,0,1),this.treeMake(u,n,1,1)))},__class__:haxe_zip_HuffTools};var haxe_zip__$InflateImpl_Window=function(e){this.buffer=new haxe_io_Bytes(new ArrayBuffer(65536)),this.pos=0,e&&(this.crc=new haxe_crypto_Adler32)};$hxClasses["haxe.zip._InflateImpl.Window"]=haxe_zip__$InflateImpl_Window,haxe_zip__$InflateImpl_Window.__name__="haxe.zip._InflateImpl.Window",haxe_zip__$InflateImpl_Window.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var e=new haxe_io_Bytes(new ArrayBuffer(65536));this.pos-=32768,e.blit(0,this.buffer,32768,this.pos),this.buffer=e},addBytes:function(e,t,a){this.pos+a>65536&&this.slide(),this.buffer.blit(this.pos,e,t,a),this.pos+=a},addByte:function(e){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=255&e,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:haxe_zip__$InflateImpl_Window};var haxe_zip__$InflateImpl_State=$hxEnums["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"],Head:{_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},Block:{_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},CData:{_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},Flat:{_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},Crc:{_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},Dist:{_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},DistOne:{_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:$estr},Done:{_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:$estr}},haxe_zip_InflateImpl=function(e,t,a){null==a&&(a=!0),null==t&&(t=!0),this.isFinal=!1,this.htools=new haxe_zip_HuffTools,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=t?haxe_zip__$InflateImpl_State.Head:haxe_zip__$InflateImpl_State.Block,this.input=e,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new haxe_zip__$InflateImpl_Window(a)};$hxClasses["haxe.zip.InflateImpl"]=haxe_zip_InflateImpl,haxe_zip_InflateImpl.__name__="haxe.zip.InflateImpl",haxe_zip_InflateImpl.prototype={buildFixedHuffman:function(){if(null!=haxe_zip_InflateImpl.FIXED_HUFFMAN)return haxe_zip_InflateImpl.FIXED_HUFFMAN;for(var e=[],t=0;t<288;){var a=t++;e.push(a<=143?8:a<=255?9:a<=279?7:8)}return haxe_zip_InflateImpl.FIXED_HUFFMAN=this.htools.make(e,0,288,10),haxe_zip_InflateImpl.FIXED_HUFFMAN},readBytes:function(e,t,a){if(this.needed=a,this.outpos=t,this.output=e,a>0)for(;this.inflateLoop(););return a-this.needed},getBits:function(e){for(;this.nbits<e;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var t=this.bits&(1<<e)-1;return this.nbits-=e,this.bits>>=e,t},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var e=1==(1&this.bits);return this.nbits--,this.bits>>=1,e},getRevBits:function(e){return 0==e?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function(e,t,a){this.window.addBytes(e,t,a),this.output.blit(this.outpos,e,t,a),this.needed-=a,this.outpos+=a},addByte:function(e){this.window.addByte(e),this.output.b[this.outpos]=255&e,this.needed--,this.outpos++},addDistOne:function(e){for(var t=this.window.getLastChar(),a=0,n=e;a<n;){a++;this.addByte(t)}},addDist:function(e,t){this.addBytes(this.window.buffer,this.window.pos-e,t)},applyHuffman:function(e){switch(e._hx_index){case 0:return i=e.i;case 1:var t=e.right,a=e.left;return this.applyHuffman(this.getBit()?t:a);case 2:var n=e.table,i=e.n;return this.applyHuffman(n[this.getBits(i)])}},inflateLengths:function(e,t){for(var a=0,n=0;a<t;){var i=this.applyHuffman(this.huffman);switch(i){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:n=i,e[a]=i,++a;break;case 16:var s=a+3+this.getBits(2);if(s>t)throw haxe_Exception.thrown("Invalid data");for(;a<s;)e[a]=n,++a;break;case 17:if((a+=3+this.getBits(3))>t)throw haxe_Exception.thrown("Invalid data");break;case 18:if((a+=11+this.getBits(7))>t)throw haxe_Exception.thrown("Invalid data");break;default:throw haxe_Exception.thrown("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var e=this.input.readByte();if(8!=(15&e))throw haxe_Exception.thrown("Invalid data");var t=this.input.readByte(),a=0!=(32&t);if(((e<<8)+t)%31!=0)throw haxe_Exception.thrown("Invalid data");if(a)throw haxe_Exception.thrown("Unsupported dictionary");return this.state=haxe_zip__$InflateImpl_State.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw haxe_Exception.thrown("Invalid data");this.state=haxe_zip__$InflateImpl_State.Flat;var n=this.inflateLoop();return this.resetBits(),n;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=haxe_zip__$InflateImpl_State.CData,!0;case 2:for(var i=this.getBits(5)+257,s=this.getBits(5)+1,_=this.getBits(4)+4,r=0,o=_;r<o;){var l=r++;this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[l]]=this.getBits(3)}for(r=_,o=19;r<o;){l=r++;this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[l]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);var h=[];for(r=0,o=i+s;r<o;){l=r++;h.push(0)}return this.inflateLengths(h,i+s),this.huffdist=this.htools.make(h,i,s,16),this.huffman=this.htools.make(h,0,i,16),this.state=haxe_zip__$InflateImpl_State.CData,!0;default:throw haxe_Exception.thrown("Invalid data")}break;case 2:var u=this.applyHuffman(this.huffman);if(u<256)return this.addByte(u),this.needed>0;if(256==u)return this.state=this.isFinal?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block,!0;u-=257;var p=haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL[u];if(-1==p)throw haxe_Exception.thrown("Invalid data");this.len=haxe_zip_InflateImpl.LEN_BASE_VAL_TBL[u]+this.getBits(p);var c=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);if(-1==(p=haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL[c]))throw haxe_Exception.thrown("Invalid data");if(this.dist=haxe_zip_InflateImpl.DIST_BASE_VAL_TBL[c]+this.getBits(p),this.dist>this.window.available())throw haxe_Exception.thrown("Invalid data");return this.state=1==this.dist?haxe_zip__$InflateImpl_State.DistOne:haxe_zip__$InflateImpl_State.Dist,!0;case 3:var d=this.len<this.needed?this.len:this.needed,f=this.input.read(d);return this.len-=d,this.addBytes(f,0,d),0==this.len&&(this.state=this.isFinal?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block),this.needed>0;case 4:var m=this.window.checksum();if(null==m)return this.state=haxe_zip__$InflateImpl_State.Done,!0;var g=haxe_crypto_Adler32.read(this.input);if(!m.equals(g))throw haxe_Exception.thrown("Invalid CRC");return this.state=haxe_zip__$InflateImpl_State.Done,!0;case 5:for(;this.len>0&&this.needed>0;){var x=this.len<this.dist?this.len:this.dist;d=this.needed<x?this.needed:x;this.addDist(this.dist,d),this.len-=d}return 0==this.len&&(this.state=haxe_zip__$InflateImpl_State.CData),this.needed>0;case 6:d=this.len<this.needed?this.len:this.needed;return this.addDistOne(d),this.len-=d,0==this.len&&(this.state=haxe_zip__$InflateImpl_State.CData),this.needed>0;case 7:return!1}},__class__:haxe_zip_InflateImpl};var haxe_zip_Reader=function(e){this.i=e};$hxClasses["haxe.zip.Reader"]=haxe_zip_Reader,haxe_zip_Reader.__name__="haxe.zip.Reader",haxe_zip_Reader.readZip=function(e){return new haxe_zip_Reader(e).read()},haxe_zip_Reader.unzip=function(e){if(!e.compressed)return e.data;throw haxe_Exception.thrown("No uncompress support")},haxe_zip_Reader.prototype={readZipDate:function(){var e=this.i.readUInt16(),t=e>>11&31,a=e>>5&63,n=31&e,i=this.i.readUInt16();return new Date((i>>9)+1980,(i>>5&15)-1,31&i,t,a,n<<1)},readExtraFields:function(e){for(var t=new haxe_ds_List;e>0;){if(e<4)throw haxe_Exception.thrown("Invalid extra fields data");var a=this.i.readUInt16(),n=this.i.readUInt16();if(e<n)throw haxe_Exception.thrown("Invalid extra fields data");if(28789==a){var i=this.i.readByte();if(1!=i){var s=new haxe_io_BytesBuffer;s.addByte(i),s.add(this.i.read(n-1)),t.add(haxe_zip_ExtraField.FUnknown(a,s.getBytes()))}else{var _=this.i.readInt32(),r=this.i.read(n-5).toString();t.add(haxe_zip_ExtraField.FInfoZipUnicodePath(r,_))}}else t.add(haxe_zip_ExtraField.FUnknown(a,this.i.read(n)));e-=4+n}return t},readEntryHeader:function(){var e=this.i,t=e.readInt32();if(33639248==t||101010256==t)return null;if(67324752!=t)throw haxe_Exception.thrown("Invalid Zip Data");e.readUInt16();var a=e.readUInt16(),n=0!=(2048&a),i=e.readUInt16(),s=0!=i;if(s&&8!=i)throw haxe_Exception.thrown("Unsupported compression "+i);var _=this.readZipDate(),r=e.readInt32(),o=e.readInt32(),l=e.readInt32(),h=e.readInt16(),u=e.readInt16(),p=e.readString(h),c=this.readExtraFields(u);n&&c.push(haxe_zip_ExtraField.FUtf8);return 0!=(8&a)&&(o=-1),{fileName:p,fileSize:l,fileTime:_,compressed:s,dataSize:o,data:null,crc32:r,extraFields:c}},read:function(){for(var e=new haxe_ds_List,t=null;;){var a=this.readEntryHeader();if(null==a)break;if(a.dataSize<0){null==t&&(t=new haxe_io_Bytes(new ArrayBuffer(65536)));for(var n=new haxe_io_BytesBuffer,i=new haxe_zip_InflateImpl(this.i,!1,!1);;){var s=i.readBytes(t,0,65536);if(n.addBytes(t,0,s),s<65536)break}a.data=n.getBytes(),a.crc32=this.i.readInt32(),134695760==a.crc32&&(a.crc32=this.i.readInt32()),a.dataSize=this.i.readInt32(),a.fileSize=this.i.readInt32(),a.dataSize=a.fileSize,a.compressed=!1}else a.data=this.i.read(a.dataSize);e.add(a)}return e},__class__:haxe_zip_Reader};var openfl_events_IEventDispatcher=function(){};$hxClasses["openfl.events.IEventDispatcher"]=openfl_events_IEventDispatcher,openfl_events_IEventDispatcher.__name__="openfl.events.IEventDispatcher",openfl_events_IEventDispatcher.__isInterface__=!0,openfl_events_IEventDispatcher.prototype={__class__:openfl_events_IEventDispatcher};var openfl_events_EventDispatcher=function(e){null!=e&&(this.__targetDispatcher=e)};$hxClasses["openfl.events.EventDispatcher"]=openfl_events_EventDispatcher,openfl_events_EventDispatcher.__name__="openfl.events.EventDispatcher",openfl_events_EventDispatcher.__interfaces__=[openfl_events_IEventDispatcher],openfl_events_EventDispatcher.prototype={addEventListener:function(e,t,a,n,i){if(null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),null!=t)if(null==this.__eventMap&&(this.__eventMap=new haxe_ds_StringMap,this.__iterators=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(this.__eventMap.h,e)){for(var s=0,_=(o=this.__eventMap.h[e]).length;s<_;){if(o[s++].match(t,a))return}var r=this.__iterators.h[e];for(s=0;s<r.length;){l=r[s];++s,l.active&&l.copy()}this.__addListenerByPriority(o,new openfl_events__$EventDispatcher_Listener(t,a,n))}else{var o;(o=[]).push(new openfl_events__$EventDispatcher_Listener(t,a,n));var l=new openfl_events__$EventDispatcher_DispatchIterator(o);this.__eventMap.h[e]=o,this.__iterators.h[e]=[l]}},dispatchEvent:function(e){return null!=this.__targetDispatcher?e.target=this.__targetDispatcher:e.target=this,this.__dispatchEvent(e)},hasEventListener:function(e){return null!=this.__eventMap&&Object.prototype.hasOwnProperty.call(this.__eventMap.h,e)},removeEventListener:function(e,t,a){if(null==a&&(a=!1),null!=this.__eventMap&&null!=t){var n=this.__eventMap.h[e];if(null!=n){for(var i=this.__iterators.h[e],s=0,_=n.length;s<_;){var r=s++;if(n[r].match(t,a)){for(var o=0;o<i.length;){var l=i[o];++o,l.remove(n[r],r)}n.splice(r,1);break}}if(0==n.length){var h=this.__eventMap;Object.prototype.hasOwnProperty.call(h.h,e)&&delete h.h[e];h=this.__iterators;Object.prototype.hasOwnProperty.call(h.h,e)&&delete h.h[e]}haxe_ds_StringMap.valueIterator(this.__eventMap.h).hasNext()||(this.__eventMap=null,this.__iterators=null)}}},toString:function(){return"[object "+js_Boot.getClass(this).__name__.split(".").pop()+"]"},willTrigger:function(e){return this.hasEventListener(e)},__dispatchEvent:function(e){if(null==this.__eventMap||null==e)return!0;var t=e.type,a=this.__eventMap.h[t];if(null==a)return!0;null==e.target&&(null!=this.__targetDispatcher?e.target=this.__targetDispatcher:e.target=this),e.currentTarget=this;var n=1==e.eventPhase,i=this.__iterators.h[t],s=i[0];s.active&&(s=new openfl_events__$EventDispatcher_DispatchIterator(a),i.push(s)),s.start();for(var _=s;_.hasNext();){var r=_.next();if(null!=r&&(r.useCapture==n&&(r.callback(e),e.__isCanceledNow)))break}return s.stop(),s!=i[0]?HxOverrides.remove(i,s):s.reset(a),!e.isDefaultPrevented()},__removeAllListeners:function(){this.__eventMap=null,this.__iterators=null},__addListenerByPriority:function(e,t){for(var a=e.length,n=a,i=0,s=a;i<s;){var _=i++;if(e[_].priority<t.priority){n=_;break}}e.splice(n,0,t)},__class__:openfl_events_EventDispatcher};var openfl_display_IBitmapDrawable=function(){};$hxClasses["openfl.display.IBitmapDrawable"]=openfl_display_IBitmapDrawable,openfl_display_IBitmapDrawable.__name__="openfl.display.IBitmapDrawable",openfl_display_IBitmapDrawable.__isInterface__=!0,openfl_display_IBitmapDrawable.prototype={__class__:openfl_display_IBitmapDrawable};var openfl_Vector={__properties__:{set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"},concat:function(e,t){return e.concat(t)},copy:function(e){return e.copy()},filter:function(e,t){return e.filter(t)},get:function(e,t){return e.get(t)},indexOf:function(e,t,a){return null==a&&(a=0),e.indexOf(t,a)},insertAt:function(e,t,a){e.insertAt(t,a)},iterator:function(e){return e.iterator()},join:function(e,t){return null==t&&(t=","),e.join(t)},lastIndexOf:function(e,t,a){return e.lastIndexOf(t,a)},pop:function(e){return e.pop()},push:function(e,t){return e.push(t)},removeAt:function(e,t){return e.removeAt(t)},reverse:function(e){return e.reverse()},set:function(e,t,a){return e.set(t,a)},shift:function(e){return e.shift()},slice:function(e,t,a){return null==t&&(t=0),e.slice(t,a)},sort:function(e,t){e.sort(t)},splice:function(e,t,a){return e.splice(t,a)},toString:function(e){return null!=e?e.toString():null},unshift:function(e,t){e.unshift(t)},convert:function(e){return e},toBoolVector:function(e,t,a,n){return new openfl__$Vector_BoolVector(t,a,n)},toIntVector:function(e,t,a,n){return new openfl__$Vector_IntVector(t,a,n)},toFloatVector:function(e,t,a,n){return new openfl__$Vector_FloatVector(t,a,n,!0)},toFunctionVector:function(e,t,a,n){return new openfl__$Vector_FunctionVector(t,a,n)},toObjectVector:function(e,t,a,n){return new openfl__$Vector_ObjectVector(t,a,n,!0)},toNullVector:function(e,t,a,n){return new openfl__$Vector_ObjectVector(t,a,n,!0)},fromBoolVector:function(e){return e},fromIntVector:function(e){return e},fromFloatVector:function(e){return e},fromFunctionVector:function(e){return e},fromObjectVector:function(e){return e},get_fixed:function(e){return e.fixed},set_fixed:function(e,t){return e.fixed=t},get_length:function(e){return e.get_length()},set_length:function(e,t){return e.set_length(t)}},lime_utils_ObjectPool=function(e,t,a){this.__pool=new haxe_ds_ObjectMap,this.activeObjects=0,this.inactiveObjects=0,this.__inactiveObject0=null,this.__inactiveObject1=null,this.__inactiveObjectList=new haxe_ds_List,null!=e&&(this.create=e),null!=t&&(this.clean=t),null!=a&&this.set_size(a)};$hxClasses["lime.utils.ObjectPool"]=lime_utils_ObjectPool,lime_utils_ObjectPool.__name__="lime.utils.ObjectPool",lime_utils_ObjectPool.prototype={add:function(e){this.__pool.exists(e)||(this.__pool.set(e,!1),this.clean(e),null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++)},clean:function(e){},clear:function(){this.__pool=new haxe_ds_ObjectMap,this.activeObjects=0,this.inactiveObjects=0,this.__inactiveObject0=null,this.__inactiveObject1=null,this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var e=null;if(this.inactiveObjects>0){var t=null;null!=this.__inactiveObject0?(t=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(t=this.__inactiveObject1,this.__inactiveObject1=null):(t=this.__inactiveObjectList.pop(),this.__inactiveObjectList.length>0&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),this.__inactiveObjectList.length>0&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++,e=t}else(null==this.__size||this.activeObjects<this.__size)&&null!=(e=this.create())&&(this.__pool.set(e,!0),this.activeObjects++);return e},release:function(e){this.activeObjects--,null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(e),null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++):this.__pool.remove(e)},remove:function(e){this.__pool.exists(e)&&(this.__pool.remove(e),this.__inactiveObject0==e?(this.__inactiveObject0=null,this.inactiveObjects--):this.__inactiveObject1==e?(this.__inactiveObject1=null,this.inactiveObjects--):this.__inactiveObjectList.remove(e)?this.inactiveObjects--:this.activeObjects--)},__addInactive:function(e){null==this.__inactiveObject0?this.__inactiveObject0=e:null==this.__inactiveObject1?this.__inactiveObject1=e:this.__inactiveObjectList.add(e),this.inactiveObjects++},__getInactive:function(){var e=null;return null!=this.__inactiveObject0?(e=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(e=this.__inactiveObject1,this.__inactiveObject1=null):(e=this.__inactiveObjectList.pop(),this.__inactiveObjectList.length>0&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),this.__inactiveObjectList.length>0&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++,e},__removeInactive:function(e){if(!(e<=0||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--e),0!=e&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--e),0!=e&&0!=this.inactiveObjects)))for(var t=this.__inactiveObjectList.h;null!=t;){var a=t.item;t=t.next;var n=a;if(this.__pool.remove(n),this.__inactiveObjectList.remove(n),this.inactiveObjects--,0==--e||0==this.inactiveObjects)return}},get_size:function(){return this.__size},set_size:function(e){if(null==e)this.__size=null;else{var t=this.inactiveObjects+this.activeObjects;if(this.__size=e,t>e)this.__removeInactive(t-e);else if(e>t)for(var a,n=0,i=e-t;n<i;){n++;if(null==(a=this.create()))break;this.__pool.set(a,!1),this.__inactiveObjectList.add(a),this.inactiveObjects++}}return e},__class__:lime_utils_ObjectPool,__properties__:{set_size:"set_size",get_size:"get_size"}};var openfl_display_DisplayObject=function(){openfl_events_EventDispatcher.call(this),this.__drawableType=1,this.__alpha=1,this.__blendMode=10,this.__cacheAsBitmap=!1,this.__transform=new openfl_geom_Matrix,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__scaleX=1,this.__scaleY=1,this.__worldAlpha=1,this.__worldBlendMode=10,this.__worldTransform=new openfl_geom_Matrix,this.__worldColorTransform=new openfl_geom_ColorTransform,this.__renderTransform=new openfl_geom_Matrix,this.__worldVisible=!0,this.set_name("instance"+ ++openfl_display_DisplayObject.__instanceCount),null!=openfl_display_DisplayObject.__initStage&&(this.stage=openfl_display_DisplayObject.__initStage,openfl_display_DisplayObject.__initStage=null,this.stage.addChild(this))};$hxClasses["openfl.display.DisplayObject"]=openfl_display_DisplayObject,openfl_display_DisplayObject.__name__="openfl.display.DisplayObject",openfl_display_DisplayObject.__interfaces__=[openfl_display_IBitmapDrawable],openfl_display_DisplayObject.__calculateAbsoluteTransform=function(e,t,a){a.a=e.a*t.a+e.b*t.c,a.b=e.a*t.b+e.b*t.d,a.c=e.c*t.a+e.d*t.c,a.d=e.c*t.b+e.d*t.d,a.tx=e.tx*t.a+e.ty*t.c+t.tx,a.ty=e.tx*t.b+e.ty*t.d+t.ty},openfl_display_DisplayObject.__super__=openfl_events_EventDispatcher,openfl_display_DisplayObject.prototype=$extend(openfl_events_EventDispatcher.prototype,{addEventListener:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),e){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,e)||(openfl_display_DisplayObject.__broadcastEvents.h[e]=[]);var s=openfl_display_DisplayObject.__broadcastEvents.h[e];-1==s.indexOf(this)&&s.push(this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":null==this.__customRenderEvent&&(this.__customRenderEvent=new openfl_events_RenderEvent(null),this.__customRenderEvent.objectColorTransform=new openfl_geom_ColorTransform,this.__customRenderEvent.objectMatrix=new openfl_geom_Matrix,this.__customRenderClear=!0)}openfl_events_EventDispatcher.prototype.addEventListener.call(this,e,t,a,n,i)},dispatchEvent:function(e){if(e instanceof openfl_events_MouseEvent){var t=e,a=this.__getRenderTransform();t.stageX=t.localX*a.a+t.localY*a.c+a.tx;a=this.__getRenderTransform();t.stageY=t.localX*a.b+t.localY*a.d+a.ty}else if(e instanceof openfl_events_TouchEvent){var n=e;a=this.__getRenderTransform();n.stageX=n.localX*a.a+n.localY*a.c+a.tx;a=this.__getRenderTransform();n.stageY=n.localX*a.b+n.localY*a.d+a.ty}return e.target=this,this.__dispatchWithCapture(e)},getBounds:function(e){var t=openfl_geom_Matrix.__pool.get();if(null!=e&&e!=this){t.copyFrom(this.__getWorldTransform());var a=openfl_geom_Matrix.__pool.get();a.copyFrom(e.__getWorldTransform()),a.invert(),t.concat(a),openfl_geom_Matrix.__pool.release(a)}else t.identity();var n=new openfl_geom_Rectangle;return this.__getBounds(n,t),openfl_geom_Matrix.__pool.release(t),n},getRect:function(e){return this.getBounds(e)},globalToLocal:function(e){return this.__globalToLocal(e,new openfl_geom_Point)},hitTestObject:function(e){if(null!=e&&null!=e.parent&&null!=this.parent){var t=this.getBounds(this),a=e.getBounds(this);return t.intersects(a)}return!1},hitTestPoint:function(e,t,a){return null==a&&(a=!1),null!=this.stage&&this.__hitTest(e,t,a,null,!1,this)},invalidate:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},localToGlobal:function(e){return this.__getRenderTransform().transformPoint(e)},removeEventListener:function(e,t,a){switch(null==a&&(a=!1),openfl_events_EventDispatcher.prototype.removeEventListener.call(this,e,t,a),e){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":this.hasEventListener(e)||Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,e)&&HxOverrides.remove(openfl_display_DisplayObject.__broadcastEvents.h[e],this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":this.hasEventListener("clearDOM")||this.hasEventListener("renderCairo")||this.hasEventListener("renderCanvas")||this.hasEventListener("renderDOM")||this.hasEventListener("renderOpenGL")||(this.__customRenderEvent=null)}},__cleanup:function(){this.__cairo=null,this.__canvas=null,this.__context=null,null!=this.__graphics&&this.__graphics.__cleanup(),null!=this.__cacheBitmap&&(this.__cacheBitmap.__cleanup(),this.__cacheBitmap=null),null!=this.__cacheBitmapData&&(this.__cacheBitmapData.dispose(),this.__cacheBitmapData=null)},__dispatch:function(e){if(null!=this.__eventMap&&this.hasEventListener(e.type)){var t=openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,e);return!!e.__isCanceled||t}return!0},__dispatchChildren:function(e){},__dispatchEvent:function(e){var t=e.bubbles?this.parent:null,a=openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,e);return!!e.__isCanceled||(null!=t&&t!=this&&(e.eventPhase=3,null==e.target&&(e.target=this),t.__dispatchEvent(e)),a)},__dispatchWithCapture:function(e){if(null==e.target&&(e.target=this),null!=this.parent)if(e.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(e);else{for(var t=openfl_display_DisplayObject.__tempStack.get(),a=this.parent,n=0;null!=a;)t.set(n,a),a=a.parent,++n;for(var i=0,s=n;i<s;){var _=i++;t.get(n-_-1).__dispatch(e)}openfl_display_DisplayObject.__tempStack.release(t)}return e.eventPhase=2,this.__dispatchEvent(e)},__enterFrame:function(e){},__getBounds:function(e,t){null!=this.__graphics&&this.__graphics.__getBounds(e,t)},__getCursor:function(){return null},__getFilterBounds:function(e,t){if(this.__getRenderBounds(e,t),null!=this.__filters){for(var a=openfl_geom_Rectangle.__pool.get(),n=0,i=this.__filters;n<i.length;){var s=i[n];++n,a.__expand(-s.__leftExtension,-s.__topExtension,s.__leftExtension+s.__rightExtension,s.__topExtension+s.__bottomExtension)}e.width+=a.width,e.height+=a.height,e.x+=a.x,e.y+=a.y,openfl_geom_Rectangle.__pool.release(a)}},__getInteractive:function(e){return!1},__getLocalBounds:function(e){this.__getBounds(e,this.__transform),e.x-=this.__transform.tx,e.y-=this.__transform.ty},__getRenderBounds:function(e,t){if(null==this.__scrollRect)this.__getBounds(e,t);else{var a=openfl_geom_Rectangle.__pool.get();a.copyFrom(this.__scrollRect),a.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)}},__getRenderTransform:function(){return this.__getWorldTransform(),this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||this.__worldTransformInvalid){var e=[],t=this;if(null==this.parent)this.__update(!0,!1);else for(;t!=this.stage&&(e.push(t),null!=(t=t.parent)););for(var a=e.length;--a>=0;)(t=e[a]).__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(e,t){if(this.__getRenderTransform(),e==t){if(0==(n=(i=this.__renderTransform).a*i.d-i.b*i.c))e.x=-i.tx,e.y=-i.ty;else{var a=1/n*(i.c*(i.ty-e.y)+i.d*(e.x-i.tx));e.y=1/n*(i.a*(e.y-i.ty)+i.b*(i.tx-e.x)),e.x=a}}else{var n=(i=this.__renderTransform).a*i.d-i.b*i.c;t.x=0==n?-i.tx:1/n*(i.c*(i.ty-e.y)+i.d*(e.x-i.tx));var i;n=(i=this.__renderTransform).a*i.d-i.b*i.c;t.y=0==n?-i.ty:1/n*(i.a*(e.y-i.ty)+i.b*(i.tx-e.x))}return t},__hitTest:function(e,t,a,n,i,s){if(null!=this.__graphics){if(!s.__visible||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;if(this.__graphics.__hitTest(e,t,a,this.__getRenderTransform()))return null==n||i||n.push(s),!0}return!1},__hitTestMask:function(e,t){return!(null==this.__graphics||!this.__graphics.__hitTest(e,t,!0,this.__getRenderTransform()))},__readGraphicsData:function(e,t){null!=this.__graphics&&this.__graphics.__readGraphicsData(e)},__setParentRenderDirty:function(){var e=null!=this.__renderParent?this.__renderParent:this.parent;null==e||e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(e){this.stage=e},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__stopAllMovieClips:function(){},__update:function(e,t){var a=null!=this.__renderParent?this.__renderParent:this.parent;if(this.__isMask&&null==a&&(a=this.__maskTarget),this.__renderable=this.__visible&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==a||!a.__isMask),this.__updateTransforms(),this.__transformDirty=!1,this.__worldTransformInvalid=!1,!e)if(openfl_display_DisplayObject.__supportDOM&&(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),null==this.__renderTransformCache?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform)),null!=a){if(openfl_display_DisplayObject.__supportDOM){var n=a.__worldVisible&&this.__visible;this.__worldVisibleChanged=this.__worldVisible!=n,this.__worldVisible=n;var i=this.get_alpha()*a.__worldAlpha;this.__worldAlphaChanged=this.__worldAlpha!=i,this.__worldAlpha=i}else this.__worldAlpha=this.get_alpha()*a.__worldAlpha;null!=this.__objectTransform?(this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform),this.__worldColorTransform.__combine(a.__worldColorTransform)):this.__worldColorTransform.__copyFrom(a.__worldColorTransform),null==this.__blendMode||10==this.__blendMode?this.__worldBlendMode=a.__worldBlendMode:this.__worldBlendMode=this.__blendMode,null==this.__shader?this.__worldShader=a.__shader:this.__worldShader=this.__shader,null==this.__scale9Grid?this.__worldScale9Grid=a.__scale9Grid:this.__worldScale9Grid=this.__scale9Grid}else this.__worldAlpha=this.get_alpha(),openfl_display_DisplayObject.__supportDOM&&(this.__worldVisibleChanged=this.__worldVisible!=this.__visible,this.__worldVisible=this.__visible,this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),null!=this.__objectTransform?this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform):this.__worldColorTransform.__identity(),this.__worldBlendMode=this.__blendMode,this.__worldShader=this.__shader,this.__worldScale9Grid=this.__scale9Grid;t&&null!=this.get_mask()&&this.get_mask().__update(e,!0)},__updateTransforms:function(e){var t=null!=e,a=t?e:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new openfl_geom_Matrix),null==this.__renderTransform&&(this.__renderTransform=new openfl_geom_Matrix);var n=null!=this.__renderParent?this.__renderParent:this.parent;if(t||null==this.parent)this.__worldTransform.copyFrom(a);else{var i=this.parent.__worldTransform;(s=this.__worldTransform).a=a.a*i.a+a.b*i.c,s.b=a.a*i.b+a.b*i.d,s.c=a.c*i.a+a.d*i.c,s.d=a.c*i.b+a.d*i.d,s.tx=a.tx*i.a+a.ty*i.c+i.tx,s.ty=a.tx*i.b+a.ty*i.d+i.ty}if(t||null==n)this.__renderTransform.copyFrom(a);else{var s;i=n.__renderTransform;(s=this.__renderTransform).a=a.a*i.a+a.b*i.c,s.b=a.a*i.b+a.b*i.d,s.c=a.c*i.a+a.d*i.c,s.d=a.c*i.b+a.d*i.d,s.tx=a.tx*i.a+a.ty*i.c+i.tx,s.ty=a.tx*i.b+a.ty*i.d+i.ty}if(null!=this.__scrollRect){var _=this.__renderTransform,r=-this.__scrollRect.x,o=-this.__scrollRect.y;_.tx=r*_.a+o*_.c+_.tx,_.ty=r*_.b+o*_.d+_.ty}},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e>1&&(e=1),e<0&&(e=0),e==this.__alpha||this.get_cacheAsBitmap()||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__alpha=e},get_blendMode:function(){return this.__blendMode},set_blendMode:function(e){return null==e&&(e=10),e!=this.__blendMode&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__blendMode=e},get_cacheAsBitmap:function(){return null!=this.__filters||this.__cacheAsBitmap},set_cacheAsBitmap:function(e){return e!=this.__cacheAsBitmap&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__cacheAsBitmap=e},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(e){return this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmapMatrix=null!=e?e.clone():e},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(e){return null!=e&&e.length>0?(this.__filters=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())):null!=this.__filters&&(this.__filters=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_height:function(){var e=openfl_geom_Rectangle.__pool.get();this.__getLocalBounds(e);var t=e.height;return openfl_geom_Rectangle.__pool.release(e),t},set_height:function(e){var t=openfl_geom_Rectangle.__pool.get(),a=openfl_geom_Matrix.__pool.get();return a.identity(),this.__getBounds(t,a),e!=t.height?this.set_scaleY(e/t.height):this.set_scaleY(1),openfl_geom_Rectangle.__pool.release(t),openfl_geom_Matrix.__pool.release(a),e},get_loaderInfo:function(){return null!=this.stage?openfl_utils__$internal_Lib.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(e){if(e==this.__mask)return e;if(e!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskTarget=null,this.__mask.__setTransformDirty();var t=this.__mask;t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())}return null!=e&&(e.__isMask=!0,e.__maskTarget=this,e.__setWorldTransformInvalid()),null!=this.__cacheBitmap&&this.__cacheBitmap.get_mask()!=e&&this.__cacheBitmap.set_mask(e),this.__mask=e},get_mouseX:function(){var e=null!=this.stage?this.stage.__mouseX:openfl_utils__$internal_Lib.current.stage.__mouseX,t=null!=this.stage?this.stage.__mouseY:openfl_utils__$internal_Lib.current.stage.__mouseY,a=this.__getRenderTransform(),n=a.a*a.d-a.b*a.c;return 0==n?-a.tx:1/n*(a.c*(a.ty-t)+a.d*(e-a.tx))},get_mouseY:function(){var e=null!=this.stage?this.stage.__mouseX:openfl_utils__$internal_Lib.current.stage.__mouseX,t=null!=this.stage?this.stage.__mouseY:openfl_utils__$internal_Lib.current.stage.__mouseY,a=this.__getRenderTransform(),n=a.a*a.d-a.b*a.c;return 0==n?-a.ty:1/n*(a.a*(t-a.ty)+a.b*(a.tx-e))},get_name:function(){return this.__name},set_name:function(e){return this.__name=e},get_root:function(){return null!=this.stage?openfl_utils__$internal_Lib.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(e){if(e!=this.__rotation){this.__rotation=e;var t=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(t),this.__rotationCosine=Math.cos(t),this.__transform.a=this.__rotationCosine*this.__scaleX,this.__transform.b=this.__rotationSine*this.__scaleX,this.__transform.c=-this.__rotationSine*this.__scaleY,this.__transform.d=this.__rotationCosine*this.__scaleY,this.__setTransformDirty()}return e},get_scale9Grid:function(){return null==this.__scale9Grid?null:this.__scale9Grid.clone()},set_scale9Grid:function(e){return null==e&&null==this.__scale9Grid||null!=e&&null!=this.__scale9Grid&&this.__scale9Grid.equals(e)||(null!=e?(null==this.__scale9Grid&&(this.__scale9Grid=new openfl_geom_Rectangle),this.__scale9Grid.copyFrom(e)):this.__scale9Grid=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_scaleX:function(){return this.__scaleX},set_scaleX:function(e){if(e!=this.__scaleX)if(this.__scaleX=e,0==this.__transform.b)e!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=e;else{var t=this.__rotationCosine*e,a=this.__rotationSine*e;this.__transform.a==t&&this.__transform.b==a||this.__setTransformDirty(),this.__transform.a=t,this.__transform.b=a}return e},get_scaleY:function(){return this.__scaleY},set_scaleY:function(e){if(e!=this.__scaleY)if(this.__scaleY=e,0==this.__transform.c)e!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=e;else{var t=-this.__rotationSine*e,a=this.__rotationCosine*e;this.__transform.d==a&&this.__transform.c==t||this.__setTransformDirty(),this.__transform.c=t,this.__transform.d=a}return e},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(e){return null==e&&null==this.__scrollRect||null!=e&&null!=this.__scrollRect&&this.__scrollRect.equals(e)||(null!=e?(null==this.__scrollRect&&(this.__scrollRect=new openfl_geom_Rectangle),this.__scrollRect.copyFrom(e)):this.__scrollRect=null,this.__setTransformDirty(),openfl_display_DisplayObject.__supportDOM&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))),e},get_shader:function(){return this.__shader},set_shader:function(e){return this.__shader=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),e},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new openfl_geom_Transform(this)),this.__objectTransform},set_transform:function(e){if(null==e)throw haxe_Exception.thrown(new openfl_errors_TypeError("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=new openfl_geom_Transform(this)),this.__setTransformDirty(),this.__objectTransform.set_matrix(e.get_matrix()),this.__objectTransform.__colorTransform.__equals(e.__colorTransform,!0)&&(this.get_cacheAsBitmap()||this.__objectTransform.__colorTransform.alphaMultiplier==e.__colorTransform.alphaMultiplier)||(this.__objectTransform.__colorTransform.__copyFrom(e.get_colorTransform()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(e){return e!=this.__visible&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__visible=e},get_width:function(){var e=openfl_geom_Rectangle.__pool.get();this.__getLocalBounds(e);var t=e.width;return openfl_geom_Rectangle.__pool.release(e),t},set_width:function(e){var t=openfl_geom_Rectangle.__pool.get(),a=openfl_geom_Matrix.__pool.get();return a.identity(),this.__getBounds(t,a),e!=t.width?this.set_scaleX(e/t.width):this.set_scaleX(1),openfl_geom_Rectangle.__pool.release(t),openfl_geom_Matrix.__pool.release(a),e},get_x:function(){return this.__transform.tx},set_x:function(e){return e!=this.__transform.tx&&this.__setTransformDirty(),this.__transform.tx=e},get_y:function(){return this.__transform.ty},set_y:function(e){return e!=this.__transform.ty&&this.__setTransformDirty(),this.__transform.ty=e},__class__:openfl_display_DisplayObject,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var openfl_display_InteractiveObject=function(){openfl_display_DisplayObject.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=null,this.__tabIndex=-1};$hxClasses["openfl.display.InteractiveObject"]=openfl_display_InteractiveObject,openfl_display_InteractiveObject.__name__="openfl.display.InteractiveObject",openfl_display_InteractiveObject.__super__=openfl_display_DisplayObject,openfl_display_InteractiveObject.prototype=$extend(openfl_display_DisplayObject.prototype,{requestSoftKeyboard:function(){return openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/display/InteractiveObject.hx",lineNumber:1251,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"}),!1},__allowMouseFocus:function(){return this.get_tabEnabled()},__getInteractive:function(e){return null!=e&&(e.push(this),null!=this.parent&&this.parent.__getInteractive(e)),!0},__hitTest:function(e,t,a,n,i,s){return!(!s.get_visible()||this.__isMask||i&&!this.mouseEnabled)&&openfl_display_DisplayObject.prototype.__hitTest.call(this,e,t,a,n,i,s)},__tabTest:function(e){this.get_tabEnabled()&&e.push(this)},get_tabEnabled:function(){return 1==this.__tabEnabled},set_tabEnabled:function(e){return this.__tabEnabled!=e&&(this.__tabEnabled=e,this.dispatchEvent(new openfl_events_Event("tabEnabledChange",!0,!1))),this.__tabEnabled},get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(e){if(this.__tabIndex!=e){if(e<-1)throw haxe_Exception.thrown(new openfl_errors_RangeError("Parameter tabIndex must be a non-negative number; got "+e));this.__tabIndex=e,this.dispatchEvent(new openfl_events_Event("tabIndexChange",!0,!1))}return this.__tabIndex},__class__:openfl_display_InteractiveObject,__properties__:$extend(openfl_display_DisplayObject.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var openfl_display_DisplayObjectContainer=function(){openfl_display_InteractiveObject.call(this),this.mouseChildren=!0,this.__tabChildren=!0,this.__children=[],this.__removedChildren=openfl_Vector.toObjectVector(null)};$hxClasses["openfl.display.DisplayObjectContainer"]=openfl_display_DisplayObjectContainer,openfl_display_DisplayObjectContainer.__name__="openfl.display.DisplayObjectContainer",openfl_display_DisplayObjectContainer.__super__=openfl_display_InteractiveObject,openfl_display_DisplayObjectContainer.prototype=$extend(openfl_display_InteractiveObject.prototype,{addChild:function(e){return this.addChildAt(e,this.get_numChildren())},addChildAt:function(e,t){var a;if(null==e)throw(a=new openfl_errors_TypeError("Error #2007: Parameter child must be non-null.")).errorID=2007,haxe_Exception.thrown(a);if(e.stage==e)throw(a=new openfl_errors_ArgumentError("Error #3783: A Stage object cannot be added as the child of another object.")).errorID=3783,haxe_Exception.thrown(a);if(t>this.__children.length||t<0)throw haxe_Exception.thrown("Invalid index position "+t);if(e.parent==this)this.__children[t]!=e&&(HxOverrides.remove(this.__children,e),this.__children.splice(t,0,e),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));else{null!=e.parent&&e.parent.removeChild(e),this.__children.splice(t,0,e),e.parent=this;var n=null!=this.stage&&null==e.stage;n&&e.__setStageReference(this.stage),e.__setTransformDirty(),e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var i=new openfl_events_Event("added");i.bubbles=!0,i.target=e,e.__dispatchWithCapture(i),n&&(i=new openfl_events_Event("addedToStage",!1,!1),e.__dispatchWithCapture(i),e.__dispatchChildren(i))}return e},areInaccessibleObjectsUnderPoint:function(e){return!1},contains:function(e){for(;e!=this&&null!=e;)e=e.parent;return e==this},getChildAt:function(e){return e>=0&&e<this.__children.length?this.__children[e]:null},getChildByName:function(e){for(var t=0,a=this.__children;t<a.length;){var n=a[t];if(++t,n.get_name()==e)return n}return null},getChildIndex:function(e){for(var t=0,a=this.__children.length;t<a;){var n=t++;if(this.__children[n]==e)return n}return-1},getObjectsUnderPoint:function(e){var t=[];return this.__hitTest(e.x,e.y,!1,t,!1,this),t.reverse(),t},removeChild:function(e){if(null!=e&&e.parent==this){e.__setTransformDirty(),e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var t=new openfl_events_Event("removed",!0);if(e.__dispatchWithCapture(t),null!=this.stage){null!=e.stage&&this.stage.get_focus()==e&&this.stage.set_focus(null);t=new openfl_events_Event("removedFromStage",!1,!1);e.__dispatchWithCapture(t),e.__dispatchChildren(t),e.__setStageReference(null)}e.parent=null,HxOverrides.remove(this.__children,e),this.__removedChildren.push(e),e.__setTransformDirty()}return e},removeChildAt:function(e){return e>=0&&e<this.__children.length?this.removeChild(this.__children[e]):null},removeChildren:function(e,t){if(null==t&&(t=2147483647),null==e&&(e=0),!(2147483647==t&&(t=this.__children.length-1)<0||e>this.__children.length-1)){if(t<e||e<0||t>this.__children.length)throw haxe_Exception.thrown(new openfl_errors_RangeError("The supplied index is out of bounds."));for(var a=t-e;a>=0;)this.removeChildAt(e),--a}},resolve:function(e){if(null==this.__children)return null;for(var t=0,a=this.__children;t<a.length;){var n=a[t];if(++t,n.get_name()==e)return n}return null},setChildIndex:function(e,t){t>=0&&t<=this.__children.length&&e.parent==this&&(HxOverrides.remove(this.__children,e),this.__children.splice(t,0,e))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(e,t){if(e.parent==this&&t.parent==this){var a=this.__children.indexOf(e),n=this.__children.indexOf(t);this.__children[a]=t,this.__children[n]=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},swapChildrenAt:function(e,t){var a=this.__children[e];this.__children[e]=this.__children[t],this.__children[t]=a,a=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__cleanup:function(){openfl_display_InteractiveObject.prototype.__cleanup.call(this);for(var e=0,t=this.__children;e<t.length;){var a=t[e];++e,a.__cleanup()}for(var n=this.__removedChildren.iterator();n.hasNext();){var i=n.next();null==i.stage&&i.__cleanup()}this.__removedChildren.set_length(0)},__cleanupRemovedChildren:function(){for(var e=this.__removedChildren.iterator();e.hasNext();){var t=e.next();null==t.stage&&t.__cleanup()}this.__removedChildren.set_length(0)},__dispatchChildren:function(e){if(null!=this.__children)for(var t=0,a=this.__children;t<a.length;){var n=a[t];if(++t,e.target=n,!n.__dispatchWithCapture(e))break;n.__dispatchChildren(e)}},__enterFrame:function(e){for(var t=0,a=this.__children;t<a.length;){var n=a[t];++t,n.__enterFrame(e)}},__getBounds:function(e,t){if(openfl_display_InteractiveObject.prototype.__getBounds.call(this,e,t),0!=this.__children.length){for(var a=openfl_geom_Matrix.__pool.get(),n=0,i=this.__children;n<i.length;){var s=i[n];if(++n,0!=s.__scaleX&&0!=s.__scaleY){var _=s.__transform;a.a=_.a*t.a+_.b*t.c,a.b=_.a*t.b+_.b*t.d,a.c=_.c*t.a+_.d*t.c,a.d=_.c*t.b+_.d*t.d,a.tx=_.tx*t.a+_.ty*t.c+t.tx,a.ty=_.tx*t.b+_.ty*t.d+t.ty,s.__getBounds(e,a)}}openfl_geom_Matrix.__pool.release(a)}},__getFilterBounds:function(e,t){if(openfl_display_InteractiveObject.prototype.__getFilterBounds.call(this,e,t),null==this.__scrollRect&&0!=this.__children.length){for(var a=openfl_geom_Matrix.__pool.get(),n=0,i=this.__children;n<i.length;){var s=i[n];if(++n,0!=s.__scaleX&&0!=s.__scaleY&&!s.__isMask){var _=s.__transform;a.a=_.a*t.a+_.b*t.c,a.b=_.a*t.b+_.b*t.d,a.c=_.c*t.a+_.d*t.c,a.d=_.c*t.b+_.d*t.d,a.tx=_.tx*t.a+_.ty*t.c+t.tx,a.ty=_.tx*t.b+_.ty*t.d+t.ty;var r=openfl_geom_Rectangle.__pool.get();s.__getFilterBounds(r,a),e.__expand(r.x,r.y,r.width,r.height),openfl_geom_Rectangle.__pool.release(r)}}openfl_geom_Matrix.__pool.release(a)}},__getRenderBounds:function(e,t){if(null==this.__scrollRect){if(openfl_display_InteractiveObject.prototype.__getBounds.call(this,e,t),0!=this.__children.length){for(var a=openfl_geom_Matrix.__pool.get(),n=0,i=this.__children;n<i.length;){var s=i[n];if(++n,0!=s.__scaleX&&0!=s.__scaleY&&!s.__isMask){var _=s.__transform;a.a=_.a*t.a+_.b*t.c,a.b=_.a*t.b+_.b*t.d,a.c=_.c*t.a+_.d*t.c,a.d=_.c*t.b+_.d*t.d,a.tx=_.tx*t.a+_.ty*t.c+t.tx,a.ty=_.tx*t.b+_.ty*t.d+t.ty,s.__getRenderBounds(e,a)}}openfl_geom_Matrix.__pool.release(a)}}else openfl_display_InteractiveObject.prototype.__getRenderBounds.call(this,e,t)},__hitTest:function(e,t,a,n,i,s){if(!s.get_visible()||this.__isMask||i&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;if(null!=this.__scrollRect){var _=openfl_geom_Point.__pool.get();_.setTo(e,t);var r=this.__getRenderTransform(),o=r.a*r.d-r.b*r.c;if(0==o)_.x=-r.tx,_.y=-r.ty;else{var l=1/o*(r.c*(r.ty-_.y)+r.d*(_.x-r.tx));_.y=1/o*(r.a*(_.y-r.ty)+r.b*(r.tx-_.x)),_.x=l}if(!this.__scrollRect.containsPoint(_))return openfl_geom_Point.__pool.release(_),!1;openfl_geom_Point.__pool.release(_)}var h=this.__children.length;if(!i){for(c=!1;--h>=0&&(!this.__children[h].__hitTest(e,t,a,n,!1,this.__children[h])||(c=!0,null!=n)););return c}if(null!=n&&this.mouseChildren){if(null!=n){for(var u=n.length,p=!1,c=!1;--h>=0&&!(((p=this.__children[h].__getInteractive(null))||this.mouseEnabled&&!c)&&this.__children[h].__hitTest(e,t,a,n,!0,this.__children[h])&&(c=!0,p&&n.length>u)););if(c)return n.splice(u,0,s),!0}}else for(;--h>=0;)if(this.__children[h].__hitTest(e,t,a,null,!0,this.__children[h]))return null!=n&&n.push(s),!0;return!1},__hitTestMask:function(e,t){for(var a=this.__children.length;--a>=0;)if(this.__children[a].__hitTestMask(e,t))return!0;return!1},__readGraphicsData:function(e,t){if(openfl_display_InteractiveObject.prototype.__readGraphicsData.call(this,e,t),t)for(var a=0,n=this.__children;a<n.length;){var i=n[a];++a,i.__readGraphicsData(e,t)}},__setStageReference:function(e){if(openfl_display_InteractiveObject.prototype.__setStageReference.call(this,e),null!=this.__children)for(var t=0,a=this.__children;t<a.length;){var n=a[t];++t,n.__setStageReference(e)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&(this.__worldTransformInvalid=!0,null!=this.__children))for(var e=0,t=this.__children;e<t.length;){var a=t[e];++e,a.__setWorldTransformInvalid()}},__stopAllMovieClips:function(){for(var e=0,t=this.__children;e<t.length;){var a=t[e];++e,a.__stopAllMovieClips()}},__tabTest:function(e){if(openfl_display_InteractiveObject.prototype.__tabTest.call(this,e),this.get_tabChildren())for(var t=0,a=this.__children;t<a.length;){var n=a[t];++t,n.__getInteractive(null)&&n.__tabTest(e)}},__update:function(e,t){if(openfl_display_InteractiveObject.prototype.__update.call(this,e,t),t)for(var a=0,n=this.__children;a<n.length;){var i=n[a];++a,i.__update(e,!0)}},get_numChildren:function(){return this.__children.length},get_tabChildren:function(){return this.__tabChildren},set_tabChildren:function(e){return this.__tabChildren!=e&&(this.__tabChildren=e,this.dispatchEvent(new openfl_events_Event("tabChildrenChange",!0,!1))),this.__tabChildren},__class__:openfl_display_DisplayObjectContainer,__properties__:$extend(openfl_display_InteractiveObject.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})});var openfl_display_Sprite=function(){openfl_display_DisplayObjectContainer.call(this),this.__drawableType=4,this.__buttonMode=!1,this.useHandCursor=!0};$hxClasses["openfl.display.Sprite"]=openfl_display_Sprite,openfl_display_Sprite.__name__="openfl.display.Sprite",openfl_display_Sprite.__super__=openfl_display_DisplayObjectContainer,openfl_display_Sprite.prototype=$extend(openfl_display_DisplayObjectContainer.prototype,{startDrag:function(e,t){null==e&&(e=!1),null!=this.stage&&this.stage.__startDrag(this,e,t)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.__buttonMode&&this.useHandCursor?"button":null},__hitTest:function(e,t,a,n,i,s){if(i&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(!s.get_visible()||this.__isMask)return this.__hitTestHitArea(e,t,a,n,i,s);if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return this.__hitTestHitArea(e,t,a,n,i,s);if(null!=this.__scrollRect){var _=openfl_geom_Point.__pool.get();_.setTo(e,t);var r=this.__getRenderTransform(),o=r.a*r.d-r.b*r.c;if(0==o)_.x=-r.tx,_.y=-r.ty;else{var l=1/o*(r.c*(r.ty-_.y)+r.d*(_.x-r.tx));_.y=1/o*(r.a*(_.y-r.ty)+r.b*(r.tx-_.x)),_.x=l}if(!this.__scrollRect.containsPoint(_))return openfl_geom_Point.__pool.release(_),this.__hitTestHitArea(e,t,a,n,!0,s);openfl_geom_Point.__pool.release(_)}return openfl_display_DisplayObjectContainer.prototype.__hitTest.call(this,e,t,a,n,i,s)?null==n||i:null==this.hitArea&&null!=this.__graphics&&this.__graphics.__hitTest(e,t,a,this.__getRenderTransform())?(null==n||i&&!this.mouseEnabled||n.push(s),!0):this.__hitTestHitArea(e,t,a,n,i,s)},__hitTestHitArea:function(e,t,a,n,i,s){if(null!=this.hitArea&&!this.hitArea.mouseEnabled){this.hitArea.mouseEnabled=!0;var _=this.hitArea.__hitTest(e,t,a,null,!0,s);return this.hitArea.mouseEnabled=!1,null!=n&&_&&(n[n.length]=s),_}return!1},__hitTestMask:function(e,t){return!!openfl_display_DisplayObjectContainer.prototype.__hitTestMask.call(this,e,t)||!(null==this.__graphics||!this.__graphics.__hitTest(e,t,!0,this.__getRenderTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new openfl_display_Graphics(this)),this.__graphics},get_tabEnabled:function(){return null==this.__tabEnabled?this.__buttonMode:this.__tabEnabled},get_buttonMode:function(){return this.__buttonMode},set_buttonMode:function(e){return this.__buttonMode=e},__class__:openfl_display_Sprite,__properties__:$extend(openfl_display_DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})});var haxepunk__$internal_FlashApp=function(e){openfl_display_Sprite.call(this),this.engine=e,this.addEventListener("addedToStage",$bind(this,this.onStage))};$hxClasses["haxepunk._internal.FlashApp"]=haxepunk__$internal_FlashApp,haxepunk__$internal_FlashApp.__name__="haxepunk._internal.FlashApp",haxepunk__$internal_FlashApp.__super__=openfl_display_Sprite,haxepunk__$internal_FlashApp.prototype=$extend(openfl_display_Sprite.prototype,{get_fullscreen:function(){return 0==this.stage.get_displayState()},set_fullscreen:function(e){return e?this.stage.set_displayState(0):this.stage.set_displayState(2),e},init:function(){openfl_Lib.get_current().addChild(this)},getTimeMillis:function(){return openfl_Lib.getTimer()},getMemoryUse:function(){return openfl_system_System.get_totalMemory()},multiTouchSupported:function(){return openfl_ui_Multitouch.get_supportsTouchEvents()},onEnterFrame:function(e){this.engine.onUpdate()},initRenderer:function(){throw haxe_Exception.thrown("not implemented")},onStage:function(e){var t=this;if(this.removeEventListener("addedToStage",$bind(this,this.onStage)),this.setStageProperties(),this.initRenderer(),this.initKeyInput(),this.initMouseInput(),this.initGamepadInput(),this.multiTouchSupported())this.initTouchInput();else;var a=this.engine;if(null!=a._scene&&a._scenes.length>0&&a._scenes[a._scenes.length-1]!=a._scene){js_Boot.getClass(a._scene).__name__;a._scene.end(),a._scene.updateLists(!1),a._scene.autoClear&&a._scene.get_hasTween()&&a._scene.clearTweens(),a._scene=a._scenes[a._scenes.length-1];for(var n=0,i=a.onSceneSwitch.callbacks;n<i.length;){var s=i[n];++n,s()}js_Boot.getClass(a._scene).__name__;a._scene.assetCache.enable(),a._scene.updateLists(),a._scene.started?a._scene.resume():a._scene.begin(),a._scene.started=!0,a._scene.updateLists(!0)}this.engine.init(),this.engine._rate=1e3/haxepunk_HXP.assignedFrameRate,this.engine._last=this.getTimeMillis(),this.addEventListener("enterFrame",$bind(this,this.onEnterFrame)),openfl_Lib.get_current().stage.application.onExit.add((function(e){for(var a=0,n=t.engine.onClose.callbacks;a<n.length;){var i=n[a];++a,i()}}))},setStageProperties:function(){var e=this;this.stage.set_frameRate(haxepunk_HXP.assignedFrameRate),this.stage.align=6,this.stage.set_scaleMode(2),this.stage.set_displayState(2),haxepunk_HXP.screen.color=this.stage.get_color(),this._resize(),this.stage.addEventListener("resize",(function(t){e._resize()})),this.stage.addEventListener("activate",(function(t){haxepunk_HXP.focused=!0,e.engine.focusGained(),e.engine._scene.focusGained()})),this.stage.addEventListener("deactivate",(function(t){haxepunk_HXP.focused=!1,e.engine.focusLost(),e.engine._scene.focusLost()}))},initMouseInput:function(){haxepunk__$internal_MouseInput.init(this)},initKeyInput:function(){haxepunk__$internal_KeyInput.init(this)},initGamepadInput:function(){haxepunk__$internal_GamepadInput.init(this)},initTouchInput:function(){haxepunk__$internal_TouchInput.init(this)},getMouseX:function(){return this.stage.get_mouseX()},getMouseY:function(){return this.stage.get_mouseY()},_resize:function(){0!=haxepunk_HXP.width&&0!=haxepunk_HXP.height||(haxepunk_HXP.width=this.stage.stageWidth,haxepunk_HXP.height=this.stage.stageHeight,haxepunk_HXP.screen.scaleMode.setBaseSize()),haxepunk_HXP.resize(this.stage.stageWidth,this.stage.stageHeight),null==this.get_scrollRect()&&this.set_scrollRect(new openfl_geom_Rectangle),this.get_scrollRect().width=haxepunk_HXP.screen.width,this.get_scrollRect().height=haxepunk_HXP.screen.height;for(var e=0,t=this.engine.onResize.callbacks;e<t.length;){var a=t[e];++e,a()}},__class__:haxepunk__$internal_FlashApp,__properties__:$extend(openfl_display_Sprite.prototype.__properties__,{set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen"})});var haxepunk_App=function(e){haxepunk__$internal_FlashApp.call(this,e)};$hxClasses["haxepunk.App"]=haxepunk_App,haxepunk_App.__name__="haxepunk.App",haxepunk_App.__super__=haxepunk__$internal_FlashApp,haxepunk_App.prototype=$extend(haxepunk__$internal_FlashApp.prototype,{onEnterFrame:function(e){this.invalidate(),haxepunk__$internal_FlashApp.prototype.onEnterFrame.call(this,e)},initRenderer:function(){var e=this;this.addEventListener("renderOpenGL",(function(t){var a=t.renderer;haxepunk_graphics_hardware_opengl_GLInternal.gl=a.gl,haxepunk_graphics_hardware_opengl_GLInternal.renderer=a,e.engine.onRender()}))},__class__:haxepunk_App});var haxepunk_Camera=function(e,t){null==t&&(t=0),null==e&&(e=0),this._shakeY=0,this._shakeX=0,this._shakeMagnitude=0,this._shakeTime=0,this.anchorY=0,this.anchorX=0,this.pixelSnapping=!1,this.scaleY=1,this.scaleX=1,this.scale=1,this.y=0,this.x=0,this.x=e,this.y=t};$hxClasses["haxepunk.Camera"]=haxepunk_Camera,haxepunk_Camera.__name__="haxepunk.Camera",haxepunk_Camera.prototype={setTo:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),this.x=e-haxepunk_HXP.width/(this.scale*this.scaleX)*a,this.y=t-haxepunk_HXP.height/(this.scale*this.scaleY)*n},get_fullScaleX:function(){return this.scale*this.scaleX},get_fullScaleY:function(){return this.scale*this.scaleY},get_screenScaleX:function(){return this.scale*this.scaleX*haxepunk_HXP.screen.scaleX},get_screenScaleY:function(){return this.scale*this.scaleY*haxepunk_HXP.screen.scaleY},get_width:function(){return haxepunk_HXP.screen.width/(this.scale*this.scaleX*haxepunk_HXP.screen.scaleX)},get_height:function(){return haxepunk_HXP.screen.height/(this.scale*this.scaleY*haxepunk_HXP.screen.scaleY)},floorX:function(e){return Math.floor((e+.5)*(this.scale*this.scaleX*haxepunk_HXP.screen.scaleX))/(this.scale*this.scaleX*haxepunk_HXP.screen.scaleX)},floorY:function(e){return Math.floor((e+.5)*(this.scale*this.scaleY*haxepunk_HXP.screen.scaleY))/(this.scale*this.scaleY*haxepunk_HXP.screen.scaleY)},anchor:function(e,t,a){null==a&&(a=.5),null==t&&(t=.5),this.anchorTarget=e,this.anchorX=t,this.anchorY=a},onCamera:function(e){return e.collideRect(e.get_x(),e.get_y(),this.x,this.y,haxepunk_HXP.width,haxepunk_HXP.height)},shake:function(e,t){null==t&&(t=4),null==e&&(e=.5),this._shakeTime<e&&(this._shakeTime=e),this._shakeMagnitude=t},shakeStop:function(){this._shakeTime=0},update:function(){if(null!=this.anchorTarget){var e=this.anchorTarget.x,t=this.anchorTarget.y;if(this.anchorTarget instanceof haxepunk_Entity){var a=this.anchorTarget;e=a.get_x()-a.originX+a.get_width()/2,t=a.get_y()-a.originY+a.get_height()/2}this.x=e-haxepunk_HXP.width/(this.scale*this.scaleX)*this.anchorX,this.y=t-haxepunk_HXP.height/(this.scale*this.scaleY)*this.anchorY}if(this._shakeTime>0){var n=Std.random(2*this._shakeMagnitude+1)-this._shakeMagnitude,i=Std.random(2*this._shakeMagnitude+1)-this._shakeMagnitude;this.x+=n-this._shakeX,this.y+=i-this._shakeY,this._shakeX=n,this._shakeY=i,this._shakeTime-=haxepunk_HXP.elapsed,this._shakeTime<0&&(this._shakeTime=0)}else 0==this._shakeX&&0==this._shakeY||(this.x-=this._shakeX,this.y-=this._shakeY,this._shakeX=this._shakeY=0)},__class__:haxepunk_Camera,__properties__:{get_height:"get_height",get_width:"get_width",get_screenScaleY:"get_screenScaleY",get_screenScaleX:"get_screenScaleX",get_fullScaleY:"get_fullScaleY",get_fullScaleX:"get_fullScaleX"}};var haxepunk_Tweener=function(){this.autoClear=!1,this.active=!0};$hxClasses["haxepunk.Tweener"]=haxepunk_Tweener,haxepunk_Tweener.__name__="haxepunk.Tweener",haxepunk_Tweener.prototype={get_active:function(){return this.active},set_active:function(e){return this.active=e},update:function(){},addTween:function(e,t){if(null==t&&(t=!1),null!=e._parent)throw haxe_Exception.thrown("Cannot add a Tween object more than once.");return e._parent=this,e._next=this._tween,null!=this._tween&&(this._tween._prev=e),this._tween=e,t?this._tween.start():this._tween.active=!1,e},removeTween:function(e){if(e._parent!=this)throw haxe_Exception.thrown("Core object does not contain Tween.");return null!=e._next&&(e._next._prev=e._prev),null!=e._prev?e._prev._next=e._next:this._tween=null==e._next?null:js_Boot.__cast(e._next,haxepunk_Tween),e._next=e._prev=null,e._parent=null,e.active=!1,e},clearTweens:function(){for(var e=this._tween;null!=e;){var t=e._next;this.removeTween(e),e=t}},updateTweens:function(e){for(var t=this._tween;null!=t;)t.active&&t.update(e),t=t._next},get_hasTween:function(){return null!=this._tween},__class__:haxepunk_Tweener,__properties__:{get_hasTween:"get_hasTween",set_active:"set_active",get_active:"get_active"}};var haxepunk_Mask=function(){this._parent=haxepunk_Entity._EMPTY;var e=js_Boot.getClass(this);this._class=e.__name__,this._check=new haxe_ds_StringMap;var t=this._check,a=haxepunk_Mask.__name__;t.h[a]=$bind(this,this.collideMask);t=this._check,a=haxepunk_masks_Masklist.__name__;t.h[a]=$bind(this,this.collideMasklist)};$hxClasses["haxepunk.Mask"]=haxepunk_Mask,haxepunk_Mask.__name__="haxepunk.Mask",haxepunk_Mask.__properties__={get_drawContext:"get_drawContext"},haxepunk_Mask.get_drawContext=function(){return null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext},haxepunk_Mask.prototype={get_parent:function(){return this._parent!=haxepunk_Entity._EMPTY?this._parent:null},set_parent:function(e){return this._parent=null==e?haxepunk_Entity._EMPTY:e,this.update(),e},collide:function(e){var t=this._check.h[e._class];return null!=t?t(e):null!=(t=e._check.h[this._class])&&t(this)},collideMask:function(e){return this._parent.get_x()-this._parent.originX+this._parent.get_width()>e._parent.get_x()-e._parent.originX&&this._parent.get_y()-this._parent.originY+this._parent.get_height()>e._parent.get_y()-e._parent.originY&&this._parent.get_x()-this._parent.originX<e._parent.get_x()-e._parent.originX+e._parent.get_width()&&this._parent.get_y()-this._parent.originY<e._parent.get_y()-e._parent.originY+e._parent.get_height()},collideMasklist:function(e){return e.collide(this)},debugDraw:function(e){},update:function(){},project:function(e,t){var a=-1/0,n=1/0,i=-this._parent.originX*e.x-this._parent.originY*e.y;i<n&&(n=i),i>a&&(a=i),(i=(-this._parent.originX+this._parent.get_width())*e.x-this._parent.originY*e.y)<n&&(n=i),i>a&&(a=i),(i=-this._parent.originX*e.x+(-this._parent.originY+this._parent.get_height())*e.y)<n&&(n=i),i>a&&(a=i),(i=(-this._parent.originX+this._parent.get_width())*e.x+(-this._parent.originY+this._parent.get_height())*e.y)<n&&(n=i),i>a&&(a=i),t.min=n,t.max=a},__class__:haxepunk_Mask,__properties__:{set_parent:"set_parent",get_parent:"get_parent"}};var js_Boot=function(){};$hxClasses["js.Boot"]=js_Boot,js_Boot.__name__="js.Boot",js_Boot.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;var a=js_Boot.__nativeClassName(e);return null!=a?js_Boot.__resolveNativeClass(a):null},js_Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var a=typeof e;switch("function"==a&&(e.__name__||e.__ename__)&&(a="object"),a){case"function":return"<function>";case"object":if(e.__enum__){var n=$hxEnums[e.__enum__],i=n.__constructs__[e._hx_index],s=n[i];return s.__params__?(t+="\t",i+"("+function(a){for(var n=[],i=0,_=s.__params__;i<_.length;){var r=_[i];i+=1,n.push(js_Boot.__string_rec(e[r],t))}return n}().join(",")+")"):i}if(e instanceof Array){var _="[";t+="\t";for(var r=0,o=e.length;r<o;){var l=r++;_+=(l>0?",":"")+js_Boot.__string_rec(e[l],t)}return _+="]"}var h;try{h=e.toString}catch(r){return haxe_NativeStackTrace.lastError=r,"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var u=e.toString();if("[object Object]"!=u)return u}_="{\n";t+="\t";var p=null!=e.hasOwnProperty,c=null;for(c in e)p&&!e.hasOwnProperty(c)||"prototype"!=c&&"__class__"!=c&&"__super__"!=c&&"__interfaces__"!=c&&"__properties__"!=c&&(2!=_.length&&(_+=", \n"),_+=t+c+" : "+js_Boot.__string_rec(e[c],t));return _+="\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var a=e.__interfaces__;if(null!=a)for(var n=0,i=a.length;n<i;){var s=a[n++];if(s==t||js_Boot.__interfLoop(s,t))return!0}return js_Boot.__interfLoop(e.__super__,t)},js_Boot.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array;case Bool:return"boolean"==typeof e;case Dynamic:return null!=e;case Float:return"number"==typeof e;case Int:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(js_Boot.__downcastCheck(e,t))return!0}else if("object"==typeof t&&js_Boot.__isNativeObj(t)&&e instanceof t)return!0;return t==Class&&null!=e.__name__||(t==Enum&&null!=e.__ename__||null!=e.__enum__&&$hxEnums[e.__enum__]==t)}},js_Boot.__downcastCheck=function(e,t){return e instanceof t||!!t.__isInterface__&&js_Boot.__interfLoop(js_Boot.getClass(e),t)},js_Boot.__implements=function(e,t){return js_Boot.__interfLoop(js_Boot.getClass(e),t)},js_Boot.__cast=function(e,t){if(null==e||js_Boot.__instanceof(e,t))return e;throw haxe_Exception.thrown("Cannot cast "+Std.string(e)+" to "+Std.string(t))},js_Boot.__nativeClassName=function(e){var t=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(e){return $global[e]};var haxepunk_masks_Hitbox=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=1),null==e&&(e=1),this._y=0,this._x=0,this._height=0,this._width=0,haxepunk_Mask.call(this),this._width=e,this._height=t,this._x=a,this._y=n;var i=this._check,s=haxepunk_masks_Hitbox.__name__;i.h[s]=$bind(this,this.collideHitbox)};$hxClasses["haxepunk.masks.Hitbox"]=haxepunk_masks_Hitbox,haxepunk_masks_Hitbox.__name__="haxepunk.masks.Hitbox",haxepunk_masks_Hitbox.__super__=haxepunk_Mask,haxepunk_masks_Hitbox.prototype=$extend(haxepunk_Mask.prototype,{collideMask:function(e){var t=this._x+this._parent.get_x(),a=this._y+this._parent.get_y(),n=e._parent.get_x()-e._parent.originX,i=e._parent.get_y()-e._parent.originY;return t+this._width>n&&a+this._height>i&&t<n+e._parent.get_width()&&a<i+e._parent.get_height()},collideHitbox:function(e){var t=this._x+this._parent.get_x(),a=this._y+this._parent.get_y(),n=e._x+e._parent.get_x(),i=e._y+e._parent.get_y();return t+this._width>n&&a+this._height>i&&t<n+e._width&&a<i+e._height},get_x:function(){return this._x},set_x:function(e){return this._x==e?e:(this._x=e,null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&this.update(),this._x)},get_y:function(){return this._y},set_y:function(e){return this._y==e?e:(this._y=e,null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&this.update(),this._y)},get_width:function(){return this._width},set_width:function(e){return this._width==e?e:(this._width=e,null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&this.update(),this._width)},get_height:function(){return this._height},set_height:function(e){return this._height==e?e:(this._height=e,null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&this.update(),this._height)},update:function(){null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&(this._parent.originX=-this._x,this._parent.originY=-this._y,this._parent.set_width(this._width),this._parent.set_height(this._height),null!=this.list&&this.list.update())},debugDraw:function(e){var t,a,n;null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&(null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(n=.25)&&(n=1),null==(a=16711680)&&(a=16777215),(t=haxepunk_Mask.drawContext).color=a,t.alpha=n,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.rectFilled(((this._parent!=haxepunk_Entity._EMPTY?this._parent:null).get_x()-e.x+this.get_x())*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),((this._parent!=haxepunk_Entity._EMPTY?this._parent:null).get_y()-e.y+this.get_y())*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this.get_width()*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),this.get_height()*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY)),null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(n=.5)&&(n=1),null==(a=16711680)&&(a=16777215),(t=haxepunk_Mask.drawContext).color=a,t.alpha=n,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.rect(((this._parent!=haxepunk_Entity._EMPTY?this._parent:null).get_x()-e.x+this.get_x())*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),((this._parent!=haxepunk_Entity._EMPTY?this._parent:null).get_y()-e.y+this.get_y())*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this.get_width()*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),this.get_height()*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY)))},project:function(e,t){var a=this._x,n=this._y,i=-1/0,s=1/0,_=a*e.x+n*e.y;_<s&&(s=_),_>i&&(i=_),(_=(a+this._width)*e.x+n*e.y)<s&&(s=_),_>i&&(i=_),(_=a*e.x+(n+this._height)*e.y)<s&&(s=_),_>i&&(i=_),(_=(a+this._width)*e.x+(n+this._height)*e.y)<s&&(s=_),_>i&&(i=_),t.min=s,t.max=i},__class__:haxepunk_masks_Hitbox,__properties__:$extend(haxepunk_Mask.prototype.__properties__,{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var haxepunk_masks_Masklist=function(e){if(haxepunk_masks_Hitbox.call(this),this._masks=[],this._temp=[],this._count=0,null!=e)for(var t=0;t<e.length;){var a=e[t];++t,this.add(a)}};$hxClasses["haxepunk.masks.Masklist"]=haxepunk_masks_Masklist,haxepunk_masks_Masklist.__name__="haxepunk.masks.Masklist",haxepunk_masks_Masklist.__super__=haxepunk_masks_Hitbox,haxepunk_masks_Masklist.prototype=$extend(haxepunk_masks_Hitbox.prototype,{collide:function(e){for(var t=0,a=this._masks;t<a.length;){var n=a[t];if(++t,n.collide(e))return!0}return!1},collideMasklist:function(e){for(var t=0,a=this._masks;t<a.length;){var n=a[t];++t;for(var i=0,s=e._masks;i<s.length;){var _=s[i];if(++i,n.collide(_))return!0}}return!0},add:function(e){return this._masks[this._count++]=e,e.list=this,e.set_parent(this._parent!=haxepunk_Entity._EMPTY?this._parent:null),this.update(),e},remove:function(e){if(this._masks.indexOf(e)<0)return e;this._temp.length=0;for(var t=0,a=this._masks;t<a.length;){var n=a[t];++t,n==e?(e.list=null,e.set_parent(null),this._count--,this.update()):this._temp[this._temp.length]=n}var i=this._masks;return this._masks=this._temp,this._temp=i,e},removeAt:function(e){null==e&&(e=0),this._temp.length=0;var t=this._masks.length;for(e%=t;t-- >0;)t==e?(this._masks[e].list=null,this._count--,this.update()):this._temp[this._temp.length]=this._masks[e];var a=this._masks;this._masks=this._temp,this._temp=a},removeAll:function(){for(var e=0,t=this._masks;e<t.length;){var a=t[e];++e,a.list=null}this._count=0,this._masks.length=0,this._temp.length=0,this.update()},getMask:function(e){return null==e&&(e=0),this._masks[e%this._masks.length]},set_parent:function(e){for(var t=0,a=this._masks;t<a.length;){var n=a[t];++t,n.set_parent(e)}return haxepunk_masks_Hitbox.prototype.set_parent.call(this,e)},update:function(){for(var e,t,a=2147483647,n=a,i=-2147483648,s=i,_=0,r=this._masks;_<r.length;){var o=r[_];++_,o instanceof haxepunk_masks_Polygon?null!=(t=o)&&(t.minX<a&&(a=t.minX),t.minY<n&&(n=t.minY),t.maxX>s&&(s=t.maxX),t.maxY>i&&(i=t.maxY)):null!=(e=js_Boot.__cast(o,haxepunk_masks_Hitbox))&&(e.get_x()<a&&(a=e.get_x()),e.get_y()<n&&(n=e.get_y()),e.get_x()+e.get_width()>s&&(s=e.get_x()+e.get_width()),e.get_y()+e.get_height()>i&&(i=e.get_y()+e.get_height()))}this._x=a,this._y=n,this._width=s-a,this._height=i-n,haxepunk_masks_Hitbox.prototype.update.call(this)},debugDraw:function(e){for(var t=0,a=this._masks;t<a.length;){var n=a[t];++t,n.debugDraw(e)}},get_count:function(){return this._count},__class__:haxepunk_masks_Masklist,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{get_count:"get_count"})});var haxepunk_Entity=function(e,t,a,n){null==t&&(t=0),null==e&&(e=0),this._moveY=0,this._moveX=0,this._y=0,this._x=0,this._frames=-1,this._layer=0,this.postUpdate=new haxepunk_Signal0,this.preUpdate=new haxepunk_Signal0,this.onRemove=new haxepunk_Signal0,this.onAdd=new haxepunk_Signal0,this.originY=0,this.originX=0,this.height=0,this.width=0,this.followCamera=null,this.y=0,this.x=0,this.collidable=!0,this.visible=!0,this.skipFrames=0,this.camera=null,haxepunk_Tweener.call(this),this.set_x(e),this.set_y(t),this.originX=this.originY=0,this.set_width(this.set_height(0)),this._moveX=this._moveY=0,this._type="",this._name="",this.HITBOX=new haxepunk_Mask,this.set_layer(0),null!=a&&(this.graphic=a),null!=n&&this.set_mask(n),this.HITBOX.set_parent(this);var i=js_Boot.getClass(this);this._class=i.__name__};$hxClasses["haxepunk.Entity"]=haxepunk_Entity,haxepunk_Entity.__name__="haxepunk.Entity",haxepunk_Entity.__super__=haxepunk_Tweener,haxepunk_Entity.prototype=$extend(haxepunk_Tweener.prototype,{set_camera:function(e){return this.camera=e},get_visible:function(){return!!this.visible&&(null==this.parent||this.parent.get_visible())},set_visible:function(e){return this.visible=e},get_active:function(){return!!this.active&&(null==this.parent||this.parent.get_active())},get_collidable:function(){return!!this.collidable&&(null==this.parent||this.parent.get_collidable())},set_collidable:function(e){return this.collidable=e},get_enabled:function(){return!(!this.get_active()||!this.get_visible())&&this.get_collidable()},set_enabled:function(e){return this.set_active(this.set_visible(this.set_collidable(e)))},get_x:function(){return(null==this.parent?0:this.parent.get_x())+this.x+(null==this.followCamera?0:this.followCamera.x)},set_x:function(e){var t=null==this.parent?0:this.parent.get_x();return this.x=e-t},get_y:function(){return(null==this.parent?0:this.parent.get_y())+this.y+(null==this.followCamera?0:this.followCamera.y)},set_y:function(e){var t=null==this.parent?0:this.parent.get_y();return this.y=e-t},get_localX:function(){return this.get_x()-(null==this.parent?0:this.parent.get_x())},set_localX:function(e){return this.set_x((null==this.parent?0:this.parent.get_x())+e)},get_localY:function(){return this.get_y()-(null==this.parent?0:this.parent.get_y())},set_localY:function(e){return this.set_y((null==this.parent?0:this.parent.get_y())+e)},get_width:function(){return this.width},set_width:function(e){return this.width=e},get_height:function(){return this.height},set_height:function(e){return this.height=e},added:function(){},removed:function(){},resized:function(){},shouldUpdate:function(){return 0==this.skipFrames||++this._frames%this.skipFrames==0&&(this._frames%=this.skipFrames,!0)},update:function(){},render:function(e){null!=this.graphic&&this.graphic._visible&&(this.graphic.relative?(haxepunk_Entity._point.x=this.get_x(),haxepunk_Entity._point.y=this.get_y()):haxepunk_Entity._point.x=haxepunk_Entity._point.y=0,this.graphic.doRender(haxepunk_Entity._point,e))},debugDraw:function(e,t){(null==t&&(t=!1),null==this._mask&&this.get_width()>0&&this.get_height()>0&&this.get_collidable())?(null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.lineThickness=2,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(A=.065)&&(A=1),null==(S=16711680)&&(S=16777215),(a=haxepunk_Mask.drawContext).color=S,a.alpha=A,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.rectFilled((this.get_x()-e.x-this.originX)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),(this.get_y()-e.y-this.originY)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this.get_width()*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),this.get_height()*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY)),null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(A=.25)&&(A=1),null==(S=16711680)&&(S=16777215),(a=haxepunk_Mask.drawContext).color=S,a.alpha=A,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.rect((this.get_x()-e.x-this.originX)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),(this.get_y()-e.y-this.originY)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this.get_width()*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),this.get_height()*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY))):null!=this._mask&&this._mask.debugDraw(e);null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(A=1)&&(A=1),null==(S=t?65280:16777215)&&(S=16777215),(a=haxepunk_Mask.drawContext).color=S,a.alpha=A,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2);var a=haxepunk_Mask.drawContext,n=(this.get_x()-e.x)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),i=(this.get_y()-e.y)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),s=8;null==s&&(s=25);var _=2*Math.PI/s,r=a.lineThickness/2,o=3-r,l=3+r,h={x:0,y:0},u={x:0,y:0},p={x:0,y:0},c={x:0,y:0};null==a.shader&&(a.shader=new haxepunk_graphics_shader_ColorShader);var d=null==a.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:a.scene;a.command=d.batch.getDrawCommand(null,a.shader,a.smooth,a.blend,null);for(var f=0,m=s+1;f<m;){var g=f++,x=g*_,k=Math.sin(x),y=Math.cos(x);if(haxepunk_math_Vector2.setTo(h,n+k*o,i+y*o),haxepunk_math_Vector2.setTo(u,n+k*l,i+y*l),0!=g){var b=c.x,v=c.y,P=p.x,w=p.y,T=u.x,C=u.y,S=a.color,A=a.alpha;a.scale&&(b*=haxepunk_HXP.screen.scaleX,P*=haxepunk_HXP.screen.scaleX,T*=haxepunk_HXP.screen.scaleX,v*=haxepunk_HXP.screen.scaleY,w*=haxepunk_HXP.screen.scaleY,C*=haxepunk_HXP.screen.scaleY);var E=a.command;if(A>0){var D;if(E.shader.attributeNames.length<=0){var M,R=E.visibleArea;if((b>P?P>T?T:P:b>T?T:b)<=R.x+R.width&&(b<P?P<T?T:P:b<T?T:b)>=E.visibleArea.x){var L=E.visibleArea;M=(v>w?w>C?C:w:v>C?C:v)<=L.y+L.height}else M=!1;D=M&&(v<w?w<C?C:w:v<C?C:v)>=E.visibleArea.y}else D=!0;if(D){var I;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(I=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,I._next=null):I=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var $=I;$.tx1=b,$.ty1=v,$.uvx1=0,$.uvy1=0,$.tx2=P,$.ty2=w,$.uvx2=0,$.uvy2=0,$.tx3=T,$.ty3=C,$.uvx3=0,$.uvy3=0,$.color=S,$.alpha=A,null==E.data?E.data=$:E._lastData._next=$,E._lastData=$,++E.triangleCount;var B=$.tx1,O=$.tx2,G=$.tx3,F=B>O?O>G?G:O:B>G?G:B,N=$.tx1,H=$.tx2,U=$.tx3,X=N<H?H<U?U:H:N<U?U:N,V=$.ty1,j=$.ty2,z=$.ty3,W=V>j?j>z?z:j:V>z?z:V,Y=$.ty1,K=$.ty2,q=$.ty3,J=Y<K?K<q?q:K:Y<q?q:Y;if(0==E.bounds.width)E.bounds.x=F,E.bounds.width=X-F;else{F<E.bounds.x&&(E.bounds.width+=E.bounds.x-F,E.bounds.x=F);var Z=E.bounds;X>Z.x+Z.width&&(E.bounds.width=X-E.bounds.x)}if(0==E.bounds.height)E.bounds.y=W,E.bounds.height=J-W;else{W<E.bounds.y&&(E.bounds.height+=E.bounds.y-W,E.bounds.y=W);var Q=E.bounds;J>Q.y+Q.height&&(E.bounds.height=J-E.bounds.y)}}}var ee=c.x,te=c.y,ae=u.x,ne=u.y,ie=h.x,se=h.y,_e=a.color,re=a.alpha;a.scale&&(ee*=haxepunk_HXP.screen.scaleX,ae*=haxepunk_HXP.screen.scaleX,ie*=haxepunk_HXP.screen.scaleX,te*=haxepunk_HXP.screen.scaleY,ne*=haxepunk_HXP.screen.scaleY,se*=haxepunk_HXP.screen.scaleY);var oe=a.command;if(re>0){var le;if(oe.shader.attributeNames.length<=0){var he,ue=oe.visibleArea;if((ee>ae?ae>ie?ie:ae:ee>ie?ie:ee)<=ue.x+ue.width&&(ee<ae?ae<ie?ie:ae:ee<ie?ie:ee)>=oe.visibleArea.x){var pe=oe.visibleArea;he=(te>ne?ne>se?se:ne:te>se?se:te)<=pe.y+pe.height}else he=!1;le=he&&(te<ne?ne<se?se:ne:te<se?se:te)>=oe.visibleArea.y}else le=!0;if(le){var ce;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(ce=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,ce._next=null):ce=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var de=ce;de.tx1=ee,de.ty1=te,de.uvx1=0,de.uvy1=0,de.tx2=ae,de.ty2=ne,de.uvx2=0,de.uvy2=0,de.tx3=ie,de.ty3=se,de.uvx3=0,de.uvy3=0,de.color=_e,de.alpha=re,null==oe.data?oe.data=de:oe._lastData._next=de,oe._lastData=de,++oe.triangleCount;var fe=de.tx1,me=de.tx2,ge=de.tx3,xe=fe>me?me>ge?ge:me:fe>ge?ge:fe,ke=de.tx1,ye=de.tx2,be=de.tx3,ve=ke<ye?ye<be?be:ye:ke<be?be:ke,Pe=de.ty1,we=de.ty2,Te=de.ty3,Ce=Pe>we?we>Te?Te:we:Pe>Te?Te:Pe,Se=de.ty1,Ae=de.ty2,Ee=de.ty3,De=Se<Ae?Ae<Ee?Ee:Ae:Se<Ee?Ee:Se;if(0==oe.bounds.width)oe.bounds.x=xe,oe.bounds.width=ve-xe;else{xe<oe.bounds.x&&(oe.bounds.width+=oe.bounds.x-xe,oe.bounds.x=xe);var Me=oe.bounds;ve>Me.x+Me.width&&(oe.bounds.width=ve-oe.bounds.x)}if(0==oe.bounds.height)oe.bounds.y=Ce,oe.bounds.height=De-Ce;else{Ce<oe.bounds.y&&(oe.bounds.height+=oe.bounds.y-Ce,oe.bounds.y=Ce);var Re=oe.bounds;De>Re.y+Re.height&&(oe.bounds.height=De-oe.bounds.y)}}}}p.x=u.x,p.y=u.y,c.x=h.x,c.y=h.y}},collide:function(e,t,a){if(null==this._scene)return null;var n=this._scene,i=Object.prototype.hasOwnProperty.call(n._types.h,e)?n._types.h[e]:null;if(!this.get_collidable()||null==i)return null;if(this._x=this.get_x(),this._y=this.get_y(),this.set_x(t),this.set_y(a),null==this._mask)for(var s=0;s<i.length;){var _=i[s];if(++s,_.get_collidable()&&_!=this&&t-this.originX+this.get_width()>_.get_x()-_.originX&&a-this.originY+this.get_height()>_.get_y()-_.originY&&t-this.originX<_.get_x()-_.originX+_.get_width()&&a-this.originY<_.get_y()-_.originY+_.get_height()&&(null==_._mask||_._mask.collide(this.HITBOX)))return this.set_x(this._x),this.set_y(this._y),_}else for(s=0;s<i.length;){_=i[s];if(++s,_.get_collidable()&&_!=this&&t-this.originX+this.get_width()>_.get_x()-_.originX&&a-this.originY+this.get_height()>_.get_y()-_.originY&&t-this.originX<_.get_x()-_.originX+_.get_width()&&a-this.originY<_.get_y()-_.originY+_.get_height()&&this._mask.collide(null!=_._mask?_._mask:_.HITBOX))return this.set_x(this._x),this.set_y(this._y),_}return this.set_x(this._x),this.set_y(this._y),null},collideTypes:function(e,t,a){switch(e._hx_index){case 0:var n=e.v;return this.collide(n,t,a);case 1:for(var i,s=e.v,_=0;_<s.length;){var r=s[_];if(++_,null!=(i=this.collide(r,t,a)))return i}}return null},collideWith:function(e,t,a){if(this._x=this.get_x(),this._y=this.get_y(),this.set_x(t),this.set_y(a),this.get_collidable()&&e.get_collidable()&&t-this.originX+this.get_width()>e.get_x()-e.originX&&a-this.originY+this.get_height()>e.get_y()-e.originY&&t-this.originX<e.get_x()-e.originX+e.get_width()&&a-this.originY<e.get_y()-e.originY+e.get_height()){if(null==this._mask)return null==e._mask||e._mask.collide(this.HITBOX)?(this.set_x(this._x),this.set_y(this._y),e):(this.set_x(this._x),this.set_y(this._y),null);if(this._mask.collide(null!=e._mask?e._mask:e.HITBOX))return this.set_x(this._x),this.set_y(this._y),e}return this.set_x(this._x),this.set_y(this._y),null},collideRect:function(e,t,a,n,i,s){return e-this.originX+this.get_width()>=a&&t-this.originY+this.get_height()>=n&&e-this.originX<=a+i&&t-this.originY<=n+s&&(null==this._mask||(this._x=this.get_x(),this._y=this.get_y(),this.set_x(e),this.set_y(t),haxepunk_HXP.entity.set_x(a),haxepunk_HXP.entity.set_y(n),haxepunk_HXP.entity.set_width(0|i),haxepunk_HXP.entity.set_height(0|s),this._mask.collide(haxepunk_HXP.entity.HITBOX)?(this.set_x(this._x),this.set_y(this._y),!0):(this.set_x(this._x),this.set_y(this._y),!1)))},collidePoint:function(e,t,a,n){return a>=e-this.originX&&n>=t-this.originY&&a<e-this.originX+this.get_width()&&n<t-this.originY+this.get_height()&&(null==this._mask||(this._x=this.get_x(),this._y=this.get_y(),this.set_x(e),this.set_y(t),haxepunk_HXP.entity.set_x(a),haxepunk_HXP.entity.set_y(n),haxepunk_HXP.entity.set_width(1),haxepunk_HXP.entity.set_height(1),this._mask.collide(haxepunk_HXP.entity.HITBOX)?(this.set_x(this._x),this.set_y(this._y),!0):(this.set_x(this._x),this.set_y(this._y),!1)))},collideInto:function(e,t,a,n){if(null!=this._scene){var i=this._scene,s=Object.prototype.hasOwnProperty.call(i._types.h,e)?i._types.h[e]:null;if(this.get_collidable()&&null!=s){this._x=this.get_x(),this._y=this.get_y(),this.set_x(t),this.set_y(a);var _=n.length;if(null==this._mask)for(var r=0;r<s.length;){var o=s[r];++r,o.get_collidable()&&o!=this&&t-this.originX+this.get_width()>o.get_x()-o.originX&&a-this.originY+this.get_height()>o.get_y()-o.originY&&t-this.originX<o.get_x()-o.originX+o.get_width()&&a-this.originY<o.get_y()-o.originY+o.get_height()&&(null==o._mask||o._mask.collide(this.HITBOX))&&(n[_++]=o)}else for(r=0;r<s.length;){o=s[r];++r,o.get_collidable()&&o!=this&&t-this.originX+this.get_width()>o.get_x()-o.originX&&a-this.originY+this.get_height()>o.get_y()-o.originY&&t-this.originX<o.get_x()-o.originX+o.get_width()&&a-this.originY<o.get_y()-o.originY+o.get_height()&&this._mask.collide(null!=o._mask?o._mask:o.HITBOX)&&(n[_++]=o)}this.set_x(this._x),this.set_y(this._y)}}},collideTypesInto:function(e,t,a,n){if(null!=this._scene)for(var i=0;i<e.length;){var s=e[i];++i,this.collideInto(s,t,a,n)}},get_scene:function(){return this._scene},get_halfWidth:function(){return this.get_width()/2},get_halfHeight:function(){return this.get_height()/2},get_centerX:function(){return this.get_x()-this.originX+this.get_width()/2},get_centerY:function(){return this.get_y()-this.originY+this.get_height()/2},get_left:function(){return this.get_x()-this.originX},get_right:function(){return this.get_x()-this.originX+this.get_width()},get_top:function(){return this.get_y()-this.originY},get_bottom:function(){return this.get_y()-this.originY+this.get_height()},get_layer:function(){return this._layer},set_layer:function(e){return this._layer==e?this._layer:null==this._scene?this._layer=e:(this._scene.removeRender(this),this._layer=e,this._scene.addRender(this),this._layer)},get_type:function(){return this._type},set_type:function(e){return this._type==e?this._type:null==this._scene?this._type=e:(""!=this._type&&this._scene.removeType(this),this._type=e,""!=e&&this._scene.addType(this),this._type)},get_mask:function(){return this._mask},set_mask:function(e){return this._mask==e?e:(null!=this._mask&&this._mask.set_parent(null),this._mask=e,null!=e&&this._mask.set_parent(this),this._mask)},get_name:function(){return this._name},set_name:function(e){if(this._name==e)return this._name;if(null==this._scene)return this._name=e;if(""!=this._name){var t=this._name,a=this._scene._entityNames;Object.prototype.hasOwnProperty.call(a.h,t)&&delete a.h[t]}return this._name=e,""!=e&&(this._scene._entityNames.h[this._name]=this),this._name},addGraphic:function(e){if(null==this.graphic)this.graphic=e;else if(this.graphic instanceof haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic)js_Boot.__cast(this.graphic,haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic).add(e);else{var t=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic;t.add(this.graphic),t.add(e),this.graphic=t}return e},setHitbox:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.set_width(e),this.set_height(t),this.originX=a,this.originY=n},setHitboxTo:function(e){var t=e.width;this.set_width("number"==typeof t&&(0|t)===t||"number"==typeof t?t:0);t=e.height;this.set_height("number"==typeof t&&(0|t)===t||"number"==typeof t?t:0);t=e.originX;null==(n=-("number"==typeof(a=e.x)&&(0|a)===a||"number"==typeof a?a:0))&&(n=0),this.originX="number"==typeof t&&(0|t)===t||"number"==typeof t?t:n;var a,n;t=e.originY;null==(n=-("number"==typeof(a=e.y)&&(0|a)===a||"number"==typeof a?a:0))&&(n=0),this.originY="number"==typeof t&&(0|t)===t||"number"==typeof t?t:n},setOrigin:function(e,t){null==t&&(t=0),null==e&&(e=0),this.originX=e,this.originY=t},centerOrigin:function(){this.originX=this.get_width()/2|0,this.originY=this.get_height()/2|0},distanceFrom:function(e,t){return null==t&&(t=!1),t?haxepunk_math_MathUtil.distanceRects(this.get_x()-this.originX,this.get_y()-this.originY,this.get_width(),this.get_height(),e.get_x()-e.originX,e.get_y()-e.originY,e.get_width(),e.get_height()):Math.sqrt((this.get_x()-e.get_x())*(this.get_x()-e.get_x())+(this.get_y()-e.get_y())*(this.get_y()-e.get_y()))},distanceToPoint:function(e,t,a){return null==a&&(a=!1),a?haxepunk_math_MathUtil.distanceRectPoint(e,t,this.get_x()-this.originX,this.get_y()-this.originY,this.get_width(),this.get_height()):Math.sqrt((this.get_x()-e)*(this.get_x()-e)+(this.get_y()-t)*(this.get_y()-t))},distanceToRect:function(e,t,a,n){return haxepunk_math_MathUtil.distanceRects(e,t,a,n,this.get_x()-this.originX,this.get_y()-this.originY,this.get_width(),this.get_height())},toString:function(){return this._class},moveBy:function(e,t,a,n){if(null==n&&(n=!1),this._moveX+=e,this._moveY+=t,e=Math.round(this._moveX),t=Math.round(this._moveY),this._moveX-=e,this._moveY-=t,null!=a){var i,s;if(0!=e)if(this.get_collidable()&&(n||null!=this.collideTypes(a,this.get_x()+e,this.get_y())))for(i=e>0?1:-1;0!=e;){if(null!=(s=this.collideTypes(a,this.get_x()+i,this.get_y()))){if(this.moveCollideX(s))break;(r=this).set_x(r.get_x()+i)}else{(_=this).set_x(_.get_x()+i)}e-=i}else(r=this).set_x(r.get_x()+e);if(0!=t)if(this.get_collidable()&&(n||null!=this.collideTypes(a,this.get_x(),this.get_y()+t)))for(i=t>0?1:-1;0!=t;){if(null!=(s=this.collideTypes(a,this.get_x(),this.get_y()+i))){if(this.moveCollideY(s))break;(r=this).set_y(r.get_y()+i)}else{var _;(_=this).set_y(_.get_y()+i)}t-=i}else(r=this).set_y(r.get_y()+t)}else{var r;(r=this).set_x(r.get_x()+e),(r=this).set_y(r.get_y()+t)}},moveTo:function(e,t,a,n){null==n&&(n=!1),this.moveBy(e-this.get_x(),t-this.get_y(),a,n)},moveTowards:function(e,t,a,n,i){null==i&&(i=!1);var s=this.get_x();haxepunk_Entity._point.x=e-s;s=this.get_y();haxepunk_Entity._point.y=t-s;var _=haxepunk_Entity._point,r=haxepunk_Entity._point;if(_.x*r.x+_.y*r.y>a*a){var o=a;if(null==o&&(o=1),0!=(_=haxepunk_Entity._point).x||0!=_.y){var l=o/Math.sqrt(_.x*_.x+_.y*_.y);_.x*=l,_.y*=l}}this.moveBy(haxepunk_Entity._point.x,haxepunk_Entity._point.y,n,i)},moveAtAngle:function(e,t,a,n){null==n&&(n=!1),e*=Math.PI/-180,this.moveBy(Math.cos(e)*t,Math.sin(e)*t,a,n)},moveCollideX:function(e){return!0},moveCollideY:function(e){return!0},clampHorizontal:function(e,t,a){null==a&&(a=0),this.get_x()-this.originX<e+a&&this.set_x(e+this.originX+a),this.get_x()-this.originX+this.get_width()>t-a&&this.set_x(t-this.get_width()+this.originX-a)},clampVertical:function(e,t,a){null==a&&(a=0),this.get_y()-this.originY<e+a&&this.set_y(e+this.originY+a),this.get_y()-this.originY+this.get_height()>t-a&&this.set_y(t-this.get_height()+this.originY-a)},centerGraphicInRect:function(){null!=this.graphic&&(this.graphic.x=this.get_width()/2,this.graphic.y=this.get_height()/2)},__class__:haxepunk_Entity,__properties__:$extend(haxepunk_Tweener.prototype.__properties__,{set_name:"set_name",get_name:"get_name",set_mask:"set_mask",get_mask:"get_mask",set_type:"set_type",get_type:"get_type",set_layer:"set_layer",get_layer:"get_layer",get_bottom:"get_bottom",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_centerY:"get_centerY",get_centerX:"get_centerX",get_halfHeight:"get_halfHeight",get_halfWidth:"get_halfWidth",get_scene:"get_scene",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_localY:"set_localY",get_localY:"get_localY",set_localX:"set_localX",get_localX:"get_localX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_enabled:"set_enabled",get_enabled:"get_enabled",set_collidable:"set_collidable",get_collidable:"get_collidable",set_visible:"set_visible",get_visible:"get_visible",set_camera:"set_camera"})});var haxepunk_Cursor=function(e){var t=new haxepunk_graphics_Image(e);t.smooth=!0,haxepunk_Entity.call(this,0,0,t)};$hxClasses["haxepunk.Cursor"]=haxepunk_Cursor,haxepunk_Cursor.__name__="haxepunk.Cursor",haxepunk_Cursor.__super__=haxepunk_Entity,haxepunk_Cursor.prototype=$extend(haxepunk_Entity.prototype,{update:function(){haxepunk_Entity.prototype.update.call(this);var e=this._scene,t=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-e.x,a=e.camera;this.set_x(t/(a.scale*a.scaleX*haxepunk_HXP.screen.scaleX)+e.camera.x|0);e=this._scene,t=haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-e.y,a=e.camera;this.set_y(t/(a.scale*a.scaleY*haxepunk_HXP.screen.scaleY)+e.camera.y|0)},render:function(e){var t=this.graphic;null!=t&&(t.scaleX=1/(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),t.scaleY=1/(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY)),haxepunk_Entity.prototype.render.call(this,e)},show:function(){this.set_visible(!0)},hide:function(){this.set_visible(!1)},__class__:haxepunk_Cursor});var haxepunk_Engine=function(e,t,a,n){null==n&&(n=!1),null==a&&(a=60),null==t&&(t=0),null==e&&(e=0),this._renderer=new haxepunk_graphics_hardware_HardwareRenderer,this._frameListSum=0,this._frameLast=0,this._systemTime=0,this._gameTime=0,this._updateTime=0,this._elapsed=0,this._prev=0,this._skip=0,this._rate=0,this._last=0,this._time=0,this._delta=0,this._scenes=[],this._scene=new haxepunk_Scene,this.onClose=new haxepunk_Signal0,this.onSceneSwitch=new haxepunk_Signal0,this.onInputReleased=haxepunk_Signals._new(),this.onInputPressed=haxepunk_Signals._new(),this.onResize=new haxepunk_Signal0,this.postRender=new haxepunk_Signal0,this.preRender=new haxepunk_Signal0,this.postUpdate=new haxepunk_Signal0,this.preUpdate=new haxepunk_Signal0,this.maxFrameSkip=5,this.maxElapsed=.0333,this.paused=!1,haxepunk_HXP.bounds=new haxepunk_math_Rectangle(0,0,e,t),haxepunk_HXP.assignedFrameRate=a,haxepunk_HXP.fixed=n,haxepunk_HXP.engine=this,haxepunk_HXP.width=e,haxepunk_HXP.height=t,haxepunk_HXP.screen=new haxepunk_Screen,haxepunk_HXP.app=this.app=this.createApp(),0==haxepunk_math_Random._seed&&(haxepunk_math_Random._seed=0|haxepunk_math_MathUtil.clamp(2147483647*Math.random()|0,1,2147483646)),haxepunk_HXP.entity=new haxepunk_Entity,haxepunk_HXP._time=this.app.getTimeMillis(),this._frameList=[],this._iterator=new haxepunk__$Engine_VisibleSceneIterator,this.app.init()};$hxClasses["haxepunk.Engine"]=haxepunk_Engine,haxepunk_Engine.__name__="haxepunk.Engine",haxepunk_Engine.prototype={createApp:function(){return new haxepunk_App(this)},init:function(){},focusGained:function(){},focusLost:function(){},update:function(){if(haxepunk_HXP.needsResize&&haxepunk_HXP.resize(haxepunk_HXP.windowWidth,haxepunk_HXP.windowHeight),this._scene.updateLists(),null!=this._scene&&this._scenes.length>0&&this._scenes[this._scenes.length-1]!=this._scene){js_Boot.getClass(this._scene).__name__;this._scene.end(),this._scene.updateLists(!1),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this._scene=this._scenes[this._scenes.length-1];for(var e=0,t=this.onSceneSwitch.callbacks;e<t.length;){var a=t[e];++e,a()}js_Boot.getClass(this._scene).__name__;this._scene.assetCache.enable(),this._scene.updateLists(),this._scene.started?this._scene.resume():this._scene.begin(),this._scene.started=!0,this._scene.updateLists(!0)}for(e=0,t=this.preUpdate.callbacks;e<t.length;){a=t[e];++e,a()}for(e=0,t=this._scene.preUpdate.callbacks;e<t.length;){a=t[e];++e,a()}haxepunk_HXP.tweener.get_active()&&haxepunk_HXP.tweener.get_hasTween()&&haxepunk_HXP.tweener.updateTweens(haxepunk_HXP.elapsed),this._scene.get_active()&&(this._scene.get_hasTween()&&this._scene.updateTweens(haxepunk_HXP.elapsed),this._scene.update()),this._scene.updateLists(!1);for(e=0,t=this._scene.postUpdate.callbacks;e<t.length;){a=t[e];++e,a()}for(e=0,t=this.postUpdate.callbacks;e<t.length;){a=t[e];++e,a()}},onRender:function(){var e=this.app.getTimeMillis();if(!this.paused||(this._frameLast=e,null!=haxepunk_HXP.engine.console)){0==this._frameLast&&(this._frameLast=0|e);for(var t=0,a=this.preRender.callbacks;t<a.length;){var n=a[t];++t,n()}this._renderer.startFrame();for(t=this._iterator.reset(this);t.scenes.length>0;){var i=t.scenes.pop();this._renderer.startScene(i),haxepunk_HXP.renderingScene=i,i.render();for(var s=i.batch.iterator();s.hasNext();){var _=s.next();this._renderer.render(_)}this._renderer.flushScene(i)}haxepunk_HXP.renderingScene=null,this._renderer.endFrame();for(t=0,a=this.postRender.callbacks;t<a.length;){n=a[t];++t,n()}e=this.app.getTimeMillis();var r=this._frameList[this._frameList.length]=e-this._frameLast|0;this._frameListSum+=r,this._frameList.length>10&&(this._frameListSum-=this._frameList.shift()),haxepunk_HXP.frameRate=1e3/(this._frameListSum/this._frameList.length),this._frameLast=e}},onUpdate:function(){this._time=this._gameTime=this.app.getTimeMillis(),haxepunk_HXP._systemTime=this._time-this._systemTime,this._updateTime=this._time;var e=(this._time-this._last)/1e3;if(haxepunk_HXP.fixed)for(this._elapsed+=e,haxepunk_HXP.elapsed=1/haxepunk_HXP.assignedFrameRate,this._elapsed>haxepunk_HXP.elapsed*this.maxFrameSkip&&(this._elapsed=haxepunk_HXP.elapsed*this.maxFrameSkip);this._elapsed>haxepunk_HXP.elapsed;)this._elapsed-=haxepunk_HXP.elapsed,this.step();else haxepunk_HXP.elapsed=e,haxepunk_HXP.elapsed>this.maxElapsed&&(haxepunk_HXP.elapsed=this.maxElapsed),haxepunk_HXP.elapsed*=haxepunk_HXP.rate,this.step();this._last=this._time,this._time=this.app.getTimeMillis(),haxepunk_HXP._updateTime=this._time-this._updateTime,this._time=this._systemTime=this.app.getTimeMillis(),haxepunk_HXP._gameTime=this._time-this._gameTime},step:function(){haxepunk_input_Input.update(),this.paused||this.update(),null!=this.console&&this.console.update(),haxepunk_input_Input.postUpdate()},checkScene:function(){if(null!=this._scene&&this._scenes.length>0&&this._scenes[this._scenes.length-1]!=this._scene){js_Boot.getClass(this._scene).__name__;this._scene.end(),this._scene.updateLists(!1),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this._scene=this._scenes[this._scenes.length-1];for(var e=0,t=this.onSceneSwitch.callbacks;e<t.length;){var a=t[e];++e,a()}js_Boot.getClass(this._scene).__name__;this._scene.assetCache.enable(),this._scene.updateLists(),this._scene.started?this._scene.resume():this._scene.begin(),this._scene.started=!0,this._scene.updateLists(!0)}},pushScene:function(e){js_Boot.getClass(this._scene).__name__;this._scenes.push(e)},popScene:function(){js_Boot.getClass(this._scene).__name__;var e=this._scenes.pop();return haxepunk_assets_AssetCache.active.indexOf(e.assetCache)>-1&&e.assetCache.dispose(),e},get_scene:function(){return this._scene},set_scene:function(e){return this._scene==e?e:(this._scenes.length>0&&this.popScene(),this._scenes.push(e),this._scene)},iterator:function(){return this._iterator.reset(this)},__class__:haxepunk_Engine,__properties__:{set_scene:"set_scene",get_scene:"get_scene"}};var haxepunk__$Engine_VisibleSceneIterator=function(){this.scenes=[]};$hxClasses["haxepunk._Engine.VisibleSceneIterator"]=haxepunk__$Engine_VisibleSceneIterator,haxepunk__$Engine_VisibleSceneIterator.__name__="haxepunk._Engine.VisibleSceneIterator",haxepunk__$Engine_VisibleSceneIterator.prototype={hasNext:function(){return this.scenes.length>0},next:function(){return this.scenes.pop()},reset:function(e){var t;this.scenes.length=0,null!=e.console&&this.scenes.push(e.console);for(var a=e._scenes.length-1;a>=0&&((t=e._scenes[a]).visible&&this.scenes.push(t),1!=t.bgAlpha);)--a;return this},__class__:haxepunk__$Engine_VisibleSceneIterator};var haxepunk_EntityList=function(){this.entities=[],this._recycled=new haxe_ds_List,haxepunk_Entity.call(this)};$hxClasses["haxepunk.EntityList"]=haxepunk_EntityList,haxepunk_EntityList.__name__="haxepunk.EntityList",haxepunk_EntityList.__super__=haxepunk_Entity,haxepunk_EntityList.prototype=$extend(haxepunk_Entity.prototype,{get_count:function(){return this.entities.length},add:function(e,t){return null==t&&(t=-1),t<0?this.entities.push(e):this.entities.splice(t,0,e),""!=this._type&&e.set_type(this._type),null!=this._scene&&this._scene.add(e),e.parent=this,e.set_layer(this._layer),e.set_camera(this.camera),e},remove:function(e){return HxOverrides.remove(this.entities,e),null!=this._scene&&this._scene.remove(e),e.parent=null,e},pop:function(){var e=this.entities.pop();return null!=e&&(null!=this._scene&&this._scene.remove(e),e.parent=null),e},apply:function(e){for(var t=0,a=this.entities;t<a.length;){var n=a[t];++t,e(n)}},map:function(e){for(var t=[],a=0,n=this.entities;a<n.length;){var i=n[a];++a,t.push(e(i))}return t},added:function(){if(haxepunk_Entity.prototype.added.call(this),null!=this._scene)for(var e=0,t=this.entities;e<t.length;){var a=t[e];++e,this._scene.add(a)}},removed:function(){if(null!=this._scene)for(var e=0,t=this.entities;e<t.length;){var a=t[e];++e,this._scene.remove(a)}haxepunk_Entity.prototype.removed.call(this)},set_type:function(e){if(""!=e)for(var t=0,a=this.entities;t<a.length;){var n=a[t];++t,n.set_type(e)}return this._type=e},set_layer:function(e){for(var t=this._layer,a=haxepunk_Entity.prototype.set_layer.call(this,e),n=0,i=this.entities;n<i.length;){var s=i[n];++n,s.set_layer(s._layer-t+a)}return a},set_camera:function(e){for(var t=0,a=this.entities;t<a.length;){var n=a[t];++t,n.set_camera(e)}return this.camera=e},create:function(e,t){var a=this._recycled.pop();return null!=a&&null==a._scene||(null!=a&&this.recycle(a),a=null!=t?Type.createInstance(e,t):Type.createInstance(e,[])),a.set_active(!0),this.add(a)},recycle:function(e){return this.remove(e),e.set_active(!1),this.remove(e)},clearRecycled:function(){this._recycled.clear()},__class__:haxepunk_EntityList,__properties__:$extend(haxepunk_Entity.prototype.__properties__,{get_count:"get_count"})});var haxepunk_TileType={fromString:function(e){return haxepunk_assets_AssetCache.global.getTileAtlas(e,!1)},fromTileAtlas:function(e){return e},fromTexture:function(e){var t=new haxepunk_graphics_atlas_AtlasData(e);return new haxepunk_graphics_atlas_TileAtlas(t)}},haxepunk_ImageType={fromString:function(e){return haxepunk_assets_AssetCache.global.getAtlasRegion(e,!1)},fromTileAtlas:function(e){return e.getRegion(0)},fromAtlasRegion:function(e){return e},fromTexture:function(e){var t=new haxepunk_graphics_atlas_AtlasData(e);return haxepunk_graphics_atlas_Atlas.loadImageAsRegion(t)},fromStrings:function(e){for(var t=[],a=0;a<e.length;){var n=e[a];++a;var i=haxepunk_assets_AssetCache.global.getAtlasData(n,!1);t.push(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(i))}return new haxepunk_graphics_atlas_AtlasResolutions(t)},fromAtlasRegions:function(e){return new haxepunk_graphics_atlas_AtlasResolutions(e)}},haxepunk_ImageOrTileType={fromString:function(e){return haxe_ds_Either.Right(haxepunk_assets_AssetCache.global.getTileAtlas(e,!1))},fromTexture:function(e){var t=new haxepunk_graphics_atlas_AtlasData(e);return haxe_ds_Either.Right(new haxepunk_graphics_atlas_TileAtlas(t))},fromTileAtlas:function(e){return haxe_ds_Either.Right(e)},fromAtlasRegion:function(e){return haxe_ds_Either.Left(e)}},haxepunk_Graphic=function(){this._visible=!0,this._point={x:0,y:0},this._scroll=!0,this.postUpdate=new haxepunk_Signal0,this.preUpdate=new haxepunk_Signal0,this.relative=!0,this.alpha=1,this.originY=0,this.originX=0,this.scrollY=1,this.scrollX=1,this.y=0,this.x=0,this.blend=1,this.flexibleLayer=!1,this.pixelSnapping=!1,this.active=!1,this.smooth=haxepunk_Graphic.smoothDefault,this.pixelSnapping=haxepunk_Graphic.pixelSnappingDefault,this.set_color(16777215),null==haxepunk_graphics_shader_TextureShader.defaultShader&&(haxepunk_graphics_shader_TextureShader.defaultShader=new haxepunk_graphics_shader_TextureShader),this.shader=haxepunk_graphics_shader_TextureShader.defaultShader;var e=js_Boot.getClass(this);this._class=e.__name__};$hxClasses["haxepunk.Graphic"]=haxepunk_Graphic,haxepunk_Graphic.__name__="haxepunk.Graphic",haxepunk_Graphic.prototype={get_visible:function(){return this._visible},set_visible:function(e){return this._visible=e},get_x:function(){return this.x},set_x:function(e){return this.x=e},get_y:function(){return this.y},set_y:function(e){return this.y=e},set_alpha:function(e){return this.alpha=e<0?0:e>1?1:e},set_color:function(e){return this.color=16777215&e},screenClipRect:function(e,t,a){return null!=this.clipRect?(null==this._screenClipRect&&(this._screenClipRect=new haxepunk_math_Rectangle),this._screenClipRect.setTo((t+this.clipRect.x)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),(a+this.clipRect.y)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this.clipRect.width*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),this.clipRect.height*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY)),this._screenClipRect):null},floorX:function(e,t){return this.pixelSnapping||e.pixelSnapping?Math.floor((t+.5)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX))/(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX):t},floorY:function(e,t){return this.pixelSnapping||e.pixelSnapping?Math.floor((t+.5)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY))/(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY):t},update:function(){},destroy:function(){},isPixelPerfect:function(e){return!!this.pixelSnapping||e.pixelSnapping},doRender:function(e,t){this.pixelSnapping||t.pixelSnapping?this.pixelPerfectRender(e,t):this.render(e,t)},render:function(e,t){},pixelPerfectRender:function(e,t){this.render(e,t)},pause:function(){this.active=!1},resume:function(){this.active=!0},centerOrigin:function(){},toString:function(){return"["+this._class+"]"},__class__:haxepunk_Graphic,__properties__:{set_color:"set_color",set_alpha:"set_alpha",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_visible:"set_visible",get_visible:"get_visible"}};var haxepunk_math_Rectangle=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.setTo(e,t,a,n)};$hxClasses["haxepunk.math.Rectangle"]=haxepunk_math_Rectangle,haxepunk_math_Rectangle.__name__="haxepunk.math.Rectangle",haxepunk_math_Rectangle.prototype={get_left:function(){return this.x},set_left:function(e){return this.x=e},get_right:function(){return this.x+this.width},set_right:function(e){return this.x=e-this.width,e},get_top:function(){return this.y},set_top:function(e){return this.y=e},get_bottom:function(){return this.y+this.height},set_bottom:function(e){return this.y=e-this.height,e},setTo:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.width=a,this.height=n},clone:function(){return new haxepunk_math_Rectangle(this.x,this.y,this.width,this.height)},isEmpty:function(){return this.width<=0&&this.height<=0},intersects:function(e){return this.x<=e.x+e.width&&e.x<=this.x+this.width&&this.y<=e.y+e.height&&e.y<=this.y+this.height},intersection:function(e){var t=Math.max(this.x,e.x),a=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return a>=t&&i>=n?new haxepunk_math_Rectangle(t,n,a-t,i-this.y):null},__class__:haxepunk_math_Rectangle,__properties__:{set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}};var haxepunk_HXP=function(){};$hxClasses["haxepunk.HXP"]=haxepunk_HXP,haxepunk_HXP.__name__="haxepunk.HXP",haxepunk_HXP.__properties__={set_time:"set_time",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_scene:"set_scene",get_scene:"get_scene",get_choose:"get_choose",set_cursor:"set_cursor",get_camera:"get_camera"},haxepunk_HXP.get_camera=function(){return null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera},haxepunk_HXP.set_cursor=function(e){return haxepunk_HXP.cursor==e?e:(null==e?haxepunk_input_Mouse.showCursor():haxepunk_input_Mouse.hideCursor(),haxepunk_HXP.cursor=e)},haxepunk_HXP.get_choose=function(){return Reflect.makeVarArgs(haxepunk_HXP._choose)},haxepunk_HXP._choose=function(e){if(null==e||0==e.length)throw haxe_Exception.thrown("Can't choose a random element on an empty array");if(e[0]instanceof Array){var t=js_Boot.__cast(e[0],Array);if(0!=t.length)return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,t[haxepunk_math_Random._seed/2147483647*t.length|0];throw haxe_Exception.thrown("Can't choose a random element on an empty array")}return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,e[haxepunk_math_Random._seed/2147483647*e.length|0]},haxepunk_HXP.get_scene=function(){return haxepunk_HXP.engine._scene},haxepunk_HXP.set_scene=function(e){return haxepunk_HXP.engine.set_scene(e)},haxepunk_HXP.resize=function(e,t){haxepunk_HXP.windowWidth=e,haxepunk_HXP.windowHeight=t,haxepunk_HXP.screen.resize(e,t),haxepunk_HXP.halfWidth=haxepunk_HXP.width/2,haxepunk_HXP.halfHeight=haxepunk_HXP.height/2,haxepunk_HXP.bounds.width=e,haxepunk_HXP.bounds.height=t;for(var a=haxepunk_HXP.engine.iterator();a.scenes.length>0;){a.scenes.pop()._resize()}haxepunk_HXP.needsResize=!1},haxepunk_HXP.clear=function(e){e.length=0},haxepunk_HXP.setCamera=function(e,t){null==t&&(t=0),null==e&&(e=0),(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).x=e,(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).y=t},haxepunk_HXP.resetCamera=function(){(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).x=(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).y=0},haxepunk_HXP.get_fullscreen=function(){return 0==haxepunk_HXP.app.stage.get_displayState()},haxepunk_HXP.set_fullscreen=function(e){var t=haxepunk_HXP.app;return e?t.stage.set_displayState(0):t.stage.set_displayState(2),e},haxepunk_HXP.set_volume=function(e){return e=haxepunk_math_MathUtil.clamp(e,0,1),haxepunk_HXP.volume==e?e:(haxepunk_HXP.volume=e,haxepunk_Sfx.onGlobalUpdated(!1),haxepunk_HXP.volume)},haxepunk_HXP.get_pan=function(){return haxepunk_HXP._pan},haxepunk_HXP.set_pan=function(e){return e<-1&&(e=-1),e>1&&(e=1),haxepunk_HXP._pan==e?e:(haxepunk_HXP._pan=e,haxepunk_Sfx.onGlobalUpdated(!0),haxepunk_HXP._pan)},haxepunk_HXP.indexOf=function(e,t){return e.indexOf(t)},haxepunk_HXP.next=function(e,t,a){return null==a&&(a=!0),a?t[(t.indexOf(e)+1)%t.length]:t[0|Math.min(t.indexOf(e)+1,t.length-1)]},haxepunk_HXP.prev=function(e,t,a){return null==a&&(a=!0),a?t[(t.indexOf(e)-1+t.length)%t.length]:t[0|Math.max(t.indexOf(e)-1,0)]},haxepunk_HXP.swap=function(e,t,a){return e==t?a:t},haxepunk_HXP.insertSortedKey=function(e,t,a){for(var n=0,i=0,s=0,_=e.length-1;_>=s;)if((n=a(e[i=s+((_-s)/2|0)],t))>0)_=i-1;else{if(!(n<0))return;s=i+1}e.splice(n>0?i:i+1,0,t)},haxepunk_HXP.timeFlag=function(){var e=(new Date).getTime()/1e3,t=e-haxepunk_HXP._time;return haxepunk_HXP._time=e,t},haxepunk_HXP.tween=function(e,t,a,n){if(null!=n&&Object.prototype.hasOwnProperty.call(n,"delay")){var i=n.delay;return Reflect.deleteField(n,"delay"),haxepunk_HXP.alarm(i,(function(){haxepunk_HXP.tween(e,t,a,n)})),null}var s=haxepunk_TweenType.OneShot,_=null,r=null,o=haxepunk_HXP.tweener;e instanceof haxepunk_Tweener&&(o=js_Boot.__cast(e,haxepunk_Tweener)),null!=n&&(Object.prototype.hasOwnProperty.call(n,"type")&&(s=n.type),Object.prototype.hasOwnProperty.call(n,"complete")&&(_=n.complete),Object.prototype.hasOwnProperty.call(n,"ease")&&(r=n.ease),Object.prototype.hasOwnProperty.call(n,"tweener")&&(o=n.tweener));var l=new haxepunk_tweens_misc_MultiVarTween(s);return null!=_&&l.onComplete.callbacks.push(_),l.tween(e,t,a,r),o.addTween(l,!0),l},haxepunk_HXP.alarm=function(e,t,a,n){null==a&&(a=haxepunk_TweenType.OneShot),null==n&&(n=haxepunk_HXP.tweener);var i=new haxepunk_tweens_misc_Alarm(e,t,a);return n.addTween(i,!0),i},haxepunk_HXP.frames=function(e,t,a){null==a&&(a=0);var n=[];if(++a,e<t)for(;e<=t;)n.push(e),e+=a;else for(;e>=t;)n.push(e),e-=a;return n},haxepunk_HXP.shuffle=function(e){for(var t,a,n=e.length;--n>0;)a=e[n],haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,t=haxepunk_math_Random._seed/2147483647*(n+1)|0,e[n]=e[t],e[t]=a},haxepunk_HXP.set_time=function(e){return haxepunk_HXP._time=e,haxepunk_HXP._time};var openfl_display_DefaultPreloader=function(){openfl_display_Sprite.call(this);var e=this.getBackgroundColor(),t=0;.299*(e>>16&255)+.587*(e>>8&255)+.114*(255&e)<70&&(t=16777215);var a=this.getHeight()/2-3.5,n=this.getWidth()-60;this.outline=new openfl_display_Shape,this.outline.get_graphics().beginFill(t,.07),this.outline.get_graphics().drawRect(0,0,n,7),this.outline.set_x(30),this.outline.set_y(a),this.outline.set_alpha(0),this.addChild(this.outline),this.progress=new openfl_display_Shape,this.progress.get_graphics().beginFill(t,.35),this.progress.get_graphics().drawRect(0,0,n-4,3),this.progress.set_x(32),this.progress.set_y(a+2),this.progress.set_scaleX(0),this.progress.set_alpha(0),this.addChild(this.progress),this.startAnimation=openfl_Lib.getTimer()+100,this.endAnimation=this.startAnimation+1e3,this.addEventListener("addedToStage",$bind(this,this.this_onAddedToStage))};$hxClasses["openfl.display.DefaultPreloader"]=openfl_display_DefaultPreloader,openfl_display_DefaultPreloader.__name__="openfl.display.DefaultPreloader",openfl_display_DefaultPreloader.__super__=openfl_display_Sprite,openfl_display_DefaultPreloader.prototype=$extend(openfl_display_Sprite.prototype,{getBackgroundColor:function(){var e=openfl_Lib.get_current().stage.window.context.attributes;return Object.prototype.hasOwnProperty.call(e,"background")&&null!=e.background?e.background:0},getHeight:function(){var e=openfl_Lib.get_current().stage.window.__height;return e>0?e:openfl_Lib.get_current().stage.stageHeight},getWidth:function(){var e=openfl_Lib.get_current().stage.window.__width;return e>0?e:openfl_Lib.get_current().stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",$bind(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",$bind(this,this.this_onEnterFrame)),this.dispatchEvent(new openfl_events_Event("unload"))},onUpdate:function(e,t){var a=0;t>0&&(a=e/t)>1&&(a=1),this.progress.set_scaleX(a)},this_onAddedToStage:function(e){this.removeEventListener("addedToStage",$bind(this,this.this_onAddedToStage)),this.onInit(),this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal),this.addEventListener("progress",$bind(this,this.this_onProgress)),this.addEventListener("complete",$bind(this,this.this_onComplete))},this_onComplete:function(e){e.preventDefault(),this.removeEventListener("progress",$bind(this,this.this_onProgress)),this.removeEventListener("complete",$bind(this,this.this_onComplete)),this.onLoaded()},this_onEnterFrame:function(e){var t=(openfl_Lib.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation);t<0&&(t=0),t>1&&(t=1),this.outline.set_alpha(this.progress.set_alpha(t))},this_onProgress:function(e){this.onUpdate(0|e.bytesLoaded,0|e.bytesTotal)},__class__:openfl_display_DefaultPreloader});var haxepunk_Preloader=function(){var e=this;openfl_display_DefaultPreloader.call(this),openfl_utils_Assets.loadBitmapData("graphics/preloader/haxepunk.png").onComplete((function(t){e.scaleIncrement=.002;e.outline.set_x((e.getWidth()-260)/2),e.outline.set_y((e.getHeight()-340)/2),e.outline.get_graphics().clear();var a=new openfl_display_Bitmap(e.crop(t,new openfl_geom_Rectangle(0,0,274,58)));e.addChild(a),a.set_x(e.outline.get_x()),a.set_y(e.outline.get_y());a=new openfl_display_Bitmap(e.crop(t,new openfl_geom_Rectangle(0,65,274,80)));e.addChild(a),a.set_x(e.outline.get_x()),a.set_y(e.outline.get_y()+260),e.factory=new openfl_display_Sprite,e.factory.set_x(e.outline.get_x()+187),e.factory.set_y(e.outline.get_y()+260),(a=new openfl_display_Bitmap(e.crop(t,new openfl_geom_Rectangle(0,165,114,190)))).set_x(-57),a.set_y(-190),e.factory.addChild(a),e.addChild(e.factory),e.largeCog=new openfl_display_Sprite,e.largeCog.set_x(e.outline.get_x()+80),e.largeCog.set_y(e.outline.get_y()+190),(a=new openfl_display_Bitmap(e.crop(t,new openfl_geom_Rectangle(115,164,134,136)))).set_x(-67),a.set_y(-68),e.largeCog.addChild(a),e.addChild(e.largeCog),e.smallCog=new openfl_display_Sprite,e.smallCog.set_x(e.outline.get_x()+190),e.smallCog.set_y(e.outline.get_y()+185),(a=new openfl_display_Bitmap(e.crop(t,new openfl_geom_Rectangle(123,305,56,56)))).set_x(-28),a.set_y(-28),e.smallCog.addChild(a),e.addChild(e.smallCog);var n=new openfl_display_Sprite;n.set_x(e.outline.get_x()+130),n.set_y(e.outline.get_y()+60),n.get_graphics().lineStyle(1,-1),n.get_graphics().moveTo(-125,0),n.get_graphics().lineTo(125,0),e.addChildAt(n,0),e.progress.set_y(e.outline.get_y()+60),e.progress.set_x(e.outline.get_x()+130),e.progress.get_graphics().clear(),e.progress.get_graphics().lineStyle(1,-3448027),e.progress.get_graphics().moveTo(-125,0),e.progress.get_graphics().lineTo(125,0),e.addEventListener("enterFrame",$bind(e,e.onEnterFrame)),e.onEnterFrame(null)}))};$hxClasses["haxepunk.Preloader"]=haxepunk_Preloader,haxepunk_Preloader.__name__="haxepunk.Preloader",haxepunk_Preloader.__super__=openfl_display_DefaultPreloader,haxepunk_Preloader.prototype=$extend(openfl_display_DefaultPreloader.prototype,{onEnterFrame:function(e){var t;(t=this.largeCog).set_rotation(t.get_rotation()+1),(t=this.smallCog).set_rotation(t.get_rotation()-1),(t=this.factory).set_scaleX(t.get_scaleX()+this.scaleIncrement),(t=this.factory).set_scaleY(t.get_scaleY()+this.scaleIncrement),(this.factory.get_scaleX()>1.02||this.factory.get_scaleX()<1)&&(this.scaleIncrement=-this.scaleIncrement),this.outline.get_graphics().clear()},crop:function(e,t){var a=new openfl_display_BitmapData(0|t.width,0|t.height);return a.copyPixels(e,t,new openfl_geom_Point),a},__class__:haxepunk_Preloader});var haxepunk_utils_DrawContext=function(e,t,a){null==a&&(a=1),null==t&&(t=16777215),null==e&&(e=1),this.lineThickness=1,this.scale=!1,this.alpha=1,this.color=16777215,this.smooth=!0,this.blend=1,this.lineThickness=e,this.color=t,this.alpha=a};$hxClasses["haxepunk.utils.DrawContext"]=haxepunk_utils_DrawContext,haxepunk_utils_DrawContext.__name__="haxepunk.utils.DrawContext",haxepunk_utils_DrawContext.prototype={setColor:function(e,t){null==t&&(t=1),null==e&&(e=16777215),this.color=e,this.alpha=t},line:function(e,t,a,n){var i,s;null==(s=t)&&(s=0),null==(i=e)&&(i=0),null==(s=n-s)&&(s=0),null==(i=a-i)&&(i=0);var _={x:i,y:s},r=this.lineThickness/2;if(null==r&&(r=1),0!=_.x||0!=_.y){var o=r/Math.sqrt(_.x*_.x+_.y*_.y);_.x*=o,_.y*=o}haxepunk_math_Vector2.setTo(_,-_.y,_.x),null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var l=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;this.command=l.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null);var h=e+_.x,u=t+_.y,p=a-_.x,c=n-_.y,d=a+_.x,f=n+_.y,m=h,g=u,x=e-_.x,k=t-_.y,y=p,b=c,v=this.color,P=this.alpha;this.scale&&(m*=haxepunk_HXP.screen.scaleX,x*=haxepunk_HXP.screen.scaleX,y*=haxepunk_HXP.screen.scaleX,g*=haxepunk_HXP.screen.scaleY,k*=haxepunk_HXP.screen.scaleY,b*=haxepunk_HXP.screen.scaleY);var w=this.command;if(P>0){if(w.shader.attributeNames.length<=0){if((m>x?x>y?y:x:m>y?y:m)<=(M=w.visibleArea).x+M.width&&(m<x?x<y?y:x:m<y?y:m)>=w.visibleArea.x)A=(g>k?k>b?b:k:g>b?b:g)<=(M=w.visibleArea).y+M.height;else A=!1;S=A&&(g<k?k<b?b:k:g<b?b:g)>=w.visibleArea.y}else S=!0;if(S){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(E=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,E._next=null):E=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(D=E).tx1=m,D.ty1=g,D.uvx1=0,D.uvy1=0,D.tx2=x,D.ty2=k,D.uvx2=0,D.uvy2=0,D.tx3=y,D.ty3=b,D.uvx3=0,D.uvy3=0,D.color=v,D.alpha=P,null==w.data?w.data=D:w._lastData._next=D,w._lastData=D,++w.triangleCount;var T=D.tx1,C=(_=D.tx2,D.tx3);e=T>_?_>C?C:_:T>C?C:T,T=D.tx1,_=D.tx2,C=D.tx3,a=T<_?_<C?C:_:T<C?C:T,T=D.ty1,_=D.ty2,C=D.ty3,t=T>_?_>C?C:_:T>C?C:T,T=D.ty1,_=D.ty2,C=D.ty3,n=T<_?_<C?C:_:T<C?C:T;if(0==w.bounds.width)w.bounds.x=e,w.bounds.width=a-e;else e<w.bounds.x&&(w.bounds.width+=w.bounds.x-e,w.bounds.x=e),a>(M=w.bounds).x+M.width&&(w.bounds.width=a-w.bounds.x);if(0==w.bounds.height)w.bounds.y=t,w.bounds.height=n-t;else t<w.bounds.y&&(w.bounds.height+=w.bounds.y-t,w.bounds.y=t),n>(M=w.bounds).y+M.height&&(w.bounds.height=n-w.bounds.y)}}m=h,g=u,x=p,k=c,y=d,b=f,v=this.color,P=this.alpha;this.scale&&(m*=haxepunk_HXP.screen.scaleX,x*=haxepunk_HXP.screen.scaleX,y*=haxepunk_HXP.screen.scaleX,g*=haxepunk_HXP.screen.scaleY,k*=haxepunk_HXP.screen.scaleY,b*=haxepunk_HXP.screen.scaleY);w=this.command;if(P>0){var S;if(w.shader.attributeNames.length<=0){var A;if((m>x?x>y?y:x:m>y?y:m)<=(M=w.visibleArea).x+M.width&&(m<x?x<y?y:x:m<y?y:m)>=w.visibleArea.x)A=(g>k?k>b?b:k:g>b?b:g)<=(M=w.visibleArea).y+M.height;else A=!1;S=A&&(g<k?k<b?b:k:g<b?b:g)>=w.visibleArea.y}else S=!0;if(S){var E,D;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(E=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,E._next=null):E=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(D=E).tx1=m,D.ty1=g,D.uvx1=0,D.uvy1=0,D.tx2=x,D.ty2=k,D.uvx2=0,D.uvy2=0,D.tx3=y,D.ty3=b,D.uvx3=0,D.uvy3=0,D.color=v,D.alpha=P,null==w.data?w.data=D:w._lastData._next=D,w._lastData=D,++w.triangleCount;var M;T=D.tx1,_=D.tx2,C=D.tx3,e=T>_?_>C?C:_:T>C?C:T,T=D.tx1,_=D.tx2,C=D.tx3,a=T<_?_<C?C:_:T<C?C:T,T=D.ty1,_=D.ty2,C=D.ty3,t=T>_?_>C?C:_:T>C?C:T,T=D.ty1,_=D.ty2,C=D.ty3,n=T<_?_<C?C:_:T<C?C:T;if(0==w.bounds.width)w.bounds.x=e,w.bounds.width=a-e;else e<w.bounds.x&&(w.bounds.width+=w.bounds.x-e,w.bounds.x=e),a>(M=w.bounds).x+M.width&&(w.bounds.width=a-w.bounds.x);if(0==w.bounds.height)w.bounds.y=t,w.bounds.height=n-t;else t<w.bounds.y&&(w.bounds.height+=w.bounds.y-t,w.bounds.y=t),n>(M=w.bounds).y+M.height&&(w.bounds.height=n-w.bounds.y)}}},polyline:function(e,t){if(null==t&&(t=!1),e.length<4||e.length%2==1)throw haxe_Exception.thrown("Invalid number of values. Expected an even number greater than 4.");var a=this.lineThickness/2,n=e.length/2|0,i={x:0,y:0},s={x:0,y:0},_=e[0];null==(o=e[1])&&(o=0),null==_&&(_=0);var r={x:_,y:o};_=r.x-e[2];null==(o=r.y-e[3])&&(o=0),null==_&&(_=0);var o,l={x:_,y:o};_=l.x;null==(o=l.y)&&(o=0),null==_&&(_=0);var h={x:_,y:o},u={x:0,y:0},p={x:0,y:0},c={x:0,y:0};null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var d,f,m,g=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;if(this.command=g.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null),haxepunk_math_Vector2.setTo(i,r.x,r.y),haxepunk_math_Vector2.setTo(s,r.x,r.y),haxepunk_math_Vector2.setTo(h,-h.y,h.x),null==(b=a)&&(b=1),0!=h.x||0!=h.y){var x=b/Math.sqrt(h.x*h.x+h.y*h.y);h.x*=x,h.y*=x}if(i.x+=h.x,i.y+=h.y,s.x-=h.x,s.y-=h.y,null==(b=1)&&(b=1),0!=l.x||0!=l.y){x=b/Math.sqrt(l.x*l.x+l.y*l.y);l.x*=x,l.y*=x}for(var k=1,y=n-1;k<y;){var b;if(m=2*k++,r.x=e[m],r.y=e[m+1],h.x=r.x-e[m+2],h.y=r.y-e[m+3],null==(b=1)&&(b=1),0!=h.x||0!=h.y){x=b/Math.sqrt(h.x*h.x+h.y*h.y);h.x*=x,h.y*=x}c.x=h.x,c.y=h.y,d=l.x*h.y-l.y*h.x>0,f=Math.acos(l.x*h.x+l.y*h.y)/2,u.x=l.x,u.y=l.y,u.x+=h.x,u.y+=h.y,haxepunk_math_Vector2.setTo(u,-u.y,u.x),d&&(u.x=-u.x,u.y=-u.y);var v=a/Math.cos(f);if(null==v&&(v=1),0!=u.x||0!=u.y){var P=v/Math.sqrt(u.x*u.x+u.y*u.y);u.x*=P,u.y*=P}t&&(p.x=r.x,p.y=r.y,p.x-=u.x,p.y-=u.y),u.x+=r.x,u.y+=r.y,haxepunk_math_Vector2.setTo(l,-l.y,l.x);var w=a;if(null==w&&(w=1),0!=l.x||0!=l.y){var T=w/Math.sqrt(l.x*l.x+l.y*l.y);l.x*=T,l.y*=T}haxepunk_math_Vector2.setTo(h,-h.y,h.x);var C=a;if(null==C&&(C=1),0!=h.x||0!=h.y){var S=C/Math.sqrt(h.x*h.x+h.y*h.y);h.x*=S,h.y*=S}if(d||(l.x=-l.x,l.y=-l.y,h.x=-h.x,h.y=-h.y),l.x+=r.x,l.y+=r.y,h.x+=r.x,h.y+=r.y,d){var A=i.x,E=i.y,D=s.x,M=s.y,R=l.x,L=l.y,I=this.color,$=this.alpha;this.scale&&(A*=haxepunk_HXP.screen.scaleX,D*=haxepunk_HXP.screen.scaleX,R*=haxepunk_HXP.screen.scaleX,E*=haxepunk_HXP.screen.scaleY,M*=haxepunk_HXP.screen.scaleY,L*=haxepunk_HXP.screen.scaleY);var B=this.command;if($>0){if(B.shader.attributeNames.length<=0){if((A>D?D>R?R:D:A>R?R:A)<=(Da=B.visibleArea).x+Da.width&&(A<D?D<R?R:D:A<R?R:A)>=B.visibleArea.x){var O=B.visibleArea;Sa=(E>M?M>L?L:M:E>L?L:E)<=O.y+O.height}else Sa=!1;Ca=Sa&&(E<M?M<L?L:M:E<L?L:E)>=B.visibleArea.y}else Ca=!0;if(Ca){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Aa=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Aa._next=null):Aa=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(Ea=Aa).tx1=A,Ea.ty1=E,Ea.uvx1=0,Ea.uvy1=0,Ea.tx2=D,Ea.ty2=M,Ea.uvx2=0,Ea.uvy2=0,Ea.tx3=R,Ea.ty3=L,Ea.uvx3=0,Ea.uvy3=0,Ea.color=I,Ea.alpha=$,null==B.data?B.data=Ea:B._lastData._next=Ea,B._lastData=Ea,++B.triangleCount;var G=Ea.tx1,F=Ea.tx2,N=Ea.tx3,H=G>F?F>N?N:F:G>N?N:G,U=Ea.tx1,X=Ea.tx2,V=Ea.tx3,j=U<X?X<V?V:X:U<V?V:U,z=Ea.ty1,W=Ea.ty2,Y=Ea.ty3,K=z>W?W>Y?Y:W:z>Y?Y:z,q=Ea.ty1,J=Ea.ty2,Z=Ea.ty3,Q=q<J?J<Z?Z:J:q<Z?Z:q;if(0==B.bounds.width)B.bounds.x=H,B.bounds.width=j-H;else{H<B.bounds.x&&(B.bounds.width+=B.bounds.x-H,B.bounds.x=H);var ee=B.bounds;j>ee.x+ee.width&&(B.bounds.width=j-B.bounds.x)}if(0==B.bounds.height)B.bounds.y=K,B.bounds.height=Q-K;else{K<B.bounds.y&&(B.bounds.height+=B.bounds.y-K,B.bounds.y=K);var te=B.bounds;Q>te.y+te.height&&(B.bounds.height=Q-B.bounds.y)}}}}else{var ae=i.x,ne=i.y,ie=s.x,se=s.y,_e=u.x,re=u.y,oe=this.color,le=this.alpha;this.scale&&(ae*=haxepunk_HXP.screen.scaleX,ie*=haxepunk_HXP.screen.scaleX,_e*=haxepunk_HXP.screen.scaleX,ne*=haxepunk_HXP.screen.scaleY,se*=haxepunk_HXP.screen.scaleY,re*=haxepunk_HXP.screen.scaleY);var he=this.command;if(le>0){var ue;if(he.shader.attributeNames.length<=0){var pe,ce=he.visibleArea;if((ae>ie?ie>_e?_e:ie:ae>_e?_e:ae)<=ce.x+ce.width&&(ae<ie?ie<_e?_e:ie:ae<_e?_e:ae)>=he.visibleArea.x){var de=he.visibleArea;pe=(ne>se?se>re?re:se:ne>re?re:ne)<=de.y+de.height}else pe=!1;ue=pe&&(ne<se?se<re?re:se:ne<re?re:ne)>=he.visibleArea.y}else ue=!0;if(ue){var fe;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(fe=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,fe._next=null):fe=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var me=fe;me.tx1=ae,me.ty1=ne,me.uvx1=0,me.uvy1=0,me.tx2=ie,me.ty2=se,me.uvx2=0,me.uvy2=0,me.tx3=_e,me.ty3=re,me.uvx3=0,me.uvy3=0,me.color=oe,me.alpha=le,null==he.data?he.data=me:he._lastData._next=me,he._lastData=me,++he.triangleCount;var ge=me.tx1,xe=me.tx2,ke=me.tx3,ye=ge>xe?xe>ke?ke:xe:ge>ke?ke:ge,be=me.tx1,ve=me.tx2,Pe=me.tx3,we=be<ve?ve<Pe?Pe:ve:be<Pe?Pe:be,Te=me.ty1,Ce=me.ty2,Se=me.ty3,Ae=Te>Ce?Ce>Se?Se:Ce:Te>Se?Se:Te,Ee=me.ty1,De=me.ty2,Me=me.ty3,Re=Ee<De?De<Me?Me:De:Ee<Me?Me:Ee;if(0==he.bounds.width)he.bounds.x=ye,he.bounds.width=we-ye;else{ye<he.bounds.x&&(he.bounds.width+=he.bounds.x-ye,he.bounds.x=ye);var Le=he.bounds;we>Le.x+Le.width&&(he.bounds.width=we-he.bounds.x)}if(0==he.bounds.height)he.bounds.y=Ae,he.bounds.height=Re-Ae;else{Ae<he.bounds.y&&(he.bounds.height+=he.bounds.y-Ae,he.bounds.y=Ae);var Ie=he.bounds;Re>Ie.y+Ie.height&&(he.bounds.height=Re-he.bounds.y)}}}}var $e=s.x,Be=s.y,Oe=l.x,Ge=l.y,Fe=u.x,Ne=u.y,He=this.color,Ue=this.alpha;this.scale&&($e*=haxepunk_HXP.screen.scaleX,Oe*=haxepunk_HXP.screen.scaleX,Fe*=haxepunk_HXP.screen.scaleX,Be*=haxepunk_HXP.screen.scaleY,Ge*=haxepunk_HXP.screen.scaleY,Ne*=haxepunk_HXP.screen.scaleY);var Xe=this.command;if(Ue>0){var Ve;if(Xe.shader.attributeNames.length<=0){var je,ze=Xe.visibleArea;if(($e>Oe?Oe>Fe?Fe:Oe:$e>Fe?Fe:$e)<=ze.x+ze.width&&($e<Oe?Oe<Fe?Fe:Oe:$e<Fe?Fe:$e)>=Xe.visibleArea.x){var We=Xe.visibleArea;je=(Be>Ge?Ge>Ne?Ne:Ge:Be>Ne?Ne:Be)<=We.y+We.height}else je=!1;Ve=je&&(Be<Ge?Ge<Ne?Ne:Ge:Be<Ne?Ne:Be)>=Xe.visibleArea.y}else Ve=!0;if(Ve){var Ye;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Ye=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Ye._next=null):Ye=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var Ke=Ye;Ke.tx1=$e,Ke.ty1=Be,Ke.uvx1=0,Ke.uvy1=0,Ke.tx2=Oe,Ke.ty2=Ge,Ke.uvx2=0,Ke.uvy2=0,Ke.tx3=Fe,Ke.ty3=Ne,Ke.uvx3=0,Ke.uvy3=0,Ke.color=He,Ke.alpha=Ue,null==Xe.data?Xe.data=Ke:Xe._lastData._next=Ke,Xe._lastData=Ke,++Xe.triangleCount;var qe=Ke.tx1,Je=Ke.tx2,Ze=Ke.tx3,Qe=qe>Je?Je>Ze?Ze:Je:qe>Ze?Ze:qe,et=Ke.tx1,tt=Ke.tx2,at=Ke.tx3,nt=et<tt?tt<at?at:tt:et<at?at:et,it=Ke.ty1,st=Ke.ty2,_t=Ke.ty3,rt=it>st?st>_t?_t:st:it>_t?_t:it,ot=Ke.ty1,lt=Ke.ty2,ht=Ke.ty3,ut=ot<lt?lt<ht?ht:lt:ot<ht?ht:ot;if(0==Xe.bounds.width)Xe.bounds.x=Qe,Xe.bounds.width=nt-Qe;else{Qe<Xe.bounds.x&&(Xe.bounds.width+=Xe.bounds.x-Qe,Xe.bounds.x=Qe);var pt=Xe.bounds;nt>pt.x+pt.width&&(Xe.bounds.width=nt-Xe.bounds.x)}if(0==Xe.bounds.height)Xe.bounds.y=rt,Xe.bounds.height=ut-rt;else{rt<Xe.bounds.y&&(Xe.bounds.height+=Xe.bounds.y-rt,Xe.bounds.y=rt);var ct=Xe.bounds;ut>ct.y+ct.height&&(Xe.bounds.height=ut-Xe.bounds.y)}}}var dt=h.x,ft=h.y,mt=l.x,gt=l.y,xt=u.x,kt=u.y,yt=this.color,bt=this.alpha;this.scale&&(dt*=haxepunk_HXP.screen.scaleX,mt*=haxepunk_HXP.screen.scaleX,xt*=haxepunk_HXP.screen.scaleX,ft*=haxepunk_HXP.screen.scaleY,gt*=haxepunk_HXP.screen.scaleY,kt*=haxepunk_HXP.screen.scaleY);var vt=this.command;if(bt>0){var Pt;if(vt.shader.attributeNames.length<=0){var wt,Tt=vt.visibleArea;if((dt>mt?mt>xt?xt:mt:dt>xt?xt:dt)<=Tt.x+Tt.width&&(dt<mt?mt<xt?xt:mt:dt<xt?xt:dt)>=vt.visibleArea.x){var Ct=vt.visibleArea;wt=(ft>gt?gt>kt?kt:gt:ft>kt?kt:ft)<=Ct.y+Ct.height}else wt=!1;Pt=wt&&(ft<gt?gt<kt?kt:gt:ft<kt?kt:ft)>=vt.visibleArea.y}else Pt=!0;if(Pt){var St;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(St=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,St._next=null):St=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var At=St;At.tx1=dt,At.ty1=ft,At.uvx1=0,At.uvy1=0,At.tx2=mt,At.ty2=gt,At.uvx2=0,At.uvy2=0,At.tx3=xt,At.ty3=kt,At.uvx3=0,At.uvy3=0,At.color=yt,At.alpha=bt,null==vt.data?vt.data=At:vt._lastData._next=At,vt._lastData=At,++vt.triangleCount;var Et=At.tx1,Dt=At.tx2,Mt=At.tx3,Rt=Et>Dt?Dt>Mt?Mt:Dt:Et>Mt?Mt:Et,Lt=At.tx1,It=At.tx2,$t=At.tx3,Bt=Lt<It?It<$t?$t:It:Lt<$t?$t:Lt,Ot=At.ty1,Gt=At.ty2,Ft=At.ty3,Nt=Ot>Gt?Gt>Ft?Ft:Gt:Ot>Ft?Ft:Ot,Ht=At.ty1,Ut=At.ty2,Xt=At.ty3,Vt=Ht<Ut?Ut<Xt?Xt:Ut:Ht<Xt?Xt:Ht;if(0==vt.bounds.width)vt.bounds.x=Rt,vt.bounds.width=Bt-Rt;else{Rt<vt.bounds.x&&(vt.bounds.width+=vt.bounds.x-Rt,vt.bounds.x=Rt);var jt=vt.bounds;Bt>jt.x+jt.width&&(vt.bounds.width=Bt-vt.bounds.x)}if(0==vt.bounds.height)vt.bounds.y=Nt,vt.bounds.height=Vt-Nt;else{Nt<vt.bounds.y&&(vt.bounds.height+=vt.bounds.y-Nt,vt.bounds.y=Nt);var zt=vt.bounds;Vt>zt.y+zt.height&&(vt.bounds.height=Vt-vt.bounds.y)}}}if(t){var Wt=h.x,Yt=h.y,Kt=l.x,qt=l.y,Jt=p.x,Zt=p.y,Qt=this.color,ea=this.alpha;this.scale&&(Wt*=haxepunk_HXP.screen.scaleX,Kt*=haxepunk_HXP.screen.scaleX,Jt*=haxepunk_HXP.screen.scaleX,Yt*=haxepunk_HXP.screen.scaleY,qt*=haxepunk_HXP.screen.scaleY,Zt*=haxepunk_HXP.screen.scaleY);var ta=this.command;if(ea>0){var aa;if(ta.shader.attributeNames.length<=0){var na,ia=ta.visibleArea;if((Wt>Kt?Kt>Jt?Jt:Kt:Wt>Jt?Jt:Wt)<=ia.x+ia.width&&(Wt<Kt?Kt<Jt?Jt:Kt:Wt<Jt?Jt:Wt)>=ta.visibleArea.x){var sa=ta.visibleArea;na=(Yt>qt?qt>Zt?Zt:qt:Yt>Zt?Zt:Yt)<=sa.y+sa.height}else na=!1;aa=na&&(Yt<qt?qt<Zt?Zt:qt:Yt<Zt?Zt:Yt)>=ta.visibleArea.y}else aa=!0;if(aa){var _a;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(_a=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,_a._next=null):_a=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var ra=_a;ra.tx1=Wt,ra.ty1=Yt,ra.uvx1=0,ra.uvy1=0,ra.tx2=Kt,ra.ty2=qt,ra.uvx2=0,ra.uvy2=0,ra.tx3=Jt,ra.ty3=Zt,ra.uvx3=0,ra.uvy3=0,ra.color=Qt,ra.alpha=ea,null==ta.data?ta.data=ra:ta._lastData._next=ra,ta._lastData=ra,++ta.triangleCount;var oa=ra.tx1,la=ra.tx2,ha=ra.tx3,ua=oa>la?la>ha?ha:la:oa>ha?ha:oa,pa=ra.tx1,ca=ra.tx2,da=ra.tx3,fa=pa<ca?ca<da?da:ca:pa<da?da:pa,ma=ra.ty1,ga=ra.ty2,xa=ra.ty3,ka=ma>ga?ga>xa?xa:ga:ma>xa?xa:ma,ya=ra.ty1,ba=ra.ty2,va=ra.ty3,Pa=ya<ba?ba<va?va:ba:ya<va?va:ya;if(0==ta.bounds.width)ta.bounds.x=ua,ta.bounds.width=fa-ua;else{ua<ta.bounds.x&&(ta.bounds.width+=ta.bounds.x-ua,ta.bounds.x=ua);var wa=ta.bounds;fa>wa.x+wa.width&&(ta.bounds.width=fa-ta.bounds.x)}if(0==ta.bounds.height)ta.bounds.y=ka,ta.bounds.height=Pa-ka;else{ka<ta.bounds.y&&(ta.bounds.height+=ta.bounds.y-ka,ta.bounds.y=ka);var Ta=ta.bounds;Pa>Ta.y+Ta.height&&(ta.bounds.height=Pa-ta.bounds.y)}}}}d?(i.x=h.x,i.y=h.y,s.x=u.x,s.y=u.y):(i.x=u.x,i.y=u.y,s.x=h.x,s.y=h.y),l.x=c.x,l.y=c.y}if(h.x=e[e.length-2],h.y=e[e.length-1],r.x-=h.x,r.y-=h.y,haxepunk_math_Vector2.setTo(r,-r.y,r.x),null==(b=a)&&(b=1),0!=r.x||0!=r.y){x=b/Math.sqrt(r.x*r.x+r.y*r.y);r.x*=x,r.y*=x}l.x=h.x,l.y=h.y,l.x+=r.x,l.y+=r.y,h.x-=r.x,h.y-=r.y;A=i.x,E=i.y,D=s.x,M=s.y,R=l.x,L=l.y,I=this.color,$=this.alpha;this.scale&&(A*=haxepunk_HXP.screen.scaleX,D*=haxepunk_HXP.screen.scaleX,R*=haxepunk_HXP.screen.scaleX,E*=haxepunk_HXP.screen.scaleY,M*=haxepunk_HXP.screen.scaleY,L*=haxepunk_HXP.screen.scaleY);B=this.command;if($>0){if(B.shader.attributeNames.length<=0){if((A>D?D>R?R:D:A>R?R:A)<=(Da=B.visibleArea).x+Da.width&&(A<D?D<R?R:D:A<R?R:A)>=B.visibleArea.x)Sa=(E>M?M>L?L:M:E>L?L:E)<=(Da=B.visibleArea).y+Da.height;else Sa=!1;Ca=Sa&&(E<M?M<L?L:M:E<L?L:E)>=B.visibleArea.y}else Ca=!0;if(Ca){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Aa=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Aa._next=null):Aa=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(Ea=Aa).tx1=A,Ea.ty1=E,Ea.uvx1=0,Ea.uvy1=0,Ea.tx2=D,Ea.ty2=M,Ea.uvx2=0,Ea.uvy2=0,Ea.tx3=R,Ea.ty3=L,Ea.uvx3=0,Ea.uvy3=0,Ea.color=I,Ea.alpha=$,null==B.data?B.data=Ea:B._lastData._next=Ea,B._lastData=Ea,++B.triangleCount;i=Ea.tx1,F=Ea.tx2,N=Ea.tx3,H=i>F?F>N?N:F:i>N?N:i,i=Ea.tx1,F=Ea.tx2,N=Ea.tx3,j=i<F?F<N?N:F:i<N?N:i,i=Ea.ty1,F=Ea.ty2,N=Ea.ty3,K=i>F?F>N?N:F:i>N?N:i,i=Ea.ty1,F=Ea.ty2,N=Ea.ty3,Q=i<F?F<N?N:F:i<N?N:i;if(0==B.bounds.width)B.bounds.x=H,B.bounds.width=j-H;else H<B.bounds.x&&(B.bounds.width+=B.bounds.x-H,B.bounds.x=H),j>(Da=B.bounds).x+Da.width&&(B.bounds.width=j-B.bounds.x);if(0==B.bounds.height)B.bounds.y=K,B.bounds.height=Q-K;else K<B.bounds.y&&(B.bounds.height+=B.bounds.y-K,B.bounds.y=K),Q>(Da=B.bounds).y+Da.height&&(B.bounds.height=Q-B.bounds.y)}}A=s.x,E=s.y,D=l.x,M=l.y,R=h.x,L=h.y,I=this.color,$=this.alpha;this.scale&&(A*=haxepunk_HXP.screen.scaleX,D*=haxepunk_HXP.screen.scaleX,R*=haxepunk_HXP.screen.scaleX,E*=haxepunk_HXP.screen.scaleY,M*=haxepunk_HXP.screen.scaleY,L*=haxepunk_HXP.screen.scaleY);B=this.command;if($>0){var Ca;if(B.shader.attributeNames.length<=0){var Sa;if((A>D?D>R?R:D:A>R?R:A)<=(Da=B.visibleArea).x+Da.width&&(A<D?D<R?R:D:A<R?R:A)>=B.visibleArea.x)Sa=(E>M?M>L?L:M:E>L?L:E)<=(Da=B.visibleArea).y+Da.height;else Sa=!1;Ca=Sa&&(E<M?M<L?L:M:E<L?L:E)>=B.visibleArea.y}else Ca=!0;if(Ca){var Aa,Ea;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Aa=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Aa._next=null):Aa=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(Ea=Aa).tx1=A,Ea.ty1=E,Ea.uvx1=0,Ea.uvy1=0,Ea.tx2=D,Ea.ty2=M,Ea.uvx2=0,Ea.uvy2=0,Ea.tx3=R,Ea.ty3=L,Ea.uvx3=0,Ea.uvy3=0,Ea.color=I,Ea.alpha=$,null==B.data?B.data=Ea:B._lastData._next=Ea,B._lastData=Ea,++B.triangleCount;var Da;i=Ea.tx1,s=Ea.tx2,N=Ea.tx3,H=i>s?s>N?N:s:i>N?N:i,i=Ea.tx1,s=Ea.tx2,N=Ea.tx3,j=i<s?s<N?N:s:i<N?N:i,i=Ea.ty1,s=Ea.ty2,N=Ea.ty3,K=i>s?s>N?N:s:i>N?N:i,i=Ea.ty1,s=Ea.ty2,N=Ea.ty3,Q=i<s?s<N?N:s:i<N?N:i;if(0==B.bounds.width)B.bounds.x=H,B.bounds.width=j-H;else H<B.bounds.x&&(B.bounds.width+=B.bounds.x-H,B.bounds.x=H),j>(Da=B.bounds).x+Da.width&&(B.bounds.width=j-B.bounds.x);if(0==B.bounds.height)B.bounds.y=K,B.bounds.height=Q-K;else K<B.bounds.y&&(B.bounds.height+=B.bounds.y-K,B.bounds.y=K),Q>(Da=B.bounds).y+Da.height&&(B.bounds.height=Q-B.bounds.y)}}},rect:function(e,t,a,n){var i=this.lineThickness/2,s=e+a,_=t+n;this.line(e-i,t,s+i,t),this.line(e-i,_,s+i,_),this.line(e,t+i,e,_-i),this.line(s,t+i,s,_-i)},rectFilled:function(e,t,a,n){null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var i=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;this.command=i.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null);var s=e+a,_=t+n,r=e,o=t,l=e+a,h=t,u=s,p=_,c=this.color,d=this.alpha;this.scale&&(r*=haxepunk_HXP.screen.scaleX,l*=haxepunk_HXP.screen.scaleX,u*=haxepunk_HXP.screen.scaleX,o*=haxepunk_HXP.screen.scaleY,h*=haxepunk_HXP.screen.scaleY,p*=haxepunk_HXP.screen.scaleY);var f=this.command;if(d>0){if(f.shader.attributeNames.length<=0){if((r>l?l>u?u:l:r>u?u:r)<=(S=f.visibleArea).x+S.width&&(r<l?l<u?u:l:r<u?u:r)>=f.visibleArea.x)w=(o>h?h>p?p:h:o>p?p:o)<=(S=f.visibleArea).y+S.height;else w=!1;P=w&&(o<h?h<p?p:h:o<p?p:o)>=f.visibleArea.y}else P=!0;if(P){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(T=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,T._next=null):T=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(C=T).tx1=r,C.ty1=o,C.uvx1=0,C.uvy1=0,C.tx2=l,C.ty2=h,C.uvx2=0,C.uvy2=0,C.tx3=u,C.ty3=p,C.uvx3=0,C.uvy3=0,C.color=c,C.alpha=d,null==f.data?f.data=C:f._lastData._next=C,f._lastData=C,++f.triangleCount;var m=C.tx1,g=C.tx2,x=C.tx3,k=m>g?g>x?x:g:m>x?x:m,y=(m=C.tx1,g=C.tx2,x=C.tx3,m<g?g<x?x:g:m<x?x:m),b=(m=C.ty1,g=C.ty2,x=C.ty3,m>g?g>x?x:g:m>x?x:m),v=(m=C.ty1,g=C.ty2,x=C.ty3,m<g?g<x?x:g:m<x?x:m);if(0==f.bounds.width)f.bounds.x=k,f.bounds.width=y-k;else k<f.bounds.x&&(f.bounds.width+=f.bounds.x-k,f.bounds.x=k),y>(S=f.bounds).x+S.width&&(f.bounds.width=y-f.bounds.x);if(0==f.bounds.height)f.bounds.y=b,f.bounds.height=v-b;else b<f.bounds.y&&(f.bounds.height+=f.bounds.y-b,f.bounds.y=b),v>(S=f.bounds).y+S.height&&(f.bounds.height=v-f.bounds.y)}}r=e,o=t,l=s,h=_,u=e,p=t+n,c=this.color,d=this.alpha;this.scale&&(r*=haxepunk_HXP.screen.scaleX,l*=haxepunk_HXP.screen.scaleX,u*=haxepunk_HXP.screen.scaleX,o*=haxepunk_HXP.screen.scaleY,h*=haxepunk_HXP.screen.scaleY,p*=haxepunk_HXP.screen.scaleY);f=this.command;if(d>0){var P;if(f.shader.attributeNames.length<=0){var w;if((r>l?l>u?u:l:r>u?u:r)<=(S=f.visibleArea).x+S.width&&(r<l?l<u?u:l:r<u?u:r)>=f.visibleArea.x)w=(o>h?h>p?p:h:o>p?p:o)<=(S=f.visibleArea).y+S.height;else w=!1;P=w&&(o<h?h<p?p:h:o<p?p:o)>=f.visibleArea.y}else P=!0;if(P){var T,C;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(T=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,T._next=null):T=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(C=T).tx1=r,C.ty1=o,C.uvx1=0,C.uvy1=0,C.tx2=l,C.ty2=h,C.uvx2=0,C.uvy2=0,C.tx3=u,C.ty3=p,C.uvx3=0,C.uvy3=0,C.color=c,C.alpha=d,null==f.data?f.data=C:f._lastData._next=C,f._lastData=C,++f.triangleCount;var S;m=C.tx1,g=C.tx2,x=C.tx3,k=m>g?g>x?x:g:m>x?x:m,m=C.tx1,g=C.tx2,x=C.tx3,y=m<g?g<x?x:g:m<x?x:m,m=C.ty1,g=C.ty2,x=C.ty3,b=m>g?g>x?x:g:m>x?x:m,m=C.ty1,g=C.ty2,x=C.ty3,v=m<g?g<x?x:g:m<x?x:m;if(0==f.bounds.width)f.bounds.x=k,f.bounds.width=y-k;else k<f.bounds.x&&(f.bounds.width+=f.bounds.x-k,f.bounds.x=k),y>(S=f.bounds).x+S.width&&(f.bounds.width=y-f.bounds.x);if(0==f.bounds.height)f.bounds.y=b,f.bounds.height=v-b;else b<f.bounds.y&&(f.bounds.height+=f.bounds.y-b,f.bounds.y=b),v>(S=f.bounds).y+S.height&&(f.bounds.height=v-f.bounds.y)}}},circle:function(e,t,a,n,i,s){null==s&&(s=1),null==i&&(i=1),null==n&&(n=25);var _=2*Math.PI/n,r=this.lineThickness/2,o=a-r,l=a+r,h={x:0,y:0},u={x:0,y:0},p={x:0,y:0},c={x:0,y:0};null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var d=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;this.command=d.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null);for(var f=0,m=n+1;f<m;){var g=f++,x=g*_,k=Math.sin(x),y=Math.cos(x);if(haxepunk_math_Vector2.setTo(h,e+k*o*i,t+y*o*s),haxepunk_math_Vector2.setTo(u,e+k*l*i,t+y*l*s),0!=g){var b=c.x,v=c.y,P=p.x,w=p.y,T=u.x,C=u.y,S=this.color,A=this.alpha;this.scale&&(b*=haxepunk_HXP.screen.scaleX,P*=haxepunk_HXP.screen.scaleX,T*=haxepunk_HXP.screen.scaleX,v*=haxepunk_HXP.screen.scaleY,w*=haxepunk_HXP.screen.scaleY,C*=haxepunk_HXP.screen.scaleY);var E=this.command;if(A>0){var D;if(E.shader.attributeNames.length<=0){var M,R=E.visibleArea;if((b>P?P>T?T:P:b>T?T:b)<=R.x+R.width&&(b<P?P<T?T:P:b<T?T:b)>=E.visibleArea.x){var L=E.visibleArea;M=(v>w?w>C?C:w:v>C?C:v)<=L.y+L.height}else M=!1;D=M&&(v<w?w<C?C:w:v<C?C:v)>=E.visibleArea.y}else D=!0;if(D){var I;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(I=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,I._next=null):I=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var $=I;$.tx1=b,$.ty1=v,$.uvx1=0,$.uvy1=0,$.tx2=P,$.ty2=w,$.uvx2=0,$.uvy2=0,$.tx3=T,$.ty3=C,$.uvx3=0,$.uvy3=0,$.color=S,$.alpha=A,null==E.data?E.data=$:E._lastData._next=$,E._lastData=$,++E.triangleCount;var B=$.tx1,O=$.tx2,G=$.tx3,F=B>O?O>G?G:O:B>G?G:B,N=$.tx1,H=$.tx2,U=$.tx3,X=N<H?H<U?U:H:N<U?U:N,V=$.ty1,j=$.ty2,z=$.ty3,W=V>j?j>z?z:j:V>z?z:V,Y=$.ty1,K=$.ty2,q=$.ty3,J=Y<K?K<q?q:K:Y<q?q:Y;if(0==E.bounds.width)E.bounds.x=F,E.bounds.width=X-F;else{F<E.bounds.x&&(E.bounds.width+=E.bounds.x-F,E.bounds.x=F);var Z=E.bounds;X>Z.x+Z.width&&(E.bounds.width=X-E.bounds.x)}if(0==E.bounds.height)E.bounds.y=W,E.bounds.height=J-W;else{W<E.bounds.y&&(E.bounds.height+=E.bounds.y-W,E.bounds.y=W);var Q=E.bounds;J>Q.y+Q.height&&(E.bounds.height=J-E.bounds.y)}}}var ee=c.x,te=c.y,ae=u.x,ne=u.y,ie=h.x,se=h.y,_e=this.color,re=this.alpha;this.scale&&(ee*=haxepunk_HXP.screen.scaleX,ae*=haxepunk_HXP.screen.scaleX,ie*=haxepunk_HXP.screen.scaleX,te*=haxepunk_HXP.screen.scaleY,ne*=haxepunk_HXP.screen.scaleY,se*=haxepunk_HXP.screen.scaleY);var oe=this.command;if(re>0){var le;if(oe.shader.attributeNames.length<=0){var he,ue=oe.visibleArea;if((ee>ae?ae>ie?ie:ae:ee>ie?ie:ee)<=ue.x+ue.width&&(ee<ae?ae<ie?ie:ae:ee<ie?ie:ee)>=oe.visibleArea.x){var pe=oe.visibleArea;he=(te>ne?ne>se?se:ne:te>se?se:te)<=pe.y+pe.height}else he=!1;le=he&&(te<ne?ne<se?se:ne:te<se?se:te)>=oe.visibleArea.y}else le=!0;if(le){var ce;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(ce=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,ce._next=null):ce=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var de=ce;de.tx1=ee,de.ty1=te,de.uvx1=0,de.uvy1=0,de.tx2=ae,de.ty2=ne,de.uvx2=0,de.uvy2=0,de.tx3=ie,de.ty3=se,de.uvx3=0,de.uvy3=0,de.color=_e,de.alpha=re,null==oe.data?oe.data=de:oe._lastData._next=de,oe._lastData=de,++oe.triangleCount;var fe=de.tx1,me=de.tx2,ge=de.tx3,xe=fe>me?me>ge?ge:me:fe>ge?ge:fe,ke=de.tx1,ye=de.tx2,be=de.tx3,ve=ke<ye?ye<be?be:ye:ke<be?be:ke,Pe=de.ty1,we=de.ty2,Te=de.ty3,Ce=Pe>we?we>Te?Te:we:Pe>Te?Te:Pe,Se=de.ty1,Ae=de.ty2,Ee=de.ty3,De=Se<Ae?Ae<Ee?Ee:Ae:Se<Ee?Ee:Se;if(0==oe.bounds.width)oe.bounds.x=xe,oe.bounds.width=ve-xe;else{xe<oe.bounds.x&&(oe.bounds.width+=oe.bounds.x-xe,oe.bounds.x=xe);var Me=oe.bounds;ve>Me.x+Me.width&&(oe.bounds.width=ve-oe.bounds.x)}if(0==oe.bounds.height)oe.bounds.y=Ce,oe.bounds.height=De-Ce;else{Ce<oe.bounds.y&&(oe.bounds.height+=oe.bounds.y-Ce,oe.bounds.y=Ce);var Re=oe.bounds;De>Re.y+Re.height&&(oe.bounds.height=De-oe.bounds.y)}}}}p.x=u.x,p.y=u.y,c.x=h.x,c.y=h.y}},circleFilled:function(e,t,a,n,i,s){null==s&&(s=1),null==i&&(i=1),null==n&&(n=25);var _=2*Math.PI/n,r=e,o=t+a;null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var l=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;this.command=l.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null);for(var h=1,u=n+1;h<u;){var p=h++*_,c=e+Math.sin(p)*a*i,d=t+Math.cos(p)*a*s,f=e,m=t,g=r,x=o,k=c,y=d,b=this.color,v=this.alpha;this.scale&&(f*=haxepunk_HXP.screen.scaleX,g*=haxepunk_HXP.screen.scaleX,k*=haxepunk_HXP.screen.scaleX,m*=haxepunk_HXP.screen.scaleY,x*=haxepunk_HXP.screen.scaleY,y*=haxepunk_HXP.screen.scaleY);var P=this.command;if(v>0){var w;if(P.shader.attributeNames.length<=0){var T,C=P.visibleArea;if((f>g?g>k?k:g:f>k?k:f)<=C.x+C.width&&(f<g?g<k?k:g:f<k?k:f)>=P.visibleArea.x){var S=P.visibleArea;T=(m>x?x>y?y:x:m>y?y:m)<=S.y+S.height}else T=!1;w=T&&(m<x?x<y?y:x:m<y?y:m)>=P.visibleArea.y}else w=!0;if(w){var A;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(A=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,A._next=null):A=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var E=A;E.tx1=f,E.ty1=m,E.uvx1=0,E.uvy1=0,E.tx2=g,E.ty2=x,E.uvx2=0,E.uvy2=0,E.tx3=k,E.ty3=y,E.uvx3=0,E.uvy3=0,E.color=b,E.alpha=v,null==P.data?P.data=E:P._lastData._next=E,P._lastData=E,++P.triangleCount;var D=E.tx1,M=E.tx2,R=E.tx3,L=D>M?M>R?R:M:D>R?R:D,I=E.tx1,$=E.tx2,B=E.tx3,O=I<$?$<B?B:$:I<B?B:I,G=E.ty1,F=E.ty2,N=E.ty3,H=G>F?F>N?N:F:G>N?N:G,U=E.ty1,X=E.ty2,V=E.ty3,j=U<X?X<V?V:X:U<V?V:U;if(0==P.bounds.width)P.bounds.x=L,P.bounds.width=O-L;else{L<P.bounds.x&&(P.bounds.width+=P.bounds.x-L,P.bounds.x=L);var z=P.bounds;O>z.x+z.width&&(P.bounds.width=O-P.bounds.x)}if(0==P.bounds.height)P.bounds.y=H,P.bounds.height=j-H;else{H<P.bounds.y&&(P.bounds.height+=P.bounds.y-H,P.bounds.y=H);var W=P.bounds;j>W.y+W.height&&(P.bounds.height=j-P.bounds.y)}}}r=c,o=d}},arc:function(e,t,a,n,i,s){null==s&&(s=25);for(var _=i/s,r=[],o=0,l=s+1;o<l;){var h=o++*_+n;r.push(e+Math.sin(h)*a),r.push(t+Math.cos(h)*a)}this.polyline(r,!0)},curve:function(e,t,a,n,i,s,_){null==_&&(_=25);var r=[];r.push(e),r.push(t);for(var o=1/_,l=1,h=_;l<h;){var u=l++*o,p=(1-u)*(1-u)*e+2*u*(1-u)*a+u*u*i,c=(1-u)*(1-u)*t+2*u*(1-u)*n+u*u*s;r.push(p),r.push(c)}r.push(i),r.push(s),this.polyline(r)},begin:function(){null==this.shader&&(this.shader=new haxepunk_graphics_shader_ColorShader);var e=null==this.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:this.scene;this.command=e.batch.getDrawCommand(null,this.shader,this.smooth,this.blend,null)},drawTriangle:function(e,t,a){var n=e.x,i=e.y,s=t.x,_=t.y,r=a.x,o=a.y,l=this.color,h=this.alpha;this.scale&&(n*=haxepunk_HXP.screen.scaleX,s*=haxepunk_HXP.screen.scaleX,r*=haxepunk_HXP.screen.scaleX,i*=haxepunk_HXP.screen.scaleY,_*=haxepunk_HXP.screen.scaleY,o*=haxepunk_HXP.screen.scaleY);var u=this.command;if(h>0){var p;if(u.shader.attributeNames.length<=0){var c;if((n>s?s>r?r:s:n>r?r:n)<=(m=u.visibleArea).x+m.width&&(n<s?s<r?r:s:n<r?r:n)>=u.visibleArea.x)c=(i>_?_>o?o:_:i>o?o:i)<=(m=u.visibleArea).y+m.height;else c=!1;p=c&&(i<_?_<o?o:_:i<o?o:i)>=u.visibleArea.y}else p=!0;if(p){var d;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(d=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,d._next=null):d=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var f=d;f.tx1=n,f.ty1=i,f.uvx1=0,f.uvy1=0,f.tx2=s,f.ty2=_,f.uvx2=0,f.uvy2=0,f.tx3=r,f.ty3=o,f.uvx3=0,f.uvy3=0,f.color=l,f.alpha=h,null==u.data?u.data=f:u._lastData._next=f,u._lastData=f,++u.triangleCount;var m,g=f.tx1,x=f.tx2,k=f.tx3,y=g>x?x>k?k:x:g>k?k:g,b=(g=f.tx1,x=f.tx2,k=f.tx3,g<x?x<k?k:x:g<k?k:g),v=(g=f.ty1,x=f.ty2,k=f.ty3,g>x?x>k?k:x:g>k?k:g),P=(g=f.ty1,x=f.ty2,k=f.ty3,g<x?x<k?k:x:g<k?k:g);if(0==u.bounds.width)u.bounds.x=y,u.bounds.width=b-y;else y<u.bounds.x&&(u.bounds.width+=u.bounds.x-y,u.bounds.x=y),b>(m=u.bounds).x+m.width&&(u.bounds.width=b-u.bounds.x);if(0==u.bounds.height)u.bounds.y=v,u.bounds.height=P-v;else v<u.bounds.y&&(u.bounds.height+=u.bounds.y-v,u.bounds.y=v),P>(m=u.bounds).y+m.height&&(u.bounds.height=P-u.bounds.y)}}},drawQuad:function(e,t,a,n,i,s,_,r){var o=e,l=t,h=a,u=n,p=i,c=s,d=this.color,f=this.alpha;this.scale&&(o*=haxepunk_HXP.screen.scaleX,h*=haxepunk_HXP.screen.scaleX,p*=haxepunk_HXP.screen.scaleX,l*=haxepunk_HXP.screen.scaleY,u*=haxepunk_HXP.screen.scaleY,c*=haxepunk_HXP.screen.scaleY);var m=this.command;if(f>0){if(m.shader.attributeNames.length<=0){if((o>h?h>p?p:h:o>p?p:o)<=(C=m.visibleArea).x+C.width&&(o<h?h<p?p:h:o<p?p:o)>=m.visibleArea.x)P=(l>u?u>c?c:u:l>c?c:l)<=(C=m.visibleArea).y+C.height;else P=!1;v=P&&(l<u?u<c?c:u:l<c?c:l)>=m.visibleArea.y}else v=!0;if(v){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(w=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,w._next=null):w=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(T=w).tx1=o,T.ty1=l,T.uvx1=0,T.uvy1=0,T.tx2=h,T.ty2=u,T.uvx2=0,T.uvy2=0,T.tx3=p,T.ty3=c,T.uvx3=0,T.uvy3=0,T.color=d,T.alpha=f,null==m.data?m.data=T:m._lastData._next=T,m._lastData=T,++m.triangleCount;var g=T.tx1,x=T.tx2,k=T.tx3,y=g>x?x>k?k:x:g>k?k:g,b=(g=T.tx1,x=T.tx2,k=T.tx3,a=g<x?x<k?k:x:g<k?k:g,g=T.ty1,x=T.ty2,k=T.ty3,g>x?x>k?k:x:g>k?k:g);g=T.ty1,x=T.ty2,k=T.ty3,n=g<x?x<k?k:x:g<k?k:g;if(0==m.bounds.width)m.bounds.x=y,m.bounds.width=a-y;else y<m.bounds.x&&(m.bounds.width+=m.bounds.x-y,m.bounds.x=y),a>(C=m.bounds).x+C.width&&(m.bounds.width=a-m.bounds.x);if(0==m.bounds.height)m.bounds.y=b,m.bounds.height=n-b;else b<m.bounds.y&&(m.bounds.height+=m.bounds.y-b,m.bounds.y=b),n>(C=m.bounds).y+C.height&&(m.bounds.height=n-m.bounds.y)}}o=e,l=t,h=i,u=s,p=_,c=r,d=this.color,f=this.alpha;this.scale&&(o*=haxepunk_HXP.screen.scaleX,h*=haxepunk_HXP.screen.scaleX,p*=haxepunk_HXP.screen.scaleX,l*=haxepunk_HXP.screen.scaleY,u*=haxepunk_HXP.screen.scaleY,c*=haxepunk_HXP.screen.scaleY);m=this.command;if(f>0){var v;if(m.shader.attributeNames.length<=0){var P;if((o>h?h>p?p:h:o>p?p:o)<=(C=m.visibleArea).x+C.width&&(o<h?h<p?p:h:o<p?p:o)>=m.visibleArea.x)P=(l>u?u>c?c:u:l>c?c:l)<=(C=m.visibleArea).y+C.height;else P=!1;v=P&&(l<u?u<c?c:u:l<c?c:l)>=m.visibleArea.y}else v=!0;if(v){var w,T;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(w=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,w._next=null):w=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(T=w).tx1=o,T.ty1=l,T.uvx1=0,T.uvy1=0,T.tx2=h,T.ty2=u,T.uvx2=0,T.uvy2=0,T.tx3=p,T.ty3=c,T.uvx3=0,T.uvy3=0,T.color=d,T.alpha=f,null==m.data?m.data=T:m._lastData._next=T,m._lastData=T,++m.triangleCount;var C;g=T.tx1,x=T.tx2,k=T.tx3,e=g>x?x>k?k:x:g>k?k:g,g=T.tx1,x=T.tx2,k=T.tx3,a=g<x?x<k?k:x:g<k?k:g,g=T.ty1,x=T.ty2,k=T.ty3,t=g>x?x>k?k:x:g>k?k:g,g=T.ty1,x=T.ty2,k=T.ty3,n=g<x?x<k?k:x:g<k?k:g;if(0==m.bounds.width)m.bounds.x=e,m.bounds.width=a-e;else e<m.bounds.x&&(m.bounds.width+=m.bounds.x-e,m.bounds.x=e),a>(C=m.bounds).x+C.width&&(m.bounds.width=a-m.bounds.x);if(0==m.bounds.height)m.bounds.y=t,m.bounds.height=n-t;else t<m.bounds.y&&(m.bounds.height+=m.bounds.y-t,m.bounds.y=t),n>(C=m.bounds).y+C.height&&(m.bounds.height=n-m.bounds.y)}}},addTriangle:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c){this.scale&&(e*=haxepunk_HXP.screen.scaleX,i*=haxepunk_HXP.screen.scaleX,o*=haxepunk_HXP.screen.scaleX,t*=haxepunk_HXP.screen.scaleY,s*=haxepunk_HXP.screen.scaleY,l*=haxepunk_HXP.screen.scaleY);var d=this.command;if(c>0){var f;if(d.shader.attributeNames.length<=0){var m;if((e>i?i>o?o:i:e>o?o:e)<=(k=d.visibleArea).x+k.width&&(e<i?i<o?o:i:e<o?o:e)>=d.visibleArea.x)m=(t>s?s>l?l:s:t>l?l:t)<=(k=d.visibleArea).y+k.height;else m=!1;f=m&&(t<s?s<l?l:s:t<l?l:t)>=d.visibleArea.y}else f=!0;if(f){var g;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(g=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,g._next=null):g=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var x=g;x.tx1=e,x.ty1=t,x.uvx1=a,x.uvy1=n,x.tx2=i,x.ty2=s,x.uvx2=_,x.uvy2=r,x.tx3=o,x.ty3=l,x.uvx3=h,x.uvy3=u,x.color=p,x.alpha=c,null==d.data?d.data=x:d._lastData._next=x,d._lastData=x,++d.triangleCount;var k,y=x.tx1,b=x.tx2,v=x.tx3,P=y>b?b>v?v:b:y>v?v:y,w=(y=x.tx1,b=x.tx2,v=x.tx3,y<b?b<v?v:b:y<v?v:y),T=(y=x.ty1,b=x.ty2,v=x.ty3,y>b?b>v?v:b:y>v?v:y),C=(y=x.ty1,b=x.ty2,v=x.ty3,y<b?b<v?v:b:y<v?v:y);if(0==d.bounds.width)d.bounds.x=P,d.bounds.width=w-P;else P<d.bounds.x&&(d.bounds.width+=d.bounds.x-P,d.bounds.x=P),w>(k=d.bounds).x+k.width&&(d.bounds.width=w-d.bounds.x);if(0==d.bounds.height)d.bounds.y=T,d.bounds.height=C-T;else T<d.bounds.y&&(d.bounds.height+=d.bounds.y-T,d.bounds.y=T),C>(k=d.bounds).y+k.height&&(d.bounds.height=C-d.bounds.y)}}},__class__:haxepunk_utils_DrawContext};var haxepunk_Scene=function(){this.onInputReleased=haxepunk_Signals._new(),this.onInputPressed=haxepunk_Signals._new(),this.onResize=new haxepunk_Signal0,this.postRender=new haxepunk_Signal0,this.preRender=new haxepunk_Signal0,this.postUpdate=new haxepunk_Signal0,this.preUpdate=new haxepunk_Signal0,this.height=null,this._height=null,this.width=null,this._width=null,this.y=0,this.x=0,this.started=!1,this.trackDrawCalls=!0,this.bgAlpha=1,this.bgColor=null,this.visible=!0,haxepunk_Tweener.call(this),this.camera=new haxepunk_Camera;var e=js_Boot.getClass(this);this.assetCache=new haxepunk_assets_AssetCache(e.__name__),this.batch=new haxepunk_graphics_hardware_DrawCommandBatch,this._layerList=[],this._add=[],this._remove=[],this._recycle=[],this._update=new haxe_ds_List,this._layerDisplay=new haxe_ds_IntMap,this._layers=new haxe_ds_IntMap,this._types=new haxe_ds_StringMap,this._classCount=new haxe_ds_StringMap,this._recycled=new haxe_ds_StringMap,this._entityNames=new haxe_ds_StringMap};$hxClasses["haxepunk.Scene"]=haxepunk_Scene,haxepunk_Scene.__name__="haxepunk.Scene",haxepunk_Scene.squareRects=function(e,t,a,n,i,s,_,r){return e<i+_&&i<e+a?t<s+r&&s<t+n?0:t>s?(t-(s+r))*(t-(s+r)):(s-(t+n))*(s-(t+n)):t<s+r&&s<t+n?e>i?(e-(i+_))*(e-(i+_)):(i-(e+a))*(i-(e+a)):e>i?t>s?(null==(u=t)&&(u=0),null==(h=e)&&(h=0),(h-(o=i+_))*(h-o)+(u-(l=s+r))*(u-l)):(null==(u=t+n)&&(u=0),null==(h=e)&&(h=0),(h-(o=i+_))*(h-o)+(u-s)*(u-s)):t>s?(null==(u=t)&&(u=0),null==(h=e+a)&&(h=0),(h-i)*(h-i)+(u-(l=s+r))*(u-l)):(null==(u=t+n)&&(u=0),null==(h=e+a)&&(h=0),(h-i)*(h-i)+(u-s)*(u-s));var o,l,h,u},haxepunk_Scene.squarePointRect=function(e,t,a,n,i,s){return e>=a&&e<=a+i?t>=n&&t<=n+s?0:t>n?(t-(n+s))*(t-(n+s)):(n-t)*(n-t):t>=n&&t<=n+s?e>a?(e-(a+i))*(e-(a+i)):(a-e)*(a-e):e>a?t>n?(null==(l=t)&&(l=0),null==(o=e)&&(o=0),(o-(_=a+i))*(o-_)+(l-(r=n+s))*(l-r)):(null==(l=t)&&(l=0),null==(o=e)&&(o=0),(o-(_=a+i))*(o-_)+(l-n)*(l-n)):t>n?(null==(l=t)&&(l=0),null==(o=e)&&(o=0),(o-a)*(o-a)+(l-(r=n+s))*(l-r)):(null==(l=t)&&(l=0),null==(o=e)&&(o=0),(o-a)*(o-a)+(l-n)*(l-n));var _,r,o,l},haxepunk_Scene.__super__=haxepunk_Tweener,haxepunk_Scene.prototype=$extend(haxepunk_Tweener.prototype,{get_width:function(){return null==this._width?haxepunk_HXP.screen.width-this.x:this._width},set_width:function(e){return this._width=e},get_height:function(){return null==this._height?haxepunk_HXP.screen.height-this.y:this._height},set_height:function(e){return this._height=e},begin:function(){},resume:function(){},end:function(){},_resize:function(){for(var e=this._update.h;null!=e;){var t=e.item;e=e.next,t.resized()}for(var a=0,n=this.onResize.callbacks;a<n.length;){var i=n[a];++a,i()}},focusGained:function(){},focusLost:function(){},update:function(){this.camera.update();for(var e=this._update.h;null!=e;){var t=e.item;e=e.next;var a=t;if(a.get_active()&&(a.get_hasTween()&&a.updateTweens(haxepunk_HXP.elapsed),a.get_active()&&a.shouldUpdate())){for(var n=0,i=a.preUpdate.callbacks;n<i.length;){var s=i[n];++n,s()}a.update();for(var _=0,r=a.postUpdate.callbacks;_<r.length;){var o=r[_];++_,o()}}var l=a.graphic;if(null!=l&&l.active){for(var h=0,u=l.preUpdate.callbacks;h<u.length;){var p=u[h];++h,p()}l.update();for(var c=0,d=l.postUpdate.callbacks;c<d.length;){var f=d[c];++c,f()}}}this.camera.update(),null!=haxepunk_HXP.cursor&&haxepunk_HXP.cursor.get_active()&&haxepunk_HXP.cursor.update()},showLayer:function(e,t){null==t&&(t=!0),this._layerDisplay.h[e]=t},layerVisible:function(e){return!this._layerDisplay.h.hasOwnProperty(e)||this._layerDisplay.h[e]},layerSort:function(e,t){return t-e},render:function(){var e=this.batch;if(haxepunk_graphics_atlas_AtlasData._batch=e,e.head.recycle(),e.last=null,this.batch.visibleArea.setTo(0,0,null==this._width?haxepunk_HXP.screen.width-this.x:this._width,null==this._height?haxepunk_HXP.screen.height-this.y:this._height),this.bgAlpha>0){var t=haxepunk_HXP.screen;haxepunk_Scene.drawContext.scene=this,haxepunk_Scene.drawContext.blend=1;var a=haxepunk_Scene.drawContext,n=null==this.bgColor?t.color:this.bgColor,i=this.bgAlpha;null==i&&(i=1),null==n&&(n=16777215),a.color=n,a.alpha=i,haxepunk_Scene.drawContext.rectFilled(0,0,null==this._width?haxepunk_HXP.screen.width-this.x:this._width,null==this._height?haxepunk_HXP.screen.height-this.y:this._height)}for(var s=0,_=this.preRender.callbacks;s<_.length;){var r=_[s];++s,r()}for(s=0,_=this._layerList;s<_.length;){var o=_[s];if(++s,!this._layerDisplay.h.hasOwnProperty(o)||this._layerDisplay.h[o])for(var l=0,h=this._layers.h[o];l<h.length;){var u=h[l];++l,u.get_visible()&&u.render(null==u.camera?this.camera:u.camera)}}null!=haxepunk_HXP.cursor&&haxepunk_HXP.cursor.get_visible()&&this==haxepunk_HXP.engine._scene&&haxepunk_HXP.cursor.render(this.camera);for(s=0,_=this.postRender.callbacks;s<_.length;){r=_[s];++s,r()}},get_mouseX:function(){var e=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-this.x,t=this.camera;return e/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX)+this.camera.x|0},get_mouseY:function(){var e=haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-this.y,t=this.camera;return e/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY)+this.camera.y|0},add:function(e){return this._add[this._add.length]=e,e},remove:function(e){return this._remove[this._remove.length]=e,e},removeAll:function(){for(var e=this._update.h;null!=e;){var t=e.item;e=e.next;var a=t;this._remove[this._remove.length]=a}},addList:function(e){for(var t=$getIterator(e);t.hasNext();){var a=t.next();this.add(a)}},removeList:function(e){for(var t=$getIterator(e);t.hasNext();){var a=t.next();this.remove(a)}},addGraphic:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0);var i=new haxepunk_Entity(a,n,e);return i.set_layer(t),i.set_active(!1),this.add(i)},addMask:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0);var i=new haxepunk_Entity(a,n,null,e);return""!=t&&i.set_type(t),i.set_active(i.set_visible(!1)),this.add(i)},create:function(e,t,a){null==t&&(t=!0);var n=e.__name__,i=this._recycled.h[n];return null!=i?(this._recycled.h[n]=i._recycleNext,i._recycleNext=null):i=null!=a?Type.createInstance(e,a):Type.createInstance(e,[]),t?this.add(i):i},recycle:function(e){return this._recycle[this._recycle.length]=e,this.remove(e)},clearRecycled:function(e){for(var t,a=e.__name__,n=this._recycled.h[a];null!=n;)t=n._recycleNext,n._recycleNext=null,n=t;var i=this._recycled;Object.prototype.hasOwnProperty.call(i.h,a)&&delete i.h[a]},clearRecycledAll:function(){for(var e=haxe_ds_StringMap.valueIterator(this._recycled.h);e.hasNext();){var t=e.next();this.clearRecycled(js_Boot.getClass(t))}},bringToFront:function(e){if(e._scene!=this)return!1;var t=this._layers.h[e._layer];return HxOverrides.remove(t,e),t.push(e),!0},sendToBack:function(e){if(e._scene!=this)return!1;var t=this._layers.h[e._layer];return HxOverrides.remove(t,e),t.push(e),!0},bringForward:function(e){return e._scene==this},sendBackward:function(e){return e._scene==this},isAtFront:function(e){return e==this._layers.h[e._layer][0]},isAtBack:function(e){return e==this._layers.h[e._layer][this._layers.h[e._layer].length-1]},collideRect:function(e,t,a,n,i){if(Object.prototype.hasOwnProperty.call(this._types.h,e))for(var s=0,_=this._types.h[e];s<_.length;){var r=_[s];if(++s,r.get_collidable()&&r.collideRect(r.get_x(),r.get_y(),t,a,n,i))return r}return null},collidePoint:function(e,t,a){var n=null;if(Object.prototype.hasOwnProperty.call(this._types.h,e))for(var i=0,s=this._types.h[e];i<s.length;){var _=s[i];++i,_.get_collidable()&&_.collidePoint(_.get_x(),_.get_y(),t,a)&&(null==n||_._layer<n._layer)&&(n=_)}return n},collideLine:function(e,t,a,n,i,s,_){null==s&&(s=1),s<1&&(s=1);var r=n,o=i;if(null==o&&(o=0),null==r&&(r=0),Math.sqrt((r-t)*(r-t)+(o-a)*(o-a))<s)return null!=_?t==n&&a==i?(_.x=n,_.y=i,this.collidePoint(e,n,i)):this.collideLine(e,t,a,n,i,1,_):this.collidePoint(e,t,i);var l,h=0|Math.abs(n-t),u=0|Math.abs(i-a),p=n>t?s:-s,c=i>a?s:-s,d=t,f=a;if(h>u)if(c*=u/h,p>0)for(;d<n;){if(null!=(l=this.collidePoint(e,d,f)))return null==_?l:s<2?(_.x=d-p,_.y=f-c,l):this.collideLine(e,d-p|0,f-c|0,n,i,1,_);d+=p,f+=c}else for(;d>n;){if(null!=(l=this.collidePoint(e,d,f)))return null==_?l:s<2?(_.x=d-p,_.y=f-c,l):this.collideLine(e,d-p|0,f-c|0,n,i,1,_);d+=p,f+=c}else if(p*=h/u,c>0)for(;f<i;){if(null!=(l=this.collidePoint(e,d,f)))return null==_?l:s<2?(_.x=d-p,_.y=f-c,l):this.collideLine(e,d-p|0,f-c|0,n,i,1,_);d+=p,f+=c}else for(;f>i;){if(null!=(l=this.collidePoint(e,d,f)))return null==_?l:s<2?(_.x=d-p,_.y=f-c,l):this.collideLine(e,d-p|0,f-c|0,n,i,1,_);d+=p,f+=c}if(s>1){if(null==_)return this.collidePoint(e,n,i);if(null!=this.collidePoint(e,n,i))return this.collideLine(e,d-p|0,f-c|0,n,i,1,_)}return null!=_&&(_.x=n,_.y=i),null},collideRectInto:function(e,t,a,n,i,s){var _=s.length;if(Object.prototype.hasOwnProperty.call(this._types.h,e))for(var r=0,o=this._types.h[e];r<o.length;){var l=o[r];++r,l.get_collidable()&&l.collideRect(l.get_x(),l.get_y(),t,a,n,i)&&(s[_++]=l)}},collideCircleInto:function(e,t,a,n,i){if(Object.prototype.hasOwnProperty.call(this._types.h,e)){var s=i.length;n*=n;for(var _=0,r=this._types.h[e];_<r.length;){var o=r[_];++_;var l=o.get_x(),h=o.get_y();null==h&&(h=0),null==l&&(l=0),(l-t)*(l-t)+(h-a)*(h-a)<n&&(i[s++]=o)}}},collidePointInto:function(e,t,a,n,i){if(null==i&&(i=!1),Object.prototype.hasOwnProperty.call(this._types.h,e))for(var s=n.length,_=0,r=this._types.h[e];_<r.length;){var o=r[_];if(++_,o.get_collidable())if(i&&null!=o.camera){var l=this.camera,h=o.camera,u=(t+o.camera.x-this.camera.x)*(l.scale*l.scaleX)/(h.scale*h.scaleX),p=this.camera,c=o.camera,d=(a+o.camera.y-this.camera.y)*(p.scale*p.scaleY)/(c.scale*c.scaleY);o.collidePoint(o.get_x(),o.get_y(),u,d)&&(n[s++]=o)}else o.collidePoint(o.get_x(),o.get_y(),t,a)&&(n[s++]=o)}},nearestToRect:function(e,t,a,n,i){if(!Object.prototype.hasOwnProperty.call(this._types.h,e))return null;for(var s,_=179*Math.pow(10,306),r=null,o=0,l=this._types.h[e];o<l.length;){var h=l[o];++o,(s=haxepunk_Scene.squareRects(t,a,n,i,h.get_x()-h.originX,h.get_y()-h.originY,h.get_width(),h.get_height()))<_&&(_=s,r=h)}return r},nearestToEntity:function(e,t,a){if(null==a&&(a=!1),!Object.prototype.hasOwnProperty.call(this._types.h,e))return null;if(a)return this.nearestToRect(e,t.get_x()-t.originX,t.get_y()-t.originY,t.get_width(),t.get_height());for(var n,i=179*Math.pow(10,306),s=null,_=t.get_x()-t.originX,r=t.get_y()-t.originY,o=0,l=this._types.h[e];o<l.length;){var h=l[o];++o,(n=(_-h.get_x())*(_-h.get_x())+(r-h.get_y())*(r-h.get_y()))<i&&(i=n,s=h)}return s},nearestToClass:function(e,t,a,n){if(null==n&&(n=!1),!Object.prototype.hasOwnProperty.call(this._types.h,e))return null;if(n)return this.nearestToRect(e,t.get_x()-t.originX,t.get_y()-t.originY,t.get_width(),t.get_height());for(var i,s=179*Math.pow(10,306),_=null,r=t.get_x()-t.originX,o=t.get_y()-t.originY,l=0,h=this._types.h[e];l<h.length;){var u=h[l];++l,(i=(r-u.get_x())*(r-u.get_x())+(o-u.get_y())*(o-u.get_y()))<s&&js_Boot.__instanceof(t,a)&&(s=i,_=u)}return _},nearestToPoint:function(e,t,a,n){if(null==n&&(n=!1),!Object.prototype.hasOwnProperty.call(this._types.h,e))return null;var i,s=179*Math.pow(10,306),_=null;if(n)for(var r=0,o=this._types.h[e];r<o.length;){var l=o[r];++r,(i=haxepunk_Scene.squarePointRect(t,a,l.get_x()-l.originX,l.get_y()-l.originY,l.get_width(),l.get_height()))<s&&(s=i,_=l)}else for(r=0,o=this._types.h[e];r<o.length;){l=o[r];++r,(i=(t-l.get_x())*(t-l.get_x())+(a-l.get_y())*(a-l.get_y()))<s&&(s=i,_=l)}return _},get_count:function(){return this._update.length},typeCount:function(e){return Object.prototype.hasOwnProperty.call(this._types.h,e)?this._types.h[e].length:0},classCount:function(e){return Object.prototype.hasOwnProperty.call(this._classCount.h,e)?this._classCount.h[e]:0},layerCount:function(e){return this._layers.h.hasOwnProperty(e)?this._layers.h[e].length:0},get_first:function(){return this._update.first()},get_layers:function(){return this._layerList.length},entitiesForType:function(e){return Object.prototype.hasOwnProperty.call(this._types.h,e)?this._types.h[e]:null},classFirst:function(e){for(var t=this._update.h;null!=t;){var a=t.item;t=t.next;var n=a;if(js_Boot.__instanceof(n,e))return n}return null},layerFirst:function(e){return this._layers.h.hasOwnProperty(e)?this._layers.h[e][0]:null},layerLast:function(e){return this._layers.h.hasOwnProperty(e)?this._layers.h[e][this._layers.h[e].length-1]:null},get_farthest:function(){return 0==this._layerList.length?null:this._layers.h[this._layerList[this._layerList.length-1]][this._layers.h[this._layerList[this._layerList.length-1]].length-1]},get_nearest:function(){return 0==this._layerList.length?null:this._layers.h[this._layerList[0]][0]},get_layerFarthest:function(){return 0==this._layerList.length?0:this._layerList[this._layerList.length-1]},get_layerNearest:function(){return 0==this._layerList.length?0:this._layerList[0]},get_uniqueTypes:function(){for(var e=0,t=haxe_ds_StringMap.valueIterator(this._types.h);t.hasNext();){t.next();++e}return e},getType:function(e,t){if(Object.prototype.hasOwnProperty.call(this._types.h,e))for(var a=t.length,n=0,i=this._types.h[e];n<i.length;){var s=i[n];++n,t[a++]=s}},getClass:function(e,t){for(var a=t.length,n=this._update.h;null!=n;){var i=n.item;n=n.next;var s=i;js_Boot.__instanceof(s,e)&&(t[a++]=s)}},getLayer:function(e){return this._layers.h[e]},getAll:function(e){for(var t=e.length,a=this._update.h;null!=a;){var n=a.item;a=a.next;var i=n;e[t++]=i}},getInstance:function(e){return this._entityNames.h[e]},updateLists:function(e){if(null==e&&(e=!0),null!=haxepunk_HXP.cursor&&(haxepunk_HXP.cursor._scene=this),this._remove.length>0){for(var t=0,a=this._remove;t<a.length;){var n=a[t];if(++t,null!=n._scene){if(n._scene==this){n.removed();for(var i=0,s=n.onRemove.callbacks;i<s.length;){var _=s[i];++i,_()}if(n._scene=null,this.removeUpdate(n),this.removeRender(n),""!=n._type&&this.removeType(n),""!=n._name){var r=n._name,o=this._entityNames;Object.prototype.hasOwnProperty.call(o.h,r)&&delete o.h[r]}n.autoClear&&n.get_hasTween()&&n.clearTweens()}}else{var l=this._add.indexOf(n);l>=0&&this._add.splice(l,1)}}this._remove.length=0}if(e&&this._add.length>0){for(t=0,a=this._add;t<a.length;){n=a[t];if(++t,null==n._scene){n._scene=this,this.addUpdate(n),this.addRender(n),""!=n._type&&this.addType(n),""!=n._name&&(this._entityNames.h[n._name]=n),n.added();for(i=0,s=n.onAdd.callbacks;i<s.length;){_=s[i];++i,_()}}}this._add.length=0}if(this._recycle.length>0){for(t=0,a=this._recycle;t<a.length;){n=a[t];++t,null==n._scene&&null==n._recycleNext&&(n._recycleNext=this._recycled.h[n._class],this._recycled.h[n._class]=n)}this._recycle.length=0}},getTexture:function(e){return this.assetCache.getTexture(e)},addUpdate:function(e){this._update.add(e),0!=this._classCount.h[e._class]&&(this._classCount.h[e._class]=0),this._classCount.h[e._class]+=1},removeUpdate:function(e){this._update.remove(e),this._classCount.h[e._class]-=1},addRender:function(e){var t;this._layers.h.hasOwnProperty(e._layer)?t=this._layers.h[e._layer]:(t=haxepunk_Scene._pooledEntityLists.length>0?haxepunk_Scene._pooledEntityLists.pop():[],this._layers.h[e._layer]=t,0==this._layerList.length?this._layerList[0]=e._layer:haxepunk_HXP.insertSortedKey(this._layerList,e._layer,$bind(this,this.layerSort))),t.push(e)},removeRender:function(e){var t=this._layers.h[e._layer];HxOverrides.remove(t,e),0==t.length&&(HxOverrides.remove(this._layerList,e._layer),this._layers.remove(e._layer),haxepunk_Scene._pooledEntityLists.push(t))},addType:function(e){var t;Object.prototype.hasOwnProperty.call(this._types.h,e._type)?t=this._types.h[e._type]:(t=haxepunk_Scene._pooledEntityLists.length>0?haxepunk_Scene._pooledEntityLists.pop():[],this._types.h[e._type]=t),t.push(e)},removeType:function(e){if(Object.prototype.hasOwnProperty.call(this._types.h,e._type)){var t=this._types.h[e._type];if(HxOverrides.remove(t,e),0==t.length){var a=e._type,n=this._types;Object.prototype.hasOwnProperty.call(n.h,a)&&delete n.h[a],haxepunk_Scene._pooledEntityLists.push(t)}}},registerName:function(e){this._entityNames.h[e._name]=e},unregisterName:function(e){var t=e._name,a=this._entityNames;Object.prototype.hasOwnProperty.call(a.h,t)&&delete a.h[t]},__class__:haxepunk_Scene,__properties__:$extend(haxepunk_Tweener.prototype.__properties__,{get_uniqueTypes:"get_uniqueTypes",get_layerNearest:"get_layerNearest",get_layerFarthest:"get_layerFarthest",get_nearest:"get_nearest",get_farthest:"get_farthest",get_layers:"get_layers",get_first:"get_first",get_count:"get_count",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"})});var haxepunk_Screen=function(){this.scaleY=1,this.scaleX=1,this.height=0,this.width=0,this.y=0,this.x=0,this.color=0,this.scaleMode=new haxepunk_screen_ScaleMode};$hxClasses["haxepunk.Screen"]=haxepunk_Screen,haxepunk_Screen.__name__="haxepunk.Screen",haxepunk_Screen.prototype={resize:function(e,t){haxepunk_HXP.width,haxepunk_HXP.height;this.scaleMode.resize(e,t),e=haxepunk_HXP.width=(haxepunk_HXP.screen.width+.5)/haxepunk_HXP.screen.scaleX|0,t=haxepunk_HXP.height=(haxepunk_HXP.screen.height+.5)/haxepunk_HXP.screen.scaleY|0},set_scaleX:function(e){return this.scaleX!=e&&(this.scaleX=e,haxepunk_HXP.needsResize=!0),this.scaleX},set_scaleY:function(e){return this.scaleY!=e&&(this.scaleY=e,haxepunk_HXP.needsResize=!0),this.scaleY},get_mouseX:function(){return(haxepunk_HXP.app.stage.get_mouseX()-this.x)/this.scaleX|0},get_mouseY:function(){return(haxepunk_HXP.app.stage.get_mouseY()-this.y)/this.scaleY|0},capture:function(){throw haxe_Exception.thrown("Screen.capture not currently supported")},__class__:haxepunk_Screen,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX"}};var haxepunk_Sfx=function(e,t){if(this._position=0,this._pan=0,this._volume=1,this._transform=new openfl_media_SoundTransform,this._volume=1,this._pan=0,this._position=0,this._type="",null==e)throw haxe_Exception.thrown("Invalid source Sound.");if("string"==typeof e)this._sound=haxepunk_assets_AssetLoader.getSound(e),haxepunk_Sfx._sounds.h[e]=this._sound;else{var a=js_Boot.getClass(e).__name__;if(StringTools.endsWith(a,"media.Sound")){var n=e;this._sound=haxepunk_Sfx._sounds.h[n.url],null==this._sound&&(this._sound=e,haxepunk_Sfx._sounds.h[n.url]=e)}else this._sound=haxepunk_Sfx._sounds.h[a],null==this._sound&&(this._sound=e,haxepunk_Sfx._sounds.h[a]=e)}this.complete=t};$hxClasses["haxepunk.Sfx"]=haxepunk_Sfx,haxepunk_Sfx.__name__="haxepunk.Sfx",haxepunk_Sfx.getPan=function(e){var t=0;if(Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typeTransforms.h,e)){var a=haxepunk_Sfx._typeTransforms.h[e];null!=a&&(t=a.pan)}return t+haxepunk_HXP._pan},haxepunk_Sfx.getVolume=function(e){var t=1;if(Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typeTransforms.h,e)){var a=haxepunk_Sfx._typeTransforms.h[e];null!=a&&(t=a.volume)}return t*haxepunk_HXP.volume},haxepunk_Sfx.setPan=function(e,t){var a=haxepunk_Sfx._typeTransforms.h[e];if(null==a&&(a=new openfl_media_SoundTransform,haxepunk_Sfx._typeTransforms.h[e]=a),a.pan=haxepunk_math_MathUtil.clamp(t,-1,1),Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typePlaying.h,e))for(var n=0,i=haxepunk_Sfx._typePlaying.h[e];n<i.length;){var s=i[n];++n,s.set_pan(s.get_pan())}},haxepunk_Sfx.setVolume=function(e,t){var a=haxepunk_Sfx._typeTransforms.h[e];if(null==a&&(a=new openfl_media_SoundTransform,haxepunk_Sfx._typeTransforms.h[e]=a),a.volume=t<0?0:t,Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typePlaying.h,e))for(var n=0,i=haxepunk_Sfx._typePlaying.h[e];n<i.length;){var s=i[n];++n,s.set_volume(s.get_volume())}},haxepunk_Sfx.onGlobalUpdated=function(e){for(var t=haxe_ds_StringMap.keysIterator(haxepunk_Sfx._typePlaying.h);t.hasNext();)for(var a=t.next(),n=0,i=haxepunk_Sfx._typePlaying.h[a];n<i.length;){var s=i[n];++n,e?s.set_pan(s.get_pan()):s.set_volume(s.get_volume())}},haxepunk_Sfx.prototype={play:function(e,t,a){null==a&&(a=!1),null==t&&(t=0),null==e&&(e=1),null!=this._sound&&(null!=this._channel&&this.stop(),this._pan=haxepunk_math_MathUtil.clamp(t,-1,1),this._volume=e<0?0:e,this._filteredPan=haxepunk_math_MathUtil.clamp(this._pan+haxepunk_Sfx.getPan(this._type),-1,1),this._filteredVol=Math.max(0,this._volume*haxepunk_Sfx.getVolume(this._type)),this._transform.pan=this._filteredPan,this._transform.volume=this._filteredVol,this._channel=this._sound.play(0,a?-1:0,this._transform),null!=this._channel&&(this.addPlaying(),this._channel.addEventListener("soundComplete",$bind(this,this.onComplete))),this._looping=a,this._position=0)},loop:function(e,t){null==t&&(t=0),null==e&&(e=1),this.play(e,t,!0)},stop:function(){return null!=this._channel&&(this.removePlaying(),this._position=this._channel.get_position(),this._channel.removeEventListener("soundComplete",$bind(this,this.onComplete)),this._channel.stop(),this._channel=null,!0)},resume:function(){this._channel=this._sound.play(this._position,this._looping?-1:0,this._transform),null!=this._channel&&(this.addPlaying(),this._channel.addEventListener("soundComplete",$bind(this,this.onComplete))),this._position=0},onComplete:function(e){this._looping?this.loop(this._volume,this._pan):this.stop(),this._position=0,null!=this.complete&&this.complete()},addPlaying:function(){var e;Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typePlaying.h,this._type)?e=haxepunk_Sfx._typePlaying.h[this._type]:(e=[],haxepunk_Sfx._typePlaying.h[this._type]=e),e.push(this)},removePlaying:function(){Object.prototype.hasOwnProperty.call(haxepunk_Sfx._typePlaying.h,this._type)&&HxOverrides.remove(haxepunk_Sfx._typePlaying.h[this._type],this)},get_volume:function(){return this._volume},set_volume:function(e){if(e<0&&(e=0),null==this._channel)return e;this._volume=e;var t=e*haxepunk_Sfx.getVolume(this._type);return t<0&&(t=0),this._filteredVol==t?e:(this._filteredVol=this._transform.volume=t,this._channel.set_soundTransform(this._transform),this._volume)},get_pan:function(){return this._pan},set_pan:function(e){if(e=haxepunk_math_MathUtil.clamp(e,-1,1),null==this._channel)return e;var t=haxepunk_math_MathUtil.clamp(e+haxepunk_Sfx.getPan(this._type),-1,1);return this._filteredPan==t?e:(this._pan=e,this._filteredPan=this._transform.pan=t,this._channel.set_soundTransform(this._transform),this._pan)},get_type:function(){return this._type},set_type:function(e){return this._type==e||(null!=this._channel?(this.removePlaying(),this._type=e,this.addPlaying(),this.set_pan(this.get_pan()),this.set_volume(this.get_volume())):this._type=e),e},get_playing:function(){return null!=this._channel},get_position:function(){return(null!=this._channel?this._channel.get_position():this._position)/1e3},get_length:function(){return this._sound.get_length()/1e3},__class__:haxepunk_Sfx,__properties__:{get_length:"get_length",get_position:"get_position",get_playing:"get_playing",set_type:"set_type",get_type:"get_type",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume"}};var haxepunk_Signal=function(){this.callbacks=[]};$hxClasses["haxepunk.Signal"]=haxepunk_Signal,haxepunk_Signal.__name__="haxepunk.Signal",haxepunk_Signal.prototype={exists:function(e){return this.callbacks.indexOf(e)>-1},bind:function(e){this.callbacks.push(e)},remove:function(e){HxOverrides.remove(this.callbacks,e)},clear:function(){for(;this.callbacks.length>0;)this.callbacks.pop()},__class__:haxepunk_Signal};var haxepunk_Signal0=function(){haxepunk_Signal.call(this)};$hxClasses["haxepunk.Signal0"]=haxepunk_Signal0,haxepunk_Signal0.__name__="haxepunk.Signal0",haxepunk_Signal0.__super__=haxepunk_Signal,haxepunk_Signal0.prototype=$extend(haxepunk_Signal.prototype,{invoke:function(){for(var e=0,t=this.callbacks;e<t.length;){var a=t[e];++e,a()}},__class__:haxepunk_Signal0});var haxepunk_Signal1=function(){haxepunk_Signal.call(this)};$hxClasses["haxepunk.Signal1"]=haxepunk_Signal1,haxepunk_Signal1.__name__="haxepunk.Signal1",haxepunk_Signal1.__super__=haxepunk_Signal,haxepunk_Signal1.prototype=$extend(haxepunk_Signal.prototype,{invoke:function(e){for(var t=0,a=this.callbacks;t<a.length;){var n=a[t];++t,n(e)}},__class__:haxepunk_Signal1});var haxepunk_Signal2=function(){haxepunk_Signal.call(this)};$hxClasses["haxepunk.Signal2"]=haxepunk_Signal2,haxepunk_Signal2.__name__="haxepunk.Signal2",haxepunk_Signal2.__super__=haxepunk_Signal,haxepunk_Signal2.prototype=$extend(haxepunk_Signal.prototype,{invoke:function(e,t){for(var a=0,n=this.callbacks;a<n.length;){var i=n[a];++a,i(e,t)}},__class__:haxepunk_Signal2});var haxepunk_Signals={_new:function(){return new haxe_ds_StringMap},arrayRead:function(e,t){return e.h[t]},arrayWrite:function(e,t,a){return e.h[t]=a,a},fieldRead:function(e,t){return haxepunk_Signals.resolve(e,t)},fieldWrite:function(e,t,a){return e.h[t]=a,a},exists:function(e,t){return Object.prototype.hasOwnProperty.call(e.h,t)},invoke:function(e,t){if(Object.prototype.hasOwnProperty.call(e.h,t))for(var a=0,n=e.h[t].callbacks;a<n.length;){var i=n[a];++a,i()}},resolve:function(e,t){if(!Object.prototype.hasOwnProperty.call(e.h,t)){var a=new haxepunk_Signal0;e.h[t]=a}return e.h[t]}},haxepunk_TweenType=$hxEnums["haxepunk.TweenType"]={__ename__:"haxepunk.TweenType",__constructs__:["Persist","Looping","OneShot","PingPong"],Persist:{_hx_index:0,__enum__:"haxepunk.TweenType",toString:$estr},Looping:{_hx_index:1,__enum__:"haxepunk.TweenType",toString:$estr},OneShot:{_hx_index:2,__enum__:"haxepunk.TweenType",toString:$estr},PingPong:{_hx_index:3,__enum__:"haxepunk.TweenType",toString:$estr}},haxepunk_Tween=function(e,t,a,n){if(this._time=0,this.onComplete=new haxepunk_Signal0,this.onUpdate=new haxepunk_Signal0,this.onStart=new haxepunk_Signal0,this.forward=!0,this.active=!1,e<0)throw haxe_Exception.thrown("Tween duration must be positive!");this._target=e,this._type=null==t?haxepunk_TweenType.Persist:t,this._ease=n,this._t=0,null!=a&&this.onComplete.callbacks.push(a)};$hxClasses["haxepunk.Tween"]=haxepunk_Tween,haxepunk_Tween.__name__="haxepunk.Tween",haxepunk_Tween.prototype={updateInternal:function(){},update:function(e){var t=!1;if(this.active){if(this._time+=e,this._t=this.get_percent(),this._t>0&&this._t<1){var a=this._ease;null!=a&&(this._t=a(this._t))}this._time>=this._target&&(this._t=this.forward?1:0,t=!0),this.updateInternal();for(var n=0,i=this.onUpdate.callbacks;n<i.length;){var s=i[n];++n,s()}}t&&this.finish()},start:function(){if(this._time=0,0==this._target){this.active=!1;for(var e=0,t=this.onComplete.callbacks;e<t.length;){var a=t[e];++e,a()}}else{this.active=!0;for(e=0,t=this.onStart.callbacks;e<t.length;){a=t[e];++e,a()}}},finish:function(){switch(this._type._hx_index){case 0:this._time=this._target,this.active=!1;break;case 2:this._time=this._target,this.cancel();break;case 1:case 3:this._type==haxepunk_TweenType.PingPong&&(this.forward=!this.forward),this.start()}for(var e=0,t=this.onComplete.callbacks;e<t.length;){var a=t[e];++e,a()}if(this._type==haxepunk_TweenType.OneShot)for(var n=this.onComplete;n.callbacks.length>0;)n.callbacks.pop()},cancel:function(){this.active=!1,null!=this._parent&&this._parent.removeTween(this)},get_percent:function(){return 0==this._target?0:(this.forward?this._time:this._target-this._time)/this._target},set_percent:function(e){return this._time=this._target*e},get_scale:function(){return this._t},__class__:haxepunk_Tween,__properties__:{get_scale:"get_scale",set_percent:"set_percent",get_percent:"get_percent"}};var haxepunk__$internal_GamepadInput=function(){};$hxClasses["haxepunk._internal.GamepadInput"]=haxepunk__$internal_GamepadInput,haxepunk__$internal_GamepadInput.__name__="haxepunk._internal.GamepadInput",haxepunk__$internal_GamepadInput.init=function(e){lime_ui_Gamepad.onConnect.add(haxepunk__$internal_GamepadInput.onJoyDeviceAdded);for(var t=lime_ui_Gamepad.devices.iterator();t.hasNext();){var a=t.next();haxepunk__$internal_GamepadInput.onJoyDeviceAdded(a)}},haxepunk__$internal_GamepadInput.onJoyDeviceAdded=function(e){var t=new haxepunk_input_Gamepad(e.id);haxepunk_input_Gamepad.gamepads.h[e.id]=t,++haxepunk_input_Gamepad.gamepadCount;var a=lime_ui_Joystick.__getDeviceData();t.name=a[e.id].id;a=lime_ui_Joystick.__getDeviceData();t.guid=a[e.id].id;if(null!=t.type)t.type.buttons.toString(),t.type.axes.toString();e.onButtonUp.add($bind(t,t.onButtonUp)),e.onButtonDown.add($bind(t,t.onButtonDown));var n=e,i=function(e,t){haxepunk__$internal_GamepadInput.onJoyAxisMove(n,e,t)};e.onAxisMove.add(i);var s=e;i=function(){haxepunk__$internal_GamepadInput.onJoyDeviceRemoved(s)};e.onDisconnect.add(i),haxepunk_input_Input.handlers.push(t);for(var _=0,r=haxepunk_input_Gamepad.onConnect.callbacks;_<r.length;){var o=r[_];++_,o(t)}},haxepunk__$internal_GamepadInput.onJoyDeviceRemoved=function(e){var t=haxepunk_input_Gamepad.gamepad(e.id);t.connected=!1,haxepunk_input_Gamepad.gamepads.remove(e.id),--haxepunk_input_Gamepad.gamepadCount,haxepunk_input_Input.handlers.indexOf(t)>-1&&HxOverrides.remove(haxepunk_input_Input.handlers,t);for(var a=0,n=haxepunk_input_Gamepad.onDisconnect.callbacks;a<n.length;){var i=n[a];++a,i(t)}},haxepunk__$internal_GamepadInput.onJoyAxisMove=function(e,t,a){haxepunk_input_Gamepad.gamepad(e.id).onAxisMove(t,a)};var haxepunk__$internal_KeyInput=function(){};$hxClasses["haxepunk._internal.KeyInput"]=haxepunk__$internal_KeyInput,haxepunk__$internal_KeyInput.__name__="haxepunk._internal.KeyInput",haxepunk__$internal_KeyInput.init=function(e){var t=e.stage;t.addEventListener("keyDown",haxepunk__$internal_KeyInput.keyDownCallback,!1,2),t.addEventListener("keyUp",haxepunk__$internal_KeyInput.keyUpCallback,!1,2)},haxepunk__$internal_KeyInput.keyCode=function(e){return e.keyCode},haxepunk__$internal_KeyInput.keyDownCallback=function(e){var t=e.keyCode;-1!=t&&haxepunk_input_Key.onKeyDown(t,e.shiftKey)},haxepunk__$internal_KeyInput.keyUpCallback=function(e){var t=e.keyCode;-1!=t&&haxepunk_input_Key.onKeyUp(t)};var haxepunk__$internal_MouseInput=function(){};$hxClasses["haxepunk._internal.MouseInput"]=haxepunk__$internal_MouseInput,haxepunk__$internal_MouseInput.__name__="haxepunk._internal.MouseInput",haxepunk__$internal_MouseInput.init=function(e){var t=e.stage;t.addEventListener("mouseDown",haxepunk_input_Mouse.onMouseDown,!1,2),t.addEventListener("mouseUp",haxepunk_input_Mouse.onMouseUp,!1,2),t.addEventListener("mouseWheel",(function(e){haxepunk_input_Mouse.onMouseWheel(e.delta)}),!1,2),t.addEventListener("middleMouseDown",haxepunk_input_Mouse.onMiddleMouseDown,!1,2),t.addEventListener("middleMouseUp",haxepunk_input_Mouse.onMiddleMouseUp,!1,2),t.addEventListener("rightMouseDown",haxepunk_input_Mouse.onRightMouseDown,!1,2),t.addEventListener("rightMouseUp",haxepunk_input_Mouse.onRightMouseUp,!1,2),t.addEventListener("mouseMove",haxepunk__$internal_MouseInput.onMouseOver,!1,2),t.addEventListener("mouseLeave",haxepunk__$internal_MouseInput.onMouseOut,!1,2)},haxepunk__$internal_MouseInput.onMouseOver=function(e){haxepunk_input_Mouse._mouseOnScreen=!0},haxepunk__$internal_MouseInput.onMouseOut=function(e){haxepunk_input_Mouse._mouseOnScreen=!1};var haxepunk__$internal_TouchInput=function(){};$hxClasses["haxepunk._internal.TouchInput"]=haxepunk__$internal_TouchInput,haxepunk__$internal_TouchInput.__name__="haxepunk._internal.TouchInput",haxepunk__$internal_TouchInput.init=function(e){haxepunk_input_Input.multiTouchSupported=!0,haxepunk_input_Input.handlers.push(haxepunk_input_Touch);var t=e.stage;openfl_ui_Multitouch.inputMode=2,t.addEventListener("touchBegin",haxepunk__$internal_TouchInput.onTouchBegin),t.addEventListener("touchMove",haxepunk__$internal_TouchInput.onTouchMove),t.addEventListener("touchEnd",haxepunk__$internal_TouchInput.onTouchEnd)},haxepunk__$internal_TouchInput.onTouchBegin=function(e){var t=new haxepunk_input_Touch(e.stageX/haxepunk_HXP.screen.scaleX,e.stageY/haxepunk_HXP.screen.scaleY,e.touchPointID);haxepunk_input_Touch._touches.h[e.touchPointID]=t,haxepunk_input_Touch._touchOrder.push(e.touchPointID)},haxepunk__$internal_TouchInput.onTouchMove=function(e){if(haxepunk_input_Touch._touches.h.hasOwnProperty(e.touchPointID)){var t=haxepunk_input_Touch._touches.h[e.touchPointID];t.x=e.stageX/haxepunk_HXP.screen.scaleX,t.y=e.stageY/haxepunk_HXP.screen.scaleY}},haxepunk__$internal_TouchInput.onTouchEnd=function(e){haxepunk_input_Touch._touches.h.hasOwnProperty(e.touchPointID)&&(haxepunk_input_Touch._touches.h[e.touchPointID].released=!0)};var haxepunk_assets_AssetCache=function(e){this.custom=new haxe_ds_StringMap,this.atlasData=new haxe_ds_StringMap,this.tileAtlases=new haxe_ds_StringMap,this.bitmapFonts=new haxe_ds_StringMap,this.regions=new haxe_ds_StringMap,this.sounds=new haxe_ds_StringMap,this.text=new haxe_ds_StringMap,this.textures=new haxe_ds_StringMap,this.name=e};$hxClasses["haxepunk.assets.AssetCache"]=haxepunk_assets_AssetCache,haxepunk_assets_AssetCache.__name__="haxepunk.assets.AssetCache",haxepunk_assets_AssetCache.addCustomLoader=function(e,t){haxepunk_assets_AssetCache.customLoaders.h[e]=t},haxepunk_assets_AssetCache.prototype={get_enabled:function(){return haxepunk_assets_AssetCache.active.indexOf(this)>-1},addTexture:function(e,t){this.textures.h[e]=t},getTexture:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.textures.h,e))a=this.textures.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.textures.h,e)){var _=s.textures.h[e];if(t&&null!=_){this.textures.h[e]=_}a=_}}if(null==a){var r=this.textures,o=haxepunk_assets_AssetLoader.getTexture(e);if(!Object.prototype.hasOwnProperty.call(this.atlasData.h,e)){var l=new haxepunk_graphics_atlas_AtlasData(o,e);if(this.addAtlasData(e,l),!Object.prototype.hasOwnProperty.call(this.regions.h,e)){var h=l;this.addAtlasRegion(e,haxepunk_graphics_atlas_Atlas.loadImageAsRegion(h))}}var u=o;r.h[e]=u,a=u}}return a},removeTexture:function(e){var t=this.textures.h[e],a=this.textures;Object.prototype.hasOwnProperty.call(a.h,e)&&delete a.h[e];for(var n=!1,i=0,s=haxepunk_assets_AssetCache.active;i<s.length;){var _=s[i];if(++i,Object.prototype.hasOwnProperty.call(_.textures.h,e)){n=!0;break}}if(!n){t.dispose()}},addText:function(e,t){this.text.h[e]=t},getText:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.text.h,e))a=this.text.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.text.h,e)){var _=s.text.h[e];if(t&&null!=_){this.text.h[e]=_}a=_}}if(null==a){var r=this.text,o=haxepunk_assets_AssetLoader.getText(e);r.h[e]=o,a=o}}return a},removeText:function(e){var t=this.text;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addSound:function(e,t){var a=t;this.sounds.h[e]=a},getSound:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.sounds.h,e))a=this.sounds.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.sounds.h,e)){var _=s.sounds.h[e];if(t&&null!=_){var r=_;this.sounds.h[e]=r}a=_}}if(null==a){var o=this.sounds;r=haxepunk_assets_AssetLoader.getSound(e);o.h[e]=r,a=r}}return a},removeSound:function(e){var t=this.sounds;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addTileAtlas:function(e,t){this.tileAtlases.h[e]=t},getTileAtlas:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.tileAtlases.h,e))a=this.tileAtlases.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.tileAtlases.h,e)){var _=s.tileAtlases.h[e];if(t&&null!=_){this.tileAtlases.h[e]=_}a=_}}if(null==a){var r=this.tileAtlases,o=this.getTexture(e),l=new haxepunk_graphics_atlas_AtlasData(o),h=new haxepunk_graphics_atlas_TileAtlas(l);r.h[e]=h,a=h}}return a},removeTileAtlas:function(e){var t=this.tileAtlases;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addAtlasData:function(e,t){this.atlasData.h[e]=t},getAtlasData:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.atlasData.h,e))a=this.atlasData.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.atlasData.h,e)){var _=s.atlasData.h[e];if(t&&null!=_){this.atlasData.h[e]=_,this.getTexture(e,!0)}a=_}}if(null==a){var r=this.atlasData,o=new haxepunk_graphics_atlas_AtlasData(this.getTexture(e,!0),e);if(!Object.prototype.hasOwnProperty.call(this.regions.h,e)){var l=o;this.addAtlasRegion(e,haxepunk_graphics_atlas_Atlas.loadImageAsRegion(l))}var h=o;r.h[e]=h,a=h}}return a},removeAtlasData:function(e){var t=this.atlasData;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addAtlasRegion:function(e,t){this.regions.h[e]=t},getAtlasRegion:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.regions.h,e))a=this.regions.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.regions.h,e)){var _=s.regions.h[e];if(t&&null!=_){this.regions.h[e]=_,this.getAtlasData(e,!0)}a=_}}if(null==a){var r=this.regions,o=this.getAtlasData(e,!0),l=haxepunk_graphics_atlas_Atlas.loadImageAsRegion(o);r.h[e]=l,a=l}}return a},removeAtlasRegion:function(e){var t=this.regions;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addBitmapFont:function(e,t){this.bitmapFonts.h[e]=t},getBitmapFont:function(e,t){null==t&&(t=!0);var a=null;if(Object.prototype.hasOwnProperty.call(this.bitmapFonts.h,e))a=this.bitmapFonts.h[e];else{for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,Object.prototype.hasOwnProperty.call(s.bitmapFonts.h,e)){var _=s.bitmapFonts.h[e];if(t&&null!=_){this.bitmapFonts.h[e]=_}a=_}}if(null==a){this.bitmapFonts.h[e]=null,a=null}}return a},removeBitmapFont:function(e){var t=this.bitmapFonts;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},addBitmapFontSizes:function(e,t,a,n){null==a&&(a=1);var i=new haxepunk_graphics_text_BitmapFont(e);Object.prototype.hasOwnProperty.call(this.bitmapFonts.h,e)||(this.bitmapFonts.h[e]=i);this.bitmapFonts.h[e];for(var s=0;s<t.length;){var _=t[s];++s,i.addSize(haxepunk_graphics_text_BitmapFontAtlas.getFont(_,a,n))}return i},addResolutions:function(e,t){if(Object.prototype.hasOwnProperty.call(this.regions.h,e)){for(var a=this.regions.h[e],n=0;n<t.length;){var i=t[n];++n;var s=this.getAtlasRegion(i);a.addResolution(s)}return a}n=[];for(var _=0;_<t.length;){i=t[_];++_;var r=haxepunk_assets_AssetCache.global.getAtlasData(i,!1);n.push(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(r))}a=new haxepunk_graphics_atlas_AtlasResolutions(n);return this.regions.h[e]=a,a},addTextureAtlas:function(e){for(var t=haxe_ds_StringMap.keysIterator(e._regions.h);t.hasNext();){var a,n=t.next(),i=this.regions;if(!Object.prototype.hasOwnProperty.call(e._regions.h,n))throw haxe_Exception.thrown('Region has not been defined yet "'+n+'".');a=e._regions.h[n],i.h[n]=a}},addCustom:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(this.custom.h,e)){var n=this.custom,i=new haxe_ds_StringMap;n.h[e]=i}i=a;this.custom.h[e].h[t]=i},getCustom:function(e,t,a){null==a&&(a=!0);for(var n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var s=i[n];if(++n,!Object.prototype.hasOwnProperty.call(s.custom.h,e)){var _=s.custom,r=new haxe_ds_StringMap;_.h[e]=r}}var o=null;if(Object.prototype.hasOwnProperty.call(this.custom.h[e].h,t))o=this.custom.h[e].h[t];else{for(n=0,i=haxepunk_assets_AssetCache.active;n<i.length;){var l=i[n];if(++n,Object.prototype.hasOwnProperty.call(l.custom.h[e].h,t)){var h=l.custom.h[e].h[t];if(a&&null!=h){r=h;this.custom.h[e].h[t]=r,haxepunk_assets_AssetCache.customLoaders.h[e].onRef(t,h,this,l)}o=h}}if(null==o){_=this.custom.h[e];var u=haxepunk_assets_AssetCache.customLoaders.h[e].load(t);haxepunk_assets_AssetCache.customLoaders.h[e].onLoad(t,u,this);r=u;_.h[t]=r,o=r}}return o},removeCustom:function(e,t,a){if(Object.prototype.hasOwnProperty.call(this.custom.h,e)&&Object.prototype.hasOwnProperty.call(this.custom.h[e].h,t)){a=this.custom.h[e].h[t];var n=this.custom.h[e];Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t];for(var i=!1,s=0,_=haxepunk_assets_AssetCache.active;s<_.length;){var r=_[s];if(++s,Object.prototype.hasOwnProperty.call(r.custom.h,e)&&Object.prototype.hasOwnProperty.call(r.custom.h[e].h,t)){i=!0;break}}i||haxepunk_assets_AssetCache.customLoaders.h[e].dispose(a)}},enable:function(){if(haxepunk_assets_AssetCache.active.indexOf(this)<=-1){haxepunk_assets_AssetCache.active.push(this)}},dispose:function(){if(haxepunk_assets_AssetCache.active.indexOf(this)>-1){haxepunk_assets_AssetCache.active.indexOf(this);HxOverrides.remove(haxepunk_assets_AssetCache.active,this);for(var e=haxe_ds_StringMap.keysIterator(this.textures.h);e.hasNext();){var t=e.next();this.removeTexture(t)}}},__class__:haxepunk_assets_AssetCache,__properties__:{get_enabled:"get_enabled"}};var haxepunk_assets_AssetLoader=function(){};$hxClasses["haxepunk.assets.AssetLoader"]=haxepunk_assets_AssetLoader,haxepunk_assets_AssetLoader.__name__="haxepunk.assets.AssetLoader",haxepunk_assets_AssetLoader.getText=function(e){return openfl_utils_Assets.getText(e)},haxepunk_assets_AssetLoader.getSound=function(e){return openfl_utils_Assets.getSound(e,!1)},haxepunk_assets_AssetLoader.getTexture=function(e){return openfl_utils_Assets.getBitmapData(e,!1)};var haxepunk_assets_AssetMacros=function(){};$hxClasses["haxepunk.assets.AssetMacros"]=haxepunk_assets_AssetMacros,haxepunk_assets_AssetMacros.__name__="haxepunk.assets.AssetMacros";var haxepunk_assets_CustomAssetLoader=function(){};$hxClasses["haxepunk.assets.CustomAssetLoader"]=haxepunk_assets_CustomAssetLoader,haxepunk_assets_CustomAssetLoader.__name__="haxepunk.assets.CustomAssetLoader",haxepunk_assets_CustomAssetLoader.prototype={load:function(e){return null},dispose:function(e){},onLoad:function(e,t,a){},onRef:function(e,t,a,n){},__class__:haxepunk_assets_CustomAssetLoader};var haxepunk_cameras_StaticCamera=function(e,t){haxepunk_Camera.call(this,e,t)};$hxClasses["haxepunk.cameras.StaticCamera"]=haxepunk_cameras_StaticCamera,haxepunk_cameras_StaticCamera.__name__="haxepunk.cameras.StaticCamera",haxepunk_cameras_StaticCamera.__super__=haxepunk_Camera,haxepunk_cameras_StaticCamera.prototype=$extend(haxepunk_Camera.prototype,{update:function(){haxepunk_Camera.prototype.update.call(this),this.x=this.y=0},__class__:haxepunk_cameras_StaticCamera});var haxepunk_cameras_UICamera=function(e,t){haxepunk_cameras_StaticCamera.call(this,e,t)};$hxClasses["haxepunk.cameras.UICamera"]=haxepunk_cameras_UICamera,haxepunk_cameras_UICamera.__name__="haxepunk.cameras.UICamera",haxepunk_cameras_UICamera.__super__=haxepunk_cameras_StaticCamera,haxepunk_cameras_UICamera.prototype=$extend(haxepunk_cameras_StaticCamera.prototype,{update:function(){haxepunk_cameras_StaticCamera.prototype.update.call(this),this.scale=1,this.scaleX=1/haxepunk_HXP.screen.scaleX,this.scaleY=1/haxepunk_HXP.screen.scaleY},__class__:haxepunk_cameras_UICamera});var haxepunk_debug_ButtonTray=function(e,t,a,n){var i,s;haxepunk_EntityList.call(this),(i=new haxepunk_debug_DebugButton("graphics/debug/console_visible.png",e,t)).set_x(this.get_width()),(s=this).set_width(s.get_width()+i.get_width()),this.add(i),(i=new haxepunk_debug_DebugButton("graphics/debug/console_pause.png",e,a)).set_x(this.get_width()),(s=this).set_width(s.get_width()+i.get_width()),this.add(i),(i=new haxepunk_debug_DebugButton("graphics/debug/console_step.png",e,n)).set_x(this.get_width()),(s=this).set_width(s.get_width()+i.get_width()),this.add(i),(i=new haxepunk_debug_DebugButton("graphics/debug/console_drawcall_add.png",e,$bind(this,this.incrementDrawCallDebug))).set_x(this.get_width()),(s=this).set_width(s.get_width()+i.get_width()),this.add(i),(i=new haxepunk_debug_DebugButton("graphics/debug/console_drawcall_all.png",e,$bind(this,this.resetDrawCallDebug))).set_x(this.get_width()),(s=this).set_width(s.get_width()+i.get_width()),this.add(i)};$hxClasses["haxepunk.debug.ButtonTray"]=haxepunk_debug_ButtonTray,haxepunk_debug_ButtonTray.__name__="haxepunk.debug.ButtonTray",haxepunk_debug_ButtonTray.__super__=haxepunk_EntityList,haxepunk_debug_ButtonTray.prototype=$extend(haxepunk_EntityList.prototype,{resetDrawCallDebug:function(){haxepunk_graphics_hardware_HardwareRenderer.drawCallLimit=-1},incrementDrawCallDebug:function(){haxepunk_graphics_hardware_HardwareRenderer.drawCallLimit++},__class__:haxepunk_debug_ButtonTray});var haxepunk_debug_Console=function(){this._stepping=!1,this.panning=!1,this.dragging=!1,this.clickActive=!1,this.selBox=new haxepunk_math_Rectangle,this.click={x:0,y:0},this._t=0,this._dc=0,this._tri=0,this._ent=0,this._mem=0,this._fps=0,this.selected=[],this.debugDraw=!1,haxepunk_Scene.call(this),this.trackDrawCalls=!1,this.fps=new haxepunk_utils_CircularBuffer(15),this.memory=new haxepunk_utils_CircularBuffer(15),this.entities=new haxepunk_utils_CircularBuffer(15),this.triangles=new haxepunk_utils_CircularBuffer(15),this.drawCalls=new haxepunk_utils_CircularBuffer(15);var e=haxepunk_assets_AssetCache.global.getAtlasRegion("graphics/debug/console_logo.png",!1);this.logo=new haxepunk_graphics_Image(e),this.logo.blend=9,this.addGraphic(this.logo),this.fpsChart=new haxepunk_debug_Metric("FPS",this.fps,16711680,haxepunk_HXP.frameRate),this.fpsChart.set_x(this.fpsChart.set_y(8)),this.add(this.fpsChart),this.memoryChart=new haxepunk_debug_Metric("Memory (MB)",this.memory,16768341,256),this.memoryChart.set_x(this.fpsChart.get_x()),this.memoryChart.set_y(this.fpsChart.get_y()+this.fpsChart.get_height()+8),this.add(this.memoryChart),this.entitiesChart=new haxepunk_debug_Metric("Entities",this.entities,16737792,16),this.entitiesChart.set_x(this.memoryChart.get_x()),this.entitiesChart.set_y(this.memoryChart.get_y()+this.memoryChart.get_height()+8),this.add(this.entitiesChart),this.trianglesChart=new haxepunk_debug_Metric("Triangles",this.triangles,65280,128),this.trianglesChart.set_x(this.entitiesChart.get_x()),this.trianglesChart.set_y(this.entitiesChart.get_y()+this.entitiesChart.get_height()+8),this.add(this.trianglesChart),this.drawCallsChart=new haxepunk_debug_Metric("Draw calls",this.drawCalls,255,16),this.drawCallsChart.set_x(this.trianglesChart.get_x()),this.drawCallsChart.set_y(this.trianglesChart.get_y()+this.trianglesChart.get_height()+8),this.add(this.drawCallsChart),this.mouseManager=new haxepunk_input_MouseManager,this.mouseManager.set_type("hxp_debug_ui"),this.buttonTray=new haxepunk_debug_ButtonTray(this.mouseManager,$bind(this,this.toggleDebugDraw),$bind(this,this.togglePause),$bind(this,this.step)),this.buttonTray.set_y(8),this.add(this.buttonTray),this.layerList=new haxepunk_debug_LayerList(this.mouseManager),this.layerList.set_y(8),this.add(this.layerList),this.logPanel=new haxepunk_debug_LogPanel(this.mouseManager),this.logPanel.set_x(8),this.add(this.logPanel),this.add(this.mouseManager),this.bgColor=12632256,this.preRender.callbacks.push($bind(this,this.debugRender)),this.camera=new haxepunk_cameras_UICamera,null==haxepunk_debug_Console.drawContext&&(haxepunk_debug_Console.drawContext=new haxepunk_utils_DrawContext,haxepunk_debug_Console.drawContext.lineThickness=2)};$hxClasses["haxepunk.debug.Console"]=haxepunk_debug_Console,haxepunk_debug_Console.__name__="haxepunk.debug.Console",haxepunk_debug_Console.__properties__={set_enabled:"set_enabled",get_enabled:"get_enabled"},haxepunk_debug_Console.enable=function(){1!=(null!=haxepunk_HXP.engine.console)&&(haxepunk_HXP.engine.console=new haxepunk_debug_Console)},haxepunk_debug_Console.get_enabled=function(){return null!=haxepunk_HXP.engine.console},haxepunk_debug_Console.set_enabled=function(e){if(e!=(null!=haxepunk_HXP.engine.console)){var t=e?new haxepunk_debug_Console:null;haxepunk_HXP.engine.console=t}return e},haxepunk_debug_Console.avg=function(e){return 0==e.len?0:Lambda.fold(e,haxepunk_debug_Console.add2,0)/e.len},haxepunk_debug_Console.add2=function(e,t){return e+t},haxepunk_debug_Console.__super__=haxepunk_Scene,haxepunk_debug_Console.prototype=$extend(haxepunk_Scene.prototype,{get_paused:function(){return haxepunk_HXP.engine.paused},set_paused:function(e){return haxepunk_HXP.engine.paused=e},update:function(){if(haxepunk_Scene.prototype.update.call(this),((e=192)<0?0!=haxepunk_input_Key._pressNum:haxepunk_input_Key._press.indexOf(e)>=0)&&(this.togglePause(),this.debugDraw=haxepunk_HXP.engine.paused),haxepunk_HXP.engine.paused||this.updateMetrics(),haxepunk_HXP.engine.paused){if(((e=221)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e])&&this.step(),(e=16)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e]){var e,t=0,a=0;if((e=37)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e])t=-1;else((e=39)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e])&&(t=1);if((e=38)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e])a=-1;else((e=40)<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e])&&(a=1);if(0!=t||0!=a){var n=haxepunk_HXP.engine._scene.camera;n.x=n.x+256*haxepunk_HXP.elapsed*t|0,n.y=n.y+256*haxepunk_HXP.elapsed*a|0}!this.clickActive&&haxepunk_input_Mouse.mouseDown&&(this.panning=!0)}if(haxepunk_input_Mouse.mousePressed){this.clickActive=!0,this.dragging=!1;var i=this.click,s=haxepunk_HXP.engine._scene,_=(r=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-s.x)/((o=s.camera).scale*o.scaleX*haxepunk_HXP.screen.scaleX)+s.camera.x|0,r=(s=haxepunk_HXP.engine._scene,haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-s.y),o=s.camera;haxepunk_math_Vector2.setTo(i,_,r/(o.scale*o.scaleY*haxepunk_HXP.screen.scaleY)+s.camera.y|0)}if(this.clickActive){s=haxepunk_HXP.engine._scene,t=(r=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-s.x)/((o=s.camera).scale*o.scaleX*haxepunk_HXP.screen.scaleX)+s.camera.x|0,s=haxepunk_HXP.engine._scene,a=(r=haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-s.y)/((o=s.camera).scale*o.scaleY*haxepunk_HXP.screen.scaleY)+s.camera.y|0;if(this.panning){var l=t-this.click.x|0,h=a-this.click.y|0;if(0!=l||0!=h){if(this.selected.length>0)for(var u=0,p=this.selected;u<p.length;){var c=p[u];++u;var d=c;d.set_x(d.get_x()+l);var f=c;f.set_y(f.get_y()+h)}else haxepunk_HXP.engine._scene.camera.x-=l,haxepunk_HXP.engine._scene.camera.y-=h;i=this.click,s=haxepunk_HXP.engine._scene,_=(r=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-s.x)/((o=s.camera).scale*o.scaleX*haxepunk_HXP.screen.scaleX)+s.camera.x|0,s=haxepunk_HXP.engine._scene,r=haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-s.y,o=s.camera;haxepunk_math_Vector2.setTo(i,_,r/(o.scale*o.scaleY*haxepunk_HXP.screen.scaleY)+s.camera.y|0)}}else{Math.abs(t-this.click.x)+Math.abs(a-this.click.y)>8&&(this.dragging=!0),this.dragging&&this.selBox.setTo(Math.min(t,this.click.x),Math.min(a,this.click.y),Math.abs(t-this.click.x),Math.abs(a-this.click.y)),haxepunk_input_Mouse.mouseReleased&&(this.dragging||this.selBox.setTo(this.click.x,this.click.y,1,1),this.setSelection(),this.clickActive=this.dragging=!1)}}haxepunk_input_Mouse.mouseDown||(this.clickActive=this.dragging=this.panning=!1)}s=this.fpsChart,o=this.memoryChart;var m=this.entitiesChart,g=this.trianglesChart,x=this.drawCallsChart,k=this.logPanel,y=this.layerList;s.set_active(s.set_visible(s.set_collidable(o.set_active(o.set_visible(o.set_collidable(m.set_active(m.set_visible(m.set_collidable(g.set_active(g.set_visible(g.set_collidable(x.set_active(x.set_visible(x.set_collidable(k.set_active(k.set_visible(k.set_collidable(y.set_active(y.set_visible(y.set_collidable(this.debugDraw)))))))))))))))))))));s=this.camera;this.logo.x=(haxepunk_HXP.screen.width/(s.scale*s.scaleX*haxepunk_HXP.screen.scaleX)-this.logo.get_width())/2;s=this.camera;this.logo.y=(haxepunk_HXP.screen.height/(s.scale*s.scaleY*haxepunk_HXP.screen.scaleY)-this.logo.get_height())/2,this.logo._visible=haxepunk_HXP.engine.paused;s=this.camera;this.buttonTray.set_x((haxepunk_HXP.screen.width/(s.scale*s.scaleX*haxepunk_HXP.screen.scaleX)-this.buttonTray.get_width())/2);s=this.camera;this.logPanel.set_width(haxepunk_HXP.screen.width/(s.scale*s.scaleX*haxepunk_HXP.screen.scaleX)-this.logPanel.get_x()-8|0);s=this.camera;this.logPanel.set_y(haxepunk_HXP.screen.height/(s.scale*s.scaleY*haxepunk_HXP.screen.scaleY)-this.logPanel.get_height()-8);s=this.camera;this.layerList.set_x(haxepunk_HXP.screen.width/(s.scale*s.scaleX*haxepunk_HXP.screen.scaleX)-this.layerList.get_width()-8),this.bgAlpha=haxepunk_HXP.engine.paused?.75:0,this.updateLists()},log:function(e){this.logPanel.log(e)},watch:function(e){},toggleDebugDraw:function(){this.debugDraw=!this.debugDraw},togglePause:function(){haxepunk_HXP.engine.paused=!haxepunk_HXP.engine.paused},step:function(){!this._stepping&&haxepunk_HXP.engine.paused&&(this._stepping=!0,haxepunk_HXP.engine.update(),this.updateMetrics(),this._stepping=!1)},updateMetrics:function(){var e,t=haxepunk_HXP.elapsed/.3333333333333333;(this._fps+=1/haxepunk_HXP.elapsed*t,this._mem+=haxepunk_HXP.app.getMemoryUse()/1024/1024*t,this._ent+=haxepunk_HXP.engine._scene._update.length*t,this._tri+=haxepunk_graphics_hardware_HardwareRenderer.triangleCount*t,this._dc+=haxepunk_graphics_hardware_HardwareRenderer.drawCallCount*t,this._t+=t,this._t>=1)&&((e=this.fps).data[(e.pos+e.len)%e.data.length]=this._fps/this._t,e.len<e.data.length?++e.len:++e.pos,(e=this.memory).data[(e.pos+e.len)%e.data.length]=this._mem/this._t,e.len<e.data.length?++e.len:++e.pos,(e=this.entities).data[(e.pos+e.len)%e.data.length]=this._ent/this._t|0,e.len<e.data.length?++e.len:++e.pos,(e=this.triangles).data[(e.pos+e.len)%e.data.length]=this._tri/this._t|0,e.len<e.data.length?++e.len:++e.pos,(e=this.drawCalls).data[(e.pos+e.len)%e.data.length]=this._dc/this._t|0,e.len<e.data.length?++e.len:++e.pos,this._fps=this._mem=this._ent=this._tri=this._dc=this._t=0)},debugRender:function(){if(this.debugDraw)for(var e=haxepunk_HXP.engine._scene,t=0,a=e._layerList;t<a.length;){var n=a[t];if(++t,!e._layerDisplay.h.hasOwnProperty(n)||e._layerDisplay.h[n])for(var i=0,s=e._layers.h[n];i<s.length;){var _=s[i];++i,_.debugDraw(null==_.camera?e.camera:_.camera,this.selected.indexOf(_)>-1)}}if(this.dragging){var r=haxepunk_debug_Console.drawContext,o=16777215,l=.9;null==l&&(l=1),null==o&&(o=16777215),r.color=o,r.alpha=l;var h=haxepunk_HXP.engine._scene.camera;haxepunk_debug_Console.drawContext.rect((this.selBox.x-h.x)*(h.scale*h.scaleX*haxepunk_HXP.screen.scaleX),(this.selBox.y-h.y)*(h.scale*h.scaleY*haxepunk_HXP.screen.scaleY),this.selBox.width*(h.scale*h.scaleX*haxepunk_HXP.screen.scaleX),this.selBox.height*(h.scale*h.scaleY*haxepunk_HXP.screen.scaleY))}},setSelection:function(){var e=haxepunk_HXP.rect;this.selected.length=0;for(var t=haxepunk_HXP.engine._scene._update.h;null!=t;){var a=t.item;t=t.next;var n=a;e.setTo(n.get_x()-4,n.get_y()-4,8,8),this.selBox.intersects(e)&&this.selected.push(n)}},__class__:haxepunk_debug_Console,__properties__:$extend(haxepunk_Scene.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused"})});var haxepunk_debug_DebugButton=function(e,t,a){haxepunk_Entity.call(this);var n=haxepunk_assets_AssetCache.global.getAtlasRegion("graphics/debug/button.png",!1);this.bg=new haxepunk_graphics_NineSlice(n,8,8,8,8),this.bg.set_alpha(.5),this.addGraphic(this.bg);n=haxepunk_assets_AssetCache.global.getAtlasRegion(e,!1);this.icon=new haxepunk_graphics_Image(n),this.icon.smooth=!0,this.addGraphic(this.icon),this.set_type(t._type),t.add(this,null,a,$bind(this,this.onEnter),$bind(this,this.onExit)),this.set_width(this.set_height(64))};$hxClasses["haxepunk.debug.DebugButton"]=haxepunk_debug_DebugButton,haxepunk_debug_DebugButton.__name__="haxepunk.debug.DebugButton",haxepunk_debug_DebugButton.__super__=haxepunk_Entity,haxepunk_debug_DebugButton.prototype=$extend(haxepunk_Entity.prototype,{update:function(){haxepunk_Entity.prototype.update.call(this),this.bg.width=this.get_width(),this.bg.height=this.get_height(),this.icon.x=(this.get_width()-this.icon.get_width())/2,this.icon.y=(this.get_height()-this.icon.get_height())/2},onEnter:function(){this.bg.set_alpha(1)},onExit:function(){this.bg.set_alpha(.5)},__class__:haxepunk_debug_DebugButton});var haxepunk_debug__$LayerList_LayerToggle=function(e){haxepunk_Entity.call(this),this.label=new haxepunk_graphics_text_BitmapText("Layer",null,null,null,null,{size:12}),this.label.set_alpha(.75),this.addGraphic(this.label),this.set_width(220),this.set_height(18),this.set_type(e._type),e.add(this,null,$bind(this,this.onClick),$bind(this,this.onEnter),$bind(this,this.onExit),null,!0)};$hxClasses["haxepunk.debug._LayerList.LayerToggle"]=haxepunk_debug__$LayerList_LayerToggle,haxepunk_debug__$LayerList_LayerToggle.__name__="haxepunk.debug._LayerList.LayerToggle",haxepunk_debug__$LayerList_LayerToggle.__super__=haxepunk_Entity,haxepunk_debug__$LayerList_LayerToggle.prototype=$extend(haxepunk_Entity.prototype,{update:function(){if(this.set_visible(this.set_collidable(null!=this.layerNumber)),null!=this.layerNumber){var e=haxepunk_HXP.engine._scene._layers.h.hasOwnProperty(this.layerNumber)?Lambda.count(haxepunk_HXP.engine._scene._layers.h[this.layerNumber]):0,t="Layer "+this.layerNumber+" ["+e+"]";this.label.text!=t&&this.label.set_text(t);var a=haxepunk_HXP.engine._scene,n=this.layerNumber;this.label.set_color(!a._layerDisplay.h.hasOwnProperty(n)||a._layerDisplay.h[n]?65280:16711680)}},onClick:function(){if(null!=this.layerNumber){var e=haxepunk_HXP.engine._scene,t=this.layerNumber,a=!(!e._layerDisplay.h.hasOwnProperty(t)||e._layerDisplay.h[t]);null==a&&(a=!0),haxepunk_HXP.engine._scene._layerDisplay.h[this.layerNumber]=a,haxepunk_HXP.engine._scene.updateLists()}},onEnter:function(){this.label.set_alpha(1)},onExit:function(){this.label.set_alpha(.75)},__class__:haxepunk_debug__$LayerList_LayerToggle});var haxepunk_debug_LayerList=function(e){this.childY=8,this.alpha=.5,haxepunk_EntityList.call(this),this.mouseManager=e,this.set_width(240),this.set_height(320),this.sceneLabel=new haxepunk_graphics_text_BitmapText("Scene",null,null,null,null,{size:12}),this.sceneLabel.x=10,this.sceneLabel.y=this.childY;var t=this.childY,a=this.sceneLabel;a._dirty&&a.parseText(),this.childY=t+a.textHeight,this.graphic=this.sceneLabel,this.set_type(e._type),e.add(this,null,null,$bind(this,this.onEnter),$bind(this,this.onExit))};$hxClasses["haxepunk.debug.LayerList"]=haxepunk_debug_LayerList,haxepunk_debug_LayerList.__name__="haxepunk.debug.LayerList",haxepunk_debug_LayerList.__super__=haxepunk_EntityList,haxepunk_debug_LayerList.prototype=$extend(haxepunk_EntityList.prototype,{update:function(){haxepunk_EntityList.prototype.update.call(this);for(var e=haxepunk_HXP.engine._scene._layerList.length;this.entities.length<e;){var t=new haxepunk_debug__$LayerList_LayerToggle(this.mouseManager);this.add(t),t.set_localY(this.childY),this.childY+=t.get_height()+4}for(var a=0,n=this.entities.length;a<n;){var i=a++;this.entities[i].layerNumber=i>=haxepunk_HXP.engine._scene._layerList.length?null:haxepunk_HXP.engine._scene._layerList[i],this.entities[i].update()}var s=js_Boot.getClass(haxepunk_HXP.engine._scene).__name__;this.sceneLabel.text!=s&&this.sceneLabel.set_text(s)},render:function(e){var t=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,a=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY,n=0,i=this.alpha;null==i&&(i=1),null==n&&(n=16777215),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.color=n,null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.alpha=i,null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.lineThickness=4,haxepunk_utils_Draw.rectFilled((this.get_x()-2)*t,this.get_y()*a,(this.get_width()+4)*t,this.get_height()*a),haxepunk_EntityList.prototype.render.call(this,e)},onEnter:function(){this.alpha=.75},onExit:function(){this.alpha=.5},__class__:haxepunk_debug_LayerList});var haxepunk_debug_LogPanel=function(e){this.logMessages=new haxepunk_utils_CircularBuffer(10),this.alpha=.5,this.expanded=!1,haxepunk_Entity.call(this),this.label=new haxepunk_graphics_text_BitmapText("Mouse"),this.label.x=8,this.addGraphic(this.label),this.set_height(48),this.set_type(e._type),e.add(this,null,$bind(this,this.onClick),$bind(this,this.onEnter),$bind(this,this.onExit))};$hxClasses["haxepunk.debug.LogPanel"]=haxepunk_debug_LogPanel,haxepunk_debug_LogPanel.__name__="haxepunk.debug.LogPanel",haxepunk_debug_LogPanel.__super__=haxepunk_Entity,haxepunk_debug_LogPanel.prototype=$extend(haxepunk_Entity.prototype,{update:function(){haxepunk_Entity.prototype.update.call(this);var e=this.expanded?216:48;if(this.get_height()!=e){var t=2048*haxepunk_HXP.elapsed|0;if(Math.abs(this.get_height()-e)<t)this.set_height(e);else(s=this).set_height(s.get_height()+t*(this.get_height()>e?-1:1))}var a="",n=1+9*((this.get_height()-48)/168)|0,i=this.logMessages;null==(_=this.logMessages.len-n)&&(_=0),i._iterator.i=_;for(var s=i._iterator;s.i<s.buffer.len;){i=s.buffer;var _,r=(_=s.i++)<0||_>=i.len?null:i.data[(i.pos+_)%i.data.length];null!=r&&(a+=r+"\n")}i=haxepunk_HXP.engine._scene;var o="Mouse: "+((l=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-i.x)/((h=i.camera).scale*h.scaleX*haxepunk_HXP.screen.scaleX)+i.camera.x|0)+",",l=(i=haxepunk_HXP.engine._scene,haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-i.y),h=i.camera;a+=StringTools.rpad(o+(l/(h.scale*h.scaleY*haxepunk_HXP.screen.scaleY)+i.camera.y|0)," ",20)+"Camera: "+haxepunk_HXP.engine._scene.camera.x+","+haxepunk_HXP.engine._scene.camera.y,this.label.text!=a&&this.label.set_text(a);i=this.label;var u=this.get_height();(h=this.label)._dirty&&h.parseText(),i.y=u-h.textHeight-4},render:function(e){var t=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,a=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY,n=0,i=this.alpha;null==i&&(i=1),null==n&&(n=16777215),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.color=n,null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.alpha=i,null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.lineThickness=4,haxepunk_utils_Draw.rectFilled(this.get_x()*t,this.get_y()*a,this.get_width()*t,this.get_height()*a),haxepunk_Entity.prototype.render.call(this,e)},log:function(e){var t=this.logMessages;t.data[(t.pos+t.len)%t.data.length]=Std.string(e),t.len<t.data.length?++t.len:++t.pos},onClick:function(){this.expanded=!this.expanded},onEnter:function(){this.alpha=.75},onExit:function(){this.alpha=.5},__class__:haxepunk_debug_LogPanel});var haxepunk_debug_Metric=function(e,t,a,n){this.points=[],this.color=16777215,this.minScale=0,haxepunk_Entity.call(this),this.metricName=e,this.data=t,this.color=a,this.minScale=n,this.label=new haxepunk_graphics_text_BitmapText(e,null,null,null,null,{size:12}),this.label.x=this.label.y=4,this.addGraphic(this.label),this.set_width(160),this.set_height(80),null==haxepunk_debug_Metric.drawContext&&(haxepunk_debug_Metric.drawContext=new haxepunk_utils_DrawContext,haxepunk_debug_Metric.drawContext.lineThickness=4)};$hxClasses["haxepunk.debug.Metric"]=haxepunk_debug_Metric,haxepunk_debug_Metric.__name__="haxepunk.debug.Metric",haxepunk_debug_Metric.__super__=haxepunk_Entity,haxepunk_debug_Metric.prototype=$extend(haxepunk_Entity.prototype,{update:function(){var e,t;null==((t=this.data).len<1?null:t.data[(t.pos+(t.len-1))%t.data.length])?e=0:e=(((t=this.data).len<1?null:t.data[(t.pos+(t.len-1))%t.data.length])*Math.pow(10,2)|0)/Math.pow(10,2);this.label.set_text(this.metricName+": "+e)},render:function(e){var t=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,a=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY;haxepunk_debug_Metric.drawContext.scene=this._scene;var n=haxepunk_debug_Metric.drawContext,i=this.color,s=.9;null==s&&(s=1);var _=s;if(null==_&&(_=1),_<=0)x=i;else if(_>=1)x=0;else{var r=i>>>24&255,o=i>>>16&255,l=i>>>8&255,h=255&i;x=(r+=(0-r)*_|0)<<24|(o+=(0-o)*_|0)<<16|(l+=(0-l)*_|0)<<8|(h+=(0-h)*_|0)}if(null==(k=.8)&&(k=1),null==x&&(x=16777215),n.color=x,n.alpha=k,haxepunk_debug_Metric.drawContext.rectFilled(this.get_x()*t,this.get_y()*a,this.get_width()*t,this.get_height()*a),this.data.len>1){this.points.length=0;var u=this.minScale;(n=this.data)._iterator.i=0;for(var p=n._iterator;p.i<p.buffer.len;){n=p.buffer;var c=(f=p.i++)<0||f>=n.len?null:n.data[(n.pos+f)%n.data.length];c>u&&(u=c)}p=0;for(var d=this.data.len;p<d;){var f,m=(f=p++)/this.data.data.length;this.points.push((this.get_x()+this.get_width()*haxepunk_math_MathUtil.clamp(m,0,1))*t);n=this.data;var g=f<0||f>=n.len?null:n.data[(n.pos+f)%n.data.length];this.points.push((this.get_y()+this.get_height()*(1-haxepunk_math_MathUtil.clamp(g/u,0,1)))*a)}var x,k;n=haxepunk_debug_Metric.drawContext;null==(k=.75)&&(k=1),null==(x=this.color)&&(x=16777215),n.color=x,n.alpha=k,haxepunk_debug_Metric.drawContext.polyline(this.points,!1)}haxepunk_Entity.prototype.render.call(this,e)},__class__:haxepunk_debug_Metric});var haxepunk_ds_Maybe={exists:function(e){return null!=e},ensure:function(e){if(null!=e)return e;throw haxe_Exception.thrown("No value")},or:function(e,t){return null!=e?e:t},may:function(e,t){null!=e&&t(e)},map:function(e,t,a){return null!=e?t(e):a},mapMaybe:function(e,t){return null!=e?t(e):null}},haxepunk_ds_OneOf={fromL:function(e){return haxe_ds_Either.Left(e)},fromR:function(e){return haxe_ds_Either.Right(e)},toL:function(e){return 0==e._hx_index?e.v:null},toR:function(e){return 1==e._hx_index?e.v:null}},haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic=function(e){if(this._camera=new haxepunk_Camera,this._temp=[],this._graphics=[],this.count=0,this._graphics=[],this._temp=[],this._camera=new haxepunk_Camera,haxepunk_Graphic.call(this),null!=e)for(var t=0;t<e.length;){var a=e[t];++t,this.add(a)}};$hxClasses["haxepunk.graphics.BaseGraphicList_haxepunk_Graphic"]=haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic.__name__="haxepunk.graphics.BaseGraphicList_haxepunk_Graphic",haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic.__super__=haxepunk_Graphic,haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic.prototype=$extend(haxepunk_Graphic.prototype,{set_alpha:function(e){for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n.set_alpha(e)}return haxepunk_Graphic.prototype.set_alpha.call(this,e)},set_color:function(e){for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n.set_color(e)}return haxepunk_Graphic.prototype.set_color.call(this,e)},update:function(){for(var e=0,t=this._graphics;e<t.length;){var a=t[e];if(++e,null!=a&&a.active){for(var n=0,i=a.preUpdate.callbacks;n<i.length;){var s=i[n];++n,s()}a.update();for(var _=0,r=a.postUpdate.callbacks;_<r.length;){var o=r[_];++_,o()}}}},get:function(e){if(e>=this._graphics.length||e<0)throw haxe_Exception.thrown("Index out of bounds.");return this._graphics[e]},render:function(e,t){var a=t.x,n=t.y;t.x=a*this.scrollX-haxepunk_HXP.width/(t.scale*t.scaleX)*0,t.y=n*this.scrollY-haxepunk_HXP.height/(t.scale*t.scaleY)*0;for(var i=0,s=this._graphics;i<s.length;){var _=s[i];if(++i,null!=_&&_._visible){if(_.relative){var r=e.x,o=this.x,l=this.originX;this._point.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):r)+(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):o)-(this.pixelSnapping||t.pixelSnapping?Math.floor((l+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):l);var h=e.y,u=this.y,p=this.originY;this._point.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((h+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):h)+(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):u)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):p)}else this._point.x=this._point.y=0;_.doRender(this._point,t)}}t.x=a-haxepunk_HXP.width/(t.scale*t.scaleX)*0,t.y=n-haxepunk_HXP.height/(t.scale*t.scaleY)*0},destroy:function(){for(var e=0,t=this._graphics;e<t.length;){var a=t[e];++e,null!=a&&a.destroy()}},add:function(e){return null==e||(this._graphics[this.count++]=e,this.active||(this.active=e.active)),e},remove:function(e){if(this._graphics.indexOf(e)<0)return e;this._temp.length=0;for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n==e?this.count--:this._temp[this._temp.length]=n}var i=this._graphics;return this._graphics=this._temp,this._temp=i,this.updateCheck(),e},removeAt:function(e){null==e&&(e=0),0!=this._graphics.length&&(e%=this._graphics.length,this.remove(this._graphics[e%this._graphics.length]),this.updateCheck())},removeAll:function(){this._graphics.length=0,this._temp.length=0,this.count=0,this.active=!1},get_children:function(){return this._graphics},updateCheck:function(){this.active=!1;for(var e=0,t=this._graphics;e<t.length;){var a=t[e];if(++e,null!=a&&a.active)return void(this.active=!0)}},__class__:haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,__properties__:$extend(haxepunk_Graphic.prototype.__properties__,{get_children:"get_children"})});var haxepunk_graphics_BaseGraphicList=function(e){if(this._camera=new haxepunk_Camera,this._temp=[],this._graphics=[],this.count=0,this._graphics=[],this._temp=[],this._camera=new haxepunk_Camera,haxepunk_Graphic.call(this),null!=e)for(var t=0;t<e.length;){var a=e[t];++t,this.add(a)}};$hxClasses["haxepunk.graphics.BaseGraphicList"]=haxepunk_graphics_BaseGraphicList,haxepunk_graphics_BaseGraphicList.__name__="haxepunk.graphics.BaseGraphicList",haxepunk_graphics_BaseGraphicList.__super__=haxepunk_Graphic,haxepunk_graphics_BaseGraphicList.prototype=$extend(haxepunk_Graphic.prototype,{set_alpha:function(e){for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n.set_alpha(e)}return haxepunk_Graphic.prototype.set_alpha.call(this,e)},set_color:function(e){for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n.set_color(e)}return haxepunk_Graphic.prototype.set_color.call(this,e)},update:function(){for(var e=0,t=this._graphics;e<t.length;){var a=t[e];if(++e,null!=a&&a.active){for(var n=0,i=a.preUpdate.callbacks;n<i.length;){var s=i[n];++n,s()}a.update();for(var _=0,r=a.postUpdate.callbacks;_<r.length;){var o=r[_];++_,o()}}}},get:function(e){if(e>=this._graphics.length||e<0)throw haxe_Exception.thrown("Index out of bounds.");return this._graphics[e]},render:function(e,t){var a=t.x,n=t.y;t.x=a*this.scrollX-haxepunk_HXP.width/(t.scale*t.scaleX)*0,t.y=n*this.scrollY-haxepunk_HXP.height/(t.scale*t.scaleY)*0;for(var i=0,s=this._graphics;i<s.length;){var _=s[i];if(++i,null!=_&&_._visible){if(_.relative){var r=e.x,o=this.x,l=this.originX;this._point.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):r)+(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):o)-(this.pixelSnapping||t.pixelSnapping?Math.floor((l+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):l);var h=e.y,u=this.y,p=this.originY;this._point.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((h+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):h)+(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):u)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):p)}else this._point.x=this._point.y=0;_.doRender(this._point,t)}}t.x=a-haxepunk_HXP.width/(t.scale*t.scaleX)*0,t.y=n-haxepunk_HXP.height/(t.scale*t.scaleY)*0},destroy:function(){for(var e=0,t=this._graphics;e<t.length;){var a=t[e];++e,null!=a&&a.destroy()}},add:function(e){return null==e||(this._graphics[this.count++]=e,this.active||(this.active=e.active)),e},remove:function(e){if(this._graphics.indexOf(e)<0)return e;this._temp.length=0;for(var t=0,a=this._graphics;t<a.length;){var n=a[t];++t,n==e?this.count--:this._temp[this._temp.length]=n}var i=this._graphics;return this._graphics=this._temp,this._temp=i,this.updateCheck(),e},removeAt:function(e){null==e&&(e=0),0!=this._graphics.length&&(e%=this._graphics.length,this.remove(this._graphics[e%this._graphics.length]),this.updateCheck())},removeAll:function(){this._graphics.length=0,this._temp.length=0,this.count=0,this.active=!1},get_children:function(){return this._graphics},updateCheck:function(){this.active=!1;for(var e=0,t=this._graphics;e<t.length;){var a=t[e];if(++e,null!=a&&a.active)return void(this.active=!0)}},__class__:haxepunk_graphics_BaseGraphicList,__properties__:$extend(haxepunk_Graphic.prototype.__properties__,{get_children:"get_children"})});var haxepunk_graphics_Image=function(e,t){this.flipY=!1,this.flipX=!1,haxepunk_Graphic.call(this),this.angle=0,this.scale=this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.set_alpha(1),this.set_color(16777215),this._sourceRect=new haxepunk_math_Rectangle(0,0,1,1),null!=e&&(this._region=e,this._sourceRect.width=this._region.get_width(),this._sourceRect.height=this._region.get_height()),null!=t&&(0==t.width&&(t.width=this._sourceRect.width),0==t.height&&(t.height=this._sourceRect.height),this._region=this._region.clip(t),this._sourceRect=t)};$hxClasses["haxepunk.graphics.Image"]=haxepunk_graphics_Image,haxepunk_graphics_Image.__name__="haxepunk.graphics.Image",haxepunk_graphics_Image.createRect=function(e,t,a,n){if(null==n&&(n=1),null==a&&(a=16777215),0==e||0==t)throw haxe_Exception.thrown("Illegal rect, sizes cannot be 0.");var i=!0,s=-1;null==s&&(s=0),null==i&&(i=!1);var _=new openfl_display_BitmapData(e,t,i,s),r=new haxepunk_graphics_atlas_AtlasData(_),o=new haxepunk_graphics_Image(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(r));return o.set_color(a),o.set_alpha(n),o},haxepunk_graphics_Image.createCircle=function(e,t,a){if(null==a&&(a=1),null==t&&(t=16777215),0==e)throw haxe_Exception.thrown("Illegal circle, radius cannot be 0.");var n=!0,i=0;null==i&&(i=0),null==n&&(n=!1);var s=new openfl_display_BitmapData(2*e,2*e,n,i);haxepunk_graphics_hardware_Texture.drawCircle(s,e,e,e);var _=new haxepunk_graphics_atlas_AtlasData(s),r=new haxepunk_graphics_Image(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(_));return r.set_color(t),r.set_alpha(a),r},haxepunk_graphics_Image.__super__=haxepunk_Graphic,haxepunk_graphics_Image.prototype=$extend(haxepunk_Graphic.prototype,{get_flipped:function(){return this.flipX},set_flipped:function(e){return this.flipX=e},init:function(){this.angle=0,this.scale=this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.set_alpha(1),this.set_color(16777215)},render:function(e,t){var a=this.scale*this.scaleX*(this.flipX?-1:1),n=this.scale*this.scaleY*(this.flipY?-1:1),i=t.scale*t.scaleX*haxepunk_HXP.screen.scaleX,s=t.scale*t.scaleY*haxepunk_HXP.screen.scaleY,_=this.x,r=this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_,o=this.y,l=this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o;if(this.flipX){_=(2*this.originX-this._region.get_width())*a;r+=this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_}if(this.flipY){o=(2*this.originY-this._region.get_height())*n;l+=this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o}if(0==this.angle){_=e.x;var h=this.originX*a,u=t.x*this.scrollX;this._point.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((h+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):h)-(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):u)+r;o=e.y;var p=this.originY*n,c=t.y*this.scrollY;this._point.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):p)-(this.pixelSnapping||t.pixelSnapping?Math.floor((c+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):c)+l;_=this._point.x,o=this._point.y;null!=this.clipRect?(null==this._screenClipRect&&(this._screenClipRect=new haxepunk_math_Rectangle),this._screenClipRect.setTo((_+this.clipRect.x)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX),(o+this.clipRect.y)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY),this.clipRect.width*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX),this.clipRect.height*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY)),d=this._screenClipRect):d=null,this._region.draw(this._point.x*i,this._point.y*s,a*i,n*s,this.angle,this.color,this.alpha,this.shader,this.smooth,this.blend,d,this.flexibleLayer)}else{_=e.x,h=this.originX,u=t.x*this.scrollX;this._point.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((h+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):h)-(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):u)+r;o=e.y,p=this.originY,c=t.y*this.scrollY;this._point.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):p)-(this.pixelSnapping||t.pixelSnapping?Math.floor((c+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):c)+l;var d,f=this.angle*(Math.PI/-180),m=Math.cos(f),g=Math.sin(f),x=a*m*i,k=a*g*s,y=-n*g*i,b=n*m*s,v=-this.originX*a*m+this.originY*n*g+this.originX+this._point.x,P=-this.originX*a*g-this.originY*n*m+this.originY+this._point.y;null!=this.clipRect?(null==this._screenClipRect&&(this._screenClipRect=new haxepunk_math_Rectangle),this._screenClipRect.setTo((v+this.clipRect.x)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX),(P+this.clipRect.y)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY),this.clipRect.width*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX),this.clipRect.height*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY)),d=this._screenClipRect):d=null,this._region.drawMatrix(v*i,P*s,x,k,y,b,this.color,this.alpha,this.shader,this.smooth,this.blend,d,this.flexibleLayer)}},centerOrigin:function(){this.originX=this.get_width()/2|0,this.originY=this.get_height()/2|0},centerOO:function(){this.x+=this.originX,this.y+=this.originY,this.centerOrigin(),this.x-=this.originX,this.y-=this.originY},get_width:function(){return this._region.get_width()},get_height:function(){return this._region.get_height()},get_scaledWidth:function(){return this.get_width()*this.scaleX*this.scale},set_scaledWidth:function(e){return this.scaleX=e/this.scale/this.get_width()},get_scaledHeight:function(){return this.get_height()*this.scaleY*this.scale},set_scaledHeight:function(e){return this.scaleY=e/this.scale/this.get_height()},toString:function(){return"["+this._class+" "+this.get_width()+" x "+this.get_height()+"]"},__class__:haxepunk_graphics_Image,__properties__:$extend(haxepunk_Graphic.prototype.__properties__,{set_scaledHeight:"set_scaledHeight",get_scaledHeight:"get_scaledHeight",set_scaledWidth:"set_scaledWidth",get_scaledWidth:"get_scaledWidth",get_height:"get_height",get_width:"get_width",set_flipped:"set_flipped",get_flipped:"get_flipped"})});var haxepunk_graphics_NineSlice=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),this._clipRect=new haxepunk_math_Rectangle,this._sliceRect=new haxepunk_math_Rectangle,this.drawCenter=!0,this.scaleBorder=!1,this.source=e;var s,_=e.get_width(),r=e.get_height();(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(0,0,t,n))).originX=s.originY=0,this.topL=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(t,0,_-t-a,n))).originX=s.originY=0,this.topC=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(_-a,0,a,n))).originX=s.originY=0,this.topR=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(0,n,t,r-n-i))).originX=s.originY=0,this.medL=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(t,n,_-t-a,r-n-i))).originX=s.originY=0,this.medC=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(_-a,n,a,r-n-i))).originX=s.originY=0,this.medR=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(0,r-i,t,i))).originX=s.originY=0,this.botL=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(t,r-i,_-t-a,i))).originX=s.originY=0,this.botC=s,(s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(_-a,r-i,a,i))).originX=s.originY=0,this.botR=s,this._sliceRect.setTo(t,n,_-a,r-i),haxepunk_Graphic.call(this),this.width=_,this.height=r};$hxClasses["haxepunk.graphics.NineSlice"]=haxepunk_graphics_NineSlice,haxepunk_graphics_NineSlice.__name__="haxepunk.graphics.NineSlice",haxepunk_graphics_NineSlice.__super__=haxepunk_Graphic,haxepunk_graphics_NineSlice.prototype=$extend(haxepunk_Graphic.prototype,{set_color:function(e){return this.topL.set_color(this.topC.set_color(this.topR.set_color(this.medL.set_color(this.medC.set_color(this.medR.set_color(this.botL.set_color(this.botC.set_color(this.botR.set_color(this.color=e)))))))))},set_alpha:function(e){return this.topL.set_alpha(this.topC.set_alpha(this.topR.set_alpha(this.medL.set_alpha(this.medC.set_alpha(this.medR.set_alpha(this.botL.set_alpha(this.botC.set_alpha(this.botR.set_alpha(this.alpha=e)))))))))},centerOrigin:function(){this.originX=.5*this.width,this.originY=.5*this.height},getSegment:function(e,t,a,n,i){var s=new haxepunk_graphics_Image(e,new haxepunk_math_Rectangle(t,a,n,i));return s.originX=s.originY=0,s},render:function(e,t){var a,n,i,s;if(this.scaleBorder){var _=this._sliceRect.x;a=this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_;_=this.source.get_width()-this._sliceRect.width;n=this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_;var r=this._sliceRect.y;i=this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r;r=this.source.get_height()-this._sliceRect.height;s=this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r}else{_=this._sliceRect.x;a=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX);_=this.source.get_width()-this._sliceRect.width;n=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX);r=this._sliceRect.y;i=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY);r=this.source.get_height()-this._sliceRect.height;s=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY)}_=this.width;var o,l=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-a-n,h=(r=this.height,(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-i-s),u=a,p=a+l,c=i,d=i+h;if(null!=(o=this.topL)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+0-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+0-this.originY;_=0+a;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX*.5)/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):0))/o.get_width();r=0+i;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY*.5)/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):0))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-0,this.clipRect.y-0,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.topC)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+u-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+0-this.originY;_=u+l;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):u))/o.get_width();r=0+i;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY*.5)/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):0))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-u,this.clipRect.y-0,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.topR)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+p-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+0-this.originY;_=p+n;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):p))/o.get_width();r=0+i;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY*.5)/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):0))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-p,this.clipRect.y-0,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.medL)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+0-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+c-this.originY;_=0+a;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX*.5)/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):0))/o.get_width();r=c+h;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((c+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):c))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-0,this.clipRect.y-c,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(this.drawCenter&&(null!=(o=this.medC)&&o._visible)){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+u-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+c-this.originY;_=u+l;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):u))/o.get_width();r=c+h;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((c+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):c))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-u,this.clipRect.y-c,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.medR)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+p-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+c-this.originY;_=p+n;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):p))/o.get_width();r=c+h;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((c+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):c))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-p,this.clipRect.y-c,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.botL)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+0-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+d-this.originY;_=0+a;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX*.5)/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):0))/o.get_width();r=d+s;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((d+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):d))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-0,this.clipRect.y-d,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.botC)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+u-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+d-this.originY;_=u+l;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((u+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):u))/o.get_width();r=d+s;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((d+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):d))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-u,this.clipRect.y-d,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}if(null!=(o=this.botR)&&o._visible){_=this.x;o.x=(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)+p-this.originX;r=this.y;o.y=(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)+d-this.originY;_=p+n;o.scaleX=((this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((p+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):p))/o.get_width();r=d+s;o.scaleY=((this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):r)-(this.pixelSnapping||t.pixelSnapping?Math.floor((d+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):d))/o.get_height(),null!=this.clipRect?(this._clipRect.setTo(this.clipRect.x-p,this.clipRect.y-d,this.clipRect.width,this.clipRect.height),o.clipRect=this._clipRect):o.clipRect=null,o.shader=this.shader,o.smooth=this.smooth,o.render(e,t)}},__class__:haxepunk_graphics_NineSlice});var haxepunk_graphics_Animation=function(e,t,a,n,i){null==i&&(i=""),this.onComplete=new haxepunk_Signal0,this.name=i,this.frames=t,this.frameRate=0==a?haxepunk_HXP.assignedFrameRate:a,this.frameCount=this.frames.length,this.loop=n,this.name=i};$hxClasses["haxepunk.graphics.Animation"]=haxepunk_graphics_Animation,haxepunk_graphics_Animation.__name__="haxepunk.graphics.Animation",haxepunk_graphics_Animation.prototype={play:function(e,t){null==t&&(t=!1),null==e&&(e=!1),this.parent.playAnimation(this,e,t)},getFirstFrame:function(e){return e?0:this.frameCount-1},getLastFrame:function(e){return e?this.frameCount-1:0},__class__:haxepunk_graphics_Animation};var haxepunk_graphics_Spritemap=function(e,t,a){if(null==a&&(a=0),null==t&&(t=0),this._timer=0,this.frame=-1,this.reverse=!1,this.rate=1,this.onAnimationComplete=new haxepunk_Signal1,this.complete=!0,this._anims=new haxe_ds_StringMap,haxepunk_graphics_Image.call(this),this._atlas=e,t>this._atlas.get_width()||a>this._atlas.get_height())throw haxe_Exception.thrown("Frame width and height can't be bigger than the source image dimension.");this._atlas.prepare(0==t?0|this._atlas.get_width():t,0==a?0|this._atlas.get_height():a),this._columns=Math.ceil(this._atlas.get_width()/t),this._rows=Math.ceil(this._atlas.get_height()/a),this._frameCount=this._columns*this._rows,this.set_frame(0),this.active=!0};$hxClasses["haxepunk.graphics.Spritemap"]=haxepunk_graphics_Spritemap,haxepunk_graphics_Spritemap.__name__="haxepunk.graphics.Spritemap",haxepunk_graphics_Spritemap.__super__=haxepunk_graphics_Image,haxepunk_graphics_Spritemap.prototype=$extend(haxepunk_graphics_Image.prototype,{get_frameCount:function(){return this._frameCount},get_columns:function(){return this._columns},get_rows:function(){return this._rows},update:function(){var e=this.currentAnimation;if(null!=e){var t=this.currentAnimation;if(!(this.complete||(this._timer+=haxepunk_HXP.elapsed*e.frameRate*this.rate,this._timer<1))){for(;this._timer>=1;)if(this._timer--,this._index+=this.reverse?-1:1,this._index<0||this._index>=e.frameCount){if(!e.loop){this._index=this.reverse?0:e.frameCount-1;for(var a=0,n=e.onComplete.callbacks;a<n.length;){var i=n[a];++a,i()}this.complete=!0;for(var s=0,_=this.onAnimationComplete.callbacks;s<_.length;){var r=_[s];++s,r(e)}break}this._index=this.reverse?e.frameCount-1:0;for(var o=0,l=e.onComplete.callbacks;o<l.length;){var h=l[o];++o,h()}for(var u=0,p=this.onAnimationComplete.callbacks;u<p.length;){var c=p[u];++u,c(e)}}this.complete||this.currentAnimation!=t||this.set_frame(0|e.frames[this._index])}}},add:function(e,t,a,n){if(null==n&&(n=!0),null==a&&(a=0),Object.prototype.hasOwnProperty.call(this._anims.h,e))throw haxe_Exception.thrown("Cannot have multiple animations with the same name");var i=new haxepunk_graphics_Animation(this,t,a,n,e);return this._anims.h[e]=i,i},exists:function(e){return Object.prototype.hasOwnProperty.call(this._anims.h,e)},remove:function(e){if(!Object.prototype.hasOwnProperty.call(this._anims.h,e))return!1;var t=this._anims;return Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],!0},play:function(e,t,a){return null==a&&(a=!1),null==t&&(t=!1),null==e&&(e=""),Object.prototype.hasOwnProperty.call(this._anims.h,e)?this.playAnimation(this._anims.h[e],t,a):(this.stop(t),null)},playFrames:function(e,t,a,n,i){return null==i&&(i=!1),null==n&&(n=!1),null==a&&(a=!0),null==t&&(t=0),null==e||0==e.length?(this.stop(n),null):this.playAnimation(new haxepunk_graphics_Animation(this,e,t,a),n,i)},playAnimation:function(e,t,a){return null==a&&(a=!1),null==t&&(t=!1),t=t||this.currentAnimation!=e,this.currentAnimation=e,this.reverse=a,t&&this.restart(),e},restart:function(){this._timer=0;var e=this.currentAnimation;null!=e&&(this._index=this.reverse?e.frameCount-1:0,this.set_frame(e.frames[this._index])),this.complete=!1},stop:function(e){if(null==e&&(e=!1),e){var t=this.currentAnimation;this.set_frame(this._index=null!=t&&this.reverse?t.frameCount-1:0)}this.currentAnimation=null,this.complete=!0},randFrame:function(){haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,this.set_frame(haxepunk_math_Random._seed/2147483647*this._atlas._regions.length|0)},setAnimFrame:function(e,t){if(Object.prototype.hasOwnProperty.call(this._anims.h,e)){var a=this._anims.h[e];t=(0|Math.abs(t))%a.frameCount,this.set_frame(a.frames[t])}},getFrameColRow:function(e,t){return null==t&&(t=0),null==e&&(e=0),t%this._rows*this._columns+e%this._columns},setFrameColRow:function(e,t){null==t&&(t=0),null==e&&(e=0),this.currentAnimation=null;var a=e,n=t;null==n&&(n=0),null==a&&(a=0);var i=n%this._rows*this._columns+a%this._columns;i!=this.frame&&this.set_frame(i)},set_frame:function(e){return e=(0|Math.abs(e))%this._atlas._regions.length,this.frame!=e&&(this._region=this._atlas.getRegion(e),this._sourceRect.width=this._region.get_width(),this._sourceRect.height=this._region.get_height()),this.frame=e},get_index:function(){return null!=this.currentAnimation?this._index:0},set_index:function(e){var t=this.currentAnimation;return null!=t?(e%=t.frameCount,this._index==e?this._index:(this.set_frame(t.frames[e]),this._index=e)):0},__class__:haxepunk_graphics_Spritemap,__properties__:$extend(haxepunk_graphics_Image.prototype.__properties__,{set_index:"set_index",get_index:"get_index",set_frame:"set_frame",get_rows:"get_rows",get_columns:"get_columns",get_frameCount:"get_frameCount"})});var haxepunk_graphics_atlas_Atlas=function(e){this._data=e};$hxClasses["haxepunk.graphics.atlas.Atlas"]=haxepunk_graphics_atlas_Atlas,haxepunk_graphics_atlas_Atlas.__name__="haxepunk.graphics.atlas.Atlas",haxepunk_graphics_atlas_Atlas.loadImageAsRegion=function(e){var t=e;return new haxepunk_graphics_atlas_AtlasRegion(t,new haxepunk_math_Rectangle(0,0,t.width,t.height).clone())},haxepunk_graphics_atlas_Atlas.prototype={get_width:function(){return this._data.width},get_height:function(){return this._data.height},prepareTile:function(e,t,a,n,i,s,_,r,o,l,h,u){var p;if(0==s)D=n,M=0,V=0,p=i;else{var c=Math.cos(-s*(Math.PI/-180)),d=Math.sin(-s*(Math.PI/-180));D=c*n,M=-d*i,V=d*n,p=c*i}var f=this._data.texture,m=e.x,g=e.y,x=e.width,k=e.height,y=!1;if(null==y&&(y=!1),r>0){var b,v,P,w;null==f?(b=v=0,P=x,w=k):(b=m/(null==f?0:f.width),v=g/(null==f?0:f.height),P=(m+x)/(null==f?0:f.width),w=(g+k)/(null==f?0:f.height));var T=x*D+t,C=x*M+a,S=k*V+t,A=k*p+a,E=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(f,o,l,h,u,t,a,T,C,S,A,y);if(r>0){if(E.shader.attributeNames.length<=0){if((t>T?T>S?S:T:t>S?S:t)<=(X=E.visibleArea).x+X.width&&(t<T?T<S?S:T:t<S?S:t)>=E.visibleArea.x)N=(a>C?C>A?A:C:a>A?A:a)<=(X=E.visibleArea).y+X.height;else N=!1;F=N&&(a<C?C<A?A:C:a<A?A:a)>=E.visibleArea.y}else F=!0;if(F){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(H=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,H._next=null):H=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(U=H).tx1=t,U.ty1=a,U.uvx1=b,U.uvy1=v,U.tx2=T,U.ty2=C,U.uvx2=P,U.uvy2=v,U.tx3=S,U.ty3=A,U.uvx3=b,U.uvy3=w,U.color=_,U.alpha=r,null==E.data?E.data=U:E._lastData._next=U,E._lastData=U,++E.triangleCount;var D=U.tx1,M=U.tx2,R=U.tx3,L=D>M?M>R?R:M:D>R?R:D,I=(D=U.tx1,M=U.tx2,R=U.tx3,D<M?M<R?R:M:D<R?R:D),$=(D=U.ty1,M=U.ty2,R=U.ty3,D>M?M>R?R:M:D>R?R:D),B=(D=U.ty1,M=U.ty2,R=U.ty3,D<M?M<R?R:M:D<R?R:D);if(0==E.bounds.width)E.bounds.x=L,E.bounds.width=I-L;else L<E.bounds.x&&(E.bounds.width+=E.bounds.x-L,E.bounds.x=L),I>(X=E.bounds).x+X.width&&(E.bounds.width=I-E.bounds.x);if(0==E.bounds.height)E.bounds.y=$,E.bounds.height=B-$;else $<E.bounds.y&&(E.bounds.height+=E.bounds.y-$,E.bounds.y=$),B>(X=E.bounds).y+X.height&&(E.bounds.height=B-E.bounds.y)}}var O=T+k*V,G=C+k*p;if(r>0){var F;if(E.shader.attributeNames.length<=0){var N;if((S>T?T>O?O:T:S>O?O:S)<=(X=E.visibleArea).x+X.width&&(S<T?T<O?O:T:S<O?O:S)>=E.visibleArea.x)N=(A>C?C>G?G:C:A>G?G:A)<=(X=E.visibleArea).y+X.height;else N=!1;F=N&&(A<C?C<G?G:C:A<G?G:A)>=E.visibleArea.y}else F=!0;if(F){var H,U;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(H=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,H._next=null):H=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(U=H).tx1=S,U.ty1=A,U.uvx1=b,U.uvy1=w,U.tx2=T,U.ty2=C,U.uvx2=P,U.uvy2=v,U.tx3=O,U.ty3=G,U.uvx3=P,U.uvy3=w,U.color=_,U.alpha=r,null==E.data?E.data=U:E._lastData._next=U,E._lastData=U,++E.triangleCount;D=U.tx1,M=U.tx2;var X,V=U.tx3;L=D>M?M>V?V:M:D>V?V:D,D=U.tx1,M=U.tx2,V=U.tx3,I=D<M?M<V?V:M:D<V?V:D,D=U.ty1,M=U.ty2,V=U.ty3,$=D>M?M>V?V:M:D>V?V:D,D=U.ty1,M=U.ty2,V=U.ty3,B=D<M?M<V?V:M:D<V?V:D;if(0==E.bounds.width)E.bounds.x=L,E.bounds.width=I-L;else L<E.bounds.x&&(E.bounds.width+=E.bounds.x-L,E.bounds.x=L),I>(X=E.bounds).x+X.width&&(E.bounds.width=I-E.bounds.x);if(0==E.bounds.height)E.bounds.y=$,E.bounds.height=B-$;else $<E.bounds.y&&(E.bounds.height+=E.bounds.y-$,E.bounds.y=$),B>(X=E.bounds).y+X.height&&(E.bounds.height=B-E.bounds.y)}}}},__class__:haxepunk_graphics_atlas_Atlas,__properties__:{get_height:"get_height",get_width:"get_width"}};var haxepunk_graphics_atlas_AtlasData=function(e,t){this.texture=e,this._name=t,this.width=null==e?0:e.width,this.height=null==e?0:e.height};$hxClasses["haxepunk.graphics.atlas.AtlasData"]=haxepunk_graphics_atlas_AtlasData,haxepunk_graphics_atlas_AtlasData.__name__="haxepunk.graphics.atlas.AtlasData",haxepunk_graphics_atlas_AtlasData.startScene=function(e){haxepunk_graphics_atlas_AtlasData._batch=e,e.head.recycle(),e.last=null},haxepunk_graphics_atlas_AtlasData.prototype={toString:function(){return null==this._name?"AtlasData":this._name},createRegion:function(e,t){return new haxepunk_graphics_atlas_AtlasRegion(this,e.clone())},prepareTileMatrix:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c){null==c&&(c=!1),null==h&&(h=!1);var d=this.texture,f=e.x,m=e.y,g=e.width,x=e.height,k=c;if(null==k&&(k=!1),o>0){var y,b,v,P;null==d?(y=b=0,v=g,P=x):(y=f/(null==d?0:d.width),b=m/(null==d?0:d.height),v=(f+g)/(null==d?0:d.width),P=(m+x)/(null==d?0:d.height));var w=g*n+t,T=g*i+a,C=x*s+t,S=x*_+a,A=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(d,l,h,u,p,t,a,w,T,C,S,k);if(o>0){if(A.shader.attributeNames.length<=0){if((t>w?w>C?C:w:t>C?C:t)<=(N=A.visibleArea).x+N.width&&(t<w?w<C?C:w:t<C?C:t)>=A.visibleArea.x)O=(a>T?T>S?S:T:a>S?S:a)<=(N=A.visibleArea).y+N.height;else O=!1;B=O&&(a<T?T<S?S:T:a<S?S:a)>=A.visibleArea.y}else B=!0;if(B){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(G=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,G._next=null):G=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(F=G).tx1=t,F.ty1=a,F.uvx1=y,F.uvy1=b,F.tx2=w,F.ty2=T,F.uvx2=v,F.uvy2=b,F.tx3=C,F.ty3=S,F.uvx3=y,F.uvy3=P,F.color=r,F.alpha=o,null==A.data?A.data=F:A._lastData._next=F,A._lastData=F,++A.triangleCount;n=F.tx1,i=F.tx2;var E=F.tx3,D=n>i?i>E?E:i:n>E?E:n,M=(n=F.tx1,i=F.tx2,E=F.tx3,n<i?i<E?E:i:n<E?E:n),R=(n=F.ty1,i=F.ty2,E=F.ty3,n>i?i>E?E:i:n>E?E:n),L=(n=F.ty1,i=F.ty2,E=F.ty3,n<i?i<E?E:i:n<E?E:n);if(0==A.bounds.width)A.bounds.x=D,A.bounds.width=M-D;else D<A.bounds.x&&(A.bounds.width+=A.bounds.x-D,A.bounds.x=D),M>(N=A.bounds).x+N.width&&(A.bounds.width=M-A.bounds.x);if(0==A.bounds.height)A.bounds.y=R,A.bounds.height=L-R;else R<A.bounds.y&&(A.bounds.height+=A.bounds.y-R,A.bounds.y=R),L>(N=A.bounds).y+N.height&&(A.bounds.height=L-A.bounds.y)}}var I=w+x*s,$=T+x*_;if(o>0){var B;if(A.shader.attributeNames.length<=0){var O;if((C>w?w>I?I:w:C>I?I:C)<=(N=A.visibleArea).x+N.width&&(C<w?w<I?I:w:C<I?I:C)>=A.visibleArea.x)O=(S>T?T>$?$:T:S>$?$:S)<=(N=A.visibleArea).y+N.height;else O=!1;B=O&&(S<T?T<$?$:T:S<$?$:S)>=A.visibleArea.y}else B=!0;if(B){var G,F;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(G=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,G._next=null):G=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(F=G).tx1=C,F.ty1=S,F.uvx1=y,F.uvy1=P,F.tx2=w,F.ty2=T,F.uvx2=v,F.uvy2=b,F.tx3=I,F.ty3=$,F.uvx3=v,F.uvy3=P,F.color=r,F.alpha=o,null==A.data?A.data=F:A._lastData._next=F,A._lastData=F,++A.triangleCount;var N;n=F.tx1,i=F.tx2,s=F.tx3,D=n>i?i>s?s:i:n>s?s:n,n=F.tx1,i=F.tx2,s=F.tx3,M=n<i?i<s?s:i:n<s?s:n,n=F.ty1,i=F.ty2,s=F.ty3,R=n>i?i>s?s:i:n>s?s:n,n=F.ty1,i=F.ty2,s=F.ty3,L=n<i?i<s?s:i:n<s?s:n;if(0==A.bounds.width)A.bounds.x=D,A.bounds.width=M-D;else D<A.bounds.x&&(A.bounds.width+=A.bounds.x-D,A.bounds.x=D),M>(N=A.bounds).x+N.width&&(A.bounds.width=M-A.bounds.x);if(0==A.bounds.height)A.bounds.y=R,A.bounds.height=L-R;else R<A.bounds.y&&(A.bounds.height+=A.bounds.y-R,A.bounds.y=R),L>(N=A.bounds).y+N.height&&(A.bounds.height=L-A.bounds.y)}}}},prepareTile:function(e,t,a,n,i,s,_,r,o,l,h,u,p){var c;if(null==p&&(p=!1),0==s)M=n,R=0,j=0,c=i;else{var d=Math.cos(-s*(Math.PI/-180)),f=Math.sin(-s*(Math.PI/-180));M=d*n,R=-f*i,j=f*n,c=d*i}var m=this.texture,g=e.x,x=e.y,k=e.width,y=e.height,b=p;if(null==b&&(b=!1),r>0){var v,P,w,T;null==m?(v=P=0,w=k,T=y):(v=g/(null==m?0:m.width),P=x/(null==m?0:m.height),w=(g+k)/(null==m?0:m.width),T=(x+y)/(null==m?0:m.height));var C=k*M+t,S=k*R+a,A=y*j+t,E=y*c+a,D=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(m,o,l,h,u,t,a,C,S,A,E,b);if(r>0){if(D.shader.attributeNames.length<=0){if((t>C?C>A?A:C:t>A?A:t)<=(V=D.visibleArea).x+V.width&&(t<C?C<A?A:C:t<A?A:t)>=D.visibleArea.x)H=(a>S?S>E?E:S:a>E?E:a)<=(V=D.visibleArea).y+V.height;else H=!1;N=H&&(a<S?S<E?E:S:a<E?E:a)>=D.visibleArea.y}else N=!0;if(N){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(U=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,U._next=null):U=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(X=U).tx1=t,X.ty1=a,X.uvx1=v,X.uvy1=P,X.tx2=C,X.ty2=S,X.uvx2=w,X.uvy2=P,X.tx3=A,X.ty3=E,X.uvx3=v,X.uvy3=T,X.color=_,X.alpha=r,null==D.data?D.data=X:D._lastData._next=X,D._lastData=X,++D.triangleCount;var M=X.tx1,R=X.tx2,L=X.tx3,I=M>R?R>L?L:R:M>L?L:M,$=(M=X.tx1,R=X.tx2,L=X.tx3,M<R?R<L?L:R:M<L?L:M),B=(M=X.ty1,R=X.ty2,L=X.ty3,M>R?R>L?L:R:M>L?L:M),O=(M=X.ty1,R=X.ty2,L=X.ty3,M<R?R<L?L:R:M<L?L:M);if(0==D.bounds.width)D.bounds.x=I,D.bounds.width=$-I;else I<D.bounds.x&&(D.bounds.width+=D.bounds.x-I,D.bounds.x=I),$>(V=D.bounds).x+V.width&&(D.bounds.width=$-D.bounds.x);if(0==D.bounds.height)D.bounds.y=B,D.bounds.height=O-B;else B<D.bounds.y&&(D.bounds.height+=D.bounds.y-B,D.bounds.y=B),O>(V=D.bounds).y+V.height&&(D.bounds.height=O-D.bounds.y)}}var G=C+y*j,F=S+y*c;if(r>0){var N;if(D.shader.attributeNames.length<=0){var H;if((A>C?C>G?G:C:A>G?G:A)<=(V=D.visibleArea).x+V.width&&(A<C?C<G?G:C:A<G?G:A)>=D.visibleArea.x)H=(E>S?S>F?F:S:E>F?F:E)<=(V=D.visibleArea).y+V.height;else H=!1;N=H&&(E<S?S<F?F:S:E<F?F:E)>=D.visibleArea.y}else N=!0;if(N){var U,X;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(U=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,U._next=null):U=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(X=U).tx1=A,X.ty1=E,X.uvx1=v,X.uvy1=T,X.tx2=C,X.ty2=S,X.uvx2=w,X.uvy2=P,X.tx3=G,X.ty3=F,X.uvx3=w,X.uvy3=T,X.color=_,X.alpha=r,null==D.data?D.data=X:D._lastData._next=X,D._lastData=X,++D.triangleCount;M=X.tx1,R=X.tx2;var V,j=X.tx3;I=M>R?R>j?j:R:M>j?j:M,M=X.tx1,R=X.tx2,j=X.tx3,$=M<R?R<j?j:R:M<j?j:M,M=X.ty1,R=X.ty2,j=X.ty3,B=M>R?R>j?j:R:M>j?j:M,M=X.ty1,R=X.ty2,j=X.ty3,O=M<R?R<j?j:R:M<j?j:M;if(0==D.bounds.width)D.bounds.x=I,D.bounds.width=$-I;else I<D.bounds.x&&(D.bounds.width+=D.bounds.x-I,D.bounds.x=I),$>(V=D.bounds).x+V.width&&(D.bounds.width=$-D.bounds.x);if(0==D.bounds.height)D.bounds.y=B,D.bounds.height=O-B;else B<D.bounds.y&&(D.bounds.height+=D.bounds.y-B,D.bounds.y=B),O>(V=D.bounds).y+V.height&&(D.bounds.height=O-D.bounds.y)}}}},prepareTriangle:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c,d,f,m,g,x){null==x&&(x=!1);var k=x;if(null==k&&(k=!1),c>0){var y=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(this.texture,d,f,m,g,e,t,i,s,o,l,k);if(c>0){var b;if(y.shader.attributeNames.length<=0){var v;if((e>i?i>o?o:i:e>o?o:e)<=(T=y.visibleArea).x+T.width&&(e<i?i<o?o:i:e<o?o:e)>=y.visibleArea.x)v=(t>s?s>l?l:s:t>l?l:t)<=(T=y.visibleArea).y+T.height;else v=!1;b=v&&(t<s?s<l?l:s:t<l?l:t)>=y.visibleArea.y}else b=!0;if(b){var P;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(P=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,P._next=null):P=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var w=P;w.tx1=e,w.ty1=t,w.uvx1=a,w.uvy1=n,w.tx2=i,w.ty2=s,w.uvx2=_,w.uvy2=r,w.tx3=o,w.ty3=l,w.uvx3=h,w.uvy3=u,w.color=p,w.alpha=c,null==y.data?y.data=w:y._lastData._next=w,y._lastData=w,++y.triangleCount;var T,C=w.tx1,S=w.tx2,A=w.tx3,E=C>S?S>A?A:S:C>A?A:C,D=(C=w.tx1,S=w.tx2,A=w.tx3,C<S?S<A?A:S:C<A?A:C),M=(C=w.ty1,S=w.ty2,A=w.ty3,C>S?S>A?A:S:C>A?A:C),R=(C=w.ty1,S=w.ty2,A=w.ty3,C<S?S<A?A:S:C<A?A:C);if(0==y.bounds.width)y.bounds.x=E,y.bounds.width=D-E;else E<y.bounds.x&&(y.bounds.width+=y.bounds.x-E,y.bounds.x=E),D>(T=y.bounds).x+T.width&&(y.bounds.width=D-y.bounds.x);if(0==y.bounds.height)y.bounds.y=M,y.bounds.height=R-M;else M<y.bounds.y&&(y.bounds.height+=y.bounds.y-M,y.bounds.y=M),R>(T=y.bounds).y+T.height&&(y.bounds.height=R-y.bounds.y)}}}},__class__:haxepunk_graphics_atlas_AtlasData};var haxepunk_graphics_atlas_AtlasDataType={_new:function(e){return e},toAtlasData:function(e){return e},fromString:function(e){return haxepunk_assets_AssetCache.global.getAtlasData(e,!1)},fromTexture:function(e){return new haxepunk_graphics_atlas_AtlasData(e)},fromAtlasData:function(e){return e}},haxepunk_graphics_atlas_IAtlasRegion=function(){};$hxClasses["haxepunk.graphics.atlas.IAtlasRegion"]=haxepunk_graphics_atlas_IAtlasRegion,haxepunk_graphics_atlas_IAtlasRegion.__name__="haxepunk.graphics.atlas.IAtlasRegion",haxepunk_graphics_atlas_IAtlasRegion.__isInterface__=!0,haxepunk_graphics_atlas_IAtlasRegion.prototype={__class__:haxepunk_graphics_atlas_IAtlasRegion,__properties__:{get_height:"get_height",get_width:"get_width"}};var haxepunk_graphics_atlas_AtlasRegion=function(e,t){this._parent=e,this._rect=t,this.rotated=!1};$hxClasses["haxepunk.graphics.atlas.AtlasRegion"]=haxepunk_graphics_atlas_AtlasRegion,haxepunk_graphics_atlas_AtlasRegion.__name__="haxepunk.graphics.atlas.AtlasRegion",haxepunk_graphics_atlas_AtlasRegion.__interfaces__=[haxepunk_graphics_atlas_IAtlasRegion],haxepunk_graphics_atlas_AtlasRegion.prototype={clip:function(e,t){var a=e.clone();return a.x+a.width>this._rect.width&&(a.width=this._rect.width-a.x),a.y+a.height>this._rect.height&&(a.height=this._rect.height-a.y),a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.x+=this._rect.x,a.y+=this._rect.y,new haxepunk_graphics_atlas_AtlasRegion(this._parent,a.clone())},draw:function(e,t,a,n,i,s,_,r,o,l,h,u){null==u&&(u=!1),null==_&&(_=1),null==s&&(s=16777215),null==i&&(i=0),null==n&&(n=1),null==a&&(a=1),this.rotated&&(i+=90);var p,c=this._rect,d=u;if(null==d&&(d=!1),0==i)M=a,R=0,j=0,p=n;else{var f=Math.cos(-i*(Math.PI/-180)),m=Math.sin(-i*(Math.PI/-180));M=f*a,R=-m*n,j=m*a,p=f*n}var g=this._parent.texture,x=c.x,k=c.y,y=c.width,b=c.height;if(null==(u=d)&&(u=!1),_>0){var v,P,w,T;null==g?(v=P=0,w=y,T=b):(v=x/(null==g?0:g.width),P=k/(null==g?0:g.height),w=(x+y)/(null==g?0:g.width),T=(k+b)/(null==g?0:g.height));var C=y*M+e,S=y*R+t,A=b*j+e,E=b*p+t,D=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(g,r,o,l,h,e,t,C,S,A,E,u);if(_>0){if(D.shader.attributeNames.length<=0){if((e>C?C>A?A:C:e>A?A:e)<=(V=D.visibleArea).x+V.width&&(e<C?C<A?A:C:e<A?A:e)>=D.visibleArea.x)H=(t>S?S>E?E:S:t>E?E:t)<=(V=D.visibleArea).y+V.height;else H=!1;N=H&&(t<S?S<E?E:S:t<E?E:t)>=D.visibleArea.y}else N=!0;if(N){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(U=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,U._next=null):U=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(X=U).tx1=e,X.ty1=t,X.uvx1=v,X.uvy1=P,X.tx2=C,X.ty2=S,X.uvx2=w,X.uvy2=P,X.tx3=A,X.ty3=E,X.uvx3=v,X.uvy3=T,X.color=s,X.alpha=_,null==D.data?D.data=X:D._lastData._next=X,D._lastData=X,++D.triangleCount;var M=X.tx1,R=X.tx2,L=X.tx3,I=M>R?R>L?L:R:M>L?L:M,$=(M=X.tx1,R=X.tx2,L=X.tx3,M<R?R<L?L:R:M<L?L:M),B=(M=X.ty1,R=X.ty2,L=X.ty3,M>R?R>L?L:R:M>L?L:M),O=(M=X.ty1,R=X.ty2,L=X.ty3,M<R?R<L?L:R:M<L?L:M);if(0==D.bounds.width)D.bounds.x=I,D.bounds.width=$-I;else I<D.bounds.x&&(D.bounds.width+=D.bounds.x-I,D.bounds.x=I),$>(V=D.bounds).x+V.width&&(D.bounds.width=$-D.bounds.x);if(0==D.bounds.height)D.bounds.y=B,D.bounds.height=O-B;else B<D.bounds.y&&(D.bounds.height+=D.bounds.y-B,D.bounds.y=B),O>(V=D.bounds).y+V.height&&(D.bounds.height=O-D.bounds.y)}}var G=C+b*j,F=S+b*p;if(_>0){var N;if(D.shader.attributeNames.length<=0){var H;if((A>C?C>G?G:C:A>G?G:A)<=(V=D.visibleArea).x+V.width&&(A<C?C<G?G:C:A<G?G:A)>=D.visibleArea.x)H=(E>S?S>F?F:S:E>F?F:E)<=(V=D.visibleArea).y+V.height;else H=!1;N=H&&(E<S?S<F?F:S:E<F?F:E)>=D.visibleArea.y}else N=!0;if(N){var U,X;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(U=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,U._next=null):U=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(X=U).tx1=A,X.ty1=E,X.uvx1=v,X.uvy1=T,X.tx2=C,X.ty2=S,X.uvx2=w,X.uvy2=P,X.tx3=G,X.ty3=F,X.uvx3=w,X.uvy3=T,X.color=s,X.alpha=_,null==D.data?D.data=X:D._lastData._next=X,D._lastData=X,++D.triangleCount;M=X.tx1,R=X.tx2;var V,j=X.tx3;I=M>R?R>j?j:R:M>j?j:M,M=X.tx1,R=X.tx2,j=X.tx3,$=M<R?R<j?j:R:M<j?j:M,M=X.ty1,R=X.ty2,j=X.ty3,B=M>R?R>j?j:R:M>j?j:M,M=X.ty1,R=X.ty2,j=X.ty3,O=M<R?R<j?j:R:M<j?j:M;if(0==D.bounds.width)D.bounds.x=I,D.bounds.width=$-I;else I<D.bounds.x&&(D.bounds.width+=D.bounds.x-I,D.bounds.x=I),$>(V=D.bounds).x+V.width&&(D.bounds.width=$-D.bounds.x);if(0==D.bounds.height)D.bounds.y=B,D.bounds.height=O-B;else B<D.bounds.y&&(D.bounds.height+=D.bounds.y-B,D.bounds.y=B),O>(V=D.bounds).y+V.height&&(D.bounds.height=O-D.bounds.y)}}}},drawMatrix:function(e,t,a,n,i,s,_,r,o,l,h,u,p){if(null==p&&(p=!1),null==r&&(r=1),null==_&&(_=16777215),this.rotated){var c=this._rect,d=-t,f=-s,m=p;null==m&&(m=!1),null==(B=l)&&(B=!1);var g=this._parent.texture,x=c.x,k=c.y,y=c.width,b=c.height;if(null==(p=m)&&(p=!1),r>0){null==g?(O=G=0,F=y,N=b):(O=x/(null==g?0:g.width),G=k/(null==g?0:g.height),F=(x+y)/(null==g?0:g.width),N=(k+b)/(null==g?0:g.height));var v=y*-n+d,P=y*a+e,w=b*f+d,T=b*i+e,C=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(g,o,B,h,u,d,e,v,P,w,T,p);if(r>0){if(C.shader.attributeNames.length<=0){if((d>v?v>w?w:v:d>w?w:d)<=(j=C.visibleArea).x+j.width&&(d<v?v<w?w:v:d<w?w:d)>=C.visibleArea.x)U=(e>P?P>T?T:P:e>T?T:e)<=(j=C.visibleArea).y+j.height;else U=!1;H=U&&(e<P?P<T?T:P:e<T?T:e)>=C.visibleArea.y}else H=!0;if(H){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(X=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,X._next=null):X=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(V=X).tx1=d,V.ty1=e,V.uvx1=O,V.uvy1=G,V.tx2=v,V.ty2=P,V.uvx2=F,V.uvy2=G,V.tx3=w,V.ty3=T,V.uvx3=O,V.uvy3=N,V.color=_,V.alpha=r,null==C.data?C.data=V:C._lastData._next=V,C._lastData=V,++C.triangleCount;var S=V.tx1,A=V.tx2,E=V.tx3,D=S>A?A>E?E:A:S>E?E:S,M=(S=V.tx1,A=V.tx2,E=V.tx3,S<A?A<E?E:A:S<E?E:S),R=(S=V.ty1,A=V.ty2,E=V.ty3,S>A?A>E?E:A:S>E?E:S),L=(S=V.ty1,A=V.ty2,E=V.ty3,S<A?A<E?E:A:S<E?E:S);if(0==C.bounds.width)C.bounds.x=D,C.bounds.width=M-D;else D<C.bounds.x&&(C.bounds.width+=C.bounds.x-D,C.bounds.x=D),M>(j=C.bounds).x+j.width&&(C.bounds.width=M-C.bounds.x);if(0==C.bounds.height)C.bounds.y=R,C.bounds.height=L-R;else R<C.bounds.y&&(C.bounds.height+=C.bounds.y-R,C.bounds.y=R),L>(j=C.bounds).y+j.height&&(C.bounds.height=L-C.bounds.y)}}var I=v+b*f,$=P+b*i;if(r>0){if(C.shader.attributeNames.length<=0){if((w>v?v>I?I:v:w>I?I:w)<=(j=C.visibleArea).x+j.width&&(w<v?v<I?I:v:w<I?I:w)>=C.visibleArea.x)U=(T>P?P>$?$:P:T>$?$:T)<=(j=C.visibleArea).y+j.height;else U=!1;H=U&&(T<P?P<$?$:P:T<$?$:T)>=C.visibleArea.y}else H=!0;if(H){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(X=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,X._next=null):X=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(V=X).tx1=w,V.ty1=T,V.uvx1=O,V.uvy1=N,V.tx2=v,V.ty2=P,V.uvx2=F,V.uvy2=G,V.tx3=I,V.ty3=$,V.uvx3=F,V.uvy3=N,V.color=_,V.alpha=r,null==C.data?C.data=V:C._lastData._next=V,C._lastData=V,++C.triangleCount;S=V.tx1,A=V.tx2,f=V.tx3,D=S>A?A>f?f:A:S>f?f:S,S=V.tx1,A=V.tx2,f=V.tx3,M=S<A?A<f?f:A:S<f?f:S,S=V.ty1,A=V.ty2,f=V.ty3,R=S>A?A>f?f:A:S>f?f:S,S=V.ty1,A=V.ty2,f=V.ty3,L=S<A?A<f?f:A:S<f?f:S;if(0==C.bounds.width)C.bounds.x=D,C.bounds.width=M-D;else D<C.bounds.x&&(C.bounds.width+=C.bounds.x-D,C.bounds.x=D),M>(j=C.bounds).x+j.width&&(C.bounds.width=M-C.bounds.x);if(0==C.bounds.height)C.bounds.y=R,C.bounds.height=L-R;else R<C.bounds.y&&(C.bounds.height+=C.bounds.y-R,C.bounds.y=R),L>(j=C.bounds).y+j.height&&(C.bounds.height=L-C.bounds.y)}}}}else{var B;c=this._rect;null==(B=l)&&(B=!1);g=this._parent.texture,x=c.x,k=c.y,y=c.width,b=c.height;if(null==(p=!1)&&(p=!1),r>0){var O,G,F,N;null==g?(O=G=0,F=y,N=b):(O=x/(null==g?0:g.width),G=k/(null==g?0:g.height),F=(x+y)/(null==g?0:g.width),N=(k+b)/(null==g?0:g.height));v=y*a+e,P=y*n+t,w=b*i+e,T=b*s+t,C=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(g,o,B,h,u,e,t,v,P,w,T,p);if(r>0){if(C.shader.attributeNames.length<=0){if((e>v?v>w?w:v:e>w?w:e)<=(j=C.visibleArea).x+j.width&&(e<v?v<w?w:v:e<w?w:e)>=C.visibleArea.x)U=(t>P?P>T?T:P:t>T?T:t)<=(j=C.visibleArea).y+j.height;else U=!1;H=U&&(t<P?P<T?T:P:t<T?T:t)>=C.visibleArea.y}else H=!0;if(H){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(X=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,X._next=null):X=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(V=X).tx1=e,V.ty1=t,V.uvx1=O,V.uvy1=G,V.tx2=v,V.ty2=P,V.uvx2=F,V.uvy2=G,V.tx3=w,V.ty3=T,V.uvx3=O,V.uvy3=N,V.color=_,V.alpha=r,null==C.data?C.data=V:C._lastData._next=V,C._lastData=V,++C.triangleCount;a=V.tx1,n=V.tx2,f=V.tx3,D=a>n?n>f?f:n:a>f?f:a,a=V.tx1,n=V.tx2,f=V.tx3,M=a<n?n<f?f:n:a<f?f:a,a=V.ty1,n=V.ty2,f=V.ty3,R=a>n?n>f?f:n:a>f?f:a,a=V.ty1,n=V.ty2,f=V.ty3,L=a<n?n<f?f:n:a<f?f:a;if(0==C.bounds.width)C.bounds.x=D,C.bounds.width=M-D;else D<C.bounds.x&&(C.bounds.width+=C.bounds.x-D,C.bounds.x=D),M>(j=C.bounds).x+j.width&&(C.bounds.width=M-C.bounds.x);if(0==C.bounds.height)C.bounds.y=R,C.bounds.height=L-R;else R<C.bounds.y&&(C.bounds.height+=C.bounds.y-R,C.bounds.y=R),L>(j=C.bounds).y+j.height&&(C.bounds.height=L-C.bounds.y)}}I=v+b*i,$=P+b*s;if(r>0){var H;if(C.shader.attributeNames.length<=0){var U;if((w>v?v>I?I:v:w>I?I:w)<=(j=C.visibleArea).x+j.width&&(w<v?v<I?I:v:w<I?I:w)>=C.visibleArea.x)U=(T>P?P>$?$:P:T>$?$:T)<=(j=C.visibleArea).y+j.height;else U=!1;H=U&&(T<P?P<$?$:P:T<$?$:T)>=C.visibleArea.y}else H=!0;if(H){var X,V;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(X=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,X._next=null):X=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(V=X).tx1=w,V.ty1=T,V.uvx1=O,V.uvy1=N,V.tx2=v,V.ty2=P,V.uvx2=F,V.uvy2=G,V.tx3=I,V.ty3=$,V.uvx3=F,V.uvy3=N,V.color=_,V.alpha=r,null==C.data?C.data=V:C._lastData._next=V,C._lastData=V,++C.triangleCount;var j;a=V.tx1,n=V.tx2,i=V.tx3,D=a>n?n>i?i:n:a>i?i:a,a=V.tx1,n=V.tx2,i=V.tx3,M=a<n?n<i?i:n:a<i?i:a,a=V.ty1,n=V.ty2,i=V.ty3,R=a>n?n>i?i:n:a>i?i:a,a=V.ty1,n=V.ty2,i=V.ty3,L=a<n?n<i?i:n:a<i?i:a;if(0==C.bounds.width)C.bounds.x=D,C.bounds.width=M-D;else D<C.bounds.x&&(C.bounds.width+=C.bounds.x-D,C.bounds.x=D),M>(j=C.bounds).x+j.width&&(C.bounds.width=M-C.bounds.x);if(0==C.bounds.height)C.bounds.y=R,C.bounds.height=L-R;else R<C.bounds.y&&(C.bounds.height+=C.bounds.y-R,C.bounds.y=R),L>(j=C.bounds).y+j.height&&(C.bounds.height=L-C.bounds.y)}}}}},toString:function(){return"[AtlasRegion "+Std.string(this._rect)+"]"},get_x:function(){return this._rect.x},get_y:function(){return this._rect.y},get_width:function(){return 0|this._rect.width},get_height:function(){return 0|this._rect.height},__class__:haxepunk_graphics_atlas_AtlasRegion,__properties__:{get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"}};var haxepunk_graphics_atlas_AtlasResolutions=function(e){if(this.regions=[],null==e||0==e.length)throw haxe_Exception.thrown("Can't create an AtlasResolutions set with no AtlasRegions");for(var t=0;t<e.length;){var a=e[t];++t,this.addResolution(a)}};$hxClasses["haxepunk.graphics.atlas.AtlasResolutions"]=haxepunk_graphics_atlas_AtlasResolutions,haxepunk_graphics_atlas_AtlasResolutions.__name__="haxepunk.graphics.atlas.AtlasResolutions",haxepunk_graphics_atlas_AtlasResolutions.__interfaces__=[haxepunk_graphics_atlas_IAtlasRegion],haxepunk_graphics_atlas_AtlasResolutions.prototype={get_width:function(){return 0|this.base._rect.width},get_height:function(){return 0|this.base._rect.height},addResolution:function(e){if(0==this.regions.length)this.base=e,this.regions.push(e);else{if(Math.abs((0|e._rect.width)/(0|e._rect.height)-(0|this.base._rect.width)/(0|this.base._rect.height))>.001)throw haxe_Exception.thrown("All AtlasRegions in an AtlasResolutions set must have the same aspect ratio: "+Std.string(this.base)+" "+Std.string(e));for(var t=0,a=this.regions.length+1;t<a;){var n=t++;if(n==this.regions.length||(0|this.regions[n]._rect.width)>(0|e._rect.width)){this.regions.splice(n,0,e);break}}}},draw:function(e,t,a,n,i,s,_,r,o,l,h,u){null==u&&(u=!1),null==_&&(_=1),null==s&&(s=16777215),null==i&&(i=0),null==n&&(n=1),null==a&&(a=1);for(var p=Math.max(Math.abs(a),Math.abs(n)),c=this.base,d=0,f=this.regions;d<f.length;){var m=f[d];if(++d,c=m,(g=(0|m._rect.width)/(0|this.base._rect.width))>p)break}m=c;var g,x=a*(g=(0|this.base._rect.width)/(0|m._rect.width)),k=n*g,y=i,b=s,v=_;null==(S=u)&&(S=!1),null==v&&(v=1),null==b&&(b=16777215),null==y&&(y=0),null==k&&(k=1),null==x&&(x=1),m.rotated&&(y+=90);var P,w=m._rect;if(null==(u=S)&&(u=!1),0==y)U=x,X=0,ae=0,P=k;else{var T=Math.cos(-y*(Math.PI/-180)),C=Math.sin(-y*(Math.PI/-180));U=T*x,X=-C*k,ae=C*x,P=T*k}var S,A=m._parent.texture,E=w.x,D=w.y,M=w.width,R=w.height;if(null==(S=u)&&(S=!1),v>0){var L,I,$,B;null==A?(L=I=0,$=M,B=R):(L=E/(null==A?0:A.width),I=D/(null==A?0:A.height),$=(E+M)/(null==A?0:A.width),B=(D+R)/(null==A?0:A.height));var O=M*U+e,G=M*X+t,F=R*ae+e,N=R*P+t,H=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(A,r,o,l,h,e,t,O,G,F,N,S);if(v>0){if(H.shader.attributeNames.length<=0){if((e>O?O>F?F:O:e>F?F:e)<=(te=H.visibleArea).x+te.width&&(e<O?O<F?F:O:e<F?F:e)>=H.visibleArea.x)Z=(t>G?G>N?N:G:t>N?N:t)<=(te=H.visibleArea).y+te.height;else Z=!1;J=Z&&(t<G?G<N?N:G:t<N?N:t)>=H.visibleArea.y}else J=!0;if(J){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=e,ee.ty1=t,ee.uvx1=L,ee.uvy1=I,ee.tx2=O,ee.ty2=G,ee.uvx2=$,ee.uvy2=I,ee.tx3=F,ee.ty3=N,ee.uvx3=L,ee.uvy3=B,ee.color=b,ee.alpha=v,null==H.data?H.data=ee:H._lastData._next=ee,H._lastData=ee,++H.triangleCount;var U=ee.tx1,X=ee.tx2,V=ee.tx3,j=U>X?X>V?V:X:U>V?V:U,z=(U=ee.tx1,X=ee.tx2,V=ee.tx3,U<X?X<V?V:X:U<V?V:U),W=(U=ee.ty1,X=ee.ty2,V=ee.ty3,U>X?X>V?V:X:U>V?V:U),Y=(U=ee.ty1,X=ee.ty2,V=ee.ty3,U<X?X<V?V:X:U<V?V:U);if(0==H.bounds.width)H.bounds.x=j,H.bounds.width=z-j;else j<H.bounds.x&&(H.bounds.width+=H.bounds.x-j,H.bounds.x=j),z>(te=H.bounds).x+te.width&&(H.bounds.width=z-H.bounds.x);if(0==H.bounds.height)H.bounds.y=W,H.bounds.height=Y-W;else W<H.bounds.y&&(H.bounds.height+=H.bounds.y-W,H.bounds.y=W),Y>(te=H.bounds).y+te.height&&(H.bounds.height=Y-H.bounds.y)}}var K=O+R*ae,q=G+R*P;if(v>0){var J;if(H.shader.attributeNames.length<=0){var Z;if((F>O?O>K?K:O:F>K?K:F)<=(te=H.visibleArea).x+te.width&&(F<O?O<K?K:O:F<K?K:F)>=H.visibleArea.x)Z=(N>G?G>q?q:G:N>q?q:N)<=(te=H.visibleArea).y+te.height;else Z=!1;J=Z&&(N<G?G<q?q:G:N<q?q:N)>=H.visibleArea.y}else J=!0;if(J){var Q,ee;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=F,ee.ty1=N,ee.uvx1=L,ee.uvy1=B,ee.tx2=O,ee.ty2=G,ee.uvx2=$,ee.uvy2=I,ee.tx3=K,ee.ty3=q,ee.uvx3=$,ee.uvy3=B,ee.color=b,ee.alpha=v,null==H.data?H.data=ee:H._lastData._next=ee,H._lastData=ee,++H.triangleCount;U=ee.tx1,X=ee.tx2;var te,ae=ee.tx3;j=U>X?X>ae?ae:X:U>ae?ae:U,U=ee.tx1,X=ee.tx2,ae=ee.tx3,z=U<X?X<ae?ae:X:U<ae?ae:U,U=ee.ty1,X=ee.ty2,ae=ee.ty3,W=U>X?X>ae?ae:X:U>ae?ae:U,U=ee.ty1,X=ee.ty2,ae=ee.ty3,Y=U<X?X<ae?ae:X:U<ae?ae:U;if(0==H.bounds.width)H.bounds.x=j,H.bounds.width=z-j;else j<H.bounds.x&&(H.bounds.width+=H.bounds.x-j,H.bounds.x=j),z>(te=H.bounds).x+te.width&&(H.bounds.width=z-H.bounds.x);if(0==H.bounds.height)H.bounds.y=W,H.bounds.height=Y-W;else W<H.bounds.y&&(H.bounds.height+=H.bounds.y-W,H.bounds.y=W),Y>(te=H.bounds).y+te.height&&(H.bounds.height=Y-H.bounds.y)}}}},drawMatrix:function(e,t,a,n,i,s,_,r,o,l,h,u,p){null==p&&(p=!1),null==r&&(r=1),null==_&&(_=16777215);for(var c=Math.max(Math.abs(a*i),Math.abs(n*s)),d=this.base,f=0,m=this.regions;f<m.length;){var g=m[f];if(++f,d=g,(x=(0|g._rect.width)/(0|this.base._rect.width))>c)break}g=d;var x,k=e*(x=(0|this.base._rect.width)/(0|g._rect.width)),y=t*x,b=a*x,v=n*x,P=i*x,w=s*x,T=_,C=r;if(null==(A=p)&&(A=!1),null==C&&(C=1),null==T&&(T=16777215),g.rotated){var S=g._rect;e=-y,i=-w;null==(p=A)&&(p=!1),null==(z=l)&&(z=!1);var A,E=g._parent.texture,D=S.x,M=S.y,R=S.width,L=S.height;if(null==(A=p)&&(A=!1),C>0){null==E?(W=Y=0,K=R,q=L):(W=D/(null==E?0:E.width),Y=M/(null==E?0:E.height),K=(D+R)/(null==E?0:E.width),q=(M+L)/(null==E?0:E.height));var I=R*-v+e,$=R*b+k,B=L*i+e,O=L*P+k,G=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(E,o,z,h,u,e,k,I,$,B,O,A);if(C>0){if(G.shader.attributeNames.length<=0){if((e>I?I>B?B:I:e>B?B:e)<=(te=G.visibleArea).x+te.width&&(e<I?I<B?B:I:e<B?B:e)>=G.visibleArea.x)Z=(k>$?$>O?O:$:k>O?O:k)<=(te=G.visibleArea).y+te.height;else Z=!1;J=Z&&(k<$?$<O?O:$:k<O?O:k)>=G.visibleArea.y}else J=!0;if(J){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=e,ee.ty1=k,ee.uvx1=W,ee.uvy1=Y,ee.tx2=I,ee.ty2=$,ee.uvx2=K,ee.uvy2=Y,ee.tx3=B,ee.ty3=O,ee.uvx3=W,ee.uvy3=q,ee.color=T,ee.alpha=C,null==G.data?G.data=ee:G._lastData._next=ee,G._lastData=ee,++G.triangleCount;a=ee.tx1,n=ee.tx2;var F=ee.tx3,N=a>n?n>F?F:n:a>F?F:a,H=(a=ee.tx1,n=ee.tx2,F=ee.tx3,a<n?n<F?F:n:a<F?F:a),U=(a=ee.ty1,n=ee.ty2,F=ee.ty3,a>n?n>F?F:n:a>F?F:a),X=(a=ee.ty1,n=ee.ty2,F=ee.ty3,a<n?n<F?F:n:a<F?F:a);if(0==G.bounds.width)G.bounds.x=N,G.bounds.width=H-N;else N<G.bounds.x&&(G.bounds.width+=G.bounds.x-N,G.bounds.x=N),H>(te=G.bounds).x+te.width&&(G.bounds.width=H-G.bounds.x);if(0==G.bounds.height)G.bounds.y=U,G.bounds.height=X-U;else U<G.bounds.y&&(G.bounds.height+=G.bounds.y-U,G.bounds.y=U),X>(te=G.bounds).y+te.height&&(G.bounds.height=X-G.bounds.y)}}var V=I+L*i,j=$+L*P;if(C>0){if(G.shader.attributeNames.length<=0){if((B>I?I>V?V:I:B>V?V:B)<=(te=G.visibleArea).x+te.width&&(B<I?I<V?V:I:B<V?V:B)>=G.visibleArea.x)Z=(O>$?$>j?j:$:O>j?j:O)<=(te=G.visibleArea).y+te.height;else Z=!1;J=Z&&(O<$?$<j?j:$:O<j?j:O)>=G.visibleArea.y}else J=!0;if(J){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=B,ee.ty1=O,ee.uvx1=W,ee.uvy1=q,ee.tx2=I,ee.ty2=$,ee.uvx2=K,ee.uvy2=Y,ee.tx3=V,ee.ty3=j,ee.uvx3=K,ee.uvy3=q,ee.color=T,ee.alpha=C,null==G.data?G.data=ee:G._lastData._next=ee,G._lastData=ee,++G.triangleCount;a=ee.tx1,n=ee.tx2,i=ee.tx3,N=a>n?n>i?i:n:a>i?i:a,a=ee.tx1,n=ee.tx2,i=ee.tx3,H=a<n?n<i?i:n:a<i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,U=a>n?n>i?i:n:a>i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,X=a<n?n<i?i:n:a<i?i:a;if(0==G.bounds.width)G.bounds.x=N,G.bounds.width=H-N;else N<G.bounds.x&&(G.bounds.width+=G.bounds.x-N,G.bounds.x=N),H>(te=G.bounds).x+te.width&&(G.bounds.width=H-G.bounds.x);if(0==G.bounds.height)G.bounds.y=U,G.bounds.height=X-U;else U<G.bounds.y&&(G.bounds.height+=G.bounds.y-U,G.bounds.y=U),X>(te=G.bounds).y+te.height&&(G.bounds.height=X-G.bounds.y)}}}}else{var z;S=g._rect;null==(z=l)&&(z=!1);E=g._parent.texture,D=S.x,M=S.y,R=S.width,L=S.height;if(null==(p=!1)&&(p=!1),C>0){var W,Y,K,q;null==E?(W=Y=0,K=R,q=L):(W=D/(null==E?0:E.width),Y=M/(null==E?0:E.height),K=(D+R)/(null==E?0:E.width),q=(M+L)/(null==E?0:E.height));I=R*b+k,$=R*v+y,B=L*P+k,O=L*w+y,G=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(E,o,z,h,u,k,y,I,$,B,O,p);if(C>0){if(G.shader.attributeNames.length<=0){if((k>I?I>B?B:I:k>B?B:k)<=(te=G.visibleArea).x+te.width&&(k<I?I<B?B:I:k<B?B:k)>=G.visibleArea.x)Z=(y>$?$>O?O:$:y>O?O:y)<=(te=G.visibleArea).y+te.height;else Z=!1;J=Z&&(y<$?$<O?O:$:y<O?O:y)>=G.visibleArea.y}else J=!0;if(J){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=k,ee.ty1=y,ee.uvx1=W,ee.uvy1=Y,ee.tx2=I,ee.ty2=$,ee.uvx2=K,ee.uvy2=Y,ee.tx3=B,ee.ty3=O,ee.uvx3=W,ee.uvy3=q,ee.color=T,ee.alpha=C,null==G.data?G.data=ee:G._lastData._next=ee,G._lastData=ee,++G.triangleCount;a=ee.tx1,n=ee.tx2,i=ee.tx3,N=a>n?n>i?i:n:a>i?i:a,a=ee.tx1,n=ee.tx2,i=ee.tx3,H=a<n?n<i?i:n:a<i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,U=a>n?n>i?i:n:a>i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,X=a<n?n<i?i:n:a<i?i:a;if(0==G.bounds.width)G.bounds.x=N,G.bounds.width=H-N;else N<G.bounds.x&&(G.bounds.width+=G.bounds.x-N,G.bounds.x=N),H>(te=G.bounds).x+te.width&&(G.bounds.width=H-G.bounds.x);if(0==G.bounds.height)G.bounds.y=U,G.bounds.height=X-U;else U<G.bounds.y&&(G.bounds.height+=G.bounds.y-U,G.bounds.y=U),X>(te=G.bounds).y+te.height&&(G.bounds.height=X-G.bounds.y)}}V=I+L*P,j=$+L*w;if(C>0){var J;if(G.shader.attributeNames.length<=0){var Z;if((B>I?I>V?V:I:B>V?V:B)<=(te=G.visibleArea).x+te.width&&(B<I?I<V?V:I:B<V?V:B)>=G.visibleArea.x)Z=(O>$?$>j?j:$:O>j?j:O)<=(te=G.visibleArea).y+te.height;else Z=!1;J=Z&&(O<$?$<j?j:$:O<j?j:O)>=G.visibleArea.y}else J=!0;if(J){var Q,ee;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Q=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Q._next=null):Q=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(ee=Q).tx1=B,ee.ty1=O,ee.uvx1=W,ee.uvy1=q,ee.tx2=I,ee.ty2=$,ee.uvx2=K,ee.uvy2=Y,ee.tx3=V,ee.ty3=j,ee.uvx3=K,ee.uvy3=q,ee.color=T,ee.alpha=C,null==G.data?G.data=ee:G._lastData._next=ee,G._lastData=ee,++G.triangleCount;var te;a=ee.tx1,n=ee.tx2,i=ee.tx3,N=a>n?n>i?i:n:a>i?i:a,a=ee.tx1,n=ee.tx2,i=ee.tx3,H=a<n?n<i?i:n:a<i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,U=a>n?n>i?i:n:a>i?i:a,a=ee.ty1,n=ee.ty2,i=ee.ty3,X=a<n?n<i?i:n:a<i?i:a;if(0==G.bounds.width)G.bounds.x=N,G.bounds.width=H-N;else N<G.bounds.x&&(G.bounds.width+=G.bounds.x-N,G.bounds.x=N),H>(te=G.bounds).x+te.width&&(G.bounds.width=H-G.bounds.x);if(0==G.bounds.height)G.bounds.y=U,G.bounds.height=X-U;else U<G.bounds.y&&(G.bounds.height+=G.bounds.y-U,G.bounds.y=U),X>(te=G.bounds).y+te.height&&(G.bounds.height=X-G.bounds.y)}}}}},clip:function(e,t){var a=[];a.push(this.base.clip(e,t));for(var n=0,i=this.regions;n<i.length;){var s=i[n];if(++n,s!=this.base){var _=(0|s._rect.width)/(0|this.base._rect.width);haxepunk_graphics_atlas_AtlasResolutions._rect.setTo(e.x*_,e.y*_,e.width*_,e.height*_),null!=t&&haxepunk_math_Vector2.setTo(haxepunk_graphics_atlas_AtlasResolutions._point,t.x*_,t.y*_),a.push(s.clip(haxepunk_graphics_atlas_AtlasResolutions._rect,null==t?null:haxepunk_graphics_atlas_AtlasResolutions._point))}}return new haxepunk_graphics_atlas_AtlasResolutions(a)},toString:function(){return"[AtlasResolutions for [AtlasRegion "+Std.string(this.base._rect)+"] x "+this.regions.length+" resolutions]"},regionForScale:function(e){for(var t=this.base,a=0,n=this.regions;a<n.length;){var i=n[a];if(++a,t=i,(0|i._rect.width)/(0|this.base._rect.width)>e)break}return t},__class__:haxepunk_graphics_atlas_AtlasResolutions,__properties__:{get_height:"get_height",get_width:"get_width"}};var haxepunk_graphics_atlas_TextureAtlas=function(e){this._regions=new haxe_ds_StringMap,haxepunk_graphics_atlas_Atlas.call(this,e),null==e&&(this._pages=new haxe_ds_StringMap)};$hxClasses["haxepunk.graphics.atlas.TextureAtlas"]=haxepunk_graphics_atlas_TextureAtlas,haxepunk_graphics_atlas_TextureAtlas.__name__="haxepunk.graphics.atlas.TextureAtlas",haxepunk_graphics_atlas_TextureAtlas.loadTexturePacker=function(e){for(var t=Xml.parse(haxepunk_assets_AssetLoader.getText(e)).firstElement(),a=t.get("imagePath"),n=haxepunk_assets_AssetCache.global.getAtlasData(a,!1),i=new haxepunk_graphics_atlas_TextureAtlas(n),s=t.elements();s.hasNext();){var _=s.next(),r=_.get("x");haxepunk_HXP.rect.x=Std.parseInt(r);var o,l=_.get("y");if(haxepunk_HXP.rect.y=Std.parseInt(l),_.exists("w")){var h=_.get("w");haxepunk_HXP.rect.width=Std.parseInt(h)}else if(_.exists("width")){var u=_.get("width");haxepunk_HXP.rect.width=Std.parseInt(u)}if(_.exists("h")){var p=_.get("h");haxepunk_HXP.rect.height=Std.parseInt(p)}else if(_.exists("height")){var c=_.get("height");haxepunk_HXP.rect.height=Std.parseInt(c)}if(_.exists("n"))o=_.get("n");else{if(!_.exists("name"))throw haxe_Exception.thrown("Unable to find the region's name.");o=_.get("name")}var d=i.defineRegion(o,haxepunk_HXP.rect);_.exists("r")&&"y"==_.get("r")&&(d.rotated=!0)}return i},haxepunk_graphics_atlas_TextureAtlas.loadGdxTexturePacker=function(e){return haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.load(e)},haxepunk_graphics_atlas_TextureAtlas.__super__=haxepunk_graphics_atlas_Atlas,haxepunk_graphics_atlas_TextureAtlas.prototype=$extend(haxepunk_graphics_atlas_Atlas.prototype,{getRegion:function(e){if(Object.prototype.hasOwnProperty.call(this._regions.h,e))return this._regions.h[e];throw haxe_Exception.thrown('Region has not been defined yet "'+e+'".')},defineRegion:function(e,t,a,n){var i=null==this._pages?this._data:this._pages.h[n],s=new haxepunk_graphics_atlas_AtlasRegion(i,t.clone());return this._regions.h[e]=s,s},__class__:haxepunk_graphics_atlas_TextureAtlas});var haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker=function(){};$hxClasses["haxepunk.graphics.atlas._TextureAtlas.GdxTexturePacker"]=haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker,haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.__name__="haxepunk.graphics.atlas._TextureAtlas.GdxTexturePacker",haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.load=function(e){for(var t,a,n,i=haxepunk_assets_AssetLoader.getText(e),s=haxe_io_Path.directory(e),_=new haxepunk_graphics_atlas_TextureAtlas,r=new haxe_io_StringInput(i);;){var o=null;try{o=r.readLine()}catch(e){if(haxe_NativeStackTrace.lastError=e,haxe_Exception.caught(e).unwrap()instanceof haxe_io_Eof)break;throw e}if(null==o)break;if(0!=(o=StringTools.trim(o)).length){a=o,n=haxe_io_Path.extension(a);var l=haxe_io_Path.join([s,a]);t=haxepunk_assets_AssetCache.global.getAtlasData(l,!1),_._pages.h[a]=t;for(var h="";;){try{h=r.readLine()}catch(e){if(haxe_NativeStackTrace.lastError=e,haxe_Exception.caught(e).unwrap()instanceof haxe_io_Eof)break;throw e}if(-1==h.indexOf(":"))break;var u=h.split(":"),p=StringTools.trim(u[0]);StringTools.trim(u[1]);p}for(;""!=h;){var c=h;try{h=r.readLine()}catch(e){if(haxe_NativeStackTrace.lastError=e,haxe_Exception.caught(e).unwrap()instanceof haxe_io_Eof)break;throw e}for(var d=Object.create(null);h.indexOf(":")>-1;){var f=h.split(":"),m=StringTools.trim(f[0]),g=StringTools.trim(f[1]);d[m]=g;try{h=r.readLine()}catch(e){if(haxe_NativeStackTrace.lastError=e,haxe_Exception.caught(e).unwrap()instanceof haxe_io_Eof)break;throw e}}for(var x=[],k=0,y=[],b=0,v=d.xy.split(",");b<v.length;){var P=v[b];++b,y.push(StringTools.trim(P))}for(var w=y;k<w.length;){var T=w[k];++k,x.push(Std.parseInt(T))}for(var C=x,S=[],A=0,E=[],D=0,M=d.size.split(",");D<M.length;){var R=M[D];++D,E.push(StringTools.trim(R))}for(var L=E;A<L.length;){var I=L[A];++A,S.push(Std.parseInt(I))}var $=S,B=0!=("true"==d.rotate?-90:0)?new haxepunk_math_Rectangle(C[0],C[1],$[1],$[0]):new haxepunk_math_Rectangle(C[0],C[1],$[0],$[1]),O=haxe_io_Path.join([s,c+"."+n]);_.defineRegion(O,B,null,a)}}}return _},haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.getValue=function(e){var t=e.split(":");return{name:StringTools.trim(t[0]),value:StringTools.trim(t[1])}},haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.getTuple=function(e){for(var t=[],a=0,n=e.split(",");a<n.length;){var i=n[a];++a,t.push(StringTools.trim(i))}return t};var haxepunk_graphics_atlas_TileAtlas=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=0),this._tileMarginHeight=0,this._tileMarginWidth=0,this._tileHeight=0,this._tileWidth=0,haxepunk_graphics_atlas_Atlas.call(this,e),this._regions=[],null!=t&&null!=a&&this.prepare(t,a,n,i)};$hxClasses["haxepunk.graphics.atlas.TileAtlas"]=haxepunk_graphics_atlas_TileAtlas,haxepunk_graphics_atlas_TileAtlas.__name__="haxepunk.graphics.atlas.TileAtlas",haxepunk_graphics_atlas_TileAtlas.loadFromTextureAtlas=function(e,t){for(var a=e._data,n=new haxepunk_graphics_atlas_TileAtlas(a),i=0;i<t.length;){var s=t[i];if(++i,!Object.prototype.hasOwnProperty.call(e._regions.h,s))throw haxe_Exception.thrown('Region has not been defined yet "'+s+'".');_=e._regions.h[s],n._regions.push(_)}var _=n._regions[0];return n._tileWidth=0|_._rect.width,n._tileHeight=0|_._rect.height,n},haxepunk_graphics_atlas_TileAtlas.loadFromAtlasRegion=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=0);var s=e._parent,_=new haxepunk_graphics_atlas_TileAtlas(s);_._tileWidth=t,_._tileHeight=a,_._tileMarginWidth=n,_._tileMarginHeight=i;var r=Math.floor((0|e._rect.width)/t),o=Math.floor((0|e._rect.height)/a);haxepunk_HXP.rect.width=t,haxepunk_HXP.rect.height=a,haxepunk_HXP.point.x=haxepunk_HXP.point.y=0;for(var l=0,h=o;l<h;){var u=l++;haxepunk_HXP.rect.y=u*(a+i);for(var p=0,c=r;p<c;){var d=p++;haxepunk_HXP.rect.x=d*(t+n);var f=e.clip(haxepunk_HXP.rect,haxepunk_HXP.point);_._regions.push(f)}}return _},haxepunk_graphics_atlas_TileAtlas.__super__=haxepunk_graphics_atlas_Atlas,haxepunk_graphics_atlas_TileAtlas.prototype=$extend(haxepunk_graphics_atlas_Atlas.prototype,{get_tileCount:function(){return this._regions.length},get_tileWidth:function(){return this._tileWidth},get_tileHeight:function(){return this._tileHeight},get_tileMarginWidth:function(){return this._tileMarginWidth},get_tileMarginHeight:function(){return this._tileMarginHeight},getRegion:function(e){if(e>=this._regions.length)throw haxe_Exception.thrown("Atlas doesn't have a region number \""+e+'"');return this._regions[e]},prepare:function(e,t,a,n,i,s){if(null==s&&(s=0),null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),!(this._regions.length>0)){0==e&&(e=this._data.width),0==t&&(t=this._data.height);this._tileWidth=e,this._tileHeight=t,this._tileMarginWidth=a,this._tileMarginHeight=n;var _=Math.floor(this._data.width/e),r=Math.floor(this._data.height/t);haxepunk_HXP.rect.width=e,haxepunk_HXP.rect.height=t,haxepunk_HXP.point.x=haxepunk_HXP.point.y=0;for(var o=0,l=r;o<l;){var h=o++;haxepunk_HXP.rect.y=s+h*(t+n);for(var u=0,p=_;u<p;){var c=u++;haxepunk_HXP.rect.x=i+c*(e+a);haxepunk_HXP.point;this._regions.push(new haxepunk_graphics_atlas_AtlasRegion(this._data,haxepunk_HXP.rect.clone()))}}}},__class__:haxepunk_graphics_atlas_TileAtlas,__properties__:$extend(haxepunk_graphics_atlas_Atlas.prototype.__properties__,{get_tileMarginHeight:"get_tileMarginHeight",get_tileMarginWidth:"get_tileMarginWidth",get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth",get_tileCount:"get_tileCount"})});var haxepunk_graphics_emitter_BaseEmitter=function(e){this.frozen=!1,this.scale=1,haxepunk_Graphic.call(this),this._source=e,this._sourceIsImage=this._source instanceof haxepunk_graphics_Image,this._types=new haxe_ds_StringMap,this.active=!0,this.particleCount=0};$hxClasses["haxepunk.graphics.emitter.BaseEmitter"]=haxepunk_graphics_emitter_BaseEmitter,haxepunk_graphics_emitter_BaseEmitter.__name__="haxepunk.graphics.emitter.BaseEmitter",haxepunk_graphics_emitter_BaseEmitter.__super__=haxepunk_Graphic,haxepunk_graphics_emitter_BaseEmitter.prototype=$extend(haxepunk_Graphic.prototype,{hasType:function(e){return Object.prototype.hasOwnProperty.call(this._types.h,e)},render:function(e,t){for(var a,n,i,s,_,r,o,l,h=this._particle;null!=h;){a=h._time/h._duration,h._firstDraw&&(h._ox=e.x,h._oy=e.y,h._firstDraw=!1),i=h._type,this._source.smooth=this.smooth,this._source.flexibleLayer=this.flexibleLayer,this._source.pixelSnapping=this.pixelSnapping,this._source.blend=null==i._blendMode?this.blend:i._blendMode;for(var u=i._trailLength;u>=0;)if(!((a=(n=h._time-u--*i._trailDelay)/h._duration)<0||n>=h._stopTime)){if(s=null!=i._ease?i._ease(a):a,this.updateParticle(h,s),l=null!=i._colorEase?i._colorEase(a):a,this._source.set_color(h.color(l)),_=null!=i._alphaEase?i._alphaEase(a):a,this._source.set_alpha(h.alpha(_)*Math.pow(i._trailAlpha,u)),this._sourceIsImage){var p=this._source;o=null!=i._rotationEase?i._rotationEase(a):a,p.angle=h.angle(o),r=null!=i._scaleEase?i._scaleEase(a):a,p.scale=this.scale*h.scale(r)}this._source.x=h.x(s)-e.x+this.x-this.originX,this._source.y=h.y(s)-e.y+this.y-this.originY,this._source.render(e,t)}h=h._next}},updateParticle:function(e,t){},update:function(){if(null!=this._particle)for(var e,t=this._particle;null!=t;){this.frozen||(t._time+=haxepunk_HXP.elapsed);var a=t._type;t._time,t._duration;t._time-a._trailLength*a._trailDelay>=t._stopTime?(null!=t._next&&(t._next._prev=t._prev),null!=t._prev?t._prev._next=t._next:this._particle=t._next,e=t._next,t._next=this._cache,t._prev=null,this._cache=t,t=e,this.particleCount--):t=t._next}},clear:function(){if(null!=this._particle){for(var e,t=this._particle;null!=t;)e=t._next,t._next=this._cache,t._prev=null,this._cache=t,t=e,this.particleCount--;this._particle=null}},centerOrigin:function(){this.originX=this.originY=0},addType:function(e,t){null==t&&(t=this.blend);var a=this._types.h[e];if(null!=a)throw haxe_Exception.thrown("Cannot add multiple particle types of the same name");return a=new haxepunk_graphics_emitter_ParticleType(e,t),this._types.h[e]=a,a},emit:function(e,t,a,n){var i;null==n&&(n=0),null==a&&(a=0),null==t&&(t=0);var s=this._types.h[e];if(null==s)throw haxe_Exception.thrown('Particle type "'+e+'" does not exist.');null!=this._cache?(i=this._cache,this._cache=i._next):i=new haxepunk_graphics_emitter_Particle,i._next=this._particle,i._prev=null,null!=i._next&&(i._next._prev=i),i._type=s,i._time=0,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._duration=s._duration+s._durationRange*(haxepunk_math_Random._seed/2147483647),i._stopTime=i._duration,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._angle=n+s._angle+s._angleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._startAngle=s._startAngle+s._startAngleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._spanAngle=s._spanAngle+s._spanAngleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var _=s._distance+s._distanceRange*(haxepunk_math_Random._seed/2147483647);return i._moveX=Math.cos(i._angle*(Math.PI/-180))*_,i._moveY=Math.sin(i._angle*(Math.PI/-180))*_,i._x=t,i._y=a,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._gravity=s._gravity+s._gravityRange*(haxepunk_math_Random._seed/2147483647),i._firstDraw=!0,i._ox=i._oy=0,this.particleCount++,this._particle=i},emitInCircle:function(e,t,a,n){haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var i=haxepunk_math_Random._seed/2147483647*Math.PI*2;return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,n*=haxepunk_math_Random._seed/2147483647,this.emit(e,t+Math.cos(i)*n,a+Math.sin(i)*n)},emitInRectangle:function(e,t,a,n,i){haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var s=t+haxepunk_math_Random._seed/2147483647*n;return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,this.emit(e,s,a+haxepunk_math_Random._seed/2147483647*i)},setMotion:function(e,t,a,n,i,s,_,r,o){null==o&&(o=!1),null==_&&(_=0),null==s&&(s=0),null==i&&(i=0);var l=this._types.h[e];return null==l?null:l.setMotion(t,a,n,i,s,_,r,o)},setGravity:function(e,t,a){return null==a&&(a=0),null==t&&(t=0),this._types.h[e].setGravity(t,a)},setAlpha:function(e,t,a,n){null==a&&(a=0),null==t&&(t=1);var i=this._types.h[e];return null==i?null:i.setAlpha(t,a,n)},setScale:function(e,t,a,n){null==a&&(a=0),null==t&&(t=1);var i=this._types.h[e];return null==i?null:i.setScale(t,a,n)},setRotation:function(e,t,a,n,i,s){null==i&&(i=0),null==n&&(n=0);var _=this._types.h[e];return null==_?null:_.setRotation(t,a,n,i,s)},setTrail:function(e,t,a,n){null==n&&(n=1),null==a&&(a=.1),null==t&&(t=1);var i=this._types.h[e];return null==i?null:i.setTrail(t,a,n)},setColor:function(e,t,a,n){null==a&&(a=0),null==t&&(t=16777215);var i=this._types.h[e];return null==i?null:i.setColor(t,a,n)},__class__:haxepunk_graphics_emitter_BaseEmitter});var haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap=function(e){this.frozen=!1,this.scale=1,haxepunk_Graphic.call(this),this._source=e,this._sourceIsImage=this._source instanceof haxepunk_graphics_Image,this._types=new haxe_ds_StringMap,this.active=!0,this.particleCount=0};$hxClasses["haxepunk.graphics.emitter.BaseEmitter_haxepunk_graphics_Spritemap"]=haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap,haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.__name__="haxepunk.graphics.emitter.BaseEmitter_haxepunk_graphics_Spritemap",haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.__super__=haxepunk_Graphic,haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.prototype=$extend(haxepunk_Graphic.prototype,{hasType:function(e){return this._types.exists(e)},render:function(e,t){for(var a,n,i,s,_,r,o,l,h=this._particle;null!=h;){a=h._time/h._duration,h._firstDraw&&(h._ox=e.x,h._oy=e.y,h._firstDraw=!1),i=h._type,this._source.smooth=this.smooth,this._source.flexibleLayer=this.flexibleLayer,this._source.pixelSnapping=this.pixelSnapping,this._source.blend=null==i._blendMode?this.blend:i._blendMode;for(var u=i._trailLength;u>=0;)if(!((a=(n=h._time-u--*i._trailDelay)/h._duration)<0||n>=h._stopTime)){if(s=null!=i._ease?i._ease(a):a,this.updateParticle(h,s),l=null!=i._colorEase?i._colorEase(a):a,this._source.set_color(h.color(l)),_=null!=i._alphaEase?i._alphaEase(a):a,this._source.set_alpha(h.alpha(_)*Math.pow(i._trailAlpha,u)),this._sourceIsImage){var p=this._source;o=null!=i._rotationEase?i._rotationEase(a):a,p.angle=h.angle(o),r=null!=i._scaleEase?i._scaleEase(a):a,p.scale=this.scale*h.scale(r)}this._source.x=h.x(s)-e.x+this.x-this.originX,this._source.y=h.y(s)-e.y+this.y-this.originY,this._source.render(e,t)}h=h._next}},updateParticle:function(e,t){},update:function(){if(null!=this._particle)for(var e,t=this._particle;null!=t;){this.frozen||(t._time+=haxepunk_HXP.elapsed);var a=t._type;t._time,t._duration;t._time-a._trailLength*a._trailDelay>=t._stopTime?(null!=t._next&&(t._next._prev=t._prev),null!=t._prev?t._prev._next=t._next:this._particle=t._next,e=t._next,t._next=this._cache,t._prev=null,this._cache=t,t=e,this.particleCount--):t=t._next}},clear:function(){if(null!=this._particle){for(var e,t=this._particle;null!=t;)e=t._next,t._next=this._cache,t._prev=null,this._cache=t,t=e,this.particleCount--;this._particle=null}},centerOrigin:function(){this.originX=this.originY=0},addType:function(e,t){null==t&&(t=this.blend);var a=this._types.get(e);if(null!=a)throw haxe_Exception.thrown("Cannot add multiple particle types of the same name");return a=new haxepunk_graphics_emitter_ParticleType(e,t),this._types.set(e,a),a},emit:function(e,t,a,n){var i;null==n&&(n=0),null==a&&(a=0),null==t&&(t=0);var s=this._types.get(e);if(null==s)throw haxe_Exception.thrown('Particle type "'+e+'" does not exist.');null!=this._cache?(i=this._cache,this._cache=i._next):i=new haxepunk_graphics_emitter_Particle,i._next=this._particle,i._prev=null,null!=i._next&&(i._next._prev=i),i._type=s,i._time=0,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._duration=s._duration+s._durationRange*(haxepunk_math_Random._seed/2147483647),i._stopTime=i._duration,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._angle=n+s._angle+s._angleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._startAngle=s._startAngle+s._startAngleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._spanAngle=s._spanAngle+s._spanAngleRange*(haxepunk_math_Random._seed/2147483647),haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var _=s._distance+s._distanceRange*(haxepunk_math_Random._seed/2147483647);return i._moveX=Math.cos(i._angle*(Math.PI/-180))*_,i._moveY=Math.sin(i._angle*(Math.PI/-180))*_,i._x=t,i._y=a,haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,i._gravity=s._gravity+s._gravityRange*(haxepunk_math_Random._seed/2147483647),i._firstDraw=!0,i._ox=i._oy=0,this.particleCount++,this._particle=i},emitInCircle:function(e,t,a,n){haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var i=haxepunk_math_Random._seed/2147483647*Math.PI*2;return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,n*=haxepunk_math_Random._seed/2147483647,this.emit(e,t+Math.cos(i)*n,a+Math.sin(i)*n)},emitInRectangle:function(e,t,a,n,i){haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0;var s=t+haxepunk_math_Random._seed/2147483647*n;return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,this.emit(e,s,a+haxepunk_math_Random._seed/2147483647*i)},setMotion:function(e,t,a,n,i,s,_,r,o){null==o&&(o=!1),null==_&&(_=0),null==s&&(s=0),null==i&&(i=0);var l=this._types.get(e);return null==l?null:l.setMotion(t,a,n,i,s,_,r,o)},setGravity:function(e,t,a){return null==a&&(a=0),null==t&&(t=0),this._types.get(e).setGravity(t,a)},setAlpha:function(e,t,a,n){null==a&&(a=0),null==t&&(t=1);var i=this._types.get(e);return null==i?null:i.setAlpha(t,a,n)},setScale:function(e,t,a,n){null==a&&(a=0),null==t&&(t=1);var i=this._types.get(e);return null==i?null:i.setScale(t,a,n)},setRotation:function(e,t,a,n,i,s){null==i&&(i=0),null==n&&(n=0);var _=this._types.get(e);return null==_?null:_.setRotation(t,a,n,i,s)},setTrail:function(e,t,a,n){null==n&&(n=1),null==a&&(a=.1),null==t&&(t=1);var i=this._types.get(e);return null==i?null:i.setTrail(t,a,n)},setColor:function(e,t,a,n){null==a&&(a=0),null==t&&(t=16777215);var i=this._types.get(e);return null==i?null:i.setColor(t,a,n)},__class__:haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap});var haxepunk_graphics_emitter_Emitter=function(e,t,a){null==a&&(a=0),null==t&&(t=0),haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.call(this,new haxepunk_graphics_Spritemap(e,t,a)),this._source.centerOrigin(),this._frames=new haxe_ds_StringMap};$hxClasses["haxepunk.graphics.emitter.Emitter"]=haxepunk_graphics_emitter_Emitter,haxepunk_graphics_emitter_Emitter.__name__="haxepunk.graphics.emitter.Emitter",haxepunk_graphics_emitter_Emitter.__super__=haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap,haxepunk_graphics_emitter_Emitter.prototype=$extend(haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.prototype,{addType:function(e,t){return this.newType(e,null,t)},newType:function(e,t,a){var n=haxepunk_graphics_emitter_BaseEmitter_$haxepunk_$graphics_$Spritemap.prototype.addType.call(this,e,a);return null==t&&(t=[]),0==t.length&&t.push(0),this._frames.h[e]=t,n},updateParticle:function(e,t){var a=e._type,n=this._frames.h[a._name],i=t*n.length|0;i>=n.length-1&&(i=n.length-1),this._source.set_frame(n[i])},__class__:haxepunk_graphics_emitter_Emitter});var haxepunk_graphics_emitter_Particle=function(){this._gravity=0,this._spanAngle=0,this._startAngle=0,this._oy=0,this._ox=0,this._firstDraw=!1,this._angle=0,this._moveY=0,this._moveX=0,this._y=0,this._x=0,this._duration=0,this._stopTime=0,this._time=0,this.startScaleCoef=1,this.startScaleCoef=1-.5*Math.random()};$hxClasses["haxepunk.graphics.emitter.Particle"]=haxepunk_graphics_emitter_Particle,haxepunk_graphics_emitter_Particle.__name__="haxepunk.graphics.emitter.Particle",haxepunk_graphics_emitter_Particle.prototype={x:function(e){return this._x+this._ox+this._moveX*(this._type._backwards?1-e:e)},y:function(e){return this._y+this._oy+this._moveY*(this._type._backwards?1-e:e)+Math.pow(e*this._gravity,2)},angle:function(e){return this._startAngle+this._spanAngle*e},color:function(e){var t=255*(this._type._red+this._type._redRange*e)|0,a=255*(this._type._green+this._type._greenRange*e)|0,n=255*(this._type._blue+this._type._blueRange*e)|0;return null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),(255&t)<<16|(255&a)<<8|255&n},alpha:function(e){return this._type._alpha+this._type._alphaRange*e},scale:function(e){return(this._type._scale+this._type._scaleRange*e)*this.startScaleCoef},__class__:haxepunk_graphics_emitter_Particle};var haxepunk_graphics_emitter_ParticleType=function(e,t){this.startScaleRange=0,this._red=this._green=this._blue=this._alpha=this._scale=this._trailLength=1,this._blendMode=t,this._redRange=this._greenRange=this._blueRange=this._alphaRange=this._scaleRange=this._trailDelay=0,this._trailAlpha=1,this._startAngle=this._spanAngle=this._startAngleRange=this._spanAngleRange=0,this._name=e,this._angle=this._angleRange=0,this._gravity=this._gravityRange=0,this._duration=this._durationRange=0,this._distance=this._distanceRange=0};$hxClasses["haxepunk.graphics.emitter.ParticleType"]=haxepunk_graphics_emitter_ParticleType,haxepunk_graphics_emitter_ParticleType.__name__="haxepunk.graphics.emitter.ParticleType",haxepunk_graphics_emitter_ParticleType.prototype={ease:function(e,t){return null==e?t:e(t)},setMotion:function(e,t,a,n,i,s,_,r){return null==r&&(r=!1),null==s&&(s=0),null==i&&(i=0),null==n&&(n=0),this._angle=e,this._distance=t,this._duration=a,this._angleRange=n,this._distanceRange=i,this._durationRange=s,this._ease=_,this._backwards=r,this},setMotionVector:function(e,t,a,n,i){return null==n&&(n=0),this._angle=Math.atan2(t,e),this._angleRange=0,this._duration=a,this._durationRange=n,this._ease=i,this},setGravity:function(e,t){return null==t&&(t=0),null==e&&(e=0),this._gravity=e,this._gravityRange=t,this},setAlpha:function(e,t,a){return null==t&&(t=0),null==e&&(e=1),e<0?e=0:e>1&&(e=1),t<0?t=0:t>1&&(t=1),this._alpha=e,this._alphaRange=t-e,this._alphaEase=a,this},setScale:function(e,t,a){return null==t&&(t=0),null==e&&(e=1),this._scale=e,this._scaleRange=t-e,this._scaleEase=a,this},setRotation:function(e,t,a,n,i){return null==n&&(n=0),null==a&&(a=0),this._startAngle=e,this._spanAngle=t,this._startAngleRange=a,this._spanAngleRange=n,this._rotationEase=i,this},setColor:function(e,t,a){return null==t&&(t=0),null==e&&(e=16777215),e&=16777215,t&=16777215,this._red=(e>>16&255)/255,this._green=(e>>8&255)/255,this._blue=(255&e)/255,this._redRange=(t>>16&255)/255-this._red,this._greenRange=(t>>8&255)/255-this._green,this._blueRange=(255&t)/255-this._blue,this._colorEase=a,this},setTrail:function(e,t,a){return null==a&&(a=1),null==t&&(t=.1),null==e&&(e=1),this._trailLength=e,this._trailDelay=t,this._trailAlpha=a,this},__class__:haxepunk_graphics_emitter_ParticleType};var haxepunk_graphics_hardware__$DrawCommand_DrawTriangle=function(){this.alpha=0,this.color=0,this.uvy3=0,this.uvx3=0,this.ty3=0,this.tx3=0,this.uvy2=0,this.uvx2=0,this.ty2=0,this.tx2=0,this.uvy1=0,this.uvx1=0,this.ty1=0,this.tx1=0};$hxClasses["haxepunk.graphics.hardware._DrawCommand.DrawTriangle"]=haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,haxepunk_graphics_hardware__$DrawCommand_DrawTriangle.__name__="haxepunk.graphics.hardware._DrawCommand.DrawTriangle",haxepunk_graphics_hardware__$DrawCommand_DrawTriangle.linesIntersect=function(e,t,a,n,i,s,_,r){var o=(r-s)*(a-e)-(_-i)*(n-t);if(0!=o){var l=((_-i)*(t-s)-(r-s)*(e-i))/o,h=((a-e)*(t-s)-(n-t)*(e-i))/o;l>=0&&l<=1&&h>=0&&h<=1&&(o=0)}return 0==o},haxepunk_graphics_hardware__$DrawCommand_DrawTriangle.triangleContains=function(e,t,a,n,i,s,_,r){var o=i-e,l=s-t,h=a-e,u=n-t,p=_-e,c=r-t,d=p*l-c*o,f=h*c-u*p,m=h*l-u*o;return m<0&&(d=-d,f=-f,m=-m),d>=0&&f>=0&&d+f<=m},haxepunk_graphics_hardware__$DrawCommand_DrawTriangle.cross=function(e,t,a,n){return e*n-t*a},haxepunk_graphics_hardware__$DrawCommand_DrawTriangle.prototype={get_x1:function(){var e=this.tx1,t=this.tx2,a=this.tx3;return e>t?t>a?a:t:e>a?a:e},get_x2:function(){var e=this.tx1,t=this.tx2,a=this.tx3;return e<t?t<a?a:t:e<a?a:e},get_y1:function(){var e=this.ty1,t=this.ty2,a=this.ty3;return e>t?t>a?a:t:e>a?a:e},get_y2:function(){var e=this.ty1,t=this.ty2,a=this.ty3;return e<t?t<a?a:t:e<a?a:e},intersectsTriangle:function(e,t,a,n,i,s){var _,r,o,l,h,u,p,c,d,f,m,g,x,k=this.tx1,y=this.ty1,b=this.tx2;if(0!=($=((P=this.ty2)-y)*(a-e)-(b-k)*(n-t))){var v=((a-e)*(t-y)-(n-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}if(0!=$){k=this.tx1,y=this.ty1,b=this.tx2;if(0!=($=((P=this.ty2)-y)*(i-a)-(b-k)*(s-n))){v=((i-a)*(n-y)-(s-n)*(a-k))/$;(w=((b-k)*(n-y)-(P-y)*(a-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}x=0==$}else x=!0;if(x)g=!0;else{k=this.tx1,y=this.ty1,b=this.tx2;if(0!=($=((P=this.ty2)-y)*(i-e)-(b-k)*(s-t))){v=((i-e)*(t-y)-(s-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}g=0==$}if(g)m=!0;else{k=this.tx2,y=this.ty2,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(a-e)-(b-k)*(n-t))){v=((a-e)*(t-y)-(n-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}m=0==$}if(m)f=!0;else{k=this.tx2,y=this.ty2,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(i-a)-(b-k)*(s-n))){v=((i-a)*(n-y)-(s-n)*(a-k))/$;(w=((b-k)*(n-y)-(P-y)*(a-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}f=0==$}if(f)d=!0;else{k=this.tx2,y=this.ty2,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(i-e)-(b-k)*(s-t))){v=((i-e)*(t-y)-(s-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}d=0==$}if(d)c=!0;else{k=this.tx1,y=this.ty1,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(a-e)-(b-k)*(n-t))){v=((a-e)*(t-y)-(n-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}c=0==$}if(c)p=!0;else{k=this.tx1,y=this.ty1,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(i-a)-(b-k)*(s-n))){v=((i-a)*(n-y)-(s-n)*(a-k))/$;(w=((b-k)*(n-y)-(P-y)*(a-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}p=0==$}if(p)u=!0;else{var P;k=this.tx1,y=this.ty1,b=this.tx3;if(0!=($=((P=this.ty3)-y)*(i-e)-(b-k)*(s-t))){var w;v=((i-e)*(t-y)-(s-t)*(e-k))/$;(w=((b-k)*(t-y)-(P-y)*(e-k))/$)>=0&&w<=1&&v>=0&&v<=1&&($=0)}u=0==$}if(u)h=!0;else{var T=i-e,C=s-t,S=a-e,A=n-t,E=(L=this.tx1-e)*C-(I=this.ty1-t)*T,D=S*I-A*L;($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),h=E>=0&&D>=0&&E+D<=$}if(h)l=!0;else{T=i-e,C=s-t,S=a-e,A=n-t,E=(L=this.tx2-e)*C-(I=this.ty2-t)*T,D=S*I-A*L;($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),l=E>=0&&D>=0&&E+D<=$}if(l)o=!0;else{T=i-e,C=s-t,S=a-e,A=n-t,E=(L=this.tx3-e)*C-(I=this.ty3-t)*T,D=S*I-A*L;($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),o=E>=0&&D>=0&&E+D<=$}if(o)r=!0;else{var M=this.tx1,R=this.ty1;T=this.tx3-M,E=(L=e-M)*(C=this.ty3-R)-(I=t-R)*T,D=(S=this.tx2-M)*I-(A=this.ty2-R)*L;($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),r=E>=0&&D>=0&&E+D<=$}if(r)_=!0;else{e=this.tx1,t=this.ty1,T=this.tx3-e,E=(L=a-e)*(C=this.ty3-t)-(I=n-t)*T,D=(S=this.tx2-e)*I-(A=this.ty2-t)*L;($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),_=E>=0&&D>=0&&E+D<=$}if(_)return!0;var L,I,$;e=this.tx1,t=this.ty1,T=this.tx3-e,E=(L=i-e)*(C=this.ty3-t)-(I=s-t)*T,D=(S=this.tx2-e)*I-(A=this.ty2-t)*L;return($=S*C-A*T)<0&&(E=-E,D=-D,$=-$),E>=0&&D>=0&&E+D<=$},__class__:haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,__properties__:{get_y2:"get_y2",get_y1:"get_y1",get_x2:"get_x2",get_x1:"get_x1"}};var haxepunk_graphics_hardware_TriangleIterator=function(){this.triangle=null};$hxClasses["haxepunk.graphics.hardware.TriangleIterator"]=haxepunk_graphics_hardware_TriangleIterator,haxepunk_graphics_hardware_TriangleIterator.__name__="haxepunk.graphics.hardware.TriangleIterator",haxepunk_graphics_hardware_TriangleIterator.prototype={reset:function(e){this.triangle=e},hasNext:function(){return null!=this.triangle},next:function(){var e=this.triangle;return this.triangle=this.triangle._next,e},__class__:haxepunk_graphics_hardware_TriangleIterator};var haxepunk_graphics_hardware_DrawCommand=function(){this._iterator=new haxepunk_graphics_hardware_TriangleIterator,this.triangleCount=0,this.bounds=new haxepunk_math_Rectangle,this.clipRect=null,this.blend=1,this.smooth=!1};$hxClasses["haxepunk.graphics.hardware.DrawCommand"]=haxepunk_graphics_hardware_DrawCommand,haxepunk_graphics_hardware_DrawCommand.__name__="haxepunk.graphics.hardware.DrawCommand",haxepunk_graphics_hardware_DrawCommand.create=function(e,t,a,n,i){var s;return null!=haxepunk_graphics_hardware_DrawCommand._pool?(s=haxepunk_graphics_hardware_DrawCommand._pool,haxepunk_graphics_hardware_DrawCommand._pool=haxepunk_graphics_hardware_DrawCommand._pool._next,s._prev=s._next=null):s=new haxepunk_graphics_hardware_DrawCommand,s.shader=t,s.texture=e,s.smooth=a,s.blend=n,s.clipRect=i,s},haxepunk_graphics_hardware_DrawCommand._prePopulatePool=function(e,t){for(var a=0,n=e;a<n;){a++;for(var i=new haxepunk_graphics_hardware_DrawCommand,s=0,_=t;s<_;){s++;var r=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;null==i.data?i.data=r:i._lastData._next=r,i._lastData=r,++i.triangleCount;var o=r.tx1,l=r.tx2,h=r.tx3,u=o>l?l>h?h:l:o>h?h:o,p=r.tx1,c=r.tx2,d=r.tx3,f=p<c?c<d?d:c:p<d?d:p,m=r.ty1,g=r.ty2,x=r.ty3,k=m>g?g>x?x:g:m>x?x:m,y=r.ty1,b=r.ty2,v=r.ty3,P=y<b?b<v?v:b:y<v?v:y;if(0==i.bounds.width)i.bounds.x=u,i.bounds.width=f-u;else{u<i.bounds.x&&(i.bounds.width+=i.bounds.x-u,i.bounds.x=u);var w=i.bounds;f>w.x+w.width&&(i.bounds.width=f-i.bounds.x)}if(0==i.bounds.height)i.bounds.y=k,i.bounds.height=P-k;else{k<i.bounds.y&&(i.bounds.height+=i.bounds.y-k,i.bounds.y=k);var T=i.bounds;P>T.y+T.height&&(i.bounds.height=P-i.bounds.y)}}i.recycle()}return haxepunk_graphics_hardware_DrawCommand._pool},haxepunk_graphics_hardware_DrawCommand.prototype={match:function(e,t,a,n,i){if(this.smooth!=a)return!1;if(this.texture!=e)return!1;if(this.shader.id!=t.id)return!1;if(this.blend!=n)return!1;var s=null==this.clipRect;return s==(null==i)&&(!!s||(0|this.clipRect.x)==(0|i.x)&&(0|this.clipRect.y)==(0|i.y)&&(0|this.clipRect.width)==(0|i.width)&&(0|this.clipRect.height)==(0|i.height))},addTriangle:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c){if(c>0){var d;if(this.shader.attributeNames.length<=0){var f;if((e>i?i>o?o:i:e>o?o:e)<=(x=this.visibleArea).x+x.width&&(e<i?i<o?o:i:e<o?o:e)>=this.visibleArea.x)f=(t>s?s>l?l:s:t>l?l:t)<=(x=this.visibleArea).y+x.height;else f=!1;d=f&&(t<s?s<l?l:s:t<l?l:t)>=this.visibleArea.y}else d=!0;if(d){var m;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(m=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,m._next=null):m=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var g=m;g.tx1=e,g.ty1=t,g.uvx1=a,g.uvy1=n,g.tx2=i,g.ty2=s,g.uvx2=_,g.uvy2=r,g.tx3=o,g.ty3=l,g.uvx3=h,g.uvy3=u,g.color=p,g.alpha=c,null==this.data?this.data=g:this._lastData._next=g,this._lastData=g,++this.triangleCount;var x,k=g.tx1,y=g.tx2,b=g.tx3,v=k>y?y>b?b:y:k>b?b:k,P=(k=g.tx1,y=g.tx2,b=g.tx3,k<y?y<b?b:y:k<b?b:k),w=(k=g.ty1,y=g.ty2,b=g.ty3,k>y?y>b?b:y:k>b?b:k),T=(k=g.ty1,y=g.ty2,b=g.ty3,k<y?y<b?b:y:k<b?b:k);if(0==this.bounds.width)this.bounds.x=v,this.bounds.width=P-v;else v<this.bounds.x&&(this.bounds.width+=this.bounds.x-v,this.bounds.x=v),P>(x=this.bounds).x+x.width&&(this.bounds.width=P-this.bounds.x);if(0==this.bounds.height)this.bounds.y=w,this.bounds.height=T-w;else w<this.bounds.y&&(this.bounds.height+=this.bounds.y-w,this.bounds.y=w),T>(x=this.bounds).y+x.height&&(this.bounds.height=T-this.bounds.y)}}},recycle:function(){this.triangleCount=0,this.texture=null,null!=this.data&&(this._lastData._next=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=this.data),this.data=this._lastData=null,this.bounds.setTo(0,0,0,0);for(var e=this;null!=e._next;)(e=e._next).triangleCount=0,e.texture=null,null!=e.data&&(e._lastData._next=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=e.data),e.data=e._lastData=null,e.bounds.setTo(0,0,0,0);e._next=haxepunk_graphics_hardware_DrawCommand._pool,haxepunk_graphics_hardware_DrawCommand._pool=this},get_triangles:function(){return this._iterator.triangle=this.data,this._iterator},getData:function(){var e;return null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(e=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,e._next=null):e=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,e},addData:function(e){null==this.data?this.data=e:this._lastData._next=e,this._lastData=e,++this.triangleCount;var t,a=e.tx1,n=e.tx2,i=e.tx3,s=a>n?n>i?i:n:a>i?i:a,_=(a=e.tx1,n=e.tx2,i=e.tx3,a<n?n<i?i:n:a<i?i:a),r=(a=e.ty1,n=e.ty2,i=e.ty3,a>n?n>i?i:n:a>i?i:a),o=(a=e.ty1,n=e.ty2,i=e.ty3,a<n?n<i?i:n:a<i?i:a);0==this.bounds.width?(this.bounds.x=s,this.bounds.width=_-s):(s<this.bounds.x&&(this.bounds.width+=this.bounds.x-s,this.bounds.x=s),_>(t=this.bounds).x+t.width&&(this.bounds.width=_-this.bounds.x));0==this.bounds.height?(this.bounds.y=r,this.bounds.height=o-r):(r<this.bounds.y&&(this.bounds.height+=this.bounds.y-r,this.bounds.y=r),o>(t=this.bounds).y+t.height&&(this.bounds.height=o-this.bounds.y))},recycleData:function(){this.triangleCount=0,this.texture=null,null!=this.data&&(this._lastData._next=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=this.data),this.data=this._lastData=null,this.bounds.setTo(0,0,0,0)},__class__:haxepunk_graphics_hardware_DrawCommand,__properties__:{get_triangles:"get_triangles"}};var haxepunk_graphics_hardware_DrawCommandIterator=function(){this.current=null,this.command=null};$hxClasses["haxepunk.graphics.hardware.DrawCommandIterator"]=haxepunk_graphics_hardware_DrawCommandIterator,haxepunk_graphics_hardware_DrawCommandIterator.__name__="haxepunk.graphics.hardware.DrawCommandIterator",haxepunk_graphics_hardware_DrawCommandIterator.prototype={reset:function(){this.current=this.command},hasNext:function(){return null!=this.current},next:function(){var e=this.current;return this.current=this.current._next,e},recycle:function(){null!=this.command&&this.command.recycle(),this.command=this.current=null},__class__:haxepunk_graphics_hardware_DrawCommandIterator};var haxepunk_graphics_hardware_DrawCommandBatch=function(){this.head=new haxepunk_graphics_hardware_DrawCommandIterator,this.visibleArea=new haxepunk_math_Rectangle};$hxClasses["haxepunk.graphics.hardware.DrawCommandBatch"]=haxepunk_graphics_hardware_DrawCommandBatch,haxepunk_graphics_hardware_DrawCommandBatch.__name__="haxepunk.graphics.hardware.DrawCommandBatch",haxepunk_graphics_hardware_DrawCommandBatch.prototype={recycle:function(){this.head.recycle(),this.last=null},iterator:function(){return this.head.reset(),this.head},getDrawCommand:function(e,t,a,n,i,s,_,r,o,l,h,u){if(null==u&&(u=!1),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==r&&(r=0),null==_&&(_=0),null==s&&(s=0),null!=this.last){var p=this.last;if(p.smooth!=a)y=!1;else if(p.texture!=e)y=!1;else if(p.shader.id!=t.id)y=!1;else if(p.blend!=n)y=!1;else{y=(b=null==p.clipRect)==(null==i)&&(!!b||(0|p.clipRect.x)==(0|i.x)&&(0|p.clipRect.y)==(0|i.y)&&(0|p.clipRect.width)==(0|i.width)&&(0|p.clipRect.height)==(0|i.height))}}else y=!1;if(y)return this.last;if(!(0==s&&0==r&&0==l||0==_&&0==o&&0==h)){for(var c=0,d=this.last,f=!1;null!=d&&c<haxepunk_graphics_hardware_DrawCommandBatch.maxTriangleChecks;){if(d.smooth!=a)y=!1;else if(d.texture!=e)y=!1;else if(d.shader.id!=t.id)y=!1;else if(d.blend!=n)y=!1;else{y=(b=null==d.clipRect)==(null==i)&&(!!b||(0|d.clipRect.x)==(0|i.x)&&(0|d.clipRect.y)==(0|i.y)&&(0|d.clipRect.width)==(0|i.width)&&(0|d.clipRect.height)==(0|i.height))}if(y){if(f=!0,u)return d;break}c+=d.triangleCount,d=d._prev}if(f){var m=s>r?r>l?l:r:s>l?l:s,g=s<r?r<l?l:r:s<l?l:s,x=_>o?o>h?h:o:_>h?h:_,k=_<o?o<h?h:o:_<h?h:_;for(haxepunk_graphics_hardware_DrawCommandBatch._bounds.setTo(m,x,g-m,k-x),c=0,d=this.last;null!=d;){var y;if(d.smooth!=a)y=!1;else if(d.texture!=e)y=!1;else if(d.shader.id!=t.id)y=!1;else if(d.blend!=n)y=!1;else{var b;y=(b=null==d.clipRect)==(null==i)&&(!!b||(0|d.clipRect.x)==(0|i.x)&&(0|d.clipRect.y)==(0|i.y)&&(0|d.clipRect.width)==(0|i.width)&&(0|d.clipRect.height)==(0|i.height))}if(y)return d;if(d.bounds.intersects(haxepunk_graphics_hardware_DrawCommandBatch._bounds)){var v=!1;d._iterator.triangle=d.data;for(var P=d._iterator;null!=P.triangle;){var w=P.triangle;P.triangle=P.triangle._next;var T,C,S,A,E,D,M,R,L,I,$,B,O,G,F=w;if(c++>=haxepunk_graphics_hardware_DrawCommandBatch.maxTriangleChecks)break;var N=F.tx1,H=F.ty1,U=F.tx2,X=F.ty2,V=(X-H)*(r-s)-(U-N)*(o-_);if(0!=V){var j=((U-N)*(_-H)-(X-H)*(s-N))/V,z=((r-s)*(_-H)-(o-_)*(s-N))/V;j>=0&&j<=1&&z>=0&&z<=1&&(V=0)}if(0!=V){var W=F.tx1,Y=F.ty1,K=F.tx2,q=F.ty2,J=(q-Y)*(l-r)-(K-W)*(h-o);if(0!=J){var Z=((K-W)*(o-Y)-(q-Y)*(r-W))/J,Q=((l-r)*(o-Y)-(h-o)*(r-W))/J;Z>=0&&Z<=1&&Q>=0&&Q<=1&&(J=0)}G=0==J}else G=!0;if(G)O=!0;else{var ee=F.tx1,te=F.ty1,ae=F.tx2,ne=F.ty2,ie=(ne-te)*(l-s)-(ae-ee)*(h-_);if(0!=ie){var se=((ae-ee)*(_-te)-(ne-te)*(s-ee))/ie,_e=((l-s)*(_-te)-(h-_)*(s-ee))/ie;se>=0&&se<=1&&_e>=0&&_e<=1&&(ie=0)}O=0==ie}if(O)B=!0;else{var re=F.tx2,oe=F.ty2,le=F.tx3,he=F.ty3,ue=(he-oe)*(r-s)-(le-re)*(o-_);if(0!=ue){var pe=((le-re)*(_-oe)-(he-oe)*(s-re))/ue,ce=((r-s)*(_-oe)-(o-_)*(s-re))/ue;pe>=0&&pe<=1&&ce>=0&&ce<=1&&(ue=0)}B=0==ue}if(B)$=!0;else{var de=F.tx2,fe=F.ty2,me=F.tx3,ge=F.ty3,xe=(ge-fe)*(l-r)-(me-de)*(h-o);if(0!=xe){var ke=((me-de)*(o-fe)-(ge-fe)*(r-de))/xe,ye=((l-r)*(o-fe)-(h-o)*(r-de))/xe;ke>=0&&ke<=1&&ye>=0&&ye<=1&&(xe=0)}$=0==xe}if($)I=!0;else{var be=F.tx2,ve=F.ty2,Pe=F.tx3,we=F.ty3,Te=(we-ve)*(l-s)-(Pe-be)*(h-_);if(0!=Te){var Ce=((Pe-be)*(_-ve)-(we-ve)*(s-be))/Te,Se=((l-s)*(_-ve)-(h-_)*(s-be))/Te;Ce>=0&&Ce<=1&&Se>=0&&Se<=1&&(Te=0)}I=0==Te}if(I)L=!0;else{var Ae=F.tx1,Ee=F.ty1,De=F.tx3,Me=F.ty3,Re=(Me-Ee)*(r-s)-(De-Ae)*(o-_);if(0!=Re){var Le=((De-Ae)*(_-Ee)-(Me-Ee)*(s-Ae))/Re,Ie=((r-s)*(_-Ee)-(o-_)*(s-Ae))/Re;Le>=0&&Le<=1&&Ie>=0&&Ie<=1&&(Re=0)}L=0==Re}if(L)R=!0;else{var $e=F.tx1,Be=F.ty1,Oe=F.tx3,Ge=F.ty3,Fe=(Ge-Be)*(l-r)-(Oe-$e)*(h-o);if(0!=Fe){var Ne=((Oe-$e)*(o-Be)-(Ge-Be)*(r-$e))/Fe,He=((l-r)*(o-Be)-(h-o)*(r-$e))/Fe;Ne>=0&&Ne<=1&&He>=0&&He<=1&&(Fe=0)}R=0==Fe}if(R)M=!0;else{var Ue=F.tx1,Xe=F.ty1,Ve=F.tx3,je=F.ty3,ze=(je-Xe)*(l-s)-(Ve-Ue)*(h-_);if(0!=ze){var We=((Ve-Ue)*(_-Xe)-(je-Xe)*(s-Ue))/ze,Ye=((l-s)*(_-Xe)-(h-_)*(s-Ue))/ze;We>=0&&We<=1&&Ye>=0&&Ye<=1&&(ze=0)}M=0==ze}if(M)D=!0;else{var Ke=l-s,qe=h-_,Je=r-s,Ze=o-_,Qe=F.tx1-s,et=F.ty1-_,tt=Qe*qe-et*Ke,at=Je*et-Ze*Qe,nt=Je*qe-Ze*Ke;nt<0&&(tt=-tt,at=-at,nt=-nt),D=tt>=0&&at>=0&&tt+at<=nt}if(D)E=!0;else{var it=l-s,st=h-_,_t=r-s,rt=o-_,ot=F.tx2-s,lt=F.ty2-_,ht=ot*st-lt*it,ut=_t*lt-rt*ot,pt=_t*st-rt*it;pt<0&&(ht=-ht,ut=-ut,pt=-pt),E=ht>=0&&ut>=0&&ht+ut<=pt}if(E)A=!0;else{var ct=l-s,dt=h-_,ft=r-s,mt=o-_,gt=F.tx3-s,xt=F.ty3-_,kt=gt*dt-xt*ct,yt=ft*xt-mt*gt,bt=ft*dt-mt*ct;bt<0&&(kt=-kt,yt=-yt,bt=-bt),A=kt>=0&&yt>=0&&kt+yt<=bt}if(A)S=!0;else{var vt=F.tx1,Pt=F.ty1,wt=F.tx3-vt,Tt=F.ty3-Pt,Ct=F.tx2-vt,St=F.ty2-Pt,At=s-vt,Et=_-Pt,Dt=At*Tt-Et*wt,Mt=Ct*Et-St*At,Rt=Ct*Tt-St*wt;Rt<0&&(Dt=-Dt,Mt=-Mt,Rt=-Rt),S=Dt>=0&&Mt>=0&&Dt+Mt<=Rt}if(S)C=!0;else{var Lt=F.tx1,It=F.ty1,$t=F.tx3-Lt,Bt=F.ty3-It,Ot=F.tx2-Lt,Gt=F.ty2-It,Ft=r-Lt,Nt=o-It,Ht=Ft*Bt-Nt*$t,Ut=Ot*Nt-Gt*Ft,Xt=Ot*Bt-Gt*$t;Xt<0&&(Ht=-Ht,Ut=-Ut,Xt=-Xt),C=Ht>=0&&Ut>=0&&Ht+Ut<=Xt}if(C)T=!0;else{var Vt=F.tx1,jt=F.ty1,zt=F.tx3-Vt,Wt=F.ty3-jt,Yt=F.tx2-Vt,Kt=F.ty2-jt,qt=l-Vt,Jt=h-jt,Zt=qt*Wt-Jt*zt,Qt=Yt*Jt-Kt*qt,ea=Yt*Wt-Kt*zt;ea<0&&(Zt=-Zt,Qt=-Qt,ea=-ea),T=Zt>=0&&Qt>=0&&Zt+Qt<=ea}if(T){v=!0;break}}if(v)break}d=d._prev}}}for(;null!=this.last&&null==this.last.data;){var ta=this.last;this.last=this.last._prev,null!=this.last&&(this.last._next=null),ta.recycle()}var aa=haxepunk_graphics_hardware_DrawCommand.create(e,t,a,n,i);return aa.visibleArea=this.visibleArea,null==this.last?(this.head.command=this.last=aa,aa._prev=null):(this.last._next=aa,aa._prev=this.last,this.last=aa),aa},addRect:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c,d,f,m,g){if(null==g&&(g=!1),m>0){var x,k,y,b;null==e?(x=k=0,y=r,b=o):(x=s/(null==e?0:e.width),k=_/(null==e?0:e.height),y=(s+r)/(null==e?0:e.width),b=(_+o)/(null==e?0:e.height));var v=r*l+c,P=r*h+d,w=o*u+c,T=o*p+d,C=this.getDrawCommand(e,t,a,n,i,c,d,v,P,w,T,g);if(m>0){if(C.shader.attributeNames.length<=0){if((c>v?v>w?w:v:c>w?w:c)<=(G=C.visibleArea).x+G.width&&(c<v?v<w?w:v:c<w?w:c)>=C.visibleArea.x)$=(d>P?P>T?T:P:d>T?T:d)<=(G=C.visibleArea).y+G.height;else $=!1;I=$&&(d<P?P<T?T:P:d<T?T:d)>=C.visibleArea.y}else I=!0;if(I){null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(B=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,B._next=null):B=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(O=B).tx1=c,O.ty1=d,O.uvx1=x,O.uvy1=k,O.tx2=v,O.ty2=P,O.uvx2=y,O.uvy2=k,O.tx3=w,O.ty3=T,O.uvx3=x,O.uvy3=b,O.color=f,O.alpha=m,null==C.data?C.data=O:C._lastData._next=O,C._lastData=O,++C.triangleCount;l=O.tx1,h=O.tx2;var S=O.tx3,A=l>h?h>S?S:h:l>S?S:l,E=(l=O.tx1,h=O.tx2,S=O.tx3,l<h?h<S?S:h:l<S?S:l),D=(l=O.ty1,h=O.ty2,S=O.ty3,l>h?h>S?S:h:l>S?S:l),M=(l=O.ty1,h=O.ty2,S=O.ty3,l<h?h<S?S:h:l<S?S:l);if(0==C.bounds.width)C.bounds.x=A,C.bounds.width=E-A;else A<C.bounds.x&&(C.bounds.width+=C.bounds.x-A,C.bounds.x=A),E>(G=C.bounds).x+G.width&&(C.bounds.width=E-C.bounds.x);if(0==C.bounds.height)C.bounds.y=D,C.bounds.height=M-D;else D<C.bounds.y&&(C.bounds.height+=C.bounds.y-D,C.bounds.y=D),M>(G=C.bounds).y+G.height&&(C.bounds.height=M-C.bounds.y)}}var R=v+o*u,L=P+o*p;if(m>0){var I;if(C.shader.attributeNames.length<=0){var $;if((w>v?v>R?R:v:w>R?R:w)<=(G=C.visibleArea).x+G.width&&(w<v?v<R?R:v:w<R?R:w)>=C.visibleArea.x)$=(T>P?P>L?L:P:T>L?L:T)<=(G=C.visibleArea).y+G.height;else $=!1;I=$&&(T<P?P<L?L:P:T<L?L:T)>=C.visibleArea.y}else I=!0;if(I){var B,O;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(B=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,B._next=null):B=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle,(O=B).tx1=w,O.ty1=T,O.uvx1=x,O.uvy1=b,O.tx2=v,O.ty2=P,O.uvx2=y,O.uvy2=k,O.tx3=R,O.ty3=L,O.uvx3=y,O.uvy3=b,O.color=f,O.alpha=m,null==C.data?C.data=O:C._lastData._next=O,C._lastData=O,++C.triangleCount;var G;l=O.tx1,h=O.tx2,u=O.tx3,A=l>h?h>u?u:h:l>u?u:l,l=O.tx1,h=O.tx2,u=O.tx3,E=l<h?h<u?u:h:l<u?u:l,l=O.ty1,h=O.ty2,u=O.ty3,D=l>h?h>u?u:h:l>u?u:l,l=O.ty1,h=O.ty2,u=O.ty3,M=l<h?h<u?u:h:l<u?u:l;if(0==C.bounds.width)C.bounds.x=A,C.bounds.width=E-A;else A<C.bounds.x&&(C.bounds.width+=C.bounds.x-A,C.bounds.x=A),E>(G=C.bounds).x+G.width&&(C.bounds.width=E-C.bounds.x);if(0==C.bounds.height)C.bounds.y=D,C.bounds.height=M-D;else D<C.bounds.y&&(C.bounds.height+=C.bounds.y-D,C.bounds.y=D),M>(G=C.bounds).y+G.height&&(C.bounds.height=M-C.bounds.y)}}}},addTriangle:function(e,t,a,n,i,s,_,r,o,l,h,u,p,c,d,f,m,g,x,k){if(null==k&&(k=!1),x>0){var y=this.getDrawCommand(e,t,a,n,i,s,_,l,h,c,d,k);if(x>0){var b;if(y.shader.attributeNames.length<=0){var v;if((s>l?l>c?c:l:s>c?c:s)<=(T=y.visibleArea).x+T.width&&(s<l?l<c?c:l:s<c?c:s)>=y.visibleArea.x)v=(_>h?h>d?d:h:_>d?d:_)<=(T=y.visibleArea).y+T.height;else v=!1;b=v&&(_<h?h<d?d:h:_<d?d:_)>=y.visibleArea.y}else b=!0;if(b){var P;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(P=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,P._next=null):P=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var w=P;w.tx1=s,w.ty1=_,w.uvx1=r,w.uvy1=o,w.tx2=l,w.ty2=h,w.uvx2=u,w.uvy2=p,w.tx3=c,w.ty3=d,w.uvx3=f,w.uvy3=m,w.color=g,w.alpha=x,null==y.data?y.data=w:y._lastData._next=w,y._lastData=w,++y.triangleCount;var T,C=w.tx1,S=w.tx2,A=w.tx3,E=C>S?S>A?A:S:C>A?A:C,D=(C=w.tx1,S=w.tx2,A=w.tx3,C<S?S<A?A:S:C<A?A:C),M=(C=w.ty1,S=w.ty2,A=w.ty3,C>S?S>A?A:S:C>A?A:C),R=(C=w.ty1,S=w.ty2,A=w.ty3,C<S?S<A?A:S:C<A?A:C);if(0==y.bounds.width)y.bounds.x=E,y.bounds.width=D-E;else E<y.bounds.x&&(y.bounds.width+=y.bounds.x-E,y.bounds.x=E),D>(T=y.bounds).x+T.width&&(y.bounds.width=D-y.bounds.x);if(0==y.bounds.height)y.bounds.y=M,y.bounds.height=R-M;else M<y.bounds.y&&(y.bounds.height+=y.bounds.y-M,y.bounds.y=M),R>(T=y.bounds).y+T.height&&(y.bounds.height=R-y.bounds.y)}}}},__class__:haxepunk_graphics_hardware_DrawCommandBatch};var haxepunk_graphics_hardware_FrameBuffer=function(){this._height=0,this._width=0};$hxClasses["haxepunk.graphics.hardware.FrameBuffer"]=haxepunk_graphics_hardware_FrameBuffer,haxepunk_graphics_hardware_FrameBuffer.__name__="haxepunk.graphics.hardware.FrameBuffer",haxepunk_graphics_hardware_FrameBuffer.prototype={build:function(){this.framebuffer=lime_graphics_opengl_GL.context.createFramebuffer(),this.resize()},destroy:function(){this.texture=null},resize:function(){lime_graphics_opengl_GL.context.bindFramebuffer(36160,this.framebuffer),null!=this.texture&&lime_graphics_opengl_GL.context.deleteTexture(this.texture),this._width=haxepunk_HXP.screen.width,this._height=haxepunk_HXP.screen.height;var e=this._width,t=this._height;this.texture=lime_graphics_opengl_GL.context.createTexture(),lime_graphics_opengl_GL.context.bindTexture(3553,this.texture);var a=lime_graphics_opengl_GL.context;a.texImage2D(3553,0,6408,e,t,0,6408,5121,null),lime_graphics_opengl_GL.context.texParameteri(3553,10242,33071),lime_graphics_opengl_GL.context.texParameteri(3553,10243,33071),lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9729),lime_graphics_opengl_GL.context.framebufferTexture2D(36160,36064,3553,this.texture,0),lime_graphics_opengl_GL.context.bindFramebuffer(36160,null)},createTexture:function(e,t){this.texture=lime_graphics_opengl_GL.context.createTexture(),lime_graphics_opengl_GL.context.bindTexture(3553,this.texture);var a=lime_graphics_opengl_GL.context;a.texImage2D(3553,0,6408,e,t,0,6408,5121,null),lime_graphics_opengl_GL.context.texParameteri(3553,10242,33071),lime_graphics_opengl_GL.context.texParameteri(3553,10243,33071),lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9729),lime_graphics_opengl_GL.context.framebufferTexture2D(36160,36064,3553,this.texture,0)},bindFrameBuffer:function(){null==this.texture||null==this.framebuffer?(this.destroy(),this.build()):haxepunk_HXP.screen.width==this._width&&haxepunk_HXP.screen.height==this._height||this.resize(),lime_graphics_opengl_GL.context.bindFramebuffer(36160,this.framebuffer),lime_graphics_opengl_GL.context.clearColor(0,0,0,0),lime_graphics_opengl_GL.context.clear(16640)},__class__:haxepunk_graphics_hardware_FrameBuffer};var haxepunk_graphics_hardware_HardwareRenderer=function(){if(this.height=0,this.width=0,this.y=0,this.x=0,this.defaultFramebuffer=null,null==haxepunk_graphics_hardware_HardwareRenderer._ortho){var e=new Float32Array(16);haxepunk_graphics_hardware_HardwareRenderer._ortho=e,haxepunk_graphics_hardware_HardwareRenderer._ortho[0]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[1]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[2]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[3]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[4]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[5]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[6]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[7]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[8]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[9]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[10]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[11]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[12]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[13]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[14]=0,haxepunk_graphics_hardware_HardwareRenderer._ortho[15]=1}};$hxClasses["haxepunk.graphics.hardware.HardwareRenderer"]=haxepunk_graphics_hardware_HardwareRenderer,haxepunk_graphics_hardware_HardwareRenderer.__name__="haxepunk.graphics.hardware.HardwareRenderer",haxepunk_graphics_hardware_HardwareRenderer.ortho=function(e,t,a,n){var i=1/(t-e),s=1/(n-a);haxepunk_graphics_hardware_HardwareRenderer._ortho[0]=2*i,haxepunk_graphics_hardware_HardwareRenderer._ortho[5]=2*s,haxepunk_graphics_hardware_HardwareRenderer._ortho[12]=-(e+t)*i,haxepunk_graphics_hardware_HardwareRenderer._ortho[13]=-(a+n)*s},haxepunk_graphics_hardware_HardwareRenderer.setBlendMode=function(e){switch(e){case 0:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,1,0,1);break;case 1:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFunc(1,771);break;case 9:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(774,771,0,1);break;case 12:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,769,0,1);break;case 14:lime_graphics_opengl_GL.context.blendEquationSeparate(32779,32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,1,0,1)}},haxepunk_graphics_hardware_HardwareRenderer.prototype={render:function(e){var t=this.x,a=this.y,n=this.width,i=this.height;haxepunk_HXP.screen;if(null!=e&&e.triangleCount>0){if(haxepunk_graphics_hardware_HardwareRenderer._tracking&&(haxepunk_graphics_hardware_HardwareRenderer.triangleCount+=e.triangleCount,++haxepunk_graphics_hardware_HardwareRenderer.drawCallCount,haxepunk_graphics_hardware_HardwareRenderer.drawCallLimit>-1&&haxepunk_graphics_hardware_HardwareRenderer.drawCallCount>haxepunk_graphics_hardware_HardwareRenderer.drawCallLimit))return;var s=e.clipRect;if(null!=s&&(n-=0|s.x,i-=0|s.y,n=0|Math.min(n,s.width),i=0|Math.min(i,s.height)),n>0&&i>0){var _=e.shader;_.bind();var r=e.triangleCount,o=3*_.get_floatsPerVertex();if(this.buffer.ensureSize(r,o),!Object.prototype.hasOwnProperty.call(_.uniformIndices.h,"uMatrix")){var l=_.uniformIndices,h=lime_graphics_opengl_GL.context.getUniformLocation(_.glProgram,"uMatrix");l.h.uMatrix=h}var u=_.uniformIndices.h.uMatrix;h=haxepunk_graphics_hardware_HardwareRenderer._ortho;(l=lime_graphics_opengl_GL.context).uniformMatrix4fv(u,!1,h);var p=e.texture;switch(null!=p&&haxepunk_graphics_hardware_opengl_GLUtils.bindTexture(p,e.smooth),_.prepare(e,this.buffer),e.blend){case 0:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,1,0,1);break;case 1:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFunc(1,771);break;case 9:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(774,771,0,1);break;case 12:lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,769,0,1);break;case 14:lime_graphics_opengl_GL.context.blendEquationSeparate(32779,32774),lime_graphics_opengl_GL.context.blendFuncSeparate(1,1,0,1)}null!=s&&(t+=0|Math.max(s.x,0),a+=0|Math.max(s.y,0)),lime_graphics_opengl_GL.context.scissor(t,this.screenHeight-a-i,n,i),lime_graphics_opengl_GL.context.enable(3089),lime_graphics_opengl_GL.context.drawArrays(4,0,3*r),lime_graphics_opengl_GL.context.disable(3089),lime_graphics_opengl_GL.context.bindBuffer(34962,null),_.unbind()}}},startScene:function(e){haxepunk_graphics_hardware_HardwareRenderer._tracking=e.trackDrawCalls,null!=this.buffer&&null!=this.buffer.glBuffer||(null==this.buffer&&(this.buffer=new haxepunk_graphics_hardware_RenderBuffer),null==this.fb&&(this.fb=new haxepunk_graphics_hardware_FrameBuffer,this.backFb=new haxepunk_graphics_hardware_FrameBuffer));var t=haxepunk_HXP.screen;this.screenWidth=t.width,this.screenHeight=t.height,this.screenScaleX=t.scaleX,this.screenScaleY=t.scaleY;var a=e.shaders,n=null;if(null!=a)for(var i=0;i<a.length;){var s=a[i];if(++i,s.active){n=s;break}}if(null!=n){if(this.fb.bindFrameBuffer(),null!=(s=n).width||null!=s.height){var _=null==s.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,s.width),r=null==s.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,s.height);(i=t).set_scaleX(i.scaleX*(_/this.screenWidth)),(i=t).set_scaleY(i.scaleY*(r/this.screenHeight)),t.width=_,t.height=r}}else lime_graphics_opengl_GL.context.bindFramebuffer(36160,this.defaultFramebuffer);this.x=t.x+Math.max(e.x,0)|0,this.y=t.y+Math.max(e.y,0)|0,this.width=null==e._width?haxepunk_HXP.screen.width-e.x:e._width,this.height=null==e._height?haxepunk_HXP.screen.height-e.y:e._height;var o=-this.x,l=this.screenWidth-this.x,h=this.screenHeight-this.y,u=-this.y,p=1/(l-o),c=1/(u-h);haxepunk_graphics_hardware_HardwareRenderer._ortho[0]=2*p,haxepunk_graphics_hardware_HardwareRenderer._ortho[5]=2*c,haxepunk_graphics_hardware_HardwareRenderer._ortho[12]=-(o+l)*p,haxepunk_graphics_hardware_HardwareRenderer._ortho[13]=-(h+u)*c},flushScene:function(e){var t=haxepunk_HXP.screen;t.width=this.screenWidth,t.height=this.screenHeight,t.set_scaleX(this.screenScaleX),t.set_scaleY(this.screenScaleY);var a=e.shaders,n=!1;if(null!=a)for(var i=0;i<a.length;){var s=a[i];if(++i,s.active){n=!0;break}}if(n){for(var _=a.length;!a[_-1].active;)--_;i=0;for(var r=_;i<r;){var o=i++,l=o==_-1,h=a[o];if(h.active){var u,p,c=this.fb.texture;if(l)u=this.screenWidth/(null==h.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,h.width)),p=this.screenHeight/(null==h.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,h.height)),lime_graphics_opengl_GL.context.bindFramebuffer(36160,this.defaultFramebuffer);else{var d=a[o+1];u=(null==d.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,d.width))/(null==h.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,h.width)),p=(null==d.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,d.height))/(null==h.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,h.height));var f=this.fb;this.fb=this.backFb,this.backFb=f,this.fb.bindFrameBuffer()}h.setScale(null==h.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,h.width),null==h.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,h.height),u,p),h.bind(),lime_graphics_opengl_GL.context.activeTexture(33984),lime_graphics_opengl_GL.context.bindTexture(3553,c),h.smooth?(lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9729)):(lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9728)),lime_graphics_opengl_GL.context.blendEquation(32774),lime_graphics_opengl_GL.context.blendFunc(1,771),lime_graphics_opengl_GL.context.drawArrays(4,0,6),lime_graphics_opengl_GL.context.bindBuffer(34962,null),lime_graphics_opengl_GL.context.bindTexture(3553,null),h.unbind(),lime_graphics_opengl_GL.context.bindFramebuffer(36160,null)}}}},startFrame:function(){haxepunk_graphics_hardware_HardwareRenderer.triangleCount=0,haxepunk_graphics_hardware_HardwareRenderer.drawCallCount=0},endFrame:function(){},init:function(){null==this.buffer&&(this.buffer=new haxepunk_graphics_hardware_RenderBuffer),null==this.fb&&(this.fb=new haxepunk_graphics_hardware_FrameBuffer,this.backFb=new haxepunk_graphics_hardware_FrameBuffer)},bindDefaultFramebuffer:function(){lime_graphics_opengl_GL.context.bindFramebuffer(36160,this.defaultFramebuffer)},destroy:function(){},__class__:haxepunk_graphics_hardware_HardwareRenderer};var haxepunk_graphics_hardware_RenderBuffer=function(){this.init()};$hxClasses["haxepunk.graphics.hardware.RenderBuffer"]=haxepunk_graphics_hardware_RenderBuffer,haxepunk_graphics_hardware_RenderBuffer.__name__="haxepunk.graphics.hardware.RenderBuffer",haxepunk_graphics_hardware_RenderBuffer.resize=function(e,t,a){return Math.max(2*e/a|0,t)*a|0},haxepunk_graphics_hardware_RenderBuffer.prototype={get_length:function(){return this.buffer.length},init:function(){this.glBuffer=lime_graphics_opengl_GL.context.createBuffer()},bufferData:function(e,t,a,n){var i=a,s=lime_graphics_opengl_GL.context;s.bufferData(e,i,n)},ensureSize:function(e,t){null==this.glBuffer&&(this.buffer=null,this.init());var a=null==this.buffer?0:this.buffer.length;if(a<e*t){var n,i=Math.max(2*a/t|0,e)*t|0;n=null!=i?new Float32Array(i):null,this.buffer=n,this.intArray=new Int32Array(this.buffer.buffer),this.use(),this.bufferData(34962,4*this.buffer.length,this.buffer,35048)}},use:function(){lime_graphics_opengl_GL.context.bindBuffer(34962,this.glBuffer),this.byteOffset=0},addFloat:function(e){this.buffer[this.byteOffset]=e,this.byteOffset+=1},addVec:function(e,t){this.buffer[this.byteOffset]=e,this.buffer[this.byteOffset+1]=t,this.byteOffset+=2},addInt:function(e){this.intArray[this.byteOffset]=e,this.byteOffset+=1},addVertexAttribData:function(e,t){for(var a=0;a<e.length;){var n=e[a];++a;for(var i=n.data,s=0,_=t*n.valuesPerElement;s<_;){s++;var r=n,o=i[r.set_dataPos(r.dataPos+1)];this.buffer[this.byteOffset]=o,this.byteOffset+=1}}},updateGraphicsCard:function(){var e=this.buffer,t=lime_graphics_opengl_GL.context;t.bufferSubData(34962,0,e)},prepareVertexOnly:function(e){e._iterator.triangle=e.data;for(var t=e._iterator;null!=t.triangle;){var a=t.triangle;t.triangle=t.triangle._next;var n=a;this.buffer[this.byteOffset]=n.tx1,this.buffer[this.byteOffset+1]=n.ty1,this.byteOffset+=2,this.buffer[this.byteOffset]=n.tx2,this.buffer[this.byteOffset+1]=n.ty2,this.byteOffset+=2,this.buffer[this.byteOffset]=n.tx3,this.buffer[this.byteOffset+1]=n.ty3,this.byteOffset+=2}},prepareVertexAndColor:function(e){var t=0;e._iterator.triangle=e.data;for(var a=e._iterator;null!=a.triangle;){var n=a.triangle;a.triangle=a.triangle._next;var i=n,s=i.alpha,_=s<=0?0:s>=1?-16777216:(255*s|0)<<24;t=16777215&i.color|_,this.buffer[this.byteOffset]=i.tx1,this.buffer[this.byteOffset+1]=i.ty1,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1,this.buffer[this.byteOffset]=i.tx2,this.buffer[this.byteOffset+1]=i.ty2,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1,this.buffer[this.byteOffset]=i.tx3,this.buffer[this.byteOffset+1]=i.ty3,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1}},prepareVertexAndUV:function(e){e._iterator.triangle=e.data;for(var t=e._iterator;null!=t.triangle;){var a=t.triangle;t.triangle=t.triangle._next;var n=a;this.buffer[this.byteOffset]=n.tx1,this.buffer[this.byteOffset+1]=n.ty1,this.byteOffset+=2,this.buffer[this.byteOffset]=n.uvx1,this.buffer[this.byteOffset+1]=n.uvy1,this.byteOffset+=2,this.buffer[this.byteOffset]=n.tx2,this.buffer[this.byteOffset+1]=n.ty2,this.byteOffset+=2,this.buffer[this.byteOffset]=n.uvx2,this.buffer[this.byteOffset+1]=n.uvy2,this.byteOffset+=2,this.buffer[this.byteOffset]=n.tx3,this.buffer[this.byteOffset+1]=n.ty3,this.byteOffset+=2,this.buffer[this.byteOffset]=n.uvx3,this.buffer[this.byteOffset+1]=n.uvy3,this.byteOffset+=2}},prepareVertexUVandColor:function(e){var t=0;e._iterator.triangle=e.data;for(var a=e._iterator;null!=a.triangle;){var n=a.triangle;a.triangle=a.triangle._next;var i=n,s=i.alpha,_=s<=0?0:s>=1?-16777216:(255*s|0)<<24;t=16777215&i.color|_,this.buffer[this.byteOffset]=i.tx1,this.buffer[this.byteOffset+1]=i.ty1,this.byteOffset+=2,this.buffer[this.byteOffset]=i.uvx1,this.buffer[this.byteOffset+1]=i.uvy1,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1,this.buffer[this.byteOffset]=i.tx2,this.buffer[this.byteOffset+1]=i.ty2,this.byteOffset+=2,this.buffer[this.byteOffset]=i.uvx2,this.buffer[this.byteOffset+1]=i.uvy2,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1,this.buffer[this.byteOffset]=i.tx3,this.buffer[this.byteOffset+1]=i.ty3,this.byteOffset+=2,this.buffer[this.byteOffset]=i.uvx3,this.buffer[this.byteOffset+1]=i.uvy3,this.byteOffset+=2,this.intArray[this.byteOffset]=t,this.byteOffset+=1}},__class__:haxepunk_graphics_hardware_RenderBuffer,__properties__:{get_length:"get_length"}};var openfl_geom_Point=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};$hxClasses["openfl.geom.Point"]=openfl_geom_Point,openfl_geom_Point.__name__="openfl.geom.Point",openfl_geom_Point.distance=function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)},openfl_geom_Point.interpolate=function(e,t,a){return new openfl_geom_Point(t.x+a*(e.x-t.x),t.y+a*(e.y-t.y))},openfl_geom_Point.polar=function(e,t){return new openfl_geom_Point(e*Math.cos(t),e*Math.sin(t))},openfl_geom_Point.prototype={add:function(e){return new openfl_geom_Point(e.x+this.x,e.y+this.y)},clone:function(){return new openfl_geom_Point(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},equals:function(e){return null!=e&&e.x==this.x&&e.y==this.y},normalize:function(e){if(0!=this.x||0!=this.y){var t=e/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=t,this.y*=t}},offset:function(e,t){this.x+=e,this.y+=t},setTo:function(e,t){this.x=e,this.y=t},subtract:function(e){return new openfl_geom_Point(this.x-e.x,this.y-e.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){null==openfl_geom_Point.__limeVector2&&(openfl_geom_Point.__limeVector2=new lime_math_Vector2);var e=openfl_geom_Point.__limeVector2;return e.x=this.x,e.y=this.y,openfl_geom_Point.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:openfl_geom_Point,__properties__:{get_length:"get_length"}};var haxepunk_graphics_hardware_Texture={__properties__:{get_height:"get_height",get_width:"get_width"},get_width:function(e){return null==e?0:e.width},get_height:function(e){return null==e?0:e.height},create:function(e,t,a,n){return null==n&&(n=0),null==a&&(a=!1),new openfl_display_BitmapData(e,t,a,n)},removeColor:function(e,t){e.threshold(e,e.rect,haxepunk_graphics_hardware_Texture._zero,"==",t,0,-1,!0)},clearColor:function(e,t){e.fillRect(e.rect,t)},drawCircle:function(e,t,a,n){var i=new openfl_display_Sprite;i.get_graphics().clear(),i.get_graphics().beginFill(16777215),i.get_graphics().drawCircle(t,a,n),e.draw(i)}},haxepunk_graphics_hardware_opengl_GLInternal=function(){};$hxClasses["haxepunk.graphics.hardware.opengl.GLInternal"]=haxepunk_graphics_hardware_opengl_GLInternal,haxepunk_graphics_hardware_opengl_GLInternal.__name__="haxepunk.graphics.hardware.opengl.GLInternal",haxepunk_graphics_hardware_opengl_GLInternal.bindTexture=function(e){e=e.getTexture(haxepunk_graphics_hardware_opengl_GLInternal.renderer.__context3D).__getTexture();lime_graphics_opengl_GL.context.bindTexture(3553,e)},haxepunk_graphics_hardware_opengl_GLInternal.invalid=function(e){return null==e};var haxepunk_graphics_hardware_opengl_GLUtils=function(){};$hxClasses["haxepunk.graphics.hardware.opengl.GLUtils"]=haxepunk_graphics_hardware_opengl_GLUtils,haxepunk_graphics_hardware_opengl_GLUtils.__name__="haxepunk.graphics.hardware.opengl.GLUtils",haxepunk_graphics_hardware_opengl_GLUtils.bindTexture=function(e,t,a){null==a&&(a=33984),lime_graphics_opengl_GL.context.activeTexture(a),haxepunk_graphics_hardware_opengl_GLInternal.bindTexture(e),t?(lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9729)):(lime_graphics_opengl_GL.context.texParameteri(3553,10241,9729),lime_graphics_opengl_GL.context.texParameteri(3553,10240,9728)),lime_graphics_opengl_GL.context.texParameteri(3553,10242,33071),lime_graphics_opengl_GL.context.texParameteri(3553,10243,33071)},haxepunk_graphics_hardware_opengl_GLUtils.checkForErrors=function(e){},haxepunk_graphics_hardware_opengl_GLUtils.invalid=function(e){return null==e};var haxepunk_graphics_shader_Shader=function(e,t){this.uniformValues=new haxe_ds_StringMap,this.uniformNames=[],this.uniformIndices=new haxe_ds_StringMap,this.attributes=new haxe_ds_StringMap,this.attributeNames=[],this.position=new haxepunk_graphics_shader_Attribute(this),this.texCoord=new haxepunk_graphics_shader_Attribute(this),this.color=new haxepunk_graphics_shader_Attribute(this),this.vertexSource=e,this.fragmentSource=t,this.build(),this.id=haxepunk_graphics_shader_Shader.idSeq++};$hxClasses["haxepunk.graphics.shader.Shader"]=haxepunk_graphics_shader_Shader,haxepunk_graphics_shader_Shader.__name__="haxepunk.graphics.shader.Shader",haxepunk_graphics_shader_Shader.prototype={get_floatsPerVertex:function(){for(var e=2+(this.texCoord.get_isEnabled()?2:0)+(this.color.get_isEnabled()?1:0),t=haxe_ds_StringMap.valueIterator(this.attributes.h);t.hasNext();){var a=t.next();a.get_isEnabled()&&(e+=a.valuesPerElement)}return e},get_hasAttributes:function(){return this.attributeNames.length>0},build:function(){var e=this.compile(35633,this.vertexSource),t=this.compile(35632,this.fragmentSource);this.glProgram=lime_graphics_opengl_GL.context.createProgram(),lime_graphics_opengl_GL.context.attachShader(this.glProgram,t),lime_graphics_opengl_GL.context.attachShader(this.glProgram,e),lime_graphics_opengl_GL.context.linkProgram(this.glProgram),this.position.rebind(),this.texCoord.rebind(),this.color.rebind();for(var a=haxe_ds_StringMap.valueIterator(this.attributes.h);a.hasNext();){a.next().rebind()}},compile:function(e,t){var a=lime_graphics_opengl_GL.context.createShader(e);return lime_graphics_opengl_GL.context.shaderSource(a,t),lime_graphics_opengl_GL.context.compileShader(a),a},destroy:function(){for(var e=haxe_ds_StringMap.keysIterator(this.uniformIndices.h);e.hasNext();){var t=e.next(),a=this.uniformIndices;Object.prototype.hasOwnProperty.call(a.h,t)&&delete a.h[t]}for(e=haxe_ds_StringMap.keysIterator(this.attributes.h);e.hasNext();){t=e.next(),a=this.attributes;Object.prototype.hasOwnProperty.call(a.h,t)&&delete a.h[t]}},prepare:function(e,t){if(this.position.get_isEnabled()){haxepunk_graphics_shader_Shader._attribs.length=0;for(var a=0,n=this.attributeNames;a<n.length;){var i=n[a];++a,this.attributes.h[i].get_isEnabled()&&haxepunk_graphics_shader_Shader._attribs.push(this.attributes.h[i])}t.use(),this.texCoord.get_isEnabled()?this.color.get_isEnabled()?t.prepareVertexUVandColor(e):t.prepareVertexAndUV(e):this.color.get_isEnabled()?t.prepareVertexAndColor(e):t.prepareVertexOnly(e);var s=haxepunk_graphics_shader_Shader._attribs,_=3*e.triangleCount;for(a=0;a<s.length;){var r=s[a];++a;for(var o=r.data,l=(n=0,_*r.valuesPerElement);n<l;){n++;var h=r,u=o[h.set_dataPos(h.dataPos+1)];t.buffer[t.byteOffset]=u,t.byteOffset+=1}}var p=t.buffer,c=lime_graphics_opengl_GL.context;c.bufferSubData(34962,0,p),this.setAttributePointers(e.triangleCount)}},setAttributePointers:function(e){var t=0,a=4*(2+(this.texCoord.get_isEnabled()?2:0)+(this.color.get_isEnabled()?1:0)),n=this.position.index,i=lime_utils_DataPointer.fromFloat(t);if(lime_graphics_opengl_GL.context.vertexAttribPointer(n,2,5126,!1,a,i),t+=8,this.texCoord.get_isEnabled()){n=this.texCoord.index,i=lime_utils_DataPointer.fromFloat(t);lime_graphics_opengl_GL.context.vertexAttribPointer(n,2,5126,!1,a,i),t+=8}if(this.color.get_isEnabled()){n=this.color.index,i=lime_utils_DataPointer.fromFloat(t);lime_graphics_opengl_GL.context.vertexAttribPointer(n,4,5121,!0,a,i),t+=4}t*=3*e;for(var s=0,_=this.attributeNames;s<_.length;){var r=_[s];++s;var o=this.attributes.h[r];if(o.get_isEnabled()){n=o.index;var l=o.valuesPerElement;i=lime_utils_DataPointer.fromFloat(t);lime_graphics_opengl_GL.context.vertexAttribPointer(n,l,5126,!1,0,i),t+=3*e*o.valuesPerElement*4}}},bind:function(){null==this.glProgram&&(this.destroy(),this.build()),lime_graphics_opengl_GL.context.useProgram(this.glProgram);for(var e=0,t=this.uniformNames;e<t.length;){var a=t[e];if(++e,!Object.prototype.hasOwnProperty.call(this.uniformIndices.h,a)){var n=this.uniformIndices,i=lime_graphics_opengl_GL.context.getUniformLocation(this.glProgram,a);n.h[a]=i}lime_graphics_opengl_GL.context.uniform1f(this.uniformIndices.h[a],this.uniformValues.h[a])}lime_graphics_opengl_GL.context.enableVertexAttribArray(this.position.index),this.texCoord.get_isEnabled()&&lime_graphics_opengl_GL.context.enableVertexAttribArray(this.texCoord.index),this.color.get_isEnabled()&&lime_graphics_opengl_GL.context.enableVertexAttribArray(this.color.index);for(e=0,t=this.attributeNames;e<t.length;){var s=t[e];++e,this.attributes.h[s].get_isEnabled()&&lime_graphics_opengl_GL.context.enableVertexAttribArray(this.attributes.h[s].index)}},unbind:function(){lime_graphics_opengl_GL.context.useProgram(null),lime_graphics_opengl_GL.context.disableVertexAttribArray(this.position.index),this.texCoord.get_isEnabled()&&lime_graphics_opengl_GL.context.disableVertexAttribArray(this.texCoord.index),this.color.get_isEnabled()&&lime_graphics_opengl_GL.context.disableVertexAttribArray(this.color.index);for(var e=0,t=this.attributeNames;e<t.length;){var a=t[e];++e,this.attributes.h[a].get_isEnabled()&&lime_graphics_opengl_GL.context.disableVertexAttribArray(this.attributes.h[a].index)}},attributeIndex:function(e){return lime_graphics_opengl_GL.context.getAttribLocation(this.glProgram,e)},uniformIndex:function(e){if(!Object.prototype.hasOwnProperty.call(this.uniformIndices.h,e)){var t=this.uniformIndices,a=lime_graphics_opengl_GL.context.getUniformLocation(this.glProgram,e);t.h[e]=a}return this.uniformIndices.h[e]},setUniform:function(e,t){Object.prototype.hasOwnProperty.call(this.uniformValues.h,e)||this.uniformNames.push(e),this.uniformValues.h[e]=t},setVertexAttribData:function(e,t,a){var n;if(Object.prototype.hasOwnProperty.call(this.attributes.h,e))n=this.attributes.h[e];else{(n=new haxepunk_graphics_shader_Attribute(this)).name=e,n.rebind();n.index;this.attributes.h[e]=n,this.attributeNames.push(e)}n.set_data(t),n.valuesPerElement=a},appendVertexAttribData:function(e,t){var a;if(!Object.prototype.hasOwnProperty.call(this.attributes.h,e))throw haxe_Exception.thrown("appendVertexAttribData : attribute '"+e+"' was not declared");if(a=this.attributes.h[e],t.length%a.valuesPerElement!=0)throw haxe_Exception.thrown("appendVertexAttribData : values per element do not match");a.set_data(a.data.concat(t))},__class__:haxepunk_graphics_shader_Shader,__properties__:{get_hasAttributes:"get_hasAttributes",get_floatsPerVertex:"get_floatsPerVertex"}};var haxepunk_graphics_shader_ColorShader=function(e){haxepunk_graphics_shader_Shader.call(this,haxepunk_graphics_shader_ColorShader.VERTEX_SHADER,null==e?haxepunk_graphics_shader_ColorShader.FRAGMENT_SHADER:e),(t=this.position).name="aPosition",t.rebind();var t;t.index;(t=this.color).name="aColor",t.rebind();t.index};$hxClasses["haxepunk.graphics.shader.ColorShader"]=haxepunk_graphics_shader_ColorShader,haxepunk_graphics_shader_ColorShader.__name__="haxepunk.graphics.shader.ColorShader",haxepunk_graphics_shader_ColorShader.__properties__={get_defaultShader:"get_defaultShader"},haxepunk_graphics_shader_ColorShader.get_defaultShader=function(){return null==haxepunk_graphics_shader_ColorShader.defaultShader&&(haxepunk_graphics_shader_ColorShader.defaultShader=new haxepunk_graphics_shader_ColorShader),haxepunk_graphics_shader_ColorShader.defaultShader},haxepunk_graphics_shader_ColorShader.__super__=haxepunk_graphics_shader_Shader,haxepunk_graphics_shader_ColorShader.prototype=$extend(haxepunk_graphics_shader_Shader.prototype,{__class__:haxepunk_graphics_shader_ColorShader});var haxepunk_graphics_shader_SceneShader=function(e){this.smooth=!1,this.height=null,this.width=null,this.active=!0,null==e&&(e="\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec2 vTexCoord;\nuniform sampler2D uImage0;\nuniform vec2 uResolution;\n\nvoid main () {\n\tgl_FragColor = texture2D(uImage0, vTexCoord);\n}"),haxepunk_graphics_shader_Shader.call(this,"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = aPosition;\n}",e),(t=this.position).name="aPosition",t.rebind();var t;t.index;(t=this.texCoord).name="aTexCoord",t.rebind();t.index};$hxClasses["haxepunk.graphics.shader.SceneShader"]=haxepunk_graphics_shader_SceneShader,haxepunk_graphics_shader_SceneShader.__name__="haxepunk.graphics.shader.SceneShader",haxepunk_graphics_shader_SceneShader.fromAsset=function(e){return new haxepunk_graphics_shader_SceneShader(haxepunk_assets_AssetLoader.getText(e))},haxepunk_graphics_shader_SceneShader.__super__=haxepunk_graphics_shader_Shader,haxepunk_graphics_shader_SceneShader.prototype=$extend(haxepunk_graphics_shader_Shader.prototype,{get_textureWidth:function(){return null==this.width?haxepunk_HXP.screen.width:0|Math.min(haxepunk_HXP.screen.width,this.width)},get_textureHeight:function(){return null==this.height?haxepunk_HXP.screen.height:0|Math.min(haxepunk_HXP.screen.height,this.height)},bufferData:function(e,t,a,n){var i=a,s=lime_graphics_opengl_GL.context;s.bufferData(e,i,n)},createBuffer:function(){haxepunk_graphics_shader_SceneShader.buffer=lime_graphics_opengl_GL.context.createBuffer(),lime_graphics_opengl_GL.context.bindBuffer(34962,haxepunk_graphics_shader_SceneShader.buffer);var e,t=haxepunk_graphics_shader_SceneShader._vertices;e=null!=t?new Float32Array(t):null,this.v=e,this.bufferData(34962,4*this.v.length,this.v,35044),lime_graphics_opengl_GL.context.bindBuffer(34962,null)},build:function(){if(haxepunk_graphics_shader_Shader.prototype.build.call(this),!Object.prototype.hasOwnProperty.call(this.uniformIndices.h,"uImage0")){var e=this.uniformIndices,t=lime_graphics_opengl_GL.context.getUniformLocation(this.glProgram,"uImage0");e.h.uImage0=t}if(this.image=this.uniformIndices.h.uImage0,!Object.prototype.hasOwnProperty.call(this.uniformIndices.h,"uResolution")){e=this.uniformIndices,t=lime_graphics_opengl_GL.context.getUniformLocation(this.glProgram,"uResolution");e.h.uResolution=t}this.resolution=this.uniformIndices.h.uResolution},setScale:function(e,t,a,n){null!=haxepunk_graphics_shader_SceneShader.buffer&&null!=this.v||this.createBuffer(),lime_graphics_opengl_GL.context.bindBuffer(34962,haxepunk_graphics_shader_SceneShader.buffer);var i=e/haxepunk_HXP.screen.width,s=t/haxepunk_HXP.screen.height;if(a*=i,n*=s,haxepunk_graphics_shader_SceneShader._lastX!=i||haxepunk_graphics_shader_SceneShader._lastY!=s||haxepunk_graphics_shader_SceneShader._lastSx!=a||haxepunk_graphics_shader_SceneShader._lastSy!=n){var _=this.v[16]=2*a-1,r=this.v[12]=_;this.v[4]=r;_=this.v[13]=2*-n+1,r=this.v[5]=_;this.v[1]=r;_=this.v[18]=i,r=this.v[14]=_;this.v[6]=r;_=this.v[15]=1-s,r=this.v[7]=_;this.v[3]=r,this.bufferData(34962,4*this.v.length,this.v,35044),haxepunk_graphics_shader_SceneShader._lastX=i,haxepunk_graphics_shader_SceneShader._lastY=s,haxepunk_graphics_shader_SceneShader._lastSx=a,haxepunk_graphics_shader_SceneShader._lastSy=n}},bind:function(){haxepunk_graphics_shader_Shader.prototype.bind.call(this),null==haxepunk_graphics_shader_SceneShader.buffer&&this.createBuffer();var e=this.position.index,t=lime_utils_DataPointer.fromFloat(0);lime_graphics_opengl_GL.context.vertexAttribPointer(e,2,5126,!1,16,t);e=this.texCoord.index,t=lime_utils_DataPointer.fromFloat(8);lime_graphics_opengl_GL.context.vertexAttribPointer(e,2,5126,!1,16,t),lime_graphics_opengl_GL.context.uniform1i(this.image,0),lime_graphics_opengl_GL.context.uniform2f(this.resolution,haxepunk_HXP.screen.width,haxepunk_HXP.screen.height),lime_graphics_opengl_GL.context.bindBuffer(34962,null)},__class__:haxepunk_graphics_shader_SceneShader,__properties__:$extend(haxepunk_graphics_shader_Shader.prototype.__properties__,{get_textureHeight:"get_textureHeight",get_textureWidth:"get_textureWidth"})});var haxepunk_graphics_shader_Attribute=function(e){this.dataPos=-1,this.index=-1,this.parent=e};$hxClasses["haxepunk.graphics.shader.Attribute"]=haxepunk_graphics_shader_Attribute,haxepunk_graphics_shader_Attribute.__name__="haxepunk.graphics.shader.Attribute",haxepunk_graphics_shader_Attribute.prototype={set_data:function(e){return this.set_dataPos(-1),this.data=e},set_dataPos:function(e){return this.dataPos=e>-1&&null!=this.data?e%this.data.length:e},set_name:function(e){this.name=e,this.rebind();this.index;return this.name},get_isEnabled:function(){return null!=this.name&&-1!=this.index},rebind:function(){null!=this.name&&(this.index=lime_graphics_opengl_GL.context.getAttribLocation(this.parent.glProgram,this.name)),this.set_dataPos(-1)},__class__:haxepunk_graphics_shader_Attribute,__properties__:{get_isEnabled:"get_isEnabled",set_name:"set_name",set_dataPos:"set_dataPos",set_data:"set_data"}};var haxepunk_graphics_shader_TextureShader=function(e,t){haxepunk_graphics_shader_Shader.call(this,null==e?haxepunk_graphics_shader_TextureShader.VERTEX_SHADER:e,null==t?haxepunk_graphics_shader_TextureShader.FRAGMENT_SHADER:t),(a=this.position).name="aPosition",a.rebind();a.index;(a=this.texCoord).name="aTexCoord",a.rebind();var a;a.index;(a=this.color).name="aColor",a.rebind();a.index};$hxClasses["haxepunk.graphics.shader.TextureShader"]=haxepunk_graphics_shader_TextureShader,haxepunk_graphics_shader_TextureShader.__name__="haxepunk.graphics.shader.TextureShader",haxepunk_graphics_shader_TextureShader.__properties__={get_defaultShader:"get_defaultShader"},haxepunk_graphics_shader_TextureShader.fromAsset=function(e){return new haxepunk_graphics_shader_TextureShader(null,haxepunk_assets_AssetLoader.getText(e))},haxepunk_graphics_shader_TextureShader.get_defaultShader=function(){return null==haxepunk_graphics_shader_TextureShader.defaultShader&&(haxepunk_graphics_shader_TextureShader.defaultShader=new haxepunk_graphics_shader_TextureShader),haxepunk_graphics_shader_TextureShader.defaultShader},haxepunk_graphics_shader_TextureShader.__super__=haxepunk_graphics_shader_Shader,haxepunk_graphics_shader_TextureShader.prototype=$extend(haxepunk_graphics_shader_Shader.prototype,{__class__:haxepunk_graphics_shader_TextureShader});var haxepunk_graphics_text_IBitmapFont=function(){};$hxClasses["haxepunk.graphics.text.IBitmapFont"]=haxepunk_graphics_text_IBitmapFont,haxepunk_graphics_text_IBitmapFont.__name__="haxepunk.graphics.text.IBitmapFont",haxepunk_graphics_text_IBitmapFont.__isInterface__=!0,haxepunk_graphics_text_IBitmapFont.prototype={__class__:haxepunk_graphics_text_IBitmapFont};var haxepunk_graphics_text_BitmapFont=function(e){this.atlases=[],this.fontName=e};$hxClasses["haxepunk.graphics.text.BitmapFont"]=haxepunk_graphics_text_BitmapFont,haxepunk_graphics_text_BitmapFont.__name__="haxepunk.graphics.text.BitmapFont",haxepunk_graphics_text_BitmapFont.__interfaces__=[haxepunk_graphics_text_IBitmapFont],haxepunk_graphics_text_BitmapFont.prototype={addSize:function(e){for(var t=0,a=this.atlases.length+1;t<a;){var n=t++;(n==this.atlases.length||this.atlases[n].fontSize>e.fontSize)&&this.atlases.splice(n,0,e)}},getChar:function(e,t){for(var a=null,n=0,i=this.atlases;n<i.length;){var s=i[n];if(++n,a=s,s.fontSize>t)break}s=a;var _=e;_=Std.string(HxOverrides.cca(_,0));var r=Object.prototype.hasOwnProperty.call(s.glyphData.h,_)?s.glyphData.h[_]:s.glyphData.h[" "];return r.scale=t/s.fontSize,r},getLineHeight:function(e){for(var t=null,a=0,n=this.atlases;a<n.length;){var i=n[a];if(++a,t=i,i.fontSize>e)break}return(i=t).getLineHeight(e)},atlasForScale:function(e){for(var t=null,a=0,n=this.atlases;a<n.length;){var i=n[a];if(++a,t=i,i.fontSize>e)break}return t},__class__:haxepunk_graphics_text_BitmapFont};var haxepunk_graphics_text_BitmapFontAtlas=function(e){this.fontSize=0,this.lineHeight=0,haxepunk_graphics_atlas_TextureAtlas.call(this,e),this.glyphData=new haxe_ds_StringMap};$hxClasses["haxepunk.graphics.text.BitmapFontAtlas"]=haxepunk_graphics_text_BitmapFontAtlas,haxepunk_graphics_text_BitmapFontAtlas.__name__="haxepunk.graphics.text.BitmapFontAtlas",haxepunk_graphics_text_BitmapFontAtlas.__interfaces__=[haxepunk_graphics_text_IBitmapFont],haxepunk_graphics_text_BitmapFontAtlas.getFont=function(e,t,a){if(null==haxepunk_graphics_text_BitmapFontAtlas._fonts&&(haxepunk_graphics_text_BitmapFontAtlas._fonts=new haxe_ds_StringMap),null==t&&(t=1),!Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapFontAtlas._fonts.h,e)){var n,i=haxepunk_graphics_text_BitmapFontAtlas._fonts;switch(t){case 1:n=haxepunk_graphics_text_BitmapFontAtlas.loadXMLFont(e);break;case 2:n=haxepunk_graphics_text_BitmapFontAtlas.loadXNAFont(e,a)}i.h[e]=n}return haxepunk_graphics_text_BitmapFontAtlas._fonts.h[e]},haxepunk_graphics_text_BitmapFontAtlas.loadXMLFont=function(e){haxe_Log.trace(e,{fileName:"haxepunk/graphics/text/BitmapFontAtlas.hx",lineNumber:64,className:"haxepunk.graphics.text.BitmapFontAtlas",methodName:"loadXMLFont"});var t=haxepunk_assets_AssetLoader.getText(e);if(null==t)throw haxe_Exception.thrown('BitmapFontAtlas: "'+e+'" not found!');var a=Xml.parse(t).firstElement();if(null==a)throw haxe_Exception.thrown('BitmapFontAtlas: "'+e+'" contains invalid XML!');if(a.nodeType!=Xml.Document&&a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==a.nodeType?"null":XmlType.toString(a.nodeType)));var n=s=a,i=new haxe_io_Path(e).dir+"/"+haxe_xml__$Access_AttribAccess.resolve(haxe_xml__$Access_NodeAccess.resolve(haxe_xml__$Access_NodeAccess.resolve(n,"pages"),"page"),"file"),s=haxepunk_assets_AssetCache.global.getAtlasData(i,!1),_=new haxepunk_graphics_text_BitmapFontAtlas(s);_.lineHeight=Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(haxe_xml__$Access_NodeAccess.resolve(n,"common"),"lineHeight")),_.fontSize=Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(haxe_xml__$Access_NodeAccess.resolve(n,"info"),"size"));for(var r=haxe_xml__$Access_NodeAccess.resolve(n,"chars"),o=0,l=haxe_xml__$Access_NodeListAccess.resolve(r,"char");o<l.length;){var h=l[o];++o;var u=haxe_xml__$Access_AttribAccess.resolve(h,"x");haxepunk_HXP.rect.x=Std.parseInt(u);var p=haxe_xml__$Access_AttribAccess.resolve(h,"y");haxepunk_HXP.rect.y=Std.parseInt(p);var c=haxe_xml__$Access_AttribAccess.resolve(h,"width");haxepunk_HXP.rect.width=Std.parseInt(c);var d=haxe_xml__$Access_AttribAccess.resolve(h,"height");haxepunk_HXP.rect.height=Std.parseInt(d);var f=null;if(haxe_xml__$Access_HasAttribAccess.resolve(h,"letter")?f=haxe_xml__$Access_AttribAccess.resolve(h,"letter"):haxe_xml__$Access_HasAttribAccess.resolve(h,"id")&&(f=js_Boot.__cast(haxe_xml__$Access_AttribAccess.resolve(h,"id"),String)),null==f)throw haxe_Exception.thrown('"'+e+'" is not a valid .fnt file!');switch(f){case"&amp;":f="&";break;case"&gt;":f=">";break;case"&lt;":f="<";break;case"&quot;":f='"';break;case"space":f=" "}var m=_.defineRegion(f,haxepunk_HXP.rect),g={glyph:f,rect:haxepunk_HXP.rect.clone(),xOffset:haxe_xml__$Access_HasAttribAccess.resolve(h,"xoffset")?Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(h,"xoffset")):0,yOffset:haxe_xml__$Access_HasAttribAccess.resolve(h,"yoffset")?Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(h,"yoffset")):0,xAdvance:haxe_xml__$Access_HasAttribAccess.resolve(h,"xadvance")?Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(h,"xadvance")):0,scale:1,region:m};_.glyphData.h[f]=g}return _},haxepunk_graphics_text_BitmapFontAtlas.loadXNAFont=function(e,t){var a=haxepunk_assets_AssetCache.global.getAtlasData(e,!1),n=new haxepunk_graphics_text_BitmapFontAtlas(a),i=null;try{i=n._data.texture}catch(e){haxe_NativeStackTrace.lastError=e}if(null==i)throw haxe_Exception.thrown('Invalid XNA font asset "'+e+'": no Texture found.');null==t&&(t={}),Object.prototype.hasOwnProperty.call(t,"letters")||(t.letters=haxepunk_graphics_text_BitmapFontAtlas._DEFAULT_GLYPHS),Object.prototype.hasOwnProperty.call(t,"glyphBGColor")||(t.glyphBGColor=-14671840);for(var s,_,r=t.letters,o=i.getPixel(0,0),l=0,h=0,u=r.length;l<(null==i?0:i.height)&&h<u;){var p=0;for(s=0;s<(null==i?0:i.width)&&h<u;){if((0|i.getPixel(s,l))!=o){for(var c=s,d=l;(0|i.getPixel(c,l))!=o;)++c;for(;(0|i.getPixel(s,d))!=o;)++d;var f=c-s,m=d-l;_=r.charAt(h),haxepunk_HXP.rect.setTo(s,l,f,m);var g=n.defineRegion(_,haxepunk_HXP.rect),x={glyph:_,rect:haxepunk_HXP.rect.clone(),xOffset:0,yOffset:0,xAdvance:f,scale:1,region:g};n.glyphData.h[_]=x,m>p&&(p=m),m>n.fontSize&&(n.fontSize=m),s+=f,++h}++s}l+=p+1}n.lineHeight=n.fontSize;var k=i.getPixel(0,0);return i.threshold(i,i.rect,haxepunk_graphics_hardware_Texture._zero,"==",k,0,-1,!0),null!=t.glyphBGColor&&i.threshold(i,i.rect,haxepunk_graphics_hardware_Texture._zero,"==",t.glyphBGColor,0,-1,!0),n},haxepunk_graphics_text_BitmapFontAtlas.__super__=haxepunk_graphics_atlas_TextureAtlas,haxepunk_graphics_text_BitmapFontAtlas.prototype=$extend(haxepunk_graphics_atlas_TextureAtlas.prototype,{getChar:function(e,t){e=Std.string(HxOverrides.cca(e,0));var a=Object.prototype.hasOwnProperty.call(this.glyphData.h,e)?this.glyphData.h[e]:this.glyphData.h[" "];return a.scale=t/this.fontSize,a},getLineHeight:function(e){return this.lineHeight*e/this.fontSize},__class__:haxepunk_graphics_text_BitmapFontAtlas});var haxepunk_graphics_text_AlignType={__properties__:{get_floatValue:"get_floatValue"},get_floatValue:function(e){switch(e){case 1:return.5;case 2:return 1;default:return 0}}},haxepunk_graphics_text_RenderData=function(){this.scale=1,this.alpha=1,this.color=16777215,this.y=0,this.x=0};$hxClasses["haxepunk.graphics.text.RenderData"]=haxepunk_graphics_text_RenderData,haxepunk_graphics_text_RenderData.__name__="haxepunk.graphics.text.RenderData",haxepunk_graphics_text_RenderData.prototype={__class__:haxepunk_graphics_text_RenderData};var haxepunk_graphics_text_TextOpcode=$hxEnums["haxepunk.graphics.text.TextOpcode"]={__ename__:"haxepunk.graphics.text.TextOpcode",__constructs__:["SetColor","SetAlpha","SetScale","SetFont","SetSize","TextBlock","NewLine","Image","Align","Custom","PopColor","PopAlpha","PopScale","PopFont","PopSize","PopCustom"],SetColor:($_=function(e){return{_hx_index:0,color:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["color"],$_),SetAlpha:($_=function(e){return{_hx_index:1,alpha:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["alpha"],$_),SetScale:($_=function(e){return{_hx_index:2,scale:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["scale"],$_),SetFont:($_=function(e){return{_hx_index:3,font:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["font"],$_),SetSize:($_=function(e){return{_hx_index:4,size:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["size"],$_),TextBlock:($_=function(e){return{_hx_index:5,text:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["text"],$_),NewLine:($_=function(e,t,a){return{_hx_index:6,width:e,height:t,align:a,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["width","height","align"],$_),Image:($_=function(e,t){return{_hx_index:7,image:e,padding:t,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["image","padding"],$_),Align:($_=function(e){return{_hx_index:8,alignType:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["alignType"],$_),Custom:($_=function(e){return{_hx_index:9,f:e,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},$_.__params__=["f"],$_),PopColor:{_hx_index:10,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr},PopAlpha:{_hx_index:11,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr},PopScale:{_hx_index:12,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr},PopFont:{_hx_index:13,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr},PopSize:{_hx_index:14,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr},PopCustom:{_hx_index:15,__enum__:"haxepunk.graphics.text.TextOpcode",toString:$estr}},haxepunk_graphics_text_BitmapText=function(e,t,a,n,i,s){null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),this._dirty=!1,this.autoHeight=!1,this.autoWidth=!1,this.align=0,this.opCodes=[],this.charCount=0,this.displayCharCount=-1,this.charSpacing=0,this.lineSpacing=0,this.scaleY=1,this.scaleX=1,this.scale=1,this.wrap=!1,this.size=0,this.height=0,this.width=0,this.textHeight=0,this.textWidth=0,haxepunk_Graphic.call(this),null==s&&(s={}),Object.prototype.hasOwnProperty.call(s,"font")||(s.font=haxepunk_HXP.defaultFont+".fnt"),Object.prototype.hasOwnProperty.call(s,"size")||(s.size=16),Object.prototype.hasOwnProperty.call(s,"color")||(s.color=16777215),Object.prototype.hasOwnProperty.call(s,"wordWrap")||(s.wordWrap=!1);var _,r=haxepunk_assets_AssetCache.global.getBitmapFont(s.font,!1);if(null==r&&(r=haxepunk_graphics_text_BitmapFontAtlas.getFont(s.font,s.format,s.extraParams),haxepunk_assets_AssetCache.global.addBitmapFont(s.font,r)),this._font=r,null==this._font)throw haxe_Exception.thrown("Invalid font glyphs provided.");this.x=t,this.y=a,n!=this.width&&(this._dirty=!0),this.width=n,i!=this.height&&(this._dirty=!0),this.height=i,(_=s.wordWrap)!=this.wrap&&(this._dirty=!0),this.wrap=_,(_=s.size)!=this.size&&(this._dirty=!0),this.size=_,this.autoWidth=0==n,this.autoHeight=0==i,this.set_color(s.color),this.set_text(null!=e?e:""),"left"==openfl_text_TextFormatAlign.toString(s.align)?this.align=0:"right"==openfl_text_TextFormatAlign.toString(s.align)?this.align=2:"center"==openfl_text_TextFormatAlign.toString(s.align)&&(this.align=1)};$hxClasses["haxepunk.graphics.text.BitmapText"]=haxepunk_graphics_text_BitmapText,haxepunk_graphics_text_BitmapText.__name__="haxepunk.graphics.text.BitmapText",haxepunk_graphics_text_BitmapText.defineFormatTag=function(e,t){if(Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,e))throw haxe_Exception.thrown("Duplicate format tag: <"+e+"> already exists");var a=[],n=[];Object.prototype.hasOwnProperty.call(t,"color")&&(a.push(haxepunk_graphics_text_TextOpcode.SetColor(t.color)),n.push(haxepunk_graphics_text_TextOpcode.PopColor)),Object.prototype.hasOwnProperty.call(t,"alpha")&&(a.push(haxepunk_graphics_text_TextOpcode.SetAlpha(t.alpha)),n.push(haxepunk_graphics_text_TextOpcode.PopAlpha)),Object.prototype.hasOwnProperty.call(t,"scale")&&(a.push(haxepunk_graphics_text_TextOpcode.SetScale(t.scale)),n.push(haxepunk_graphics_text_TextOpcode.PopScale)),Object.prototype.hasOwnProperty.call(t,"font")&&(a.push(haxepunk_graphics_text_TextOpcode.SetFont(t.font)),n.push(haxepunk_graphics_text_TextOpcode.PopFont)),Object.prototype.hasOwnProperty.call(t,"size")&&(a.push(haxepunk_graphics_text_TextOpcode.SetSize(t.size)),n.push(haxepunk_graphics_text_TextOpcode.PopSize));var i="/"+e;haxepunk_graphics_text_BitmapText.formatTags.h[e]=a,haxepunk_graphics_text_BitmapText.formatTags.h[i]=n},haxepunk_graphics_text_BitmapText.defineImageTag=function(e,t,a){if(null==a&&(a=0),Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,e))throw haxe_Exception.thrown("Duplicate format tag: <"+e+"> already exists");var n=[haxepunk_graphics_text_TextOpcode.Image(t,a)];haxepunk_graphics_text_BitmapText.formatTags.h[e]=n},haxepunk_graphics_text_BitmapText.defineCustomTag=function(e,t){if(Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,e))throw haxe_Exception.thrown("Duplicate format tag: <"+e+"> already exists");var a="/"+e,n=[haxepunk_graphics_text_TextOpcode.Custom(t)];haxepunk_graphics_text_BitmapText.formatTags.h[e]=n;n=[haxepunk_graphics_text_TextOpcode.PopCustom];haxepunk_graphics_text_BitmapText.formatTags.h[a]=n},haxepunk_graphics_text_BitmapText.removeTag=function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,e)){var t=haxepunk_graphics_text_BitmapText.formatTags;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]}var a="/"+e;if(Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,a)){t=haxepunk_graphics_text_BitmapText.formatTags;Object.prototype.hasOwnProperty.call(t.h,a)&&delete t.h[a]}},haxepunk_graphics_text_BitmapText.dynamicImage=function(e){haxepunk_graphics_text_BitmapText._imgArray.length=0;var t=haxepunk_assets_AssetCache.global.getAtlasRegion(e,!1),a=new haxepunk_graphics_Image(t);return haxepunk_graphics_text_BitmapText._imgArray.push(haxepunk_graphics_text_TextOpcode.Image(a,0)),haxepunk_graphics_text_BitmapText._imgArray},haxepunk_graphics_text_BitmapText.__super__=haxepunk_Graphic,haxepunk_graphics_text_BitmapText.prototype=$extend(haxepunk_Graphic.prototype,{get_textWidth:function(){return this._dirty&&this.parseText(),this.textWidth},set_textWidth:function(e){return this.textWidth=e},get_textHeight:function(){return this._dirty&&this.parseText(),this.textHeight},set_textHeight:function(e){return this.textHeight=e},set_width:function(e){return e!=this.width&&(this._dirty=!0),this.width=e},set_height:function(e){return e!=this.height&&(this._dirty=!0),this.height=e},set_size:function(e){return e!=this.size&&(this._dirty=!0),this.size=e},set_wrap:function(e){return e!=this.wrap&&(this._dirty=!0),this.wrap=e},set_scale:function(e){return e!=this.scale&&(this._dirty=!0),this.scale=e},set_scaleX:function(e){return e!=this.scaleX&&(this._dirty=!0),this.scaleX=e},set_scaleY:function(e){return e!=this.scaleY&&(this._dirty=!0),this.scaleY=e},set_lineSpacing:function(e){return e!=this.lineSpacing&&(this._dirty=!0),this.lineSpacing=e},set_charSpacing:function(e){return e!=this.charSpacing&&(this._dirty=!0),this.charSpacing=e},set_text:function(e){return this.text!=e&&(this.text=e,this._dirty=!0),e},centerOrigin:function(){var e;this._dirty&&this.parseText(),this.autoWidth?(this._dirty&&this.parseText(),e=this.textWidth):e=this.width,this.originX=.5*e,this.autoHeight?(this._dirty&&this.parseText(),e=this.textHeight):e=this.height,this.originY=.5*e},parseText:function(){this.opCodes.length=0,haxepunk_graphics_text_BitmapText._fontStack.length=0,haxepunk_graphics_text_BitmapText._sizeStack.length=0,haxepunk_graphics_text_BitmapText._scaleStack.length=0,haxepunk_graphics_text_BitmapText._colorStack.length=0,haxepunk_graphics_text_BitmapText._alphaStack.length=0,haxepunk_graphics_text_BitmapText._word.length=0,haxepunk_graphics_text_BitmapText._fontStack.push(this._font),haxepunk_graphics_text_BitmapText._sizeStack.push(this.size),haxepunk_graphics_text_BitmapText._scaleStack.push(1),haxepunk_graphics_text_BitmapText._colorStack.push(this.color),haxepunk_graphics_text_BitmapText._alphaStack.push(this.alpha);var e=haxepunk_HXP.screen.scaleX,t=haxepunk_HXP.screen.scaleY,a=this.size*this.scale*this.scaleX,n=this.size*this.scale*this.scaleY,i=this._font.getLineHeight(n*t)/t,s=this.lineSpacing*this.scale*this.scaleY,_=0,r=this.text,o=0,l=0,h=0,u=[],p=0,c=0,d=0,f=1,m=this._font,g=1,x=this.align,k=0,y=0;this.charCount=0,this.opCodes.push(null);for(var b=0;;){var v=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.match(r),P=v?haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matchedLeft():r;if(UnicodeString.get_length(P)>0)for(var w=0;w<UnicodeString.get_length(P);){var T=UnicodeString.charAt(P,w);switch(d=Math.max(d,i*f*g),T){case"\n":if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var C=0,S=haxepunk_graphics_text_BitmapText._word;C<S.length;){var A=S[C];if(++C,null==A||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(A);else if(5==A._hx_index){var E=A.text;if(5==(lt=this.opCodes[this.opCodes.length-1])._hx_index)for(var D=lt.text,M=0;M<E.length;){var R=E[M];++M,D.push(R)}else this.opCodes.push(A)}else this.opCodes.push(A)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount;break;case" ":var L=!0;null==L&&(L=!1);var I=a*e,$=m.getChar(T,I*f*g),B=$.xAdvance*$.scale/e;u.push(T);var O=B+this.charSpacing*f*g;if(L?k+=O:k=0,p+=O,++this.charCount,u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var G=0,F=haxepunk_graphics_text_BitmapText._word;G<F.length;){var N=F[G];if(++G,null==N||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(N);else if(5==N._hx_index){var H=N.text,U=this.opCodes[this.opCodes.length-1];if(5==U._hx_index)for(var X=U.text,V=0;V<H.length;){var j=H[V];++V,X.push(j)}else this.opCodes.push(N)}else this.opCodes.push(N)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}break;case"-":var z=u.length>0;if(z&&w<UnicodeString.get_length(P)-1){var W=UnicodeString.charAt(P,w+1);" "!=W&&"-"!=W||(z=!1)}var Y=a*e,K=m.getChar(T,Y*f*g),q=K.xAdvance*K.scale/e;if(u.push(T),k=0,p+=q+this.charSpacing*f*g,++this.charCount,z&&(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length)){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var J=0,Z=haxepunk_graphics_text_BitmapText._word;J<Z.length;){var Q=Z[J];if(++J,null==Q||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(Q);else if(5==Q._hx_index){var ee=Q.text,te=this.opCodes[this.opCodes.length-1];if(5==te._hx_index)for(var ae=te.text,ne=0;ne<ee.length;){var ie=ee[ne];++ne,ae.push(ie)}else this.opCodes.push(Q)}else this.opCodes.push(Q)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}break;default:"\t"==T&&(T=" ");var se=a*e,_e=m.getChar(T,se*f*g),re=_e.xAdvance*_e.scale/e;u.push(T),k=0,p+=re+this.charSpacing*f*g,++this.charCount}++w}if(!v)break;var oe=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(2);if(null==oe&&(oe=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(1)),null!=oe&&null!=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(4)&&Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.dynamicTags.h,oe))for(var le=0,he=haxepunk_graphics_text_BitmapText.dynamicTags.h[oe](haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(5));le<he.length;){var ue=he[le];switch(++le,ue._hx_index){case 0:var pe=ue.color;haxepunk_graphics_text_BitmapText._colorStack.push(pe),haxepunk_graphics_text_BitmapText._word.push(ue);break;case 1:var ce=ue.alpha;haxepunk_graphics_text_BitmapText._alphaStack.push(ce),haxepunk_graphics_text_BitmapText._word.push(ue);break;case 2:f=ue.scale,haxepunk_graphics_text_BitmapText._scaleStack.push(f),haxepunk_graphics_text_BitmapText._word.push(ue);break;case 3:var de=ue.font;haxepunk_graphics_text_BitmapText._fontStack.push(de),m=de,i=de.getLineHeight(n*t)/t,haxepunk_graphics_text_BitmapText._word.push(ue);break;case 4:var fe=ue.size;haxepunk_graphics_text_BitmapText._sizeStack.push(fe),g=fe/this.size,haxepunk_graphics_text_BitmapText._word.push(ue);break;case 6:ue.align,ue.height,ue.width;if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var me=0,ge=haxepunk_graphics_text_BitmapText._word;me<ge.length;){var xe=ge[me];if(++me,null==xe||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(xe);else if(5==xe._hx_index){var ke=xe.text,ye=this.opCodes[this.opCodes.length-1];if(5==ye._hx_index)for(var be=ye.text,ve=0;ve<ke.length;){var Pe=ke[ve];++ve,be.push(Pe)}else this.opCodes.push(xe)}else this.opCodes.push(xe)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount;break;case 7:var we=ue.padding,Te=ue.image,Ce=(Te.get_width()*Te.scale*Te.scaleX*this.scale*this.scaleX+this.charSpacing)*f;haxepunk_graphics_text_BitmapText._word.push(ue),k=0,p+=Ce+2*we,d=Math.max(d,Te.get_height()*f*Te.scale*Te.scaleY*this.scale*this.scaleY),o>y&&(y=0|o),++this.charCount;break;case 8:var Se=ue.alignType;if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var Ae=0,Ee=haxepunk_graphics_text_BitmapText._word;Ae<Ee.length;){var De=Ee[Ae];if(++Ae,null==De||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(De);else if(5==De._hx_index){var Me=De.text,Re=this.opCodes[this.opCodes.length-1];if(5==Re._hx_index)for(var Le=Re.text,Ie=0;Ie<Me.length;){var $e=Me[Ie];++Ie,Le.push($e)}else this.opCodes.push(De)}else this.opCodes.push(De)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}o>0&&(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount),0==Se||this.autoWidth||(y=0|this.width),x=Se;break;case 10:haxepunk_graphics_text_BitmapText._colorStack.length>1&&haxepunk_graphics_text_BitmapText._colorStack.pop(),haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetColor(haxepunk_graphics_text_BitmapText._colorStack[haxepunk_graphics_text_BitmapText._colorStack.length-1]));break;case 11:haxepunk_graphics_text_BitmapText._alphaStack.length>1&&haxepunk_graphics_text_BitmapText._alphaStack.pop(),haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetAlpha(haxepunk_graphics_text_BitmapText._alphaStack[haxepunk_graphics_text_BitmapText._alphaStack.length-1]));break;case 12:haxepunk_graphics_text_BitmapText._scaleStack.length>1&&haxepunk_graphics_text_BitmapText._scaleStack.pop(),f=haxepunk_graphics_text_BitmapText._scaleStack[haxepunk_graphics_text_BitmapText._scaleStack.length-1],haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetScale(f));break;case 13:haxepunk_graphics_text_BitmapText._fontStack.length>1&&haxepunk_graphics_text_BitmapText._fontStack.pop(),i=(m=haxepunk_graphics_text_BitmapText._fontStack[haxepunk_graphics_text_BitmapText._fontStack.length-1]).getLineHeight(n*t)/t,haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetFont(m));break;case 14:haxepunk_graphics_text_BitmapText._sizeStack.length>1&&haxepunk_graphics_text_BitmapText._sizeStack.pop(),g=haxepunk_graphics_text_BitmapText._sizeStack[haxepunk_graphics_text_BitmapText._sizeStack.length-1]/this.size,haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetSize(haxepunk_graphics_text_BitmapText._sizeStack[haxepunk_graphics_text_BitmapText._sizeStack.length-1]));break;default:haxepunk_graphics_text_BitmapText._word.push(ue)}}else{if(null==oe||null!=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(4)||!Object.prototype.hasOwnProperty.call(haxepunk_graphics_text_BitmapText.formatTags.h,oe))throw haxe_Exception.thrown("Unrecognized "+(null==haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matched(4)?"format":"dynamic")+" tag: <"+oe+">");u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0);for(var Be=0,Oe=haxepunk_graphics_text_BitmapText.formatTags.h[oe];Be<Oe.length;){var Ge=Oe[Be];switch(++Be,Ge._hx_index){case 0:var Fe=Ge.color;haxepunk_graphics_text_BitmapText._colorStack.push(Fe),haxepunk_graphics_text_BitmapText._word.push(Ge);break;case 1:var Ne=Ge.alpha;haxepunk_graphics_text_BitmapText._alphaStack.push(Ne),haxepunk_graphics_text_BitmapText._word.push(Ge);break;case 2:f=Ge.scale,haxepunk_graphics_text_BitmapText._scaleStack.push(f),haxepunk_graphics_text_BitmapText._word.push(Ge);break;case 3:var He=Ge.font;haxepunk_graphics_text_BitmapText._fontStack.push(He),m=He,i=He.getLineHeight(n*t)/t,haxepunk_graphics_text_BitmapText._word.push(Ge);break;case 4:var Ue=Ge.size;haxepunk_graphics_text_BitmapText._sizeStack.push(Ue),g=Ue/this.size,haxepunk_graphics_text_BitmapText._word.push(Ge);break;case 6:Ge.align,Ge.height,Ge.width;if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var Xe=0,Ve=haxepunk_graphics_text_BitmapText._word;Xe<Ve.length;){var je=Ve[Xe];if(++Xe,null==je||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(je);else if(5==je._hx_index){var ze=je.text,We=this.opCodes[this.opCodes.length-1];if(5==We._hx_index)for(var Ye=We.text,Ke=0;Ke<ze.length;){var qe=ze[Ke];++Ke,Ye.push(qe)}else this.opCodes.push(je)}else this.opCodes.push(je)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount;break;case 7:var Je=Ge.padding,Ze=Ge.image,Qe=(Ze.get_width()*Ze.scale*Ze.scaleX*this.scale*this.scaleX+this.charSpacing)*f;haxepunk_graphics_text_BitmapText._word.push(Ge),k=0,p+=Qe+2*Je,d=Math.max(d,Ze.get_height()*f*Ze.scale*Ze.scaleY*this.scale*this.scaleY),o>y&&(y=0|o),++this.charCount;break;case 8:var et=Ge.alignType;if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(var tt=0,at=haxepunk_graphics_text_BitmapText._word;tt<at.length;){var nt=at[tt];if(++tt,null==nt||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(nt);else if(5==nt._hx_index){var it=nt.text,st=this.opCodes[this.opCodes.length-1];if(5==st._hx_index)for(var _t=st.text,rt=0;rt<it.length;){var ot=it[rt];++rt,_t.push(ot)}else this.opCodes.push(nt)}else this.opCodes.push(nt)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}o>0&&(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount),0==et||this.autoWidth||(y=0|this.width),x=et;break;case 10:haxepunk_graphics_text_BitmapText._colorStack.length>1&&haxepunk_graphics_text_BitmapText._colorStack.pop(),haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetColor(haxepunk_graphics_text_BitmapText._colorStack[haxepunk_graphics_text_BitmapText._colorStack.length-1]));break;case 11:haxepunk_graphics_text_BitmapText._alphaStack.length>1&&haxepunk_graphics_text_BitmapText._alphaStack.pop(),haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetAlpha(haxepunk_graphics_text_BitmapText._alphaStack[haxepunk_graphics_text_BitmapText._alphaStack.length-1]));break;case 12:haxepunk_graphics_text_BitmapText._scaleStack.length>1&&haxepunk_graphics_text_BitmapText._scaleStack.pop(),f=haxepunk_graphics_text_BitmapText._scaleStack[haxepunk_graphics_text_BitmapText._scaleStack.length-1],haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetScale(f));break;case 13:haxepunk_graphics_text_BitmapText._fontStack.length>1&&haxepunk_graphics_text_BitmapText._fontStack.pop(),i=(m=haxepunk_graphics_text_BitmapText._fontStack[haxepunk_graphics_text_BitmapText._fontStack.length-1]).getLineHeight(n*t)/t,haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetFont(m));break;case 14:haxepunk_graphics_text_BitmapText._sizeStack.length>1&&haxepunk_graphics_text_BitmapText._sizeStack.pop(),g=haxepunk_graphics_text_BitmapText._sizeStack[haxepunk_graphics_text_BitmapText._sizeStack.length-1]/this.size,haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.SetSize(haxepunk_graphics_text_BitmapText._sizeStack[haxepunk_graphics_text_BitmapText._sizeStack.length-1]));break;default:haxepunk_graphics_text_BitmapText._word.push(Ge)}}}r=haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE.matchedRight()}if(u.length>0&&(haxepunk_graphics_text_BitmapText._word.push(haxepunk_graphics_text_TextOpcode.TextBlock(u.slice())),u.length=0,c=k,k=0),0!=haxepunk_graphics_text_BitmapText._word.length){this.wrap&&o>0&&o-c+p>this.width?(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o-h,_,x),o=h=0,l+=_+(0==l?0:s),_=i*f*g,this.opCodes.push(null),b=this.opCodes.length-1,++this.charCount,o=p):o+=p,o>y&&(y=0|o);for(C=0,S=haxepunk_graphics_text_BitmapText._word;C<S.length;){A=S[C];if(++C,null==A||null==this.opCodes[this.opCodes.length-1])this.opCodes.push(A);else if(5==A._hx_index){var lt;E=A.text;if(5==(lt=this.opCodes[this.opCodes.length-1])._hx_index)for(D=lt.text,M=0;M<E.length;){R=E[M];++M,D.push(R)}else this.opCodes.push(A)}else this.opCodes.push(A)}_=Math.max(d,_),haxepunk_graphics_text_BitmapText._word.length=0,p=0,d=0,h=c,c=0}null==this.opCodes[b]&&(this.opCodes[b]=haxepunk_graphics_text_TextOpcode.NewLine(o,_,x)),this.textWidth=y,this.autoWidth&&(y!=this.width&&(this._dirty=!0),this.width=y),this.textHeight=l+(o>0?_:0)|0,this._dirty=!1},render:function(e,t){this._dirty&&this.parseText(),haxepunk_graphics_text_BitmapText._customStack.length=0;var a=this.pixelSnapping||t.pixelSnapping,n=t.scale*t.scaleX*haxepunk_HXP.screen.scaleX,i=t.scale*t.scaleY*haxepunk_HXP.screen.scaleY,s=this.x,_=this.originX*this.scaleX*this.scale,r=t.x*this.scrollX;this._point.x=e.x+(this.pixelSnapping||t.pixelSnapping?Math.floor((s+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):s)-(this.pixelSnapping||t.pixelSnapping?Math.floor((_+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):_)-(this.pixelSnapping||t.pixelSnapping?Math.floor((r+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):r);var o=this.y,l=this.originY*this.scaleY*this.scale,h=t.y*this.scrollY;this._point.y=e.y+(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o)-(this.pixelSnapping||t.pixelSnapping?Math.floor((l+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):l)-(this.pixelSnapping||t.pixelSnapping?Math.floor((h+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):h);for(var u=this.scale*this.scaleX*this.size,p=this.scale*this.scaleY*this.size,c=this._font.getLineHeight(p*i)/i,d=this.lineSpacing*this.scale*this.scaleY,f=0,m=0,g=this.color,x=this.alpha,k=1,y=this._font,b=1,v=0,P=0,w=0,T=0,C=this.opCodes;T<C.length;){var S=C[T];if(++T,this.displayCharCount>-1&&w>=this.displayCharCount)break;switch(S._hx_index){case 0:g=S.color;break;case 1:x=S.alpha;break;case 2:k=S.scale;break;case 3:var A=S.font;y=A,c=A.getLineHeight(p*i)/i;break;case 4:b=S.size/this.size;break;case 5:for(var E=S.text,D=0,M=E.length;D<M;){var R=D++;if(this.displayCharCount>-1&&w>=this.displayCharCount)break;++w;var L=E[R],I=u*n,$=y.getChar(L,I*k*b);if(" "==L)v+=$.xAdvance*$.scale/n+this.charSpacing*k*b;else{haxepunk_graphics_text_BitmapText._renderData.char=L,haxepunk_graphics_text_BitmapText._renderData.img=null,haxepunk_graphics_text_BitmapText._renderData.x=v,haxepunk_graphics_text_BitmapText._renderData.y=P,haxepunk_graphics_text_BitmapText._renderData.color=g,haxepunk_graphics_text_BitmapText._renderData.alpha=x,haxepunk_graphics_text_BitmapText._renderData.scale=k;for(var B=haxepunk_graphics_text_BitmapText._renderData,O=0,G=haxepunk_graphics_text_BitmapText._customStack;O<G.length;){var F=G[O];++O,F(this,B)}s=haxepunk_graphics_text_BitmapText._renderData.x+m+$.xOffset*$.scale/n,o=haxepunk_graphics_text_BitmapText._renderData.y+$.yOffset*$.scale*p/I+f-c*k*b;var N=$.region,H=(_=(this._point.x+(this.pixelSnapping||t.pixelSnapping?Math.floor((s+.5)*(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX))/(t.scale*t.scaleX*haxepunk_HXP.screen.scaleX):s))*n,l=(this._point.y+(this.pixelSnapping||t.pixelSnapping?Math.floor((o+.5)*(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY))/(t.scale*t.scaleY*haxepunk_HXP.screen.scaleY):o))*i,$.scale),U=$.scale*p*i/I,X=0,V=haxepunk_graphics_text_BitmapText._renderData.color,j=haxepunk_graphics_text_BitmapText._renderData.alpha,z=this.flexibleLayer;null==z&&(z=!1),null==j&&(j=1),null==V&&(V=16777215),null==X&&(X=0),null==U&&(U=1),null==H&&(H=1),N.rotated&&(X+=90);var W,Y,K,q,J=N._rect,Z=z;if(null==Z&&(Z=!1),0==X)W=H,Y=0,K=0,q=U;else{var Q=Math.cos(-X*(Math.PI/-180)),ee=Math.sin(-X*(Math.PI/-180));W=Q*H,Y=-ee*U,K=ee*H,q=Q*U}var te=N._parent.texture,ae=J.x,ne=J.y,ie=J.width,se=J.height,_e=Z;if(null==_e&&(_e=!1),j>0){var re,oe,le,he;null==te?(re=oe=0,le=ie,he=se):(re=ae/(null==te?0:te.width),oe=ne/(null==te?0:te.height),le=(ae+ie)/(null==te?0:te.width),he=(ne+se)/(null==te?0:te.height));var ue=ie*W+_,pe=ie*Y+l,ce=se*K+_,de=se*q+l,fe=haxepunk_graphics_atlas_AtlasData._batch.getDrawCommand(te,this.shader,this.smooth,this.blend,this.clipRect,_,l,ue,pe,ce,de,_e);if(j>0){var me;if(fe.shader.attributeNames.length<=0){var ge,xe=fe.visibleArea;if((_>ue?ue>ce?ce:ue:_>ce?ce:_)<=xe.x+xe.width&&(_<ue?ue<ce?ce:ue:_<ce?ce:_)>=fe.visibleArea.x){var ke=fe.visibleArea;ge=(l>pe?pe>de?de:pe:l>de?de:l)<=ke.y+ke.height}else ge=!1;me=ge&&(l<pe?pe<de?de:pe:l<de?de:l)>=fe.visibleArea.y}else me=!0;if(me){var ye;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(ye=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,ye._next=null):ye=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var be=ye;be.tx1=_,be.ty1=l,be.uvx1=re,be.uvy1=oe,be.tx2=ue,be.ty2=pe,be.uvx2=le,be.uvy2=oe,be.tx3=ce,be.ty3=de,be.uvx3=re,be.uvy3=he,be.color=V,be.alpha=j,null==fe.data?fe.data=be:fe._lastData._next=be,fe._lastData=be,++fe.triangleCount;var ve=be.tx1,Pe=be.tx2,we=be.tx3,Te=ve>Pe?Pe>we?we:Pe:ve>we?we:ve,Ce=be.tx1,Se=be.tx2,Ae=be.tx3,Ee=(r=Ce<Se?Se<Ae?Ae:Se:Ce<Ae?Ae:Ce,be.ty1),De=be.ty2,Me=be.ty3,Re=Ee>De?De>Me?Me:De:Ee>Me?Me:Ee,Le=be.ty1,Ie=be.ty2,$e=be.ty3;h=Le<Ie?Ie<$e?$e:Ie:Le<$e?$e:Le;if(0==fe.bounds.width)fe.bounds.x=Te,fe.bounds.width=r-Te;else{Te<fe.bounds.x&&(fe.bounds.width+=fe.bounds.x-Te,fe.bounds.x=Te);var Be=fe.bounds;r>Be.x+Be.width&&(fe.bounds.width=r-fe.bounds.x)}if(0==fe.bounds.height)fe.bounds.y=Re,fe.bounds.height=h-Re;else{Re<fe.bounds.y&&(fe.bounds.height+=fe.bounds.y-Re,fe.bounds.y=Re);var Oe=fe.bounds;h>Oe.y+Oe.height&&(fe.bounds.height=h-fe.bounds.y)}}}var Ge=ue+se*K,Fe=pe+se*q;if(j>0){var Ne;if(fe.shader.attributeNames.length<=0){var He,Ue=fe.visibleArea;if((ce>ue?ue>Ge?Ge:ue:ce>Ge?Ge:ce)<=Ue.x+Ue.width&&(ce<ue?ue<Ge?Ge:ue:ce<Ge?Ge:ce)>=fe.visibleArea.x){var Xe=fe.visibleArea;He=(de>pe?pe>Fe?Fe:pe:de>Fe?Fe:de)<=Xe.y+Xe.height}else He=!1;Ne=He&&(de<pe?pe<Fe?Fe:pe:de<Fe?Fe:de)>=fe.visibleArea.y}else Ne=!0;if(Ne){var Ve;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(Ve=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,Ve._next=null):Ve=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var je=Ve;je.tx1=ce,je.ty1=de,je.uvx1=re,je.uvy1=he,je.tx2=ue,je.ty2=pe,je.uvx2=le,je.uvy2=oe,je.tx3=Ge,je.ty3=Fe,je.uvx3=le,je.uvy3=he,je.color=V,je.alpha=j,null==fe.data?fe.data=je:fe._lastData._next=je,fe._lastData=je,++fe.triangleCount;var ze=je.tx1,We=je.tx2,Ye=je.tx3,Ke=ze>We?We>Ye?Ye:We:ze>Ye?Ye:ze,qe=je.tx1,Je=je.tx2,Ze=je.tx3,Qe=qe<Je?Je<Ze?Ze:Je:qe<Ze?Ze:qe,et=je.ty1,tt=je.ty2,at=je.ty3,nt=et>tt?tt>at?at:tt:et>at?at:et,it=je.ty1,st=je.ty2,_t=je.ty3,rt=it<st?st<_t?_t:st:it<_t?_t:it;if(0==fe.bounds.width)fe.bounds.x=Ke,fe.bounds.width=Qe-Ke;else{Ke<fe.bounds.x&&(fe.bounds.width+=fe.bounds.x-Ke,fe.bounds.x=Ke);var ot=fe.bounds;Qe>ot.x+ot.width&&(fe.bounds.width=Qe-fe.bounds.x)}if(0==fe.bounds.height)fe.bounds.y=nt,fe.bounds.height=rt-nt;else{nt<fe.bounds.y&&(fe.bounds.height+=fe.bounds.y-nt,fe.bounds.y=nt);var lt=fe.bounds;rt>lt.y+lt.height&&(fe.bounds.height=rt-fe.bounds.y)}}}}v+=$.xAdvance*$.scale/n+this.charSpacing*k*b}}break;case 6:var ht=S.align,ut=S.height,pt=S.width;v=0,P+=f+(P>0&&f>0?d:0);var ct,dt=this.width-pt;switch(ht){case 1:ct=.5;break;case 2:ct=1;break;default:ct=0}m=dt*ct,f=ut,0!=P&&++w;break;case 7:var ft=S.padding,mt=S.image,gt=mt.x,xt=mt.y,kt=mt.scaleX,yt=mt.scaleY;mt.originX=mt.originY=0,haxepunk_graphics_text_BitmapText._renderData.char=null,haxepunk_graphics_text_BitmapText._renderData.img=mt,haxepunk_graphics_text_BitmapText._renderData.x=v,haxepunk_graphics_text_BitmapText._renderData.y=P,haxepunk_graphics_text_BitmapText._renderData.color=g,haxepunk_graphics_text_BitmapText._renderData.alpha=x,haxepunk_graphics_text_BitmapText._renderData.scale=k;for(var bt=haxepunk_graphics_text_BitmapText._renderData,vt=0,Pt=haxepunk_graphics_text_BitmapText._customStack;vt<Pt.length;){var wt=Pt[vt];++vt,wt(this,bt)}mt.x=this._point.x+haxepunk_graphics_text_BitmapText._renderData.x+m+gt+ft,mt.y=this._point.y+haxepunk_graphics_text_BitmapText._renderData.y+f+xt-mt.get_height()*mt.scale*mt.scaleY*haxepunk_graphics_text_BitmapText._renderData.scale*this.scale*this.scaleY,mt.set_color(haxepunk_graphics_text_BitmapText._renderData.color),mt.set_alpha(haxepunk_graphics_text_BitmapText._renderData.alpha),mt.scaleX*=this.scale*this.scaleX*haxepunk_graphics_text_BitmapText._renderData.scale,mt.scaleY*=this.scale*this.scaleY*haxepunk_graphics_text_BitmapText._renderData.scale,mt.pixelSnapping=a,haxepunk_math_Vector2.setTo(haxepunk_HXP.point,0,0),mt.render(haxepunk_HXP.point,haxepunk_HXP.zeroCamera),mt.x=gt,mt.y=xt,mt.scaleX=kt,mt.scaleY=yt,mt.flexibleLayer=this.flexibleLayer,v+=(mt.get_width()*mt.scale*mt.scaleX*this.scale*this.scaleX+this.charSpacing+2*ft)*haxepunk_graphics_text_BitmapText._renderData.scale,++w;break;case 8:S.alignType;break;case 9:var Tt=S.f;haxepunk_graphics_text_BitmapText._customStack.push(Tt);break;case 10:case 11:case 12:case 13:case 14:break;case 15:haxepunk_graphics_text_BitmapText._customStack.pop()}}},__class__:haxepunk_graphics_text_BitmapText,__properties__:$extend(haxepunk_Graphic.prototype.__properties__,{set_text:"set_text",set_charSpacing:"set_charSpacing",set_lineSpacing:"set_lineSpacing",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_scale:"set_scale",set_wrap:"set_wrap",set_size:"set_size",set_height:"set_height",set_width:"set_width",set_textHeight:"set_textHeight",get_textHeight:"get_textHeight",set_textWidth:"set_textWidth",get_textWidth:"get_textWidth"})});var haxepunk_graphics_text_BitmapFontType={fromString:function(e){return haxepunk_assets_AssetCache.global.getBitmapFont(e,!1)},fromFont:function(e){return e}},haxepunk_input_Gamepad=function(e){this._allAxes=[],this._axisMap=new haxe_ds_IntMap,this._axisControl=new haxe_ds_StringMap,this._allButtons=[],this._buttonMap=new haxe_ds_IntMap,this._control=new haxe_ds_StringMap,this.type=null,this.hat={x:0,y:0},this.lastAxis=new haxe_ds_IntMap,this.axis=new haxe_ds_IntMap,this.buttons=new haxe_ds_IntMap,this.connected=!0,this.id=0,this.guid="???",this.name="???",this.id=e};$hxClasses["haxepunk.input.Gamepad"]=haxepunk_input_Gamepad,haxepunk_input_Gamepad.__name__="haxepunk.input.Gamepad",haxepunk_input_Gamepad.getController=function(e){return null!=haxepunk_input_gamepad_GamepadType.controllers&&Object.prototype.hasOwnProperty.call(haxepunk_input_gamepad_GamepadType.controllers.h,e)?haxepunk_input_gamepad_GamepadType.controllers.h[e]:null},haxepunk_input_Gamepad.gamepad=function(e){return haxepunk_input_Gamepad.gamepads.h[e]},haxepunk_input_Gamepad.prototype={update:function(){},postUpdate:function(){for(var e=0,t=this._allButtons;e<t.length;){var a=t[e];++e;var n=this.buttons.h[a];if(null!=n)switch(n){case-1:this.buttons.h[a]=0;break;case 2:this.buttons.h[a]=1}}for(e=0,t=this._allAxes;e<t.length;){var i=t[e];++e;var s=this.axis.h[i];this.lastAxis.h[i]=s}},defineButton:function(e,t){if(Object.prototype.hasOwnProperty.call(this._control.h,e))for(var a=0,n=this._control.h[e];a<n.length;){var i=n[a];++a,HxOverrides.remove(this._buttonMap.h[i],e)}this._control.h[e]=t;for(a=0;a<t.length;){i=t[a];if(++a,!this._buttonMap.h.hasOwnProperty(i)){this._buttonMap.h[i]=[]}this._buttonMap.h[i].indexOf(e)<0&&this._buttonMap.h[i].push(e)}},defineAxis:function(e,t,a,n){if(null==n&&(n=1),null==a&&(a=0),a>n){var i=n;n=a,a=i}if(!Object.prototype.hasOwnProperty.call(this._axisControl.h,e)){var s=[];this._axisControl.h[e]=s}var _={axis:t,minValue:a,maxValue:n,input:e};if(this._axisControl.h[e].push(_),!this._axisMap.h.hasOwnProperty(t)){s=[];this._axisMap.h[t]=s}this._axisMap.h[t].indexOf(_)<0&&this._axisMap.h[t].push(_)},checkInput:function(e){if(Object.prototype.hasOwnProperty.call(this._control.h,e))for(var t=0,a=this._control.h[e];t<a.length;){var n=a[t];if(++t,this.check(n))return!0}if(Object.prototype.hasOwnProperty.call(this._axisControl.h,e))for(t=0,a=this._axisControl.h[e];t<a.length;){var i=a[t];if(++t,this.axis.h.hasOwnProperty(i.axis)&&this.axis.h[i.axis]>=i.minValue&&this.axis.h[i.axis]<=i.maxValue)return!0}return!1},pressedInput:function(e){if(Object.prototype.hasOwnProperty.call(this._control.h,e))for(var t=0,a=this._control.h[e];t<a.length;){var n=a[t];if(++t,this.pressed(n))return!0}if(Object.prototype.hasOwnProperty.call(this._axisControl.h,e))for(t=0,a=this._axisControl.h[e];t<a.length;){var i=a[t];if(++t,this.pressedAxis(i))return!0}return!1},releasedInput:function(e){if(Object.prototype.hasOwnProperty.call(this._control.h,e))for(var t=0,a=this._control.h[e];t<a.length;){var n=a[t];if(++t,this.released(n))return!0}if(Object.prototype.hasOwnProperty.call(this._axisControl.h,e))for(t=0,a=this._axisControl.h[e];t<a.length;){var i=a[t];if(++t,this.releasedAxis(i))return!0}return!1},pressed:function(e){return!!this.buttons.h.hasOwnProperty(e)&&2==this.buttons.h[e]},released:function(e){return!!this.buttons.h.hasOwnProperty(e)&&-1==this.buttons.h[e]},check:function(e){return!(!this.buttons.h.hasOwnProperty(e)||0==this.buttons.h[e])&&-1!=this.buttons.h[e]},pressedAxis:function(e){return!!(this.axis.h.hasOwnProperty(e.axis)&&this.axis.h[e.axis]>=e.minValue&&this.axis.h[e.axis]<=e.maxValue)&&!(this.lastAxis.h.hasOwnProperty(e.axis)&&this.lastAxis.h[e.axis]>=e.minValue&&this.lastAxis.h[e.axis]<=e.maxValue)},releasedAxis:function(e){return!!(this.lastAxis.h.hasOwnProperty(e.axis)&&this.lastAxis.h[e.axis]>=e.minValue&&this.lastAxis.h[e.axis]<=e.maxValue)&&!(this.axis.h.hasOwnProperty(e.axis)&&this.axis.h[e.axis]>=e.minValue&&this.axis.h[e.axis]<=e.maxValue)},checkAxis:function(e){return!!(this.axis.h.hasOwnProperty(e.axis)&&this.axis.h[e.axis]>=e.minValue)&&this.axis.h[e.axis]<=e.maxValue},checkLastAxis:function(e){return!!(this.lastAxis.h.hasOwnProperty(e.axis)&&this.lastAxis.h[e.axis]>=e.minValue)&&this.lastAxis.h[e.axis]<=e.maxValue},getAxis:function(e){return this.axis.h.hasOwnProperty(e)?Math.abs(this.axis.h[e])<haxepunk_input_Gamepad.deadZone?0:this.axis.h[e]:0},onButtonUp:function(e){var t=null==this.type?e:this.type.mapButton(e);if(this.buttons.h[t]=-1,this._buttonMap.h.hasOwnProperty(t))for(var a=0,n=this._buttonMap.h[t];a<n.length;){var i=n[a];++a,haxepunk_input_Input.triggerRelease(i)}},onButtonDown:function(e){var t=null==this.type?e:this.type.mapButton(e);if(this.buttons.h.hasOwnProperty(t)||this._allButtons.push(t),this.buttons.h[t]=2,this._buttonMap.h.hasOwnProperty(t))for(var a=0,n=this._buttonMap.h[t];a<n.length;){var i=n[a];++a,haxepunk_input_Input.triggerPress(i)}},onAxisMove:function(e,t){var a=null==this.type?e:this.type.mapButton(e);if(Math.abs(t)<haxepunk_input_Gamepad.deadZone&&(t=0),this.axis.h.hasOwnProperty(a)||this._allAxes.push(a),this.axis.h[a]=t,this._axisMap.h.hasOwnProperty(a))for(var n=0,i=this._axisMap.h[a];n<i.length;){var s=i[n];++n,t>=s.minValue&&t<=s.maxValue?haxepunk_input_Input.triggerPress(s.input):this.lastAxis.h[a]>=s.minValue&&this.lastAxis.h[a]<=s.maxValue&&haxepunk_input_Input.triggerRelease(s.input)}},__class__:haxepunk_input_Gamepad};var haxepunk_input_GestureType=function(){this.released=!1,this.pressed=!1,this.active=!1,this.time=0,this.magnitude=0,this.y2=0,this.x2=0,this.y=0,this.x=0,this.reset()};$hxClasses["haxepunk.input.GestureType"]=haxepunk_input_GestureType,haxepunk_input_GestureType.__name__="haxepunk.input.GestureType",haxepunk_input_GestureType.prototype={reset:function(){this.x=this.y=this.x2=this.y2=this.time=0,this.active=this.pressed=this.released=!1},start:function(e,t){null==t&&(t=0),null==e&&(e=0),this.active=this.pressed=!0,this.x=e,this.y=t,this.x2=this.y2=this.magnitude=0,this.time=0},get_distance:function(){var e=this.x,t=this.y,a=this.x2,n=this.y2;return null==n&&(n=0),null==a&&(a=0),Math.sqrt((a-e)*(a-e)+(n-t)*(n-t))},get_velocity:function(){return 0==this.time?0:this.get_distance()/this.time},get_angle:function(){return 0},release:function(){this.released=!0},update:function(){this.pressed?this.pressed=!1:this.released?this.reset():this.active&&(this.time+=haxepunk_HXP.elapsed)},__class__:haxepunk_input_GestureType,__properties__:{get_angle:"get_angle",get_velocity:"get_velocity",get_distance:"get_distance"}};var haxepunk_input_Gesture={enable:function(){haxepunk_input_Gesture.enabled=!0,haxepunk_input_Gesture.mode=0},disable:function(){haxepunk_input_Gesture.enabled=!1},getTouch:function(e,t,a){return a>=t.length?null:e.h[t[a]]},check:function(e){return!!haxepunk_input_Gesture.gestures.h.hasOwnProperty(e)&&haxepunk_input_Gesture.gestures.h[e].active},pressed:function(e){return!!haxepunk_input_Gesture.gestures.h.hasOwnProperty(e)&&haxepunk_input_Gesture.gestures.h[e].pressed},released:function(e){return!!haxepunk_input_Gesture.gestures.h.hasOwnProperty(e)&&haxepunk_input_Gesture.gestures.h[e].released},get:function(e){return haxepunk_input_Gesture.check(e)?haxepunk_input_Gesture.gestures.h[e]:null},start:function(e,t,a){if(null==a&&(a=0),null==t&&(t=0),!haxepunk_input_Gesture.gestures.h.hasOwnProperty(e)){var n=haxepunk_input_Gesture.gestures,i=new haxepunk_input_GestureType;n.h[e]=i}haxepunk_input_Gesture.gestures.h[e].active||haxepunk_input_Gesture.gestures.h[e].start(t,a)},finish:function(e){if(!haxepunk_input_Gesture.gestures.h.hasOwnProperty(e)){var t=haxepunk_input_Gesture.gestures,a=new haxepunk_input_GestureType;t.h[e]=a}haxepunk_input_Gesture.gestures.h[e].release()},finishAll:function(){for(var e=haxepunk_input_Gesture.gestures.iterator();e.hasNext();){var t=e.next();t.active&&t.release()}},update:function(){for(var e=haxepunk_input_Gesture.gestures.iterator();e.hasNext();){e.next().update()}for(var t=haxepunk_input_Touch._touches,a=haxepunk_input_Touch._touchOrder,n=0,i=0;i<a.length;){var s=a[i];++i,t.h.hasOwnProperty(s)?0!=t.h[s].time&&t.h[s].released||++n:HxOverrides.remove(a,s)}switch(haxepunk_input_Gesture._lastTap>0&&(haxepunk_input_Gesture._lastTap=Math.max(0,haxepunk_input_Gesture._lastTap-haxepunk_HXP.elapsed/haxepunk_input_Gesture.doubleTapTime)),haxepunk_input_Gesture.mode){case 0:n>0&&(haxepunk_input_Gesture.mode=1==n?1:3);break;case 1:if(0==n){haxepunk_input_Gesture.mode=0;var _=(s=0>=a.length?null:t.h[a[0]]).time<haxepunk_input_Gesture.longPressTime?1:3;1==_&&haxepunk_input_Gesture._lastTap>0&&(_=2),haxepunk_input_Gesture.check(_)||(haxepunk_input_Gesture.start(_,s.x,s.y),1==_&&(haxepunk_input_Gesture._lastTap=1))}else if(1==n){var r=(s=0>=a.length?null:t.h[a[0]]).startX,o=s.startY,l=s.x;null==(x=s.y)&&(x=0),null==l&&(l=0),(h=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o)))>haxepunk_input_Gesture.deadZone?haxepunk_input_Gesture.mode=2:s.time>=haxepunk_input_Gesture.longPressTime&&!haxepunk_input_Gesture.check(3)&&haxepunk_input_Gesture.start(3,s.x,s.y)}else n>1&&(haxepunk_input_Gesture.mode=3);break;case 2:if(0==n)haxepunk_input_Gesture.mode=0;else{r=(s=0>=a.length?null:t.h[a[0]]).startX,o=s.startY,l=s.x;null==(x=s.y)&&(x=0),null==l&&(l=0);var h=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o));haxepunk_input_Gesture.check(4)||haxepunk_input_Gesture.start(4,s.startX,s.startY);var u=haxepunk_input_Gesture.get(4);u.x2=s.x,u.y2=s.y,u.magnitude=h}if(n>1){s=1>=a.length?null:t.h[a[1]];haxepunk_input_Gesture.start(6,s.x,s.y)}else haxepunk_input_Gesture.check(6)&&haxepunk_input_Gesture.finish(6);break;case 3:if(n<2){if(haxepunk_input_Gesture.mode=0==n?0:5,!haxepunk_input_Gesture.check(5)){var p=0>=a.length?null:t.h[a[0]];if(null!=(f=1>=a.length?null:t.h[a[1]])){var c=(p.startX-f.startX)/2,d=(p.startY-f.startY)/2;haxepunk_input_Gesture.start(6,c,d)}}haxepunk_input_Gesture.finishAll()}else{p=0>=a.length?null:t.h[a[0]];var f=1>=a.length?null:t.h[a[1]];if(null!=p&&null!=f){r=p.startX,o=p.startY,l=p.x;null==(x=p.y)&&(x=0),null==l&&(l=0);var m=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o));r=f.startX,o=f.startY,l=f.x;null==(x=f.y)&&(x=0),null==l&&(l=0);var g=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o));if(m>haxepunk_input_Gesture.deadZone&&g>haxepunk_input_Gesture.deadZone){if(!haxepunk_input_Gesture.check(5)){c=(p.startX-f.startX)/2,d=(p.startY-f.startY)/2;haxepunk_input_Gesture.start(5,c,d)}r=p.startX,o=p.startY,l=f.startX;null==(x=f.startY)&&(x=0),null==l&&(l=0);var x,k=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o));r=p.x,o=p.y,l=f.x;null==(x=f.y)&&(x=0),null==l&&(l=0);var y=Math.sqrt((l-r)*(l-r)+(x-o)*(x-o));haxepunk_input_Gesture.get(5).magnitude=k/y}}}break;default:0==n&&(haxepunk_input_Gesture.mode=0)}0==n&&haxepunk_input_Gesture.finishAll()}},haxepunk_input_Handler=function(){};$hxClasses["haxepunk.input.Handler"]=haxepunk_input_Handler,haxepunk_input_Handler.__name__="haxepunk.input.Handler",haxepunk_input_Handler.update=function(){},haxepunk_input_Handler.postUpdate=function(){haxepunk_input_Key.postUpdate()},haxepunk_input_Handler.checkInput=function(e){return haxepunk_input_Key.checkInput(e)},haxepunk_input_Handler.pressedInput=function(e){return haxepunk_input_Key.pressedInput(e)},haxepunk_input_Handler.releasedInput=function(e){return haxepunk_input_Key.releasedInput(e)};var haxepunk_input_Mouse=function(){};$hxClasses["haxepunk.input.Mouse"]=haxepunk_input_Mouse,haxepunk_input_Mouse.__name__="haxepunk.input.Mouse",haxepunk_input_Mouse.__properties__={get_mouseWheelDelta:"get_mouseWheelDelta",get_mouseOnScreen:"get_mouseOnScreen",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX"},haxepunk_input_Mouse.get_mouseX=function(){var e=haxepunk_HXP.screen;return(haxepunk_HXP.app.stage.get_mouseX()-e.x)/e.scaleX|0},haxepunk_input_Mouse.get_mouseY=function(){var e=haxepunk_HXP.screen;return(haxepunk_HXP.app.stage.get_mouseY()-e.y)/e.scaleY|0},haxepunk_input_Mouse.get_mouseOnScreen=function(){return haxepunk_input_Mouse._mouseOnScreen},haxepunk_input_Mouse.get_mouseWheelDelta=function(){return haxepunk_input_Mouse.mouseWheel?(haxepunk_input_Mouse.mouseWheel=!1,haxepunk_input_Mouse._mouseWheelDelta):0},haxepunk_input_Mouse.showCursor=function(){openfl_ui_Mouse.show()},haxepunk_input_Mouse.hideCursor=function(){openfl_ui_Mouse.hide()},haxepunk_input_Mouse.define=function(e,t){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Mouse._control.h,e)&&HxOverrides.remove(haxepunk_input_Mouse._buttonMap.h[t],e),haxepunk_input_Mouse._control.h[e]=t,!haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(t)){haxepunk_input_Mouse._buttonMap.h[t]=[]}haxepunk_input_Mouse._buttonMap.h[t].indexOf(e)<0&&haxepunk_input_Mouse._buttonMap.h[t].push(e)},haxepunk_input_Mouse.checkInput=function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Mouse._control.h,e)){var t;switch(haxepunk_input_Mouse._control.h[e]){case 1:t=haxepunk_input_Mouse.mouseDown;break;case 2:t=haxepunk_input_Mouse.rightMouseDown;break;case 3:t=haxepunk_input_Mouse.middleMouseDown}if(t)return!0}return!1},haxepunk_input_Mouse.pressedInput=function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Mouse._control.h,e)){var t;switch(haxepunk_input_Mouse._control.h[e]){case 1:t=haxepunk_input_Mouse.mousePressed;break;case 2:t=haxepunk_input_Mouse.rightMousePressed;break;case 3:t=haxepunk_input_Mouse.middleMousePressed}if(t)return!0}return!1},haxepunk_input_Mouse.releasedInput=function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Mouse._control.h,e)){var t;switch(haxepunk_input_Mouse._control.h[e]){case 1:t=haxepunk_input_Mouse.mouseReleased;break;case 2:t=haxepunk_input_Mouse.rightMouseReleased;break;case 3:t=haxepunk_input_Mouse.middleMouseReleased}if(t)return!0}return!1},haxepunk_input_Mouse.check=function(e){switch(e){case 1:return haxepunk_input_Mouse.mouseDown;case 2:return haxepunk_input_Mouse.rightMouseDown;case 3:return haxepunk_input_Mouse.middleMouseDown}},haxepunk_input_Mouse.pressed=function(e){switch(e){case 1:return haxepunk_input_Mouse.mousePressed;case 2:return haxepunk_input_Mouse.rightMousePressed;case 3:return haxepunk_input_Mouse.middleMousePressed}},haxepunk_input_Mouse.released=function(e){switch(e){case 1:return haxepunk_input_Mouse.mouseReleased;case 2:return haxepunk_input_Mouse.rightMouseReleased;case 3:return haxepunk_input_Mouse.middleMouseReleased}},haxepunk_input_Mouse.update=function(){},haxepunk_input_Mouse.postUpdate=function(){haxepunk_input_Mouse.mousePressed=haxepunk_input_Mouse.mouseReleased=haxepunk_input_Mouse.middleMousePressed=haxepunk_input_Mouse.middleMouseReleased=haxepunk_input_Mouse.rightMousePressed=haxepunk_input_Mouse.rightMouseReleased=!1},haxepunk_input_Mouse.onMouseDown=function(e){if(!haxepunk_input_Mouse.mouseDown&&(haxepunk_input_Mouse.mouseDown=!0,haxepunk_input_Mouse.mouseUp=!1,haxepunk_input_Mouse.mousePressed=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(1)))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[1];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerPress(n)}},haxepunk_input_Mouse.onMouseUp=function(e){if(haxepunk_input_Mouse.mouseDown=!1,haxepunk_input_Mouse.mouseUp=!0,haxepunk_input_Mouse.mouseReleased=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(1))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[1];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerRelease(n)}},haxepunk_input_Mouse.onMouseWheel=function(e){haxepunk_input_Mouse.mouseWheel=!0,haxepunk_input_Mouse._mouseWheelDelta=e},haxepunk_input_Mouse.onMiddleMouseDown=function(e){if(!haxepunk_input_Mouse.middleMouseDown&&(haxepunk_input_Mouse.middleMouseDown=!0,haxepunk_input_Mouse.middleMouseUp=!1,haxepunk_input_Mouse.middleMousePressed=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(3)))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[3];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerPress(n)}},haxepunk_input_Mouse.onMiddleMouseUp=function(e){if(haxepunk_input_Mouse.middleMouseDown=!1,haxepunk_input_Mouse.middleMouseUp=!0,haxepunk_input_Mouse.middleMouseReleased=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(3))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[3];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerRelease(n)}},haxepunk_input_Mouse.onRightMouseDown=function(e){if(!haxepunk_input_Mouse.rightMouseDown&&(haxepunk_input_Mouse.rightMouseDown=!0,haxepunk_input_Mouse.rightMouseUp=!1,haxepunk_input_Mouse.rightMousePressed=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(2)))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[2];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerPress(n)}},haxepunk_input_Mouse.onRightMouseUp=function(e){if(haxepunk_input_Mouse.rightMouseDown=!1,haxepunk_input_Mouse.rightMouseUp=!0,haxepunk_input_Mouse.rightMouseReleased=!0,haxepunk_input_Mouse._buttonMap.h.hasOwnProperty(2))for(var t=0,a=haxepunk_input_Mouse._buttonMap.h[2];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerRelease(n)}};var haxepunk_input_Input=function(){};$hxClasses["haxepunk.input.Input"]=haxepunk_input_Input,haxepunk_input_Input.__name__="haxepunk.input.Input",haxepunk_input_Input.pushSignal=function(e){haxepunk_input_Input._signals.push(e)},haxepunk_input_Input.triggerPress=function(e){haxepunk_input_Input._signals.push("press"),haxepunk_input_Input._signals.push(e)},haxepunk_input_Input.triggerRelease=function(e){haxepunk_input_Input._signals.push("release"),haxepunk_input_Input._signals.push(e)},haxepunk_input_Input.define=function(e,t){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Key._control.h,e))for(var a=0,n=haxepunk_input_Key._control.h[e];a<n.length;){var i=n[a];++a,HxOverrides.remove(haxepunk_input_Key._keyMap.h[i],e)}haxepunk_input_Key._control.h[e]=t;for(a=0;a<t.length;){i=t[a];if(++a,!haxepunk_input_Key._keyMap.h.hasOwnProperty(i)){haxepunk_input_Key._keyMap.h[i]=[]}haxepunk_input_Key._keyMap.h[i].indexOf(e)<0&&haxepunk_input_Key._keyMap.h[i].push(e)}},haxepunk_input_Input.check=function(e){for(var t=0,a=haxepunk_input_Input.handlers;t<a.length;){var n=a[t];if(++t,n.checkInput(e))return!0}return!1},haxepunk_input_Input.pressed=function(e){for(var t=0,a=haxepunk_input_Input.handlers;t<a.length;){var n=a[t];if(++t,n.pressedInput(e))return!0}return!1},haxepunk_input_Input.released=function(e){for(var t=0,a=haxepunk_input_Input.handlers;t<a.length;){var n=a[t];if(++t,n.releasedInput(e))return!0}return!1},haxepunk_input_Input.update=function(){for(var e=0,t=haxepunk_input_Input.handlers;e<t.length;){var a=t[e];++e,a.update()}for(var n=0;n<haxepunk_input_Input._signals.length;){var i=haxepunk_input_Input._signals[n++],s=haxepunk_input_Input._signals[n++];switch(i){case"press":var _=haxepunk_HXP.engine.onInputPressed;if(Object.prototype.hasOwnProperty.call(_.h,s))for(e=0,t=haxepunk_Signals.resolve(_,s).callbacks;e<t.length;){var r=t[e];++e,r()}var o=haxepunk_HXP.engine._scene.onInputPressed;if(Object.prototype.hasOwnProperty.call(o.h,s))for(var l=0,h=haxepunk_Signals.resolve(o,s).callbacks;l<h.length;){var u=h[l];++l,u()}break;case"release":var p=haxepunk_HXP.engine.onInputReleased;if(Object.prototype.hasOwnProperty.call(p.h,s))for(var c=0,d=haxepunk_Signals.resolve(p,s).callbacks;c<d.length;){var f=d[c];++c,f()}var m=haxepunk_HXP.engine._scene.onInputReleased;if(Object.prototype.hasOwnProperty.call(m.h,s))for(var g=0,x=haxepunk_Signals.resolve(m,s).callbacks;g<x.length;){var k=x[g];++g,k()}}}haxepunk_input_Input._signals.length=0},haxepunk_input_Input.postUpdate=function(){for(var e=0,t=haxepunk_input_Input.handlers;e<t.length;){var a=t[e];++e,a.postUpdate()}},haxepunk_input_Input.triggerSignals=function(){for(var e=0;e<haxepunk_input_Input._signals.length;){var t=haxepunk_input_Input._signals[e++],a=haxepunk_input_Input._signals[e++];switch(t){case"press":var n=haxepunk_HXP.engine.onInputPressed;if(Object.prototype.hasOwnProperty.call(n.h,a))for(var i=0,s=haxepunk_Signals.resolve(n,a).callbacks;i<s.length;){var _=s[i];++i,_()}var r=haxepunk_HXP.engine._scene.onInputPressed;if(Object.prototype.hasOwnProperty.call(r.h,a))for(var o=0,l=haxepunk_Signals.resolve(r,a).callbacks;o<l.length;){var h=l[o];++o,h()}break;case"release":var u=haxepunk_HXP.engine.onInputReleased;if(Object.prototype.hasOwnProperty.call(u.h,a))for(var p=0,c=haxepunk_Signals.resolve(u,a).callbacks;p<c.length;){var d=c[p];++p,d()}var f=haxepunk_HXP.engine._scene.onInputReleased;if(Object.prototype.hasOwnProperty.call(f.h,a))for(var m=0,g=haxepunk_Signals.resolve(f,a).callbacks;m<g.length;){var x=g[m];++m,x()}}}haxepunk_input_Input._signals.length=0};var haxepunk_input_Key={nameOfKey:function(e){if(-1==e)return"";if(e>=65&&e<=90)return String.fromCodePoint(e);if(e>=112&&e<=126)return"F"+Std.string((0|e)-111);if(e>=96&&e<=105)return"NUMPAD "+Std.string((0|e)-96);switch(e){case 8:return"BACKSPACE";case 9:return"TAB";case 13:return"ENTER";case 16:return"SHIFT";case 17:return"CONTROL";case 20:return"CAPS LOCK";case 27:return"ESCAPE";case 32:return"SPACE";case 33:return"PAGE UP";case 34:return"PAGE DOWN";case 35:return"END";case 36:return"HOME";case 37:return"LEFT";case 38:return"UP";case 39:return"RIGHT";case 40:return"DOWN";case 45:return"INSERT";case 46:return"DELETE";case 106:return"NUMPAD MULTIPLY";case 107:return"NUMPAD ADD";case 108:return"NUMPAD ENTER";case 109:return"NUMPAD SUBTRACT";case 110:return"NUMPAD DECIMAL";case 111:return"NUMPAD DIVIDE";case 192:return"~";case 219:return"{";case 221:return"}";default:return String.fromCodePoint(e)}},define:function(e,t){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Key._control.h,e))for(var a=0,n=haxepunk_input_Key._control.h[e];a<n.length;){var i=n[a];++a,HxOverrides.remove(haxepunk_input_Key._keyMap.h[i],e)}haxepunk_input_Key._control.h[e]=t;for(a=0;a<t.length;){i=t[a];if(++a,!haxepunk_input_Key._keyMap.h.hasOwnProperty(i)){haxepunk_input_Key._keyMap.h[i]=[]}haxepunk_input_Key._keyMap.h[i].indexOf(e)<0&&haxepunk_input_Key._keyMap.h[i].push(e)}},checkInput:function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Key._control.h,e))for(var t=0,a=haxepunk_input_Key._control.h[e];t<a.length;){var n=a[t];if(++t,n<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[n])return!0}return!1},pressedInput:function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Key._control.h,e))for(var t=0,a=haxepunk_input_Key._control.h[e];t<a.length;){var n=a[t];if(++t,n<0?0!=haxepunk_input_Key._pressNum:haxepunk_input_Key._press.indexOf(n)>=0)return!0}return!1},releasedInput:function(e){if(Object.prototype.hasOwnProperty.call(haxepunk_input_Key._control.h,e))for(var t=0,a=haxepunk_input_Key._control.h[e];t<a.length;){var n=a[t];if(++t,n<0?0!=haxepunk_input_Key._releaseNum:haxepunk_input_Key._release.indexOf(n)>=0)return!0}return!1},check:function(e){return e<0&&haxepunk_input_Key._keyNum>0||haxepunk_input_Key._key.h[e]},pressed:function(e){return e<0?0!=haxepunk_input_Key._pressNum:haxepunk_input_Key._press.indexOf(e)>=0},released:function(e){return e<0?0!=haxepunk_input_Key._releaseNum:haxepunk_input_Key._release.indexOf(e)>=0},postUpdate:function(){for(;haxepunk_input_Key._pressNum>0;)haxepunk_input_Key._press[--haxepunk_input_Key._pressNum]=-1;for(;haxepunk_input_Key._releaseNum>0;)haxepunk_input_Key._release[--haxepunk_input_Key._releaseNum]=-1},onKeyDown:function(e,t){if(haxepunk_input_Key.lastKey=e,8==e)haxepunk_input_Key.keyString=HxOverrides.substr(haxepunk_input_Key.keyString,0,haxepunk_input_Key.keyString.length-1);else if(e>47&&e<58||e>64&&e<91||32==e){haxepunk_input_Key.keyString.length>100&&(haxepunk_input_Key.keyString=HxOverrides.substr(haxepunk_input_Key.keyString,1,null));var a=String.fromCodePoint(e);a=t!=haxepunk_input_Key._key.h[20]?a.toUpperCase():a.toLowerCase(),haxepunk_input_Key.keyString+=a}if(!haxepunk_input_Key._key.h[e]&&(haxepunk_input_Key._key.h[e]=!0,haxepunk_input_Key._keyNum++,haxepunk_input_Key._press[haxepunk_input_Key._pressNum++]=e,haxepunk_input_Key._keyMap.h.hasOwnProperty(e)))for(var n=0,i=haxepunk_input_Key._keyMap.h[e];n<i.length;){var s=i[n];++n,haxepunk_input_Input.triggerPress(s)}},onKeyUp:function(e){if(haxepunk_input_Key._key.h[e]&&(haxepunk_input_Key._key.h[e]=!1,haxepunk_input_Key._keyNum--,haxepunk_input_Key._release[haxepunk_input_Key._releaseNum++]=e,haxepunk_input_Key._keyMap.h.hasOwnProperty(e)))for(var t=0,a=haxepunk_input_Key._keyMap.h[e];t<a.length;){var n=a[t];++t,haxepunk_input_Input.triggerRelease(n)}}},haxepunk_input_MouseManager=function(){this._lastFallthrough=!1,this._lastCollisions=[],this._collisions=[],this._registeredObjects=new haxe_ds_ObjectMap,haxepunk_Entity.call(this),this.set_width(this.set_height(0)),this.set_collidable(!1),this.set_visible(!1)};$hxClasses["haxepunk.input.MouseManager"]=haxepunk_input_MouseManager,haxepunk_input_MouseManager.__name__="haxepunk.input.MouseManager",haxepunk_input_MouseManager.__super__=haxepunk_Entity,haxepunk_input_MouseManager.prototype=$extend(haxepunk_Entity.prototype,{add:function(e,t,a,n,i,s,_){if(null==_&&(_=!1),""==this._type)this.set_type(e._type);else if(this._type!=e._type)throw haxe_Exception.thrown("Entities added to a MouseManager must all be the same type.");var r=new haxepunk_input_MouseData(e,t,a,n,i,s,_);return this._registeredObjects.set(e,r),e},addDefault:function(e,t,a,n,i){this._default=new haxepunk_input_MouseData(null,e,t,a,n,i,!1)},remove:function(e){return null!=this._registeredObjects.h.__keys__[e.__id__]&&this._registeredObjects.remove(e),e},clear:function(){for(var e=this._registeredObjects.keys();e.hasNext();){var t=e.next();this._registeredObjects.remove(t)}for(;this._lastCollisions.length>0;)this._lastCollisions.pop();this._default=null},getData:function(e){return null!=this._registeredObjects.h.__keys__[e.__id__]?this._registeredObjects.h[e.__id__]:null},update:function(){haxepunk_Entity.prototype.update.call(this);var e=haxepunk_HXP.app.stage.get_mouseX(),t=haxepunk_HXP.app.stage.get_mouseY(),a=this._collisions;if(haxepunk_input_Mouse._mouseOnScreen&&e>=this._scene.x&&t>=this._scene.y){var n=this._scene;s=e<=this._scene.x+(null==n._width?haxepunk_HXP.screen.width-n.x:n._width)}else s=!1;if(s){n=this._scene;i=t<=this._scene.y+(null==n._height?haxepunk_HXP.screen.height-n.y:n._height)}else i=!1;if(i){var i=this._scene,s=this._type,_=(n=this._scene,(r=haxepunk_HXP.app.stage.get_mouseX()-haxepunk_HXP.screen.x-n.x)/((o=n.camera).scale*o.scaleX*haxepunk_HXP.screen.scaleX)+n.camera.x|0),r=(n=this._scene,haxepunk_HXP.app.stage.get_mouseY()-haxepunk_HXP.screen.y-n.y),o=n.camera;i.collidePointInto(s,_,r/(o.scale*o.scaleY*haxepunk_HXP.screen.scaleY)+n.camera.y|0,a,!0)}for(var l=!0,h=0,u=a.length;h<u;){var p=h++;if(null!=(f=this.getData(a[p]))&&!f.fallThrough){for(;a.length>p+1;)a.pop();l=!1;break}}for(h=0;h<a.length;){var c=a[h];++h,null!=(f=this.getData(c))&&(null!=f.onEnter&&-1==this._lastCollisions.indexOf(c)&&f.onEnter())}if(haxepunk_input_Mouse.mouseWheel){var d=haxepunk_input_Mouse.get_mouseWheelDelta();for(h=0;h<a.length;){c=a[h];++h,null!=(f=this.getData(c))&&(null!=f.onWheel&&f.onWheel(d))}}if(haxepunk_input_Mouse.mousePressed)for(h=0;h<a.length;){c=a[h];++h,null!=(f=this.getData(c))&&(null!=f.onPress&&f.onPress())}if(haxepunk_input_Mouse.mouseReleased)for(h=0;h<a.length;){c=a[h];++h,null!=(f=this.getData(c))&&(null!=f.onRelease&&f.onRelease())}for(h=0,u=this._lastCollisions;h<u.length;){var f;c=u[h];++h,null!=(f=this.getData(c))&&(null!=f.onExit&&-1==a.indexOf(c)&&f.onExit())}l?null!=this._default&&(null==this._default.onEnter||this._lastFallthrough||this._default.onEnter(),null!=this._default.onPress&&haxepunk_input_Mouse.mousePressed&&this._default.onPress(),null!=this._default.onRelease&&haxepunk_input_Mouse.mouseReleased&&this._default.onRelease()):this._lastFallthrough&&null!=this._default&&null!=this._default.onExit&&this._default.onExit(),this._collisions=this._lastCollisions,this._collisions.length>0&&this._collisions.splice(0,this._collisions.length),this._lastCollisions=a,this._lastFallthrough=l},__class__:haxepunk_input_MouseManager});var haxepunk_input_MouseData=function(e,t,a,n,i,s,_){this.entity=e,this.onPress=t,this.onRelease=a,this.onEnter=n,this.onExit=i,this.onWheel=s,this.fallThrough=_};$hxClasses["haxepunk.input.MouseData"]=haxepunk_input_MouseData,haxepunk_input_MouseData.__name__="haxepunk.input.MouseData",haxepunk_input_MouseData.prototype={__class__:haxepunk_input_MouseData};var haxepunk_input_Touch=function(e,t,a){this.released=!1,this.startX=this.x=e,this.startY=this.y=t,this.id=a,this.time=0};$hxClasses["haxepunk.input.Touch"]=haxepunk_input_Touch,haxepunk_input_Touch.__name__="haxepunk.input.Touch",haxepunk_input_Touch.__properties__={get_touchOrder:"get_touchOrder",get_touches:"get_touches"},haxepunk_input_Touch.update=function(){for(var e=0,t=haxepunk_input_Touch._touchOrder;e<t.length;){var a=t[e];if(++e,null==haxepunk_input_Touch._touches.h[a]){HxOverrides.remove(haxepunk_input_Touch._touchOrder,a),haxepunk_input_Touch._touches.remove(a);break}haxepunk_input_Touch._touches.h[a].updateTouch()}haxepunk_input_Gesture.enabled&&haxepunk_input_Gesture.update();for(var n=0;n<haxepunk_input_Touch._touchOrder.length;){a=haxepunk_input_Touch._touchOrder[n];var i=haxepunk_input_Touch._touches.h[a];null==i&&i.released&&0!=i.time?(haxepunk_input_Touch._touches.remove(a),HxOverrides.remove(haxepunk_input_Touch._touchOrder,a)):++n}},haxepunk_input_Touch.postUpdate=function(){},haxepunk_input_Touch.checkInput=function(e){return!1},haxepunk_input_Touch.pressedInput=function(e){return!1},haxepunk_input_Touch.releasedInput=function(e){return!1},haxepunk_input_Touch.touchPoints=function(e){for(var t=0,a=haxepunk_input_Touch._touchOrder;t<a.length;){var n=a[t];++t,e(haxepunk_input_Touch._touches.h[n])}},haxepunk_input_Touch.get_touches=function(){return haxepunk_input_Touch._touches},haxepunk_input_Touch.get_touchOrder=function(){return haxepunk_input_Touch._touchOrder},haxepunk_input_Touch.prototype={get_sceneX:function(){return this.x+(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).x},get_sceneY:function(){return this.y+(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).y},get_pressed:function(){return 0==this.time},updateTouch:function(){this.time+=haxepunk_HXP.elapsed},__class__:haxepunk_input_Touch,__properties__:{get_pressed:"get_pressed",get_sceneY:"get_sceneY",get_sceneX:"get_sceneX"}};var haxepunk_input_gamepad_ControllerData=function(){};$hxClasses["haxepunk.input.gamepad.ControllerData"]=haxepunk_input_gamepad_ControllerData,haxepunk_input_gamepad_ControllerData.__name__="haxepunk.input.gamepad.ControllerData";var haxepunk_input_gamepad_GamepadAxis={toString:function(e){switch(e){case 0:return"leftx";case 1:return"lefty";case 2:return"lefttrigger";case 3:return"rightx";case 4:return"righty";case 5:return"righttrigger";default:return null==e?"null":""+e}}},haxepunk_input_gamepad_GamepadButton={toString:function(e){switch(e){case 0:return"a";case 1:return"b";case 2:return"x";case 3:return"y";case 4:return"leftshoulder";case 5:return"rightshoulder";case 6:return"back";case 7:return"start";case 8:return"leftstick";case 9:return"rightstick";case 10:return"guide";case 11:return"up";case 12:return"down";case 13:return"left";case 14:return"right";default:return null==e?"null":""+e}}},haxepunk_input_gamepad_GamepadType=function(e,t,a,n){this.guid=e,this.name=t,this.buttons=a,this.axes=n};$hxClasses["haxepunk.input.gamepad.GamepadType"]=haxepunk_input_gamepad_GamepadType,haxepunk_input_gamepad_GamepadType.__name__="haxepunk.input.gamepad.GamepadType",haxepunk_input_gamepad_GamepadType.get=function(e){return null!=haxepunk_input_gamepad_GamepadType.controllers&&Object.prototype.hasOwnProperty.call(haxepunk_input_gamepad_GamepadType.controllers.h,e)?haxepunk_input_gamepad_GamepadType.controllers.h[e]:null},haxepunk_input_gamepad_GamepadType.prototype={mapButton:function(e){return this.buttons.h.hasOwnProperty(e)?this.buttons.h[e]:e},mapAxis:function(e){return this.axes.h.hasOwnProperty(e)?this.axes.h[e]:e},__class__:haxepunk_input_gamepad_GamepadType};var haxepunk_masks_Circle=function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=1),haxepunk_masks_Hitbox.call(this),this.set_radius(e),this._x=t+e,this._y=a+e;var n=this._check,i=haxepunk_Mask.__name__;n.h[i]=$bind(this,this.collideMask);n=this._check,i=haxepunk_masks_Circle.__name__;n.h[i]=$bind(this,this.collideCircle);n=this._check,i=haxepunk_masks_Hitbox.__name__;n.h[i]=$bind(this,this.collideHitbox);n=this._check,i=haxepunk_masks_Grid.__name__;n.h[i]=$bind(this,this.collideGrid);n=this._check,i=haxepunk_masks_SlopedGrid.__name__;n.h[i]=$bind(this,this.collideSlopedGrid)};$hxClasses["haxepunk.masks.Circle"]=haxepunk_masks_Circle,haxepunk_masks_Circle.__name__="haxepunk.masks.Circle",haxepunk_masks_Circle.__super__=haxepunk_masks_Hitbox,haxepunk_masks_Circle.prototype=$extend(haxepunk_masks_Hitbox.prototype,{collideMask:function(e){var t=Math.abs(this._parent.get_x()+this._x-(e._parent.get_x()-e._parent.originX+.5*e._parent.get_width())),a=Math.abs(this._parent.get_y()+this._y-(e._parent.get_y()-e._parent.originY+.5*e._parent.get_height()));return!(t>.5*e._parent.get_width()+this._radius||a>.5*e._parent.get_height()+this._radius)&&(t<=.5*e._parent.get_width()||a<=.5*e._parent.get_height()||(t-.5*e._parent.get_width())*(t-.5*e._parent.get_width())+(a-.5*e._parent.get_height())*(a-.5*e._parent.get_height())<=this._squaredRadius)},collideCircle:function(e){var t=this._parent.get_x()+this._x-(e._parent.get_x()+e._x),a=this._parent.get_y()+this._y-(e._parent.get_y()+e._y);return t*t+a*a<Math.pow(this._radius+e._radius,2)},collideGridTile:function(e,t,a,n,i,s){var _=!1,r=Math.abs(i-e);if(r<=a+this._radius){var o=Math.abs(s-t);if(o<=n+this._radius)if(r<=a||o<=n)_=!0;else{var l=r-a,h=o-n;l*l+h*h<=this._squaredRadius&&(_=!0)}}return _},collideGrid:function(e){var t=this._x+this._parent.get_x(),a=this._y+this._parent.get_y(),n=e.get_x()+e._parent.get_x(),i=e.get_y()+e._parent.get_y(),s=t-n,_=a-i,r=Math.floor((s-this._radius)/(0|e._tile.width)),o=Math.floor((_-this._radius)/(0|e._tile.height)),l=Math.ceil((s+this._radius)/(0|e._tile.width)),h=Math.ceil((_+this._radius)/(0|e._tile.height));r<0&&(r=0),o<0&&(o=0),l>e.columns&&(l=e.columns),h>e.rows&&(h=e.rows);for(var u,p=.5*(0|e._tile.width),c=.5*(0|e._tile.height),d=i+o*(0|e._tile.height),f=o,m=h;f<m;){var g=f++;u=n+r*(0|e._tile.width);for(var x=r,k=l;x<k;){var y=x++;if(e.getTile(y,g)){var b=!1,v=Math.abs(t-(u+p));if(v<=p+this._radius){var P=Math.abs(a-(d+c));if(P<=c+this._radius)if(v<=p||P<=c)b=!0;else{var w=v-p,T=P-c;w*w+T*T<=this._squaredRadius&&(b=!0)}}if(b)return!0}u+=0|e._tile.width}d+=0|e._tile.height}return!1},collideSlopedGrid:function(e){var t=this._x+this._parent.get_x(),a=this._y+this._parent.get_y(),n=e.get_x()+e._parent.get_x(),i=e.get_y()+e._parent.get_y(),s=t-n,_=a-i,r=Math.floor((s-this._radius)/(0|e._tile.width)),o=Math.floor((_-this._radius)/(0|e._tile.height)),l=Math.ceil((s+this._radius)/(0|e._tile.width)),h=Math.ceil((_+this._radius)/(0|e._tile.height));r<0&&(r=0),o<0&&(o=0),l>e.columns&&(l=e.columns),h>e.rows&&(h=e.rows);for(var u,p=.5*(0|e._tile.width),c=.5*(0|e._tile.height),d=i+o*(0|e._tile.height),f=o,m=h;f<m;){var g=f++;u=n+r*(0|e._tile.width);for(var x=r,k=l;x<k;){var y,b=x++,v=g;if(null==v&&(v=0),null==b&&(b=0),b>=0&&b<e.columns&&v>=0&&v<e.rows?(e.usePositions&&(b=b/e._tile.width|0,v=v/e._tile.height|0),y=e.data[v][b]):y=haxepunk_masks_SlopedGrid._emptyTile,1==y.type){var P=!1,w=Math.abs(t-(u+p));if(w<=p+this._radius){var T=Math.abs(a-(d+c));if(T<=c+this._radius)if(w<=p||T<=c)P=!0;else{var C=w-p,S=T-c;C*C+S*S<=this._squaredRadius&&(P=!0)}}if(P)return!0}else if(2==y.type||3==y.type){var A=d;A+=y.yOffset;var E=(u+e._tile.width-u)*(a-A)>(A+y.slope*e._tile.width-A)*(t-u);if(2==y.type&&!E||3==y.type&&E)return!0;var D=u,M=d+y.yOffset,R=y.slope*(0|e._tile.width),L=D+R/y.slope-D,I=M+R-M,$=D-t,B=M-a,O=L*L+I*I,G=2*($*L+B*I),F=G*G-4*O*($*$+B*B-this._radius*this._radius);if(F>=0){var N=(-G-(F=Math.sqrt(F)))/(2*O),H=(-G+F)/(2*O);if(N>=0&&N<=1||H>=0&&H<=1||N<0&&H>1)return!0}}u+=0|e._tile.width}d+=0|e._tile.height}return!1},collideHitbox:function(e){var t=.5*e._width,a=.5*e._height,n=this._x+this._parent.get_x(),i=this._y+this._parent.get_y(),s=e._x,_=e._y;null!=(e._parent!=haxepunk_Entity._EMPTY?e._parent:null)&&(s+=(e._parent!=haxepunk_Entity._EMPTY?e._parent:null).get_x(),_+=(e._parent!=haxepunk_Entity._EMPTY?e._parent:null).get_y());var r=Math.abs(n-s-t),o=Math.abs(i-_-a);return!(r>t+this._radius||o>a+this._radius)&&(r<=t||o<=a||(r-t)*(r-t)+(o-a)*(o-a)<=this._squaredRadius)},project:function(e,t){t.min=-this._radius,t.max=this._radius},debugDraw:function(e){null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.lineThickness=2,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(A=.25)&&(A=1),null==(S=16711680)&&(S=16777215),(t=haxepunk_Mask.drawContext).color=S,t.alpha=A,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),haxepunk_Mask.drawContext.circleFilled((this._parent.get_x()+this._x-e.x)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),(this._parent.get_y()+this._y-e.y)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),this._radius,null,e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2),null==(A=.5)&&(A=1),null==(S=16711680)&&(S=16777215),(t=haxepunk_Mask.drawContext).color=S,t.alpha=A,null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2);var t=haxepunk_Mask.drawContext,a=(this._parent.get_x()+this._x-e.x)*(e.scale*e.scaleX*haxepunk_HXP.screen.scaleX),n=(this._parent.get_y()+this._y-e.y)*(e.scale*e.scaleY*haxepunk_HXP.screen.scaleY),i=this._radius,s=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,_=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY;null==_&&(_=1),null==s&&(s=1);var r=2*Math.PI/25,o=t.lineThickness/2,l=i-o,h=i+o,u={x:0,y:0},p={x:0,y:0},c={x:0,y:0},d={x:0,y:0};null==t.shader&&(t.shader=new haxepunk_graphics_shader_ColorShader);var f=null==t.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:t.scene;t.command=f.batch.getDrawCommand(null,t.shader,t.smooth,t.blend,null);for(var m=0;m<26;){var g=m++,x=g*r,k=Math.sin(x),y=Math.cos(x);if(haxepunk_math_Vector2.setTo(u,a+k*l*s,n+y*l*_),haxepunk_math_Vector2.setTo(p,a+k*h*s,n+y*h*_),0!=g){var b=d.x,v=d.y,P=c.x,w=c.y,T=p.x,C=p.y,S=t.color,A=t.alpha;t.scale&&(b*=haxepunk_HXP.screen.scaleX,P*=haxepunk_HXP.screen.scaleX,T*=haxepunk_HXP.screen.scaleX,v*=haxepunk_HXP.screen.scaleY,w*=haxepunk_HXP.screen.scaleY,C*=haxepunk_HXP.screen.scaleY);var E=t.command;if(A>0){var D;if(E.shader.attributeNames.length<=0){var M,R=E.visibleArea;if((b>P?P>T?T:P:b>T?T:b)<=R.x+R.width&&(b<P?P<T?T:P:b<T?T:b)>=E.visibleArea.x){var L=E.visibleArea;M=(v>w?w>C?C:w:v>C?C:v)<=L.y+L.height}else M=!1;D=M&&(v<w?w<C?C:w:v<C?C:v)>=E.visibleArea.y}else D=!0;if(D){var I;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(I=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,I._next=null):I=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var $=I;$.tx1=b,$.ty1=v,$.uvx1=0,$.uvy1=0,$.tx2=P,$.ty2=w,$.uvx2=0,$.uvy2=0,$.tx3=T,$.ty3=C,$.uvx3=0,$.uvy3=0,$.color=S,$.alpha=A,null==E.data?E.data=$:E._lastData._next=$,E._lastData=$,++E.triangleCount;var B=$.tx1,O=$.tx2,G=$.tx3,F=B>O?O>G?G:O:B>G?G:B,N=$.tx1,H=$.tx2,U=$.tx3,X=N<H?H<U?U:H:N<U?U:N,V=$.ty1,j=$.ty2,z=$.ty3,W=V>j?j>z?z:j:V>z?z:V,Y=$.ty1,K=$.ty2,q=$.ty3,J=Y<K?K<q?q:K:Y<q?q:Y;if(0==E.bounds.width)E.bounds.x=F,E.bounds.width=X-F;else{F<E.bounds.x&&(E.bounds.width+=E.bounds.x-F,E.bounds.x=F);var Z=E.bounds;X>Z.x+Z.width&&(E.bounds.width=X-E.bounds.x)}if(0==E.bounds.height)E.bounds.y=W,E.bounds.height=J-W;else{W<E.bounds.y&&(E.bounds.height+=E.bounds.y-W,E.bounds.y=W);var Q=E.bounds;J>Q.y+Q.height&&(E.bounds.height=J-E.bounds.y)}}}var ee=d.x,te=d.y,ae=p.x,ne=p.y,ie=u.x,se=u.y,_e=t.color,re=t.alpha;t.scale&&(ee*=haxepunk_HXP.screen.scaleX,ae*=haxepunk_HXP.screen.scaleX,ie*=haxepunk_HXP.screen.scaleX,te*=haxepunk_HXP.screen.scaleY,ne*=haxepunk_HXP.screen.scaleY,se*=haxepunk_HXP.screen.scaleY);var oe=t.command;if(re>0){var le;if(oe.shader.attributeNames.length<=0){var he,ue=oe.visibleArea;if((ee>ae?ae>ie?ie:ae:ee>ie?ie:ee)<=ue.x+ue.width&&(ee<ae?ae<ie?ie:ae:ee<ie?ie:ee)>=oe.visibleArea.x){var pe=oe.visibleArea;he=(te>ne?ne>se?se:ne:te>se?se:te)<=pe.y+pe.height}else he=!1;le=he&&(te<ne?ne<se?se:ne:te<se?se:te)>=oe.visibleArea.y}else le=!0;if(le){var ce;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(ce=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,ce._next=null):ce=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var de=ce;de.tx1=ee,de.ty1=te,de.uvx1=0,de.uvy1=0,de.tx2=ae,de.ty2=ne,de.uvx2=0,de.uvy2=0,de.tx3=ie,de.ty3=se,de.uvx3=0,de.uvy3=0,de.color=_e,de.alpha=re,null==oe.data?oe.data=de:oe._lastData._next=de,oe._lastData=de,++oe.triangleCount;var fe=de.tx1,me=de.tx2,ge=de.tx3,xe=fe>me?me>ge?ge:me:fe>ge?ge:fe,ke=de.tx1,ye=de.tx2,be=de.tx3,ve=ke<ye?ye<be?be:ye:ke<be?be:ke,Pe=de.ty1,we=de.ty2,Te=de.ty3,Ce=Pe>we?we>Te?Te:we:Pe>Te?Te:Pe,Se=de.ty1,Ae=de.ty2,Ee=de.ty3,De=Se<Ae?Ae<Ee?Ee:Ae:Se<Ee?Ee:Se;if(0==oe.bounds.width)oe.bounds.x=xe,oe.bounds.width=ve-xe;else{xe<oe.bounds.x&&(oe.bounds.width+=oe.bounds.x-xe,oe.bounds.x=xe);var Me=oe.bounds;ve>Me.x+Me.width&&(oe.bounds.width=ve-oe.bounds.x)}if(0==oe.bounds.height)oe.bounds.y=Ce,oe.bounds.height=De-Ce;else{Ce<oe.bounds.y&&(oe.bounds.height+=oe.bounds.y-Ce,oe.bounds.y=Ce);var Re=oe.bounds;De>Re.y+Re.height&&(oe.bounds.height=De-oe.bounds.y)}}}}c.x=p.x,c.y=p.y,d.x=u.x,d.y=u.y}},get_x:function(){return this._x-this._radius},get_y:function(){return this._y-this._radius},get_radius:function(){return this._radius},set_radius:function(e){return this._radius==e?e:(this._radius=e,this._squaredRadius=e*e,this.set_height(this.set_width(this._radius+this._radius)),null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&this.update(),this._radius)},update:function(){null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&(this._parent.originX=-this._x+this._radius,this._parent.originY=-this._y+this._radius,this._parent.set_height(this._parent.set_width(this._radius+this._radius)),null!=this.list&&this.list.update())},__class__:haxepunk_masks_Circle,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{set_radius:"set_radius",get_radius:"get_radius"})});var haxepunk_masks_Grid=function(e,t,a,n,i,s){if(null==s&&(s=0),null==i&&(i=0),haxepunk_masks_Hitbox.call(this),0==e||0==t||0==a||0==n)throw haxe_Exception.thrown("Illegal Grid, sizes cannot be 0.");this._rect=haxepunk_HXP.rect,this._point=haxepunk_HXP.point,this._point2=haxepunk_HXP.point2,this.columns=e/a|0,this.rows=t/n|0,this._tile=new haxepunk_math_Rectangle(0,0,a,n),this._x=i,this._y=s,this._width=e,this._height=t,this.usePositions=!1;var _=this._check,r=haxepunk_Mask.__name__;_.h[r]=$bind(this,this.collideMask);_=this._check,r=haxepunk_masks_Hitbox.__name__;_.h[r]=$bind(this,this.collideHitbox);_=this._check,r=haxepunk_masks_Pixelmask.__name__;_.h[r]=$bind(this,this.collidePixelmask);_=this._check,r=haxepunk_masks_Grid.__name__;_.h[r]=$bind(this,this.collideGrid),this.data=[];for(var o=0,l=this.rows;o<l;){i=o++;this.data.push([])}};$hxClasses["haxepunk.masks.Grid"]=haxepunk_masks_Grid,haxepunk_masks_Grid.__name__="haxepunk.masks.Grid",haxepunk_masks_Grid.__super__=haxepunk_masks_Hitbox,haxepunk_masks_Grid.prototype=$extend(haxepunk_masks_Hitbox.prototype,{setTile:function(e,t,a){null==a&&(a=!0),null==t&&(t=0),null==e&&(e=0),this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0),this.setTileXY(e,t,a)},setTileXY:function(e,t,a){null==a&&(a=!0),null==t&&(t=0),null==e&&(e=0),e<0||e>this.columns-1||t<0||t>this.rows-1||(this.data[t][e]=a)},clearTile:function(e,t){null==t&&(t=0),null==e&&(e=0),this.setTile(e,t,!1)},checkTile:function(e,t){return!(e<0||e>this.columns-1||t<0||t>this.rows-1)},getTile:function(e,t){return null==t&&(t=0),null==e&&(e=0),this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0),this.getTileXY(e,t)},getTileXY:function(e,t){return null==t&&(t=0),null==e&&(e=0),!(e<0||e>this.columns-1||t<0||t>this.rows-1)&&this.data[t][e]},setRect:function(e,t,a,n,i){null==i&&(i=!0),null==n&&(n=1),null==a&&(a=1),null==t&&(t=0),null==e&&(e=0),this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0,a=a/this._tile.width|0,n=n/this._tile.height|0);for(var s=t,_=t+n;s<_;)for(var r=s++,o=e,l=e+a;o<l;){var h=o++;this.setTileXY(h,r,i)}},clearRect:function(e,t,a,n){null==n&&(n=1),null==a&&(a=1),null==t&&(t=0),null==e&&(e=0),this.setRect(e,t,a,n,!1)},loadFromString:function(e,t,a){null==a&&(a="\n"),null==t&&(t=",");for(var n,i=e.split(a),s=0,_=i.length;s<_;){var r;if(""!=i[r=s++])for(var o=0,l=(n=i[r].split(t)).length;o<l;){var h;""!=n[h=o++]&&this.setTile(h,r,Std.parseInt(n[h])>0)}}},loadFrom2DArray:function(e){for(var t=0,a=e.length;t<a;)for(var n=t++,i=0,s=e[0].length;i<s;){var _=i++;this.setTile(_,n,e[n][_]>0)}},saveToString:function(e,t,a,n){null==n&&(n="false"),null==a&&(a="true"),null==t&&(t="\n"),null==e&&(e=",");for(var i="",s=0,_=this.rows;s<_;){for(var r=s++,o=0,l=this.columns;o<l;){var h=o++;i+=Std.string(this.getTileXY(h,r)?a:n),h!=this.columns-1&&(i+=e)}r!=this.rows-1&&(i+=t)}return i},clone:function(){for(var e=new haxepunk_masks_Grid(this._width,this._height,0|this._tile.width,0|this._tile.height,this._x,this._y),t=0,a=this.rows;t<a;)for(var n=t++,i=0,s=this.columns;i<s;){var _=i++;e.setTile(_,n,this.getTile(_,n))}return e},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},collideMask:function(e){var t=e._parent.get_x()-e._parent.originX-this._parent.get_x();this._rect.x=t+this._parent.originX;t=e._parent.get_y()-e._parent.originY-this._parent.get_y();this._rect.y=t+this._parent.originY;for(var a=1+((this._rect.x+e._parent.get_width()-1)/this._tile.width|0),n=1+((this._rect.y+e._parent.get_height()-1)/this._tile.height|0),i=this._rect.x/this._tile.width|0,s=this._rect.y/this._tile.height|0,_=n;s<_;)for(var r=s++,o=i,l=a;o<l;){var h=o++;if(this.getTile(h,r))return!0}return!1},collideHitbox:function(e){var t=e._parent.get_x()-e._x-this._parent.get_x();this._rect.x=t+this._x;t=e._parent.get_y()-e._y-this._parent.get_y();this._rect.y=t+this._y;for(var a=1+((this._rect.x+e._width-1)/this._tile.width|0),n=1+((this._rect.y+e._height-1)/this._tile.height|0),i=this._rect.x/this._tile.width|0,s=this._rect.y/this._tile.height|0,_=n;s<_;)for(var r=s++,o=i,l=a;o<l;){var h=o++;if(this.getTile(h,r))return!0}return!1},collidePixelmask:function(e){var t=this._parent.get_x()+this._x;this._point.x=t-this._parent.originX;t=this._parent.get_y()+this._y;if(this._point.y=t-this._parent.originY,null!=(e instanceof haxepunk_masks_Imagemask?e:null))this._rect=js_Boot.__cast(e,haxepunk_masks_Imagemask).getBounds(),this._rect.x+=e._parent.get_x(),this._rect.y+=e._parent.get_y();else{t=e._parent.get_x()+e.get_x();this._rect.x=t-e._parent.originX;t=e._parent.get_y()+e.get_y();this._rect.y=t-e._parent.originY,this._rect.width=e.get_width(),this._rect.height=e.get_height()}var a=new haxepunk_math_Rectangle(this._point.x,this._point.y,this._width,this._height).intersection(this._rect);if(null==a)return!1;for(var n=Math.floor(a.x-this._rect.x),i=Math.floor(a.x-this._rect.x+a.width);n<i;)for(var s=n++,_=Math.floor(a.y-this._rect.y),r=Math.floor(a.y-this._rect.y+a.height);_<r;){var o=_++,l=(s+this._rect.x)/this._tile.width|0,h=(o+this._rect.y)/this._tile.height|0;if(this.data[h][l]&&(e.get_data().getPixel(s,o)>>24&255)>0)return!0}return!1},collideGrid:function(e){var t=this._parent.get_x()+this._x,a=t+this._width,n=e._parent.get_x()+e._x,i=n+e._width;if(a<n||t>i)return!1;var s=this._parent.get_y()+this._y,_=s+this._height,r=e._parent.get_y()+e._y,o=r+e._height;if(_<r||s>o)return!1;var l,h,u=t>n?t:n,p=s>r?s:r,c=a<i?a:i,d=_<o?_:o;this._tile.width<e._tile.width?(l=this._tile.width,u=((u-=this._parent.get_x()+this._x)/l|0)*l,u+=this._parent.get_x()+this._x):(l=e._tile.width,u=((u-=e._parent.get_x()+e._x)/l|0)*l,u+=e._parent.get_x()+e._x),this._tile.height<e._tile.height?(h=this._tile.height,p=((p-=this._parent.get_y()+this._y)/h|0)*h,p+=this._parent.get_y()+this._y):(h=e._tile.height,p=((p-=e._parent.get_y()+e._y)/h|0)*h,p+=e._parent.get_y()+e._y);for(var f=p,m=0;f<d;){var g=(f-this._parent.get_y()-this._y)/this._tile.height|0,x=(f-e._parent.get_y()-e._y)/e._tile.height|0,k=(f-this._parent.get_y()-this._y+(h-1))/this._tile.height|0,y=(f-e._parent.get_y()-e._y+(h-1))/e._tile.height|0;for(m=u;m<c;){var b=(m-this._parent.get_x()-this._x)/this._tile.width|0,v=(m-e._parent.get_x()-e._x)/e._tile.width|0,P=(m-this._parent.get_x()-this._x+(l-1))/this._tile.width|0,w=(m-e._parent.get_x()-e._x+(l-1))/e._tile.width|0;if(this.getTile(b,g)&&e.getTile(v,x)||this.getTile(P,g)&&e.getTile(w,x)||this.getTile(b,k)&&e.getTile(v,y)||this.getTile(P,k)&&e.getTile(w,y))return!0;m+=l}f+=h}return!1},debugDraw:function(e){null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2);var t,a=haxepunk_Mask.drawContext,n=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,i=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY,s=(0|this._tile.width)*n,_=(0|this._tile.height)*i,r=this._x+this._parent.get_x()-(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).x,o=this._y+this._parent.get_y()-(null==haxepunk_HXP.engine._scene?null:haxepunk_HXP.engine._scene.camera).y,l=Math.floor(-r/(0|this._tile.width)),h=Math.floor(-o/(0|this._tile.height)),u=l+1+Math.ceil(haxepunk_HXP.width/(0|this._tile.width)),p=h+1+Math.ceil(haxepunk_HXP.height/(0|this._tile.height));if(!(l>this.columns||h>this.rows||u<0||p<0)){var c;l<0&&(l=0),u>this.columns&&(u=this.columns),h<0&&(h=0),p>this.rows&&(p=this.rows),r=(r+l*(0|this._tile.width))*n;for(var d=o=(o+h*(0|this._tile.height))*i,f=h,m=p;f<m;){var g=f++;t=r,c=this.data[g];for(var x=l,k=u;x<k;){var y=x++;if(c[y]){a.lineThickness=2;var b=16777215,v=.3;null==v&&(v=1),null==b&&(b=16777215),a.color=b,a.alpha=v,a.rect(t,d,s,_);var P=255,w=1;null==w&&(w=1),null==P&&(P=16777215),a.color=P,a.alpha=w,y<this.columns-1&&!c[y+1]&&a.line(t+s,d,t+s,d+_),y>0&&!c[y-1]&&a.line(t,d,t,d+_),g<this.rows-1&&!this.data[g+1][y]&&a.line(t,d+_,t+s,d+_),g>0&&!this.data[g-1][y]&&a.line(t,d,t+s,d)}t+=s}d+=_}}},squareProjection:function(e,t){e.x<e.y?(t.x=e.x,t.y=e.y):(t.y=e.x,t.x=e.y)},__class__:haxepunk_masks_Grid,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var haxepunk_masks_Pixelmask=function(e,t,a){if(null==a&&(a=0),null==t&&(t=0),haxepunk_masks_Hitbox.call(this),null==e)throw haxe_Exception.thrown("Invalid Pixelmask source image.");this._data=e,this.threshold=1,this._rect=haxepunk_HXP.rect,this._point=haxepunk_HXP.point,this._point2=haxepunk_HXP.point2;var n=this.get_data();this._width=null==n?0:n.width;n=this.get_data();this._height=null==n?0:n.height,this._x=t,this._y=a;n=this._check;var i=haxepunk_Mask.__name__;n.h[i]=$bind(this,this.collideMask);n=this._check,i=haxepunk_masks_Pixelmask.__name__;n.h[i]=$bind(this,this.collidePixelmask);n=this._check,i=haxepunk_masks_Hitbox.__name__;n.h[i]=$bind(this,this.collideHitbox)};$hxClasses["haxepunk.masks.Pixelmask"]=haxepunk_masks_Pixelmask,haxepunk_masks_Pixelmask.__name__="haxepunk.masks.Pixelmask",haxepunk_masks_Pixelmask.__super__=haxepunk_masks_Hitbox,haxepunk_masks_Pixelmask.prototype=$extend(haxepunk_masks_Hitbox.prototype,{collideMask:function(e){var t=this._parent.get_x();this._point.x=t+this._x;t=this._parent.get_y();this._point.y=t+this._y;t=e._parent.get_x();this._rect.x=t-e._parent.originX;t=e._parent.get_y();this._rect.y=t-e._parent.originY,this._rect.width=e._parent.get_width(),this._rect.height=e._parent.get_height();t=e._parent.get_x()-e._parent.originX;var a=this._parent.get_x()+this._x;this._point.x=t-a;t=e._parent.get_y()-e._parent.originY,a=this._parent.get_y()+this._y;this._point.y=t-a;var n=this._data,i=this._data,s=new haxepunk_math_Rectangle(0,0,null==n?0:n.width,null==i?0:i.height),_=new haxepunk_math_Rectangle(this._point.x,this._point.y,e._parent.get_width(),e._parent.get_height()),r=s.intersection(_);if(null==r)return!1;for(var o=Math.floor(r.x),l=Math.floor(r.x+r.width+1);o<l;)for(var h=o++,u=Math.floor(r.y),p=Math.floor(r.y+r.height+1);u<p;){var c=u++;if((this._data.getPixel(h,c)>>24&255)>0)return!0}return!1},collideHitbox:function(e){var t=this._parent.get_x();this._point.x=t+this._x;t=this._parent.get_y();this._point.y=t+this._y;t=e._parent.get_x();this._rect.x=t+e._x;t=e._parent.get_y();this._rect.y=t+e._y,this._rect.width=e._width,this._rect.height=e._height;t=e._parent.get_x()+e._x;var a=this._parent.get_x()+this._x;this._point.x=t-a;t=e._parent.get_y()+e._y,a=this._parent.get_y()+this._y;this._point.y=t-a;var n=this._data,i=this._data,s=new haxepunk_math_Rectangle(0,0,null==n?0:n.width,null==i?0:i.height),_=new haxepunk_math_Rectangle(this._point.x,this._point.y,e.get_width(),e.get_height()),r=s.intersection(_);if(null==r)return!1;for(var o=Math.floor(r.x),l=Math.floor(r.x+r.width+1);o<l;)for(var h=o++,u=Math.floor(r.y),p=Math.floor(r.y+r.height+1);u<p;){var c=u++;if((this._data.getPixel(h,c)>>24&255)>0)return!0}return!1},collidePixelmask:function(e){var t=e._parent.get_x()+e._x,a=this._parent.get_x()+this._x;this._point.x=t-a;t=e._parent.get_y()+e._y,a=this._parent.get_y()+this._y;this._point.y=t-a;var n=this._data,i=this._data,s=new haxepunk_math_Rectangle(0,0,null==n?0:n.width,null==i?0:i.height),_=(n=e._data,i=e._data,new haxepunk_math_Rectangle(this._point.x,this._point.y,null==n?0:n.width,null==i?0:i.height)),r=s.intersection(_);if(null==r)return!1;for(var o=Math.floor(r.x),l=Math.floor(r.x+r.width+1);o<l;)for(var h=o++,u=Math.floor(r.y),p=Math.floor(r.y+r.height+1);u<p;){var c=u++,d=this._data.getPixel(h,c)>>24&255,f=e._data.getPixel(Math.floor(h-this._point.x),Math.floor(c-this._point.y))>>24&255;if(d>0&&f>0)return!0}return!1},get_data:function(){return this._data},set_data:function(e){return this._data=e,this._width=null==e?0:e.width,this._height=null==e?0:e.height,this.update(),this._data},__class__:haxepunk_masks_Pixelmask,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{set_data:"set_data",get_data:"get_data"})});var haxepunk_masks_Imagemask=function(e){haxepunk_masks_Pixelmask.call(this,new openfl_display_BitmapData(1,1,!1,0));var t=js_Boot.getClass(this).__super__;this._class=t.__name__,this._source=e,this.update();var a=this._check,n=haxepunk_masks_Imagemask.__name__;a.h[n]=$bind(this,this.collidePixelmask)};$hxClasses["haxepunk.masks.Imagemask"]=haxepunk_masks_Imagemask,haxepunk_masks_Imagemask.__name__="haxepunk.masks.Imagemask",haxepunk_masks_Imagemask.__super__=haxepunk_masks_Pixelmask,haxepunk_masks_Imagemask.prototype=$extend(haxepunk_masks_Pixelmask.prototype,{setSource:function(e){this._source=e,this.update()},update:function(){var e=this.getBounds();this._x=Math.floor(e.x),this._y=Math.floor(e.y),this._width=Math.ceil(e.width),this._height=Math.ceil(e.height);var t=!0,a=0;null==a&&(a=0),null==t&&(t=!1),this._data=new openfl_display_BitmapData(this._width,this._height,t,a),haxepunk_masks_Pixelmask.prototype.update.call(this)},getBounds:function(){var e=this._source.scale*this._source.scaleX,t=this._source.scale*this._source.scaleY,a=new openfl_geom_Matrix(e,0,0,t,-this._source.originX*e,-this._source.originY*t);a.rotate(this._source.angle*(Math.PI/-180));var n=new openfl_geom_Point(0,0),i=a.transformPoint(n);n.x=this._source.get_width(),n.y=this._source.get_height();var s=a.transformPoint(n);n.x=0,n.y=this._source.get_height();var _=a.transformPoint(n);n.x=this._source.get_width(),n.y=0;var r=a.transformPoint(n),o=new haxepunk_math_Rectangle(0,0,0,0);return o.x=Math.min(Math.min(i.x,s.x),Math.min(_.x,r.x)),o.y=Math.min(Math.min(i.y,s.y),Math.min(_.y,r.y)),o.width=Math.max(Math.max(i.x-o.x,s.x-o.x),Math.max(_.x-o.x,r.x-o.x)),o.height=Math.max(Math.max(i.y-o.y,s.y-o.y),Math.max(_.y-o.y,r.y-o.y)),o},collidePixelmask:function(e){var t=this.getBounds();if(t.x+=this._parent.get_x(),t.y+=this._parent.get_y(),null!=(e instanceof haxepunk_masks_Imagemask?e:null))this._rect=js_Boot.__cast(e,haxepunk_masks_Imagemask).getBounds(),this._rect.x+=e._parent.get_x(),this._rect.y+=e._parent.get_y();else{var a=e._parent.get_x()+e.get_x();this._rect.x=a-e._parent.originX;a=e._parent.get_y()+e.get_y();this._rect.y=a-e._parent.originY,this._rect.width=e.get_width(),this._rect.height=e.get_height()}var n=t.intersection(this._rect);if(null==n)return!1;for(var i=Math.floor(n.x),s=Math.floor(n.x+n.width);i<s;)for(var _=i++,r=Math.floor(n.y),o=Math.floor(n.y+n.height);r<o;){var l=r++,h=this._data.getPixel(_-t.x|0,l-t.y|0)>>24&255,u=e._data.getPixel(_-this._rect.x|0,l-this._rect.y|0)>>24&255;if(h>0&&u>0)return!0}return!1},__class__:haxepunk_masks_Imagemask});var haxepunk_masks_PixelmaskSource={fromString:function(e){return haxepunk_assets_AssetCache.global.getTexture(e)}},haxepunk_math_Projection=function(){this.max=this.min=0};$hxClasses["haxepunk.math.Projection"]=haxepunk_math_Projection,haxepunk_math_Projection.__name__="haxepunk.math.Projection",haxepunk_math_Projection.prototype={overlaps:function(e){return!(this.min>e.max||this.max<e.min)},getOverlap:function(e){return this.max>e.max?this.max-e.min:e.max-this.min},toString:function(){return"[ "+this.min+", "+this.max+" ]"},__class__:haxepunk_math_Projection};var haxepunk_masks_Polygon=function(e,t){if(this.maxY=0,this.maxX=0,this.minY=0,this.minX=0,haxepunk_masks_Hitbox.call(this),e.length<3)throw haxe_Exception.thrown("The polygon needs at least 3 sides.");this._points=e,this._fakeEntity=new haxepunk_Entity,this._fakeTileHitbox=new haxepunk_masks_Hitbox;var a=this._check,n=haxepunk_Mask.__name__;a.h[n]=$bind(this,this.collideMask);a=this._check,n=haxepunk_masks_Hitbox.__name__;a.h[n]=$bind(this,this.collideHitbox);a=this._check,n=haxepunk_masks_Grid.__name__;a.h[n]=$bind(this,this.collideGrid);a=this._check,n=haxepunk_masks_Circle.__name__;a.h[n]=$bind(this,this.collideCircle);var i;a=this._check,n=haxepunk_masks_Polygon.__name__;(a.h[n]=$bind(this,this.collidePolygon),null!=t)?i=t:i=a={x:0,y:0};this.origin=i,this._angle=0,this.updateAxes()};$hxClasses["haxepunk.masks.Polygon"]=haxepunk_masks_Polygon,haxepunk_masks_Polygon.__name__="haxepunk.masks.Polygon",haxepunk_masks_Polygon.fromPoints=function(e,t){for(var a=haxepunk_math_MakeConvex.run(e),n=new haxepunk_masks_Masklist,i=0;i<a.length;){var s=a[i];++i,n.add(new haxepunk_masks_Polygon(s,t))}return n},haxepunk_masks_Polygon.createPolygon=function(e,t,a){if(null==a&&(a=0),null==t&&(t=100),null==e&&(e=3),e<3)throw haxe_Exception.thrown("The polygon needs at least 3 sides.");for(var n=2*Math.PI/e,i=[],s=0,_=e;s<_;){var r=s++,o=Math.PI+r*n,l={x:0,y:0};l.x=Math.cos(o)*t+t,l.y=Math.sin(o)*t+t,i.push(l)}var h=new haxepunk_masks_Polygon(i);return h.origin.x=t,h.origin.y=t,h.set_angle(a),h},haxepunk_masks_Polygon.createFromArray=function(e){for(var t=[],a=0;a<e.length;){var n=e[a++],i=e[a++];null==i&&(i=0),null==n&&(n=0);var s={x:n,y:i};t.push(s)}return new haxepunk_masks_Polygon(t)},haxepunk_masks_Polygon.__super__=haxepunk_masks_Hitbox,haxepunk_masks_Polygon.prototype=$extend(haxepunk_masks_Hitbox.prototype,{collideMask:function(e){var t,a=this._parent.get_x()+this._x-e._parent.get_x(),n=this._parent.get_y()+this._y-e._parent.get_y();this.project(haxepunk_masks_Polygon.vertical,haxepunk_masks_Polygon.firstProj),e.project(haxepunk_masks_Polygon.vertical,haxepunk_masks_Polygon.secondProj),haxepunk_masks_Polygon.firstProj.min+=n,haxepunk_masks_Polygon.firstProj.max+=n;var i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1;this.project(haxepunk_masks_Polygon.horizontal,haxepunk_masks_Polygon.firstProj),e.project(haxepunk_masks_Polygon.horizontal,haxepunk_masks_Polygon.secondProj),haxepunk_masks_Polygon.firstProj.min+=a,haxepunk_masks_Polygon.firstProj.max+=a;i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1;for(var _=0,r=this._axes;_<r.length;){var o=r[_];++_,this.project(o,haxepunk_masks_Polygon.firstProj),e.project(o,haxepunk_masks_Polygon.secondProj),t=a*o.x+n*o.y,haxepunk_masks_Polygon.firstProj.min+=t,haxepunk_masks_Polygon.firstProj.max+=t;i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1}return!0},collideHitbox:function(e){var t,a=this._parent.get_x()+this._x-e._parent.get_x(),n=this._parent.get_y()+this._y-e._parent.get_y();this.project(haxepunk_masks_Polygon.vertical,haxepunk_masks_Polygon.firstProj),e.project(haxepunk_masks_Polygon.vertical,haxepunk_masks_Polygon.secondProj),haxepunk_masks_Polygon.firstProj.min+=n,haxepunk_masks_Polygon.firstProj.max+=n;var i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1;this.project(haxepunk_masks_Polygon.horizontal,haxepunk_masks_Polygon.firstProj),e.project(haxepunk_masks_Polygon.horizontal,haxepunk_masks_Polygon.secondProj),haxepunk_masks_Polygon.firstProj.min+=a,haxepunk_masks_Polygon.firstProj.max+=a;i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1;for(var _=0,r=this._axes;_<r.length;){var o=r[_];++_,this.project(o,haxepunk_masks_Polygon.firstProj),e.project(o,haxepunk_masks_Polygon.secondProj),t=a*o.x+n*o.y,haxepunk_masks_Polygon.firstProj.min+=t,haxepunk_masks_Polygon.firstProj.max+=t;i=haxepunk_masks_Polygon.firstProj,s=haxepunk_masks_Polygon.secondProj;if(i.min>s.max||i.max<s.min)return!1}return!0},collideGrid:function(e){var t=0|e._tile.width,a=0|e._tile.height;this._fakeEntity.set_width(t),this._fakeEntity.set_height(a),this._fakeEntity.set_x(this._parent.get_x()),this._fakeEntity.set_y(this._parent.get_y()),this._fakeEntity.originX=e._parent.originX+e._x,this._fakeEntity.originY=e._parent.originY+e._y,this._fakeTileHitbox._width=t,this._fakeTileHitbox._height=a,this._fakeTileHitbox.set_parent(this._fakeEntity);for(var n=0,i=e.rows;n<i;)for(var s=n++,_=0,r=e.columns;_<r;){var o=_++;if(this._fakeEntity.set_x(e._parent.get_x()+e._x+o*t),this._fakeEntity.set_y(e._parent.get_y()+e._y+s*a),e.getTile(o,s)&&this.collideHitbox(this._fakeTileHitbox))return!0}return!1},collideCircle:function(e){for(var t,a,n=0,i=this._points.length,s=this._parent.get_x()+this._x,_=this._parent.get_y()+this._y,r=0,o=i-1;r<i;){t=this._points[r];var l=((a=this._points[o]).x-t.x)*(e._y+e._parent.get_y()-t.y-_)/(a.y-t.y)+t.x+s;t.y+_>e._y+e._parent.get_y()!=a.y+_>e._y+e._parent.get_y()&&e._x+e._parent.get_x()<l&&++n,o=r,++r}if((1&n)>0)return!0;var h,u,p=e._radius*e._radius,c=e._x+e._parent.get_x(),d=e._y+e._parent.get_y();for(r=0,o=i-1;r<i;){t=this._points[r],a=this._points[o];var f=(t.x-a.x)*(t.x-a.x)+(t.y-a.y)*(t.y-a.y),m=((c-t.x-s)*(a.x-t.x)+(d-t.y-_)*(a.y-t.y))/f;if(m<0?(h=t.x,u=t.y):m>1?(h=a.x,u=a.y):(h=t.x+m*(a.x-t.x),u=t.y+m*(a.y-t.y)),(c-(h+=s))*(c-h)+(d-(u+=_))*(d-u)<=p)return!0;o=r,++r}return!1},collidePolygon:function(e){for(var t,a=this._parent.get_x()+this._x-e._parent.get_x()-e._x,n=this._parent.get_y()+this._y-e._parent.get_y()-e._y,i=0,s=this._axes;i<s.length;){var _=s[i];++i,this.project(_,haxepunk_masks_Polygon.firstProj),e.project(_,haxepunk_masks_Polygon.secondProj),t=a*_.x+n*_.y,haxepunk_masks_Polygon.firstProj.min+=t,haxepunk_masks_Polygon.firstProj.max+=t;var r=haxepunk_masks_Polygon.firstProj,o=haxepunk_masks_Polygon.secondProj;if(r.min>o.max||r.max<o.min)return!1}for(i=0,s=e._axes;i<s.length;){_=s[i];++i,this.project(_,haxepunk_masks_Polygon.firstProj),e.project(_,haxepunk_masks_Polygon.secondProj),t=a*_.x+n*_.y,haxepunk_masks_Polygon.firstProj.min+=t,haxepunk_masks_Polygon.firstProj.max+=t;r=haxepunk_masks_Polygon.firstProj,o=haxepunk_masks_Polygon.secondProj;if(r.min>o.max||r.max<o.min)return!1}return!0},project:function(e,t){for(var a=this._points[0],n=e.x*a.x+e.y*a.y,i=n,s=1,_=this._points.length;s<_;){var r=s++;a=this._points[r];var o=e.x*a.x+e.y*a.y;o<n?n=o:o>i&&(i=o)}t.min=n,t.max=i},debugDraw:function(e){var t=this._parent.get_x()+this._x-e.x,a=this._parent.get_y()+this._y-e.y,n=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,i=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY;null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2);var s=haxepunk_Mask.drawContext;null==(L=.3)&&(L=1),null==(R=255)&&(R=16777215),s.color=R,s.alpha=L;for(var _=1,r=this._points.length+1;_<r;){var o=_++,l=o-1,h=o%this._points.length;s.line((this._points[l].x+t)*n,(this._points[l].y+a)*i,(this._points[h].x+t)*n,(this._points[h].y+a)*i)}var u=(t+this.origin.x)*n,p=(a+this.origin.y)*i,c=2*Math.PI/25,d=s.lineThickness/2,f=2-d,m=2+d,g={x:0,y:0},x={x:0,y:0},k={x:0,y:0},y={x:0,y:0};null==s.shader&&(s.shader=new haxepunk_graphics_shader_ColorShader);var b=null==s.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:s.scene;s.command=b.batch.getDrawCommand(null,s.shader,s.smooth,s.blend,null);for(_=0,r=26;_<r;){var v=_++,P=v*c,w=Math.sin(P),T=Math.cos(P);if(haxepunk_math_Vector2.setTo(g,u+w*f,p+T*f),haxepunk_math_Vector2.setTo(x,u+w*m,p+T*m),0!=v){var C=y.x,S=y.y,A=k.x,E=k.y,D=x.x,M=x.y,R=s.color,L=s.alpha;s.scale&&(C*=haxepunk_HXP.screen.scaleX,A*=haxepunk_HXP.screen.scaleX,D*=haxepunk_HXP.screen.scaleX,S*=haxepunk_HXP.screen.scaleY,E*=haxepunk_HXP.screen.scaleY,M*=haxepunk_HXP.screen.scaleY);var I=s.command;if(L>0){var $;if(I.shader.attributeNames.length<=0){var B,O=I.visibleArea;if((C>A?A>D?D:A:C>D?D:C)<=O.x+O.width&&(C<A?A<D?D:A:C<D?D:C)>=I.visibleArea.x){var G=I.visibleArea;B=(S>E?E>M?M:E:S>M?M:S)<=G.y+G.height}else B=!1;$=B&&(S<E?E<M?M:E:S<M?M:S)>=I.visibleArea.y}else $=!0;if($){var F;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(F=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,F._next=null):F=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var N=F;N.tx1=C,N.ty1=S,N.uvx1=0,N.uvy1=0,N.tx2=A,N.ty2=E,N.uvx2=0,N.uvy2=0,N.tx3=D,N.ty3=M,N.uvx3=0,N.uvy3=0,N.color=R,N.alpha=L,null==I.data?I.data=N:I._lastData._next=N,I._lastData=N,++I.triangleCount;l=N.tx1,h=N.tx2;var H=N.tx3,U=l>h?h>H?H:h:l>H?H:l,X=N.tx1,V=N.tx2,j=N.tx3,z=X<V?V<j?j:V:X<j?j:X,W=N.ty1,Y=N.ty2,K=N.ty3,q=W>Y?Y>K?K:Y:W>K?K:W,J=N.ty1,Z=N.ty2,Q=N.ty3,ee=J<Z?Z<Q?Q:Z:J<Q?Q:J;if(0==I.bounds.width)I.bounds.x=U,I.bounds.width=z-U;else{U<I.bounds.x&&(I.bounds.width+=I.bounds.x-U,I.bounds.x=U);var te=I.bounds;z>te.x+te.width&&(I.bounds.width=z-I.bounds.x)}if(0==I.bounds.height)I.bounds.y=q,I.bounds.height=ee-q;else{q<I.bounds.y&&(I.bounds.height+=I.bounds.y-q,I.bounds.y=q);var ae=I.bounds;ee>ae.y+ae.height&&(I.bounds.height=ee-I.bounds.y)}}}var ne=y.x,ie=y.y,se=x.x,_e=x.y,re=g.x,oe=g.y,le=s.color,he=s.alpha;s.scale&&(ne*=haxepunk_HXP.screen.scaleX,se*=haxepunk_HXP.screen.scaleX,re*=haxepunk_HXP.screen.scaleX,ie*=haxepunk_HXP.screen.scaleY,_e*=haxepunk_HXP.screen.scaleY,oe*=haxepunk_HXP.screen.scaleY);var ue=s.command;if(he>0){var pe;if(ue.shader.attributeNames.length<=0){var ce,de=ue.visibleArea;if((ne>se?se>re?re:se:ne>re?re:ne)<=de.x+de.width&&(ne<se?se<re?re:se:ne<re?re:ne)>=ue.visibleArea.x){var fe=ue.visibleArea;ce=(ie>_e?_e>oe?oe:_e:ie>oe?oe:ie)<=fe.y+fe.height}else ce=!1;pe=ce&&(ie<_e?_e<oe?oe:_e:ie<oe?oe:ie)>=ue.visibleArea.y}else pe=!0;if(pe){var me;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(me=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,me._next=null):me=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var ge=me;ge.tx1=ne,ge.ty1=ie,ge.uvx1=0,ge.uvy1=0,ge.tx2=se,ge.ty2=_e,ge.uvx2=0,ge.uvy2=0,ge.tx3=re,ge.ty3=oe,ge.uvx3=0,ge.uvy3=0,ge.color=le,ge.alpha=he,null==ue.data?ue.data=ge:ue._lastData._next=ge,ue._lastData=ge,++ue.triangleCount;var xe=ge.tx1,ke=ge.tx2,ye=ge.tx3,be=xe>ke?ke>ye?ye:ke:xe>ye?ye:xe,ve=ge.tx1,Pe=ge.tx2,we=ge.tx3,Te=ve<Pe?Pe<we?we:Pe:ve<we?we:ve,Ce=ge.ty1,Se=ge.ty2,Ae=ge.ty3,Ee=Ce>Se?Se>Ae?Ae:Se:Ce>Ae?Ae:Ce,De=ge.ty1,Me=ge.ty2,Re=ge.ty3,Le=De<Me?Me<Re?Re:Me:De<Re?Re:De;if(0==ue.bounds.width)ue.bounds.x=be,ue.bounds.width=Te-be;else{be<ue.bounds.x&&(ue.bounds.width+=ue.bounds.x-be,ue.bounds.x=be);var Ie=ue.bounds;Te>Ie.x+Ie.width&&(ue.bounds.width=Te-ue.bounds.x)}if(0==ue.bounds.height)ue.bounds.y=Ee,ue.bounds.height=Le-Ee;else{Ee<ue.bounds.y&&(ue.bounds.height+=ue.bounds.y-Ee,ue.bounds.y=Ee);var $e=ue.bounds;Le>$e.y+$e.height&&(ue.bounds.height=Le-ue.bounds.y)}}}}k.x=x.x,k.y=x.y,y.x=g.x,y.y=g.y}},get_angle:function(){return this._angle},set_angle:function(e){return e!=this._angle&&(this.rotate(e-this._angle),null==this.list&&null==(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)||this.update()),e},get_points:function(){return this._points},set_points:function(e){return this._points!=e&&(this._points=e,null==this.list&&null==(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)||this.updateAxes()),e},update:function(){this.project(haxepunk_masks_Polygon.horizontal,haxepunk_masks_Polygon.firstProj);var e=Math.round(haxepunk_masks_Polygon.firstProj.min);this._width=Math.round(haxepunk_masks_Polygon.firstProj.max-haxepunk_masks_Polygon.firstProj.min),this.project(haxepunk_masks_Polygon.vertical,haxepunk_masks_Polygon.secondProj);var t=Math.round(haxepunk_masks_Polygon.secondProj.min);this._height=Math.round(haxepunk_masks_Polygon.secondProj.max-haxepunk_masks_Polygon.secondProj.min),this.minX=this._x+e,this.minY=this._y+t,this.maxX=Math.round(this.minX+this._width),this.maxY=Math.round(this.minY+this._height),null!=this.list?this.list.update():null!=(this._parent!=haxepunk_Entity._EMPTY?this._parent:null)&&(this._parent.originX=-this._x-e,this._parent.originY=-this._y-t,this._parent.set_width(this._width),this._parent.set_height(this._height))},rotate:function(e){var t;this._angle+=e,e*=Math.PI/-180;for(var a=0,n=this._points.length;a<n;){var i=a++,s=(t=this._points[i]).x-this.origin.x,_=t.y-this.origin.y,r=Math.atan2(_,s),o=Math.sqrt(s*s+_*_);t.x=Math.cos(r+e)*o+this.origin.x,t.y=Math.sin(r+e)*o+this.origin.y}for(a=0,n=this._axes;a<n.length;){var l=n[a];++a;var h=Math.atan2(l.y,l.x);l.x=Math.cos(h+e),l.y=Math.sin(h+e)}},generateAxes:function(){var e;this._axes=[];for(var t,a=this._points.length,n=0,i=a-1;n<a;){(t={x:0,y:0}).x=this._points[n].x-this._points[i].x,t.y=this._points[n].y-this._points[i].y,e=t.y,t.y=-t.x,t.x=e;var s=1;if(null==s&&(s=1),0!=t.x||0!=t.y){var _=s/Math.sqrt(t.x*t.x+t.y*t.y);t.x*=_,t.y*=_}this._axes.push(t),i=n,++n}},removeDuplicateAxes:function(){for(var e=this._axes.length-1,t=e-1;e>0;)(Math.abs(this._axes[e].x-this._axes[t].x)<haxepunk_masks_Polygon.EPSILON&&Math.abs(this._axes[e].y-this._axes[t].y)<haxepunk_masks_Polygon.EPSILON||Math.abs(this._axes[t].x+this._axes[e].x)<haxepunk_masks_Polygon.EPSILON&&Math.abs(this._axes[e].y+this._axes[t].y)<haxepunk_masks_Polygon.EPSILON)&&(this._axes.splice(e,1),--e),--t<0&&(t=--e-1)},updateAxes:function(){this.generateAxes(),this.removeDuplicateAxes(),this.update()},__class__:haxepunk_masks_Polygon,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{set_points:"set_points",get_points:"get_points",set_angle:"set_angle",get_angle:"get_angle"})});var haxepunk_masks_SlopedGrid=function(e,t,a,n,i,s){if(null==s&&(s=0),null==i&&(i=0),haxepunk_masks_Hitbox.call(this),0==e||0==t||0==a||0==n)throw haxe_Exception.thrown("Illegal Grid, sizes cannot be 0.");this._rect=haxepunk_HXP.rect,this._point=haxepunk_HXP.point,this._point2=haxepunk_HXP.point2,this.columns=e/a|0,this.rows=t/n|0,this._tile=new haxepunk_math_Rectangle(0,0,a,n),this._x=i,this._y=s,this._width=e,this._height=t,this.usePositions=!1;var _=this._check,r=haxepunk_Mask.__name__;_.h[r]=$bind(this,this.collideMask);_=this._check,r=haxepunk_masks_Hitbox.__name__;_.h[r]=$bind(this,this.collideHitbox),this.data=[];for(var o=0,l=this.rows;o<l;){i=o++;this.data.push([]);for(var h=0,u=this.columns;h<u;){s=h++;this.data[i][s]=haxepunk_masks_SlopedGrid._emptyTile}}};$hxClasses["haxepunk.masks.SlopedGrid"]=haxepunk_masks_SlopedGrid,haxepunk_masks_SlopedGrid.__name__="haxepunk.masks.SlopedGrid",haxepunk_masks_SlopedGrid.__super__=haxepunk_masks_Hitbox,haxepunk_masks_SlopedGrid.prototype=$extend(haxepunk_masks_Hitbox.prototype,{collidePoint:function(e,t){var a,n=this._x+this._parent.get_x(),i=this._y+this._parent.get_y(),s=(e-n)/this._tile.width|0,_=(t-i)/this._tile.height|0,r=n+s*this._tile.width,o=i+_*this._tile.height,l=s,h=_;if(null==h&&(h=0),null==l&&(l=0),l>=0&&l<this.columns&&h>=0&&h<this.rows?(this.usePositions&&(l=l/this._tile.width|0,h=h/this._tile.height|0),a=this.data[h][l]):a=haxepunk_masks_SlopedGrid._emptyTile,null!=a){if(1==a.type)return!0;if(2==a.type||3==a.type){var u=o;u+=a.yOffset;var p=(r+this._tile.width-r)*(t-u)>(u+a.slope*this._tile.width-u)*(e-r);if(2==a.type&&!p||3==a.type&&p)return!0}}return!1},collidePointInSlope:function(e,t,a,n,i){t+=i.yOffset;var s=(e+this._tile.width-e)*(n-t)>(t+i.slope*this._tile.width-t)*(a-e);return 2==i.type&&!s||3==i.type&&s},setTile:function(e,t,a,n,i){if(null==i&&(i=0),null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),e>=0&&e<this.columns&&t>=0&&t<this.rows)if(null==a&&(a=1),this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0),null==a)this.data[t][e]={type:a,slope:n,yOffset:i*this._tile.height};else switch(a){case 4:this.data[t][e]={type:2,slope:-1,yOffset:this._tile.height};break;case 5:this.data[t][e]={type:2,slope:1,yOffset:0};break;case 6:this.data[t][e]={type:3,slope:1,yOffset:0};break;case 7:this.data[t][e]={type:3,slope:-1,yOffset:this._tile.height};break;default:this.data[t][e]={type:a,slope:n,yOffset:i*this._tile.height}}},clearTile:function(e,t){null==t&&(t=0),null==e&&(e=0),this.setTile(e,t,0)},checkTile:function(e,t){return e>=0&&e<this.columns&&t>=0&&t<this.rows},getTile:function(e,t){return null==t&&(t=0),null==e&&(e=0),e>=0&&e<this.columns&&t>=0&&t<this.rows?(this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0),this.data[t][e]):haxepunk_masks_SlopedGrid._emptyTile},setRect:function(e,t,a,n,i,s,_){null==_&&(_=0),null==s&&(s=0),null==n&&(n=1),null==a&&(a=1),null==t&&(t=0),null==e&&(e=0),null==i&&(i=1),this.usePositions&&(e=e/this._tile.width|0,t=t/this._tile.height|0,a=a/this._tile.width|0,n=n/this._tile.height|0);for(var r=t,o=t+n;r<o;)for(var l=r++,h=e,u=e+a;h<u;){var p=h++;this.setTile(p,l,i,s,_)}},clearRect:function(e,t,a,n){null==n&&(n=1),null==a&&(a=1),null==t&&(t=0),null==e&&(e=0),this.setRect(e,t,a,n,0)},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},collideBox:function(e,t,a,n,i,s){this._rect.x=e-i,this._rect.y=t-s;for(var _=this._rect.x/this._tile.width|0,r=this._rect.y/this._tile.height|0,o=1+((this._rect.x+a-1)/this._tile.width|0),l=1+((this._rect.y+n-1)/this._tile.height|0),h=s+r*this._tile.height,u=r,p=l;u<p;){for(var c=u++,d=i+_*this._tile.width,f=_,m=o;f<m;){var g,x=f++,k=c;if(null==k&&(k=0),null==x&&(x=0),x>=0&&x<this.columns&&k>=0&&k<this.rows?(this.usePositions&&(x=x/this._tile.width|0,k=k/this._tile.height|0),g=this.data[k][x]):g=haxepunk_masks_SlopedGrid._emptyTile,null!=g){switch(g.type){case 1:return!0;case 2:var y=e,b=t;g.slope>0&&(y+=a),y=haxepunk_math_MathUtil.clamp(y,d,d+(0|this._tile.width)),b=haxepunk_math_MathUtil.clamp(b,h,h+(0|this._tile.height));var v=h;v+=g.yOffset;var P=(d+this._tile.width-d)*(b-v)>(v+g.slope*this._tile.width-v)*(y-d);if(2==g.type&&!P||3==g.type&&P)return!0;break;case 3:var w=e,T=t+n;g.slope<0&&(w+=a),w=haxepunk_math_MathUtil.clamp(w,d,d+(0|this._tile.width)),T=haxepunk_math_MathUtil.clamp(T,h,h+(0|this._tile.height));var C=h;C+=g.yOffset;var S=(d+this._tile.width-d)*(T-C)>(C+g.slope*this._tile.width-C)*(w-d);if(2==g.type&&!S||3==g.type&&S)return!0}d+=this._tile.width}}h+=this._tile.height}return!1},collideMask:function(e){this._x,this._parent.get_x(),this._y,this._parent.get_y();return this.collideBox(e._parent.get_x()-e._parent.originX,e._parent.get_y()-e._parent.originY,e._parent.get_width(),e._parent.get_height(),this._parent.get_x()+this._parent.originX,this._parent.get_y()+this._parent.originY)},collideHitbox:function(e){var t=this._x+this._parent.get_x(),a=this._y+this._parent.get_y(),n=e._x+e._parent.get_x(),i=e._y+e._parent.get_y();return this.collideBox(n,i,e._width,e._height,t,a)},debugDraw:function(e){null==haxepunk_Mask.drawContext&&(haxepunk_Mask.drawContext=new haxepunk_utils_DrawContext,haxepunk_Mask.drawContext.lineThickness=2);var t,a=haxepunk_Mask.drawContext,n=e.scale*e.scaleX*haxepunk_HXP.screen.scaleX,i=e.scale*e.scaleY*haxepunk_HXP.screen.scaleY,s=(0|this._tile.width)*n,_=(0|this._tile.height)*i,r=this._x+this._parent.get_x()-e.x,o=this._y+this._parent.get_y()-e.y,l=Math.floor(-r/(0|this._tile.width)),h=Math.floor(-o/(0|this._tile.height)),u=l+1+Math.ceil(haxepunk_HXP.width/(0|this._tile.width)),p=h+1+Math.ceil(haxepunk_HXP.height/(0|this._tile.height));if(!(l>this.columns||h>this.rows||u<0||p<0)){var c;l<0&&(l=0),u>this.columns&&(u=this.columns),h<0&&(h=0),p>this.rows&&(p=this.rows),r=(r+l*(0|this._tile.width))*n,o=(o+h*(0|this._tile.height))*i,a.lineThickness=2;for(var d=o,f=h,m=p;f<m;){var g=f++;t=r,c=this.data[g];for(var x=l,k=u;x<k;){var y=x++,b=c[y];if(null!=b)if(1==b.type){var v=16777215,P=.3;null==P&&(P=1),null==v&&(v=16777215),a.color=v,a.alpha=P,a.rect(t,d,s,_);var w=255,T=1;null==T&&(T=1),null==w&&(w=16777215),a.color=w,a.alpha=T,y<this.columns-1&&0==c[y+1].type&&a.line(t+s,d,t+s,d+_),y>0&&0==c[y-1].type&&a.line(t,d,t,d+_),g<this.rows-1&&0==this.data[g+1][y].type&&a.line(t,d+_,t+s,d+_),g>0&&0==this.data[g-1][y].type&&a.line(t,d,t+s,d)}else if(3==b.type||2==b.type){var C=b.yOffset*i,S=b.slope*i/n,A=t,E=s,D=d+C,M=S*E;if(C<0){var R=-C/S;E=s-R,A=t+R,D=d,(g<=0||1==this.data[g-1][y].type)&&a.line(t,D,A,D)}else if(C>_){var L=-(C-s)/S;E=s-L,A=t+L,D=d+_,(g>=this.rows-1||1==this.data[g+1][y].type)&&a.line(t,D,A,D)}else if(C+M<0){var I=-C/S;E=I,(g<=0||1==this.data[g-1][y].type)&&a.line(t+I,d,t+s,d)}else if(C+M>_){var $=-(C-s)/S;E=$,(g>=this.rows-1||1==this.data[g+1][y].type)&&a.line(t+$,d+_,t+s,d+_)}M=S*E,a.line(A,D,A+E,D+M)}t+=s}d+=_}}},__class__:haxepunk_masks_SlopedGrid,__properties__:$extend(haxepunk_masks_Hitbox.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var haxepunk_math_MakeConvex=function(){};$hxClasses["haxepunk.math.MakeConvex"]=haxepunk_math_MakeConvex,haxepunk_math_MakeConvex.__name__="haxepunk.math.MakeConvex",haxepunk_math_MakeConvex.findInvalid=function(e){for(var t=[],a=e.length,n=0,i=a;n<i;){var s=n++,_=e[s],r=e[(s+1)%a],o=e[(s+2)%a],l=haxepunk_math_Point.subR(r,_),h=haxepunk_math_Point.subR(o,r);haxepunk_math_Point.dot(haxepunk_math_Point.orthoR(l),h)<0&&t.push((s+1)%a)}return t},haxepunk_math_MakeConvex.run=function(e){for(var t=e.slice(),a=[],n=haxepunk_math_MakeConvex.findInvalid(t),i=t.length,s=n.length;(s=n.length)>0;){for(var _=0,r=0,o=s;r<o;){var l=r++;if(1==s||(n[l]+1)%i!=n[(l+1)%s]){_=n[l];break}}for(var h=t[_],u=haxepunk_math_Point.subR(t[(_+1)%i],h),p=!1,c=0,d=2,f=i;d<f;){var m=d++,g=(_+m)%i,x=t[g];if(n.indexOf(g)>-1?(p=!0,c=g):haxepunk_math_Point.dot(haxepunk_math_Point.orthoR(haxepunk_math_Point.subR(h,x)),u)<0&&(p=!0,c=(_+m-1)%i),p){for(var k=[],y=_;k.push(t[y]),y!=c;)y=(y+1)%i;a.push(k);for(var b=[],v=0,P=t;v<P.length;){var w=P[v];++v,-1!=k.indexOf(w)&&w!=h&&w!=t[c]||b.push(w)}i=(t=b).length,0==(n=haxepunk_math_MakeConvex.findInvalid(t)).length&&a.push(t);break}}}return 0==a.length?[e]:a};var haxepunk_math_Point={_new:function(e,t){null==t&&(t=0),null==e&&(e=0);var a=e,n=t;return null==n&&(n=0),null==a&&(a=0),{x:a,y:n}},fromStruct:function(e){return haxepunk_math_Point._new(e.x,e.y)},addR:function(e,t){return haxepunk_math_Point._new(e.x+t.x,e.y+t.y)},subR:function(e,t){return haxepunk_math_Point.addR(e,haxepunk_math_Point.negR(t))},negR:function(e){return haxepunk_math_Point._new(-e.x,-e.y)},dot:function(e,t){return e.x*t.x+e.y*t.y},orthoR:function(e){return haxepunk_math_Point._new(e.y,-e.x)}},haxepunk_math_MathUtil=function(){};$hxClasses["haxepunk.math.MathUtil"]=haxepunk_math_MathUtil,haxepunk_math_MathUtil.__name__="haxepunk.math.MathUtil",haxepunk_math_MathUtil.__properties__={get_RAD:"get_RAD",get_DEG:"get_DEG",get_NUMBER_MAX_VALUE:"get_NUMBER_MAX_VALUE"},haxepunk_math_MathUtil.get_NUMBER_MAX_VALUE=function(){return 179*Math.pow(10,306)},haxepunk_math_MathUtil.get_DEG=function(){return-180/Math.PI},haxepunk_math_MathUtil.get_RAD=function(){return Math.PI/-180},haxepunk_math_MathUtil.sign=function(e){return e<0?-1:e>0?1:0},haxepunk_math_MathUtil.approach=function(e,t,a){return e<t-a?e+a:e>t+a?e-a:t},haxepunk_math_MathUtil.lerp=function(e,t,a){return null==a&&(a=1),e+(t-e)*a},haxepunk_math_MathUtil.ilerp=function(e,t,a){null==a&&(a=1);var n=a;return null==n&&(n=1),0|Math.round(e+(t-e)*n)},haxepunk_math_MathUtil.stepTowards=function(e,t,a,n){null==n&&(n=1),haxepunk_math_MathUtil.point.x=t-e.x,haxepunk_math_MathUtil.point.y=a-e.y;var i=haxepunk_math_MathUtil.point;if(Math.sqrt(i.x*i.x+i.y*i.y)<=n)return e.x=t,void(e.y=a);var s=n;if(null==s&&(s=1),0!=(i=haxepunk_math_MathUtil.point).x||0!=i.y){var _=s/Math.sqrt(i.x*i.x+i.y*i.y);i.x*=_,i.y*=_}e.x+=haxepunk_math_MathUtil.point.x,e.y+=haxepunk_math_MathUtil.point.y},haxepunk_math_MathUtil.anchorTo=function(e,t,a){null==a&&(a=0),haxepunk_math_MathUtil.point.x=e.x-t.x,haxepunk_math_MathUtil.point.y=e.y-t.y;var n=haxepunk_math_MathUtil.point;if(Math.sqrt(n.x*n.x+n.y*n.y)>a){var i=a;if(null==i&&(i=1),0!=(n=haxepunk_math_MathUtil.point).x||0!=n.y){var s=i/Math.sqrt(n.x*n.x+n.y*n.y);n.x*=s,n.y*=s}}e.x=t.x+haxepunk_math_MathUtil.point.x,e.y=t.y+haxepunk_math_MathUtil.point.y},haxepunk_math_MathUtil.angle=function(e,t,a,n){var i=Math.atan2(n-t,a-e)*(-180/Math.PI);return i<0?i+360:i},haxepunk_math_MathUtil.angleXY=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=0),null==a&&(a=1),t*=Math.PI/-180,e.x=Math.cos(t)*a+n,e.y=Math.sin(t)*a+i},haxepunk_math_MathUtil.angleDifference=function(e,t){for(var a=t-e;a<-180;)a+=360;for(;a>180;)a-=360;return a},haxepunk_math_MathUtil.rotateAround=function(e,t,a,n){if(null==n&&(n=!0),null==a&&(a=0),n){var i=Math.atan2(e.y-t.y,e.x-t.x)*(-180/Math.PI);a+=i<0?i+360:i}var s=a,_=t.x,r=t.y,o=e.x,l=e.y;null==l&&(l=0),null==o&&(o=0);var h=Math.sqrt((o-_)*(o-_)+(l-r)*(l-r)),u=t.x,p=t.y;null==p&&(p=0),null==u&&(u=0),null==h&&(h=1),s*=Math.PI/-180,e.x=Math.cos(s)*h+u,e.y=Math.sin(s)*h+p},haxepunk_math_MathUtil.roundTo=function(e,t){null==t&&(t=0);var a=Math.pow(10,t);return Math.round(e*a)/a},haxepunk_math_MathUtil.distance=function(e,t,a,n){return null==n&&(n=0),null==a&&(a=0),Math.sqrt((a-e)*(a-e)+(n-t)*(n-t))},haxepunk_math_MathUtil.distanceSquared=function(e,t,a,n){return null==n&&(n=0),null==a&&(a=0),(a-e)*(a-e)+(n-t)*(n-t)},haxepunk_math_MathUtil.distanceRects=function(e,t,a,n,i,s,_,r){if(e<i+_&&i<e+a)return t<s+r&&s<t+n?0:t>s?t-(s+r):s-(t+n);if(t<s+r&&s<t+n)return e>i?e-(i+_):i-(e+a);if(e>i){if(t>s)return null==(u=s+r)&&(u=0),null==(h=i+_)&&(h=0),Math.sqrt((h-e)*(h-e)+(u-t)*(u-t));var o=t+n;return null==(u=s)&&(u=0),null==(h=i+_)&&(h=0),Math.sqrt((h-e)*(h-e)+(u-o)*(u-o))}if(t>s){var l=e+a;return null==(u=s+r)&&(u=0),null==(h=i)&&(h=0),Math.sqrt((h-l)*(h-l)+(u-t)*(u-t))}var h,u;l=e+a,o=t+n;return null==(u=s)&&(u=0),null==(h=i)&&(h=0),Math.sqrt((h-l)*(h-l)+(u-o)*(u-o))},haxepunk_math_MathUtil.distanceRectPoint=function(e,t,a,n,i,s){return e>=a&&e<=a+i?t>=n&&t<=n+s?0:t>n?t-(n+s):n-t:t>=n&&t<=n+s?e>a?e-(a+i):a-e:e>a?t>n?(null==(r=n+s)&&(r=0),null==(_=a+i)&&(_=0),Math.sqrt((_-e)*(_-e)+(r-t)*(r-t))):(null==(r=n)&&(r=0),null==(_=a+i)&&(_=0),Math.sqrt((_-e)*(_-e)+(r-t)*(r-t))):t>n?(null==(r=n+s)&&(r=0),null==(_=a)&&(_=0),Math.sqrt((_-e)*(_-e)+(r-t)*(r-t))):(null==(r=n)&&(r=0),null==(_=a)&&(_=0),Math.sqrt((_-e)*(_-e)+(r-t)*(r-t)));var _,r},haxepunk_math_MathUtil.clamp=function(e,t,a){return a>t?e<t?t:e>a?a:e:e<a?a:e>t?t:e},haxepunk_math_MathUtil.iclamp=function(e,t,a){return a>t?e<t?t:e>a?a:e:e<a?a:e>t?t:e},haxepunk_math_MathUtil.clampInRect=function(e,t,a,n,i,s){null==s&&(s=0),e.x=haxepunk_math_MathUtil.clamp(e.x,t+s,t+n-s),e.y=haxepunk_math_MathUtil.clamp(e.y,a+s,a+i-s)},haxepunk_math_MathUtil.scale=function(e,t,a,n,i){return n+(e-t)/(a-t)*(i-n)},haxepunk_math_MathUtil.scaleClamp=function(e,t,a,n,i){return e=n+(e-t)/(a-t)*(i-n),i>n?(e<i||(e=i),e>n?e:n):(e<n||(e=n),e>i?e:i)},haxepunk_math_MathUtil.iround=function(e){return 0|Math.round(e)},haxepunk_math_MathUtil.abs=function(e){return e<0?-e:e},haxepunk_math_MathUtil.iabs=function(e){return e<0?-e:e},haxepunk_math_MathUtil.max=function(e,t){return e<t?t:e},haxepunk_math_MathUtil.maxOf3=function(e,t,a){return e<t?t<a?a:t:e<a?a:e},haxepunk_math_MathUtil.imax=function(e,t){return e<t?t:e},haxepunk_math_MathUtil.min=function(e,t){return e>t?t:e},haxepunk_math_MathUtil.minOf3=function(e,t,a){return e>t?t>a?a:t:e>a?a:e},haxepunk_math_MathUtil.imin=function(e,t){return e>t?t:e},haxepunk_math_MathUtil.sin=function(e){return Math.sin(e)},haxepunk_math_MathUtil.cos=function(e){return Math.cos(e)},haxepunk_math_MathUtil.tan=function(e){return Math.tan(e)},haxepunk_math_MathUtil.acos=function(e){return Math.acos(e)},haxepunk_math_MathUtil.asin=function(e){return Math.asin(e)},haxepunk_math_MathUtil.atan=function(e){return Math.atan(e)},haxepunk_math_MathUtil.atan2=function(e,t){return Math.atan2(e,t)},haxepunk_math_MathUtil.sqrt=function(e){return Math.sqrt(e)},haxepunk_math_MathUtil.floor=function(e){return Math.floor(e)},haxepunk_math_MathUtil.ceil=function(e){return Math.ceil(e)},haxepunk_math_MathUtil.random=function(){return Math.random()},haxepunk_math_MathUtil.round=function(e){return Math.round(e)},haxepunk_math_MathUtil.roundDecimal=function(e,t){return(e*Math.pow(10,t)|0)/Math.pow(10,t)},haxepunk_math_MathUtil.pow=function(e,t){return Math.pow(e,t)},haxepunk_math_MathUtil.log=function(e){return Math.log(e)};var haxepunk_math_Random=function(){};$hxClasses["haxepunk.math.Random"]=haxepunk_math_Random,haxepunk_math_Random.__name__="haxepunk.math.Random",haxepunk_math_Random.__properties__={get_random:"get_random",set_randomSeed:"set_randomSeed",get_randomSeed:"get_randomSeed"},haxepunk_math_Random.get_randomSeed=function(){return haxepunk_math_Random._seed},haxepunk_math_Random.set_randomSeed=function(e){return haxepunk_math_Random._seed=0|haxepunk_math_MathUtil.clamp(e,1,2147483646),haxepunk_math_Random._seed},haxepunk_math_Random.randomizeSeed=function(){haxepunk_math_Random._seed=0|haxepunk_math_MathUtil.clamp(2147483647*Math.random()|0,1,2147483646)},haxepunk_math_Random.get_random=function(){return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,haxepunk_math_Random._seed/2147483647},haxepunk_math_Random.randInt=function(e){return haxepunk_math_Random._seed=16807*haxepunk_math_Random._seed%2147483647|0,haxepunk_math_Random._seed/2147483647*e|0};var haxepunk_math_Vector2={__properties__:{set_length:"set_length",get_length:"get_length"},_new:function(e,t){return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},fromObj:function(e){var t=e.get_x(),a=e.get_y();return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}},get_length:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},set_length:function(e,t){var a=t;if(null==a&&(a=1),0!=e.x||0!=e.y){var n=a/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=n,e.y*=n}return t},setTo:function(e,t,a){return e.x=t,e.y=a,e},perpendicular:function(e){return haxepunk_math_Vector2.setTo(e,-e.y,e.x),e},inverse:function(e){return e.x=-e.x,e.y=-e.y,e},neg:function(e){var t=e.x,a=e.y;null==a&&(a=0),null==t&&(t=0);var n=e={x:t,y:a};return n.x=-n.x,n.y=-n.y,n},copyFrom:function(e,t){return e.x=t.x,e.y=t.y,e},scale:function(e,t){return e.x*=t,e.y*=t,e},mult:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x*=t,i.y*=t,i},div:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n},s=1/t;return i.x*=s,i.y*=s,i},add:function(e,t){return e.x+=t.x,e.y+=t.y,e},plus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x+=t.x,i.y+=t.y,i},subtract:function(e,t){return e.x-=t.x,e.y-=t.y,e},minus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x-=t.x,i.y-=t.y,i},distance:function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)},normalize:function(e,t){if(null==t&&(t=1),0!=e.x||0!=e.y){var a=t/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=a,e.y*=a}return e},rotate:function(e,t){var a=Math.sin(t),n=Math.cos(t);return haxepunk_math_Vector2.setTo(e,n*e.x-a*e.y,a*e.x+n*e.y),e},rotated:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n},s=Math.sin(t),_=Math.cos(t);return haxepunk_math_Vector2.setTo(i,_*i.x-s*i.y,s*i.x+_*i.y),i},dot:function(e,t){return e.x*t.x+e.y*t.y},zcross:function(e,t){return e.x*t.y-e.y*t.x},clone:function(e){var t=e.x,a=e.y;return null==a&&(a=0),null==t&&(t=0),e={x:t,y:a}}},haxepunk_screen_ScaleMode=function(e){null==e&&(e=!1),this.baseHeight=0,this.baseWidth=0,this.integer=!1,this.integer=e,this.setBaseSize(haxepunk_HXP.width,haxepunk_HXP.height)};$hxClasses["haxepunk.screen.ScaleMode"]=haxepunk_screen_ScaleMode,haxepunk_screen_ScaleMode.__name__="haxepunk.screen.ScaleMode",haxepunk_screen_ScaleMode.prototype={setBaseSize:function(e,t){null==t&&(t=-1),null==e&&(e=-1),-1==e&&(e=haxepunk_HXP.width),-1==t&&(t=haxepunk_HXP.height),this.baseWidth=e,this.baseHeight=t},resize:function(e,t){haxepunk_HXP.screen.x=haxepunk_HXP.screen.y=0,haxepunk_HXP.screen.set_scaleX(e/this.baseWidth),haxepunk_HXP.screen.set_scaleY(t/this.baseHeight),haxepunk_HXP.screen.width=e,haxepunk_HXP.screen.height=t,this.integer&&(haxepunk_HXP.screen.set_scaleX(0|Math.max(1,haxepunk_HXP.screen.scaleX)),haxepunk_HXP.screen.set_scaleY(0|Math.max(1,haxepunk_HXP.screen.scaleY)))},__class__:haxepunk_screen_ScaleMode};var haxepunk_screen_UniformScaleMode=function(e,t){null==t&&(t=!1),null==e&&(e=1),haxepunk_screen_ScaleMode.call(this,t),this.type=e};$hxClasses["haxepunk.screen.UniformScaleMode"]=haxepunk_screen_UniformScaleMode,haxepunk_screen_UniformScaleMode.__name__="haxepunk.screen.UniformScaleMode",haxepunk_screen_UniformScaleMode.__super__=haxepunk_screen_ScaleMode,haxepunk_screen_UniformScaleMode.prototype=$extend(haxepunk_screen_ScaleMode.prototype,{resize:function(e,t){var a=e/this.baseWidth,n=t/this.baseHeight,i=0==this.type,s=(this.type,i?Math.max(a,n):Math.min(a,n));switch(this.integer&&(s=0|(i?Math.ceil(s):Math.floor(s)))<1&&(s=1),haxepunk_HXP.screen.set_scaleX(haxepunk_HXP.screen.set_scaleY(s)),this.type){case 0:case 1:haxepunk_HXP.screen.x=haxepunk_HXP.screen.y=0,haxepunk_HXP.screen.width=e,haxepunk_HXP.screen.height=t;break;case 2:haxepunk_HXP.screen.width=this.baseWidth*s|0,haxepunk_HXP.screen.height=this.baseHeight*s|0,haxepunk_HXP.screen.x=(e-haxepunk_HXP.screen.width)/2|0,haxepunk_HXP.screen.y=(t-haxepunk_HXP.screen.height)/2|0}},__class__:haxepunk_screen_UniformScaleMode});var haxepunk_tweens_misc_Alarm=function(e,t,a){haxepunk_Tween.call(this,e,a,t)};$hxClasses["haxepunk.tweens.misc.Alarm"]=haxepunk_tweens_misc_Alarm,haxepunk_tweens_misc_Alarm.__name__="haxepunk.tweens.misc.Alarm",haxepunk_tweens_misc_Alarm.__super__=haxepunk_Tween,haxepunk_tweens_misc_Alarm.prototype=$extend(haxepunk_Tween.prototype,{reset:function(e){this._target=e,this.start()},get_elapsed:function(){return this._time},get_duration:function(){return this._target},get_remaining:function(){return this._target-this._time},__class__:haxepunk_tweens_misc_Alarm,__properties__:$extend(haxepunk_Tween.prototype.__properties__,{get_remaining:"get_remaining",get_duration:"get_duration",get_elapsed:"get_elapsed"})});var haxepunk_tweens_misc_MultiVarTween=function(e){this._vars=[],this._start=[],this._range=[],haxepunk_Tween.call(this,0,e)};$hxClasses["haxepunk.tweens.misc.MultiVarTween"]=haxepunk_tweens_misc_MultiVarTween,haxepunk_tweens_misc_MultiVarTween.__name__="haxepunk.tweens.misc.MultiVarTween",haxepunk_tweens_misc_MultiVarTween.__super__=haxepunk_Tween,haxepunk_tweens_misc_MultiVarTween.prototype=$extend(haxepunk_Tween.prototype,{tween:function(e,t,a,n){this._object=e,this._vars.length=0,this._start.length=0,this._range.length=0,this._target=a,this._ease=n;var i=null;if(!Reflect.isObject(t))throw haxe_Exception.thrown("Unsupported MultiVar properties container - use Object containing key/value pairs.");i=Reflect.fields(t);for(var s=0;s<i.length;){var _=i[s];++s;var r=Reflect.getProperty(e,_);if(isNaN(r))throw haxe_Exception.thrown("The property "+_+" is not numeric.");this._vars.push(_),this._start.push(r),this._range.push(Reflect.field(t,_)-r)}this.start()},updateInternal:function(){for(var e=this._vars.length;e-- >0;)Reflect.setProperty(this._object,this._vars[e],this._start[e]+this._range[e]*this._t)},__class__:haxepunk_tweens_misc_MultiVarTween});var haxepunk_tweens_sound_SfxFader=function(e,t){haxepunk_Tween.call(this,0,t),this._sfx=e};$hxClasses["haxepunk.tweens.sound.SfxFader"]=haxepunk_tweens_sound_SfxFader,haxepunk_tweens_sound_SfxFader.__name__="haxepunk.tweens.sound.SfxFader",haxepunk_tweens_sound_SfxFader.__super__=haxepunk_Tween,haxepunk_tweens_sound_SfxFader.prototype=$extend(haxepunk_Tween.prototype,{fadeTo:function(e,t,a){e<0&&(e=0),this._start=this._sfx.get_volume(),this._range=e-this._start,this._target=t,this._ease=a,this.start()},update:function(e){haxepunk_Tween.prototype.update.call(this,e)},crossFade:function(e,t,a,n,i){null==n&&(n=1),this._crossSfx=e,this._crossRange=n,this._start=this._sfx.get_volume(),this._range=-this._start,this._target=a,this._ease=i,t?this._crossSfx.loop(0):this._crossSfx.play(0),this.start()},updateInternal:function(){null!=this._sfx&&this._sfx.set_volume(this._start+this._range*this._t),null!=this._crossSfx&&this._crossSfx.set_volume(this._crossRange*this._t)},finish:function(){haxepunk_Tween.prototype.finish.call(this),null!=this._crossSfx&&(null!=this._sfx&&this._sfx.stop(),this._sfx=this._crossSfx,this._crossSfx=null)},get_sfx:function(){return this._sfx},__class__:haxepunk_tweens_sound_SfxFader,__properties__:$extend(haxepunk_Tween.prototype.__properties__,{get_sfx:"get_sfx"})});var haxepunk_utils_BlendMode={fromFlashBlendMode:function(e){return e}},haxepunk_utils_CircularBuffer=function(e){this.len=0,this.pos=0;var t=new Array(e);this.data=t,this._iterator=new haxepunk_utils__$CircularBuffer_CircularBufferIterator(this)};$hxClasses["haxepunk.utils.CircularBuffer"]=haxepunk_utils_CircularBuffer,haxepunk_utils_CircularBuffer.__name__="haxepunk.utils.CircularBuffer",haxepunk_utils_CircularBuffer.prototype={get_length:function(){return this.len},get_maxLength:function(){return this.data.length},get_first:function(){return this.len<1?null:this.data[this.pos%this.data.length]},get_last:function(){return this.len<1?null:this.data[(this.pos+(this.len-1))%this.data.length]},push:function(e){this.data[(this.pos+this.len)%this.data.length]=e,this.len<this.data.length?++this.len:++this.pos},pop:function(){return this.len<1?null:this.data[(this.pos+this.len--)%this.data.length]},get:function(e){return e<0||e>=this.len?null:this.data[(this.pos+e)%this.data.length]},clear:function(){this.pos=this.len=0},index:function(e){return(this.pos+e)%this.data.length},iterator:function(){return this._iterator.i=0,this._iterator},slice:function(e){var t=e;return null==t&&(t=0),this._iterator.i=t,this._iterator},__class__:haxepunk_utils_CircularBuffer,__properties__:{get_last:"get_last",get_first:"get_first",get_maxLength:"get_maxLength",get_length:"get_length"}};var haxepunk_utils__$CircularBuffer_CircularBufferIterator=function(e){this.i=0,this.buffer=e};$hxClasses["haxepunk.utils._CircularBuffer.CircularBufferIterator"]=haxepunk_utils__$CircularBuffer_CircularBufferIterator,haxepunk_utils__$CircularBuffer_CircularBufferIterator.__name__="haxepunk.utils._CircularBuffer.CircularBufferIterator",haxepunk_utils__$CircularBuffer_CircularBufferIterator.prototype={reset:function(e){null==e&&(e=0),this.i=e},hasNext:function(){return this.i<this.buffer.len},next:function(){var e=this.buffer,t=this.i++;return t<0||t>=e.len?null:e.data[(e.pos+t)%e.data.length]},__class__:haxepunk_utils__$CircularBuffer_CircularBufferIterator};var haxepunk_utils_Color={__properties__:{get_alpha:"get_alpha",get_blue:"get_blue",get_green:"get_green",get_red:"get_red",get_a:"get_a",get_b:"get_b",get_g:"get_g",get_r:"get_r"},colorLerp:function(e,t,a){if(null==a&&(a=1),a<=0)return e;if(a>=1)return t;var n=e>>>24&255,i=e>>>16&255,s=e>>>8&255,_=255&e;return(n+=((t>>>24&255)-n)*a|0)<<24|(i+=((t>>>16&255)-i)*a|0)<<16|(s+=((t>>>8&255)-s)*a|0)<<8|(_+=((255&t)-_)*a|0)},getColorRGB:function(e,t,a){return null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),(255&e)<<16|(255&t)<<8|255&a},getColorRGBFloat:function(e,t,a){var n=256*e|0;e=haxepunk_math_MathUtil.iclamp(n,0,255),n=256*t|0,t=haxepunk_math_MathUtil.iclamp(n,0,255),n=256*a|0;return null==(a=haxepunk_math_MathUtil.iclamp(n,0,255))&&(a=0),null==t&&(t=0),null==e&&(e=0),(255&e)<<16|(255&t)<<8|255&a},getColorHSV:function(e,t,a){e=360*e|0;var n=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),s=a*(1-t),_=a*(1-i*t),r=a*(1-(1-i)*t);switch(n){case 0:return(255*a|0)<<16|(255*r|0)<<8|255*s|0;case 1:return(255*_|0)<<16|(255*a|0)<<8|255*s|0;case 2:return(255*s|0)<<16|(255*a|0)<<8|255*r|0;case 3:return(255*s|0)<<16|(255*_|0)<<8|255*a|0;case 4:return(255*r|0)<<16|(255*s|0)<<8|255*a|0;case 5:return(255*a|0)<<16|(255*s|0)<<8|255*_|0;default:return 0}},get_r:function(e){return e>>>16&255},get_g:function(e){return e>>>8&255},get_b:function(e){return 255&e},get_a:function(e){return e>>>24&255},get_red:function(e){return UInt.toFloat(e>>>16&255)/UInt.toFloat(255)},get_green:function(e){return UInt.toFloat(e>>>8&255)/UInt.toFloat(255)},get_blue:function(e){return UInt.toFloat(255&e)/UInt.toFloat(255)},get_alpha:function(e){return UInt.toFloat(e>>>24&255)/UInt.toFloat(255)},withAlpha:function(e,t){return 16777215&e|(t<=0?0:t>=1?-16777216:(255*t|0)<<24)},getHue:function(e){var t=e>>>16&255,a=e>>>8&255,n=255&e,i=0|Math.max(t,Math.max(a,n)),s=0|Math.min(t,Math.min(a,n)),_=0;return i==s?_=0:i==t?_=(60*(a-n)/(i-s)+360)%360:i==a?_=60*(n-t)/(i-s)+120:i==n&&(_=60*(t-a)/(i-s)+240),_/360},getSaturation:function(e){var t=e>>>16&255,a=e>>>8&255,n=255&e,i=0|Math.max(t,Math.max(a,n));return 0==i?0:(i-(0|Math.min(t,Math.min(a,n))))/i},getValue:function(e){var t=e>>>16&255,a=e>>>8&255,n=255&e;return(0|Math.max(t,Math.max(a,n)))/255},getLuminance:function(e){return UInt.toFloat(e>>>16&255)/UInt.toFloat(255)*.2126+UInt.toFloat(e>>>8&255)/UInt.toFloat(255)*.7152+UInt.toFloat(255&e)/UInt.toFloat(255)*.0722},lerp:function(e,t,a){null==a&&(a=1);var n=a;if(null==n&&(n=1),n<=0)return e;if(n>=1)return t;var i=e>>>24&255,s=e>>>16&255,_=e>>>8&255,r=255&e;return(i+=((t>>>24&255)-i)*n|0)<<24|(s+=((t>>>16&255)-s)*n|0)<<16|(_+=((t>>>8&255)-_)*n|0)<<8|(r+=((255&t)-r)*n|0)},multiply:function(e,t){var a=UInt.toFloat(e>>>16&255)/UInt.toFloat(255)*(UInt.toFloat(t>>>16&255)/UInt.toFloat(255)),n=UInt.toFloat(e>>>8&255)/UInt.toFloat(255)*(UInt.toFloat(t>>>8&255)/UInt.toFloat(255)),i=UInt.toFloat(255&e)/UInt.toFloat(255)*(UInt.toFloat(255&t)/UInt.toFloat(255)),s=256*a|0;a=haxepunk_math_MathUtil.iclamp(s,0,255),s=256*n|0,n=haxepunk_math_MathUtil.iclamp(s,0,255),s=256*i|0;return null==(i=haxepunk_math_MathUtil.iclamp(s,0,255))&&(i=0),null==n&&(n=0),null==a&&(a=0),(255&a)<<16|(255&n)<<8|255&i},toARGB:function(e,t){return(255*(t=haxepunk_math_MathUtil.clamp(t,0,1))|0)<<24|e}},haxepunk_utils_Draw=function(){};$hxClasses["haxepunk.utils.Draw"]=haxepunk_utils_Draw,haxepunk_utils_Draw.__name__="haxepunk.utils.Draw",haxepunk_utils_Draw.__properties__={set_lineThickness:"set_lineThickness",get_lineThickness:"get_lineThickness",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_smooth:"set_smooth",get_smooth:"get_smooth",set_shader:"set_shader",get_shader:"get_shader",set_blend:"set_blend",get_blend:"get_blend",get_instance:"get_instance"},haxepunk_utils_Draw.get_instance=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance},haxepunk_utils_Draw.get_blend=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.blend},haxepunk_utils_Draw.set_blend=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.blend=e},haxepunk_utils_Draw.get_shader=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.shader},haxepunk_utils_Draw.set_shader=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.shader=e},haxepunk_utils_Draw.get_smooth=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.smooth},haxepunk_utils_Draw.set_smooth=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.smooth=e},haxepunk_utils_Draw.get_color=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.color},haxepunk_utils_Draw.set_color=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.color=e},haxepunk_utils_Draw.get_alpha=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.alpha},haxepunk_utils_Draw.set_alpha=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.alpha=e},haxepunk_utils_Draw.get_lineThickness=function(){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.lineThickness},haxepunk_utils_Draw.set_lineThickness=function(e){return null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.lineThickness=e},haxepunk_utils_Draw.setColor=function(e,t){null==t&&(t=1),null==e&&(e=16777215),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.color=e,null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.alpha=t},haxepunk_utils_Draw.line=function(e,t,a,n){null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.line(e,t,a,n)},haxepunk_utils_Draw.polyline=function(e,t){null==t&&(t=!1),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.polyline(e,t)},haxepunk_utils_Draw.rect=function(e,t,a,n){null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.rect(e,t,a,n)},haxepunk_utils_Draw.rectFilled=function(e,t,a,n){null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.rectFilled(e,t,a,n)},haxepunk_utils_Draw.circle=function(e,t,a,n,i,s){null==s&&(s=1),null==i&&(i=1),null==n&&(n=25),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext);var _=haxepunk_utils_Draw.instance,r=n,o=i,l=s;null==l&&(l=1),null==o&&(o=1),null==r&&(r=25);var h=2*Math.PI/r,u=_.lineThickness/2,p=a-u,c=a+u,d={x:0,y:0},f={x:0,y:0},m={x:0,y:0},g={x:0,y:0};null==_.shader&&(_.shader=new haxepunk_graphics_shader_ColorShader);var x=null==_.scene?null==haxepunk_HXP.renderingScene?haxepunk_HXP.engine._scene:haxepunk_HXP.renderingScene:_.scene;_.command=x.batch.getDrawCommand(null,_.shader,_.smooth,_.blend,null);for(var k=0,y=r+1;k<y;){var b=k++,v=b*h,P=Math.sin(v),w=Math.cos(v);if(haxepunk_math_Vector2.setTo(d,e+P*p*o,t+w*p*l),haxepunk_math_Vector2.setTo(f,e+P*c*o,t+w*c*l),0!=b){var T=g.x,C=g.y,S=m.x,A=m.y,E=f.x,D=f.y,M=_.color,R=_.alpha;_.scale&&(T*=haxepunk_HXP.screen.scaleX,S*=haxepunk_HXP.screen.scaleX,E*=haxepunk_HXP.screen.scaleX,C*=haxepunk_HXP.screen.scaleY,A*=haxepunk_HXP.screen.scaleY,D*=haxepunk_HXP.screen.scaleY);var L=_.command;if(R>0){var I;if(L.shader.attributeNames.length<=0){var $,B=L.visibleArea;if((T>S?S>E?E:S:T>E?E:T)<=B.x+B.width&&(T<S?S<E?E:S:T<E?E:T)>=L.visibleArea.x){var O=L.visibleArea;$=(C>A?A>D?D:A:C>D?D:C)<=O.y+O.height}else $=!1;I=$&&(C<A?A<D?D:A:C<D?D:C)>=L.visibleArea.y}else I=!0;if(I){var G;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(G=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,G._next=null):G=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var F=G;F.tx1=T,F.ty1=C,F.uvx1=0,F.uvy1=0,F.tx2=S,F.ty2=A,F.uvx2=0,F.uvy2=0,F.tx3=E,F.ty3=D,F.uvx3=0,F.uvy3=0,F.color=M,F.alpha=R,null==L.data?L.data=F:L._lastData._next=F,L._lastData=F,++L.triangleCount;var N=F.tx1,H=F.tx2,U=F.tx3,X=N>H?H>U?U:H:N>U?U:N,V=F.tx1,j=F.tx2,z=F.tx3,W=V<j?j<z?z:j:V<z?z:V,Y=F.ty1,K=F.ty2,q=F.ty3,J=Y>K?K>q?q:K:Y>q?q:Y,Z=F.ty1,Q=F.ty2,ee=F.ty3,te=Z<Q?Q<ee?ee:Q:Z<ee?ee:Z;if(0==L.bounds.width)L.bounds.x=X,L.bounds.width=W-X;else{X<L.bounds.x&&(L.bounds.width+=L.bounds.x-X,L.bounds.x=X);var ae=L.bounds;W>ae.x+ae.width&&(L.bounds.width=W-L.bounds.x)}if(0==L.bounds.height)L.bounds.y=J,L.bounds.height=te-J;else{J<L.bounds.y&&(L.bounds.height+=L.bounds.y-J,L.bounds.y=J);var ne=L.bounds;te>ne.y+ne.height&&(L.bounds.height=te-L.bounds.y)}}}var ie=g.x,se=g.y,_e=f.x,re=f.y,oe=d.x,le=d.y,he=_.color,ue=_.alpha;_.scale&&(ie*=haxepunk_HXP.screen.scaleX,_e*=haxepunk_HXP.screen.scaleX,oe*=haxepunk_HXP.screen.scaleX,se*=haxepunk_HXP.screen.scaleY,re*=haxepunk_HXP.screen.scaleY,le*=haxepunk_HXP.screen.scaleY);var pe=_.command;if(ue>0){var ce;if(pe.shader.attributeNames.length<=0){var de,fe=pe.visibleArea;if((ie>_e?_e>oe?oe:_e:ie>oe?oe:ie)<=fe.x+fe.width&&(ie<_e?_e<oe?oe:_e:ie<oe?oe:ie)>=pe.visibleArea.x){var me=pe.visibleArea;de=(se>re?re>le?le:re:se>le?le:se)<=me.y+me.height}else de=!1;ce=de&&(se<re?re<le?le:re:se<le?le:se)>=pe.visibleArea.y}else ce=!0;if(ce){var ge;null!=haxepunk_graphics_hardware_DrawCommand._dataPool?(ge=haxepunk_graphics_hardware_DrawCommand._dataPool,haxepunk_graphics_hardware_DrawCommand._dataPool=haxepunk_graphics_hardware_DrawCommand._dataPool._next,ge._next=null):ge=new haxepunk_graphics_hardware__$DrawCommand_DrawTriangle;var xe=ge;xe.tx1=ie,xe.ty1=se,xe.uvx1=0,xe.uvy1=0,xe.tx2=_e,xe.ty2=re,xe.uvx2=0,xe.uvy2=0,xe.tx3=oe,xe.ty3=le,xe.uvx3=0,xe.uvy3=0,xe.color=he,xe.alpha=ue,null==pe.data?pe.data=xe:pe._lastData._next=xe,pe._lastData=xe,++pe.triangleCount;var ke=xe.tx1,ye=xe.tx2,be=xe.tx3,ve=ke>ye?ye>be?be:ye:ke>be?be:ke,Pe=xe.tx1,we=xe.tx2,Te=xe.tx3,Ce=Pe<we?we<Te?Te:we:Pe<Te?Te:Pe,Se=xe.ty1,Ae=xe.ty2,Ee=xe.ty3,De=Se>Ae?Ae>Ee?Ee:Ae:Se>Ee?Ee:Se,Me=xe.ty1,Re=xe.ty2,Le=xe.ty3,Ie=Me<Re?Re<Le?Le:Re:Me<Le?Le:Me;if(0==pe.bounds.width)pe.bounds.x=ve,pe.bounds.width=Ce-ve;else{ve<pe.bounds.x&&(pe.bounds.width+=pe.bounds.x-ve,pe.bounds.x=ve);var $e=pe.bounds;Ce>$e.x+$e.width&&(pe.bounds.width=Ce-pe.bounds.x)}if(0==pe.bounds.height)pe.bounds.y=De,pe.bounds.height=Ie-De;else{De<pe.bounds.y&&(pe.bounds.height+=pe.bounds.y-De,pe.bounds.y=De);var Be=pe.bounds;Ie>Be.y+Be.height&&(pe.bounds.height=Ie-pe.bounds.y)}}}}m.x=f.x,m.y=f.y,g.x=d.x,g.y=d.y}},haxepunk_utils_Draw.circleFilled=function(e,t,a,n,i,s){null==s&&(s=1),null==i&&(i=1),null==n&&(n=25),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.circleFilled(e,t,a,n,i,s)},haxepunk_utils_Draw.arc=function(e,t,a,n,i,s){null==s&&(s=25),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.arc(e,t,a,n,i,s)},haxepunk_utils_Draw.curve=function(e,t,a,n,i,s,_){null==_&&(_=25),null==haxepunk_utils_Draw.instance&&(haxepunk_utils_Draw.instance=new haxepunk_utils_DrawContext),haxepunk_utils_Draw.instance.curve(e,t,a,n,i,s,_)};var haxepunk_utils_Ease=function(){};$hxClasses["haxepunk.utils.Ease"]=haxepunk_utils_Ease,haxepunk_utils_Ease.__name__="haxepunk.utils.Ease",haxepunk_utils_Ease.linear=function(e){return e},haxepunk_utils_Ease.quadIn=function(e){return e*e},haxepunk_utils_Ease.quadOut=function(e){return-e*(e-2)},haxepunk_utils_Ease.quadInOut=function(e){return e<=.5?e*e*2:1- --e*e*2},haxepunk_utils_Ease.cubeIn=function(e){return e*e*e},haxepunk_utils_Ease.cubeOut=function(e){return 1+--e*e*e},haxepunk_utils_Ease.cubeInOut=function(e){return e<=.5?e*e*e*4:1+--e*e*e*4},haxepunk_utils_Ease.quartIn=function(e){return e*e*e*e},haxepunk_utils_Ease.quartOut=function(e){return 1- --e*e*e*e},haxepunk_utils_Ease.quartInOut=function(e){return e<=.5?e*e*e*e*8:(1-(e=2*e-2)*e*e*e)/2+.5},haxepunk_utils_Ease.quintIn=function(e){return e*e*e*e*e},haxepunk_utils_Ease.quintOut=function(e){return--e*e*e*e*e+1},haxepunk_utils_Ease.quintInOut=function(e){return(e*=2)<1?e*e*e*e*e/2:((e-=2)*e*e*e*e+2)/2},haxepunk_utils_Ease.sineIn=function(e){return 1-Math.cos(1.5707963267948966*e)},haxepunk_utils_Ease.sineOut=function(e){return Math.sin(1.5707963267948966*e)},haxepunk_utils_Ease.sineInOut=function(e){return-Math.cos(3.141592653589793*e)/2+.5},haxepunk_utils_Ease.bounceIn=function(e){return(e=1-e)<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75):e<.9090909090909091?1-(7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375):1-(7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375)},haxepunk_utils_Ease.bounceOut=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75:e<.9090909090909091?7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375:7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375},haxepunk_utils_Ease.bounceInOut=function(e){return e<.5?(e=1-2*e)<.36363636363636365?(1-7.5625*e*e)/2:e<.7272727272727273?(1-(7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75))/2:e<.9090909090909091?(1-(7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375))/2:(1-(7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375))/2:(e=2*e-1)<.36363636363636365?7.5625*e*e/2+.5:e<.7272727272727273?(7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75)/2+.5:e<.9090909090909091?(7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375)/2+.5:(7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375)/2+.5},haxepunk_utils_Ease.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},haxepunk_utils_Ease.circOut=function(e){return Math.sqrt(1-(e-1)*(e-1))},haxepunk_utils_Ease.circInOut=function(e){return e<=.5?(Math.sqrt(1-e*e*4)-1)/-2:(Math.sqrt(1-(2*e-2)*(2*e-2))+1)/2},haxepunk_utils_Ease.expoIn=function(e){return Math.pow(2,10*(e-1))},haxepunk_utils_Ease.expoOut=function(e){return 1-Math.pow(2,-10*e)},haxepunk_utils_Ease.expoInOut=function(e){return e<.5?Math.pow(2,10*(2*e-1))/2:(2-Math.pow(2,-10*(2*e-1)))/2},haxepunk_utils_Ease.backIn=function(e){return e*e*(2.70158*e-1.70158)},haxepunk_utils_Ease.backOut=function(e){return 1- --e*e*(-2.70158*e-1.70158)},haxepunk_utils_Ease.backInOut=function(e){return(e*=2)<1?e*e*(2.70158*e-1.70158)/2:(--e,(1- --e*e*(-2.70158*e-1.70158))/2+.5)};var haxepunk_utils_HaxelibInfoBuilder=function(){};$hxClasses["haxepunk.utils.HaxelibInfoBuilder"]=haxepunk_utils_HaxelibInfoBuilder,haxepunk_utils_HaxelibInfoBuilder.__name__="haxepunk.utils.HaxelibInfoBuilder";var haxepunk_utils_HaxelibInfo=function(){};$hxClasses["haxepunk.utils.HaxelibInfo"]=haxepunk_utils_HaxelibInfo,haxepunk_utils_HaxelibInfo.__name__="haxepunk.utils.HaxelibInfo";var haxepunk_utils_LogLevel={toString:function(e){switch(e){case 20:return"INF";case 30:return"WRN";case 40:return"ERR";case 50:return"!!!";default:return"DBG"}},format:function(e,t,a,n){null==a&&(a=!0);var i,s=HxOverrides.dateStr(new Date),_=StringTools.lpad(n.fileName," ",haxepunk_utils_LogLevel.longest)+":"+StringTools.lpad(null==n.lineNumber?"null":""+n.lineNumber," ",4)+":";switch(e){case 20:i="INF";break;case 30:i="WRN";break;case 40:i="ERR";break;case 50:i="!!!";break;default:i="DBG"}return s+" "+_+"  "+i+": "+t}},haxepunk_utils_Log=function(){};$hxClasses["haxepunk.utils.Log"]=haxepunk_utils_Log,haxepunk_utils_Log.__name__="haxepunk.utils.Log",haxepunk_utils_Log.write=function(e,t,a){null==t&&(t=20)},haxepunk_utils_Log.debug=function(e,t){},haxepunk_utils_Log.info=function(e,t){},haxepunk_utils_Log.warning=function(e,t){},haxepunk_utils_Log.error=function(e,t){},haxepunk_utils_Log.critical=function(e,t){};var js_Browser=function(){};$hxClasses["js.Browser"]=js_Browser,js_Browser.__name__="js.Browser",js_Browser.getLocalStorage=function(){try{var e=window.localStorage;if(e.getItem(""),0==e.length){var t="_hx_"+Math.random();e.setItem(t,t),e.removeItem(t)}return e}catch(e){return haxe_NativeStackTrace.lastError=e,null}};var js_html__$CanvasElement_CanvasUtil=function(){};$hxClasses["js.html._CanvasElement.CanvasUtil"]=js_html__$CanvasElement_CanvasUtil,js_html__$CanvasElement_CanvasUtil.__name__="js.html._CanvasElement.CanvasUtil",js_html__$CanvasElement_CanvasUtil.getContextWebGL=function(e,t){var a="webgl";if(null!=(n=e.getContext(a,t)))return n;var n;a="experimental-webgl";return null!=(n=e.getContext(a,t))?n:null};var js_lib__$ArrayBuffer_ArrayBufferCompat=function(){};$hxClasses["js.lib._ArrayBuffer.ArrayBufferCompat"]=js_lib__$ArrayBuffer_ArrayBufferCompat,js_lib__$ArrayBuffer_ArrayBufferCompat.__name__="js.lib._ArrayBuffer.ArrayBufferCompat",js_lib__$ArrayBuffer_ArrayBufferCompat.sliceImpl=function(e,t){var a=new Uint8Array(this,e,null==t?null:t-e),n=new Uint8Array(a.byteLength);return n.set(a),n.buffer};var kro13_ads_IAdsManager=function(){};$hxClasses["kro13.ads.IAdsManager"]=kro13_ads_IAdsManager,kro13_ads_IAdsManager.__name__="kro13.ads.IAdsManager",kro13_ads_IAdsManager.__isInterface__=!0,kro13_ads_IAdsManager.prototype={__class__:kro13_ads_IAdsManager};var kro13_ads_AdsManager=function(){this._enabled=!0,this.ADS_DELAY=180};$hxClasses["kro13.ads.AdsManager"]=kro13_ads_AdsManager,kro13_ads_AdsManager.__name__="kro13.ads.AdsManager",kro13_ads_AdsManager.__interfaces__=[kro13_ads_IAdsManager],kro13_ads_AdsManager.__properties__={get_instance:"get_instance"},kro13_ads_AdsManager.get_instance=function(){return null==kro13_ads_AdsManager.instance&&(kro13_ads_AdsManager.instance=new kro13_ads_AdsManager),kro13_ads_AdsManager.instance},kro13_ads_AdsManager.prototype={init:function(){this.lastAdsTs=(new Date).getTime()/1e3,this.impl=new kro13_vk_ads_VKAds},showAds:function(e,t,a){if(this.get_enabled())if(null!=this.impl)if((new Date).getTime()/1e3-this.lastAdsTs>=this.ADS_DELAY){kro13_analytics_Analytics.get_instance().sendEvent("ads:start:interstitial");var n=$bind(this,this.onAdsSuccess),i=e,s=$bind(this,this.onAdsSkip),_=t;this.impl.showAds((function(){n(i)}),(function(){s(_)}),a),this.lastAdsTs=(new Date).getTime()/1e3}else e();else a("err");else e()},showVideoAds:function(e,t,a){if(kro13_kk_guiObjects_popups_ConsolePopup.print("vid"),this.get_enabled())if(null!=this.impl){kro13_analytics_Analytics.get_instance().sendEvent("ads:start:video");var n=$bind(this,this.onAdsSuccess),i=e,s=$bind(this,this.onAdsSkip),_=t;this.impl.showVideoAds((function(){n(i)}),(function(){s(_)}),a)}else a("err");else e()},onAdsSuccess:function(e){this.lastAdsTs=(new Date).getTime()/1e3,kro13_analytics_Analytics.get_instance().sendEvent("ads:success"),e()},onAdsSkip:function(e){kro13_analytics_Analytics.get_instance().sendEvent("ads:skipped"),e()},set_enabled:function(e){return haxe_Log.trace("---------------\x3e ads manager "+Std.string(this._enabled),{fileName:"src/kro13/ads/AdsManager.hx",lineNumber:104,className:"kro13.ads.AdsManager",methodName:"set_enabled"}),this._enabled=e,this._enabled},get_enabled:function(){return haxe_Log.trace("---------------\x3e ads manager "+Std.string(this._enabled)+" "+Std.string(kro13_iap_IAPManager.get_instance().hasPremium()),{fileName:"src/kro13/ads/AdsManager.hx",lineNumber:114,className:"kro13.ads.AdsManager",methodName:"get_enabled"}),!!this._enabled&&!kro13_iap_IAPManager.get_instance().hasPremium()},__class__:kro13_ads_AdsManager,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var kro13_analytics_IAnalytics=function(){};$hxClasses["kro13.analytics.IAnalytics"]=kro13_analytics_IAnalytics,kro13_analytics_IAnalytics.__name__="kro13.analytics.IAnalytics",kro13_analytics_IAnalytics.__isInterface__=!0,kro13_analytics_IAnalytics.prototype={__class__:kro13_analytics_IAnalytics};var kro13_analytics_Analytics=function(){};$hxClasses["kro13.analytics.Analytics"]=kro13_analytics_Analytics,kro13_analytics_Analytics.__name__="kro13.analytics.Analytics",kro13_analytics_Analytics.__interfaces__=[kro13_analytics_IAnalytics],kro13_analytics_Analytics.__properties__={get_instance:"get_instance"},kro13_analytics_Analytics.get_instance=function(){return null==kro13_analytics_Analytics.instance&&(kro13_analytics_Analytics.instance=new kro13_analytics_Analytics),kro13_analytics_Analytics.instance},kro13_analytics_Analytics.prototype={init:function(){this.impl=new kro13_analytics_GAnalytics},sendEvent:function(e){null!=this.impl&&this.impl.sendEvent(e)},sendEventError:function(e){null!=this.impl&&this.impl.sendEventError(e)},sendEventWithAmount:function(e,t){null!=this.impl&&this.impl.sendEventWithAmount(e,t)},__class__:kro13_analytics_Analytics};var kro13_analytics_GAnalytics=function(){this.initialized=!1;try{extension_ga_GameAnalytics.configureBuild("vk_desktop "+kro13_kk_KKGame.version),extension_ga_GameAnalytics.configureAvailableResourceItemTypes("rollbacks"),extension_ga_GameAnalytics.initialise("7b3f5dceafb61dbe56831e6f057ad9ae","802c5aed828aace291eee1abd090de442197e30d"),this.initialized=!0}catch(t){haxe_NativeStackTrace.lastError=t;var e=haxe_Exception.caught(t).unwrap();haxe_Log.trace("ga init failed: "+Std.string(e),{fileName:"src/kro13/analytics/GAnalytics.hx",lineNumber:38,className:"kro13.analytics.GAnalytics",methodName:"new"}),this.initialized=!1}};$hxClasses["kro13.analytics.GAnalytics"]=kro13_analytics_GAnalytics,kro13_analytics_GAnalytics.__name__="kro13.analytics.GAnalytics",kro13_analytics_GAnalytics.__interfaces__=[kro13_analytics_IAnalytics],kro13_analytics_GAnalytics.prototype={sendEvent:function(e){this.initialized&&extension_ga_GameAnalytics.sendDesignEvent(e)},sendEventError:function(e){this.initialized&&extension_ga_GameAnalytics.sendErrorEvent(4,e)},sendEventWithAmount:function(e,t){this.initialized&&extension_ga_GameAnalytics.sendDesignEventWithAmount(e,t)},__class__:kro13_analytics_GAnalytics};var kro13_kk_sound_ISoundManager=function(){};$hxClasses["kro13.kk.sound.ISoundManager"]=kro13_kk_sound_ISoundManager,kro13_kk_sound_ISoundManager.__name__="kro13.kk.sound.ISoundManager",kro13_kk_sound_ISoundManager.__isInterface__=!0,kro13_kk_sound_ISoundManager.prototype={__class__:kro13_kk_sound_ISoundManager};var kro13_kk_sound_AbstractSoundManager=function(){this.soundsMap=new haxe_ds_StringMap;var e="main3";this.registerSound(e);e="snow1";this.registerSound(e);e="hit";this.registerSound(e);e="land0";this.registerSound(e);e="land1";this.registerSound(e);e="avalanche1";this.registerSound(e);e="crash";this.registerSound(e);e="wind";this.registerSound(e);e="eagle";this.registerSound(e);e="hare";this.registerSound(e);e="circle_big1";this.registerSound(e);e="circle_small";this.registerSound(e)};$hxClasses["kro13.kk.sound.AbstractSoundManager"]=kro13_kk_sound_AbstractSoundManager,kro13_kk_sound_AbstractSoundManager.__name__="kro13.kk.sound.AbstractSoundManager",kro13_kk_sound_AbstractSoundManager.__interfaces__=[kro13_kk_sound_ISoundManager],kro13_kk_sound_AbstractSoundManager.prototype={setVolume:function(e,t){},init:function(e){this.dataProvider=e},addType:function(e){this.dataProvider.getProfile().misc.soundTypes.indexOf(e)<0&&this.dataProvider.getProfile().misc.soundTypes.push(e)},removeType:function(e){HxOverrides.remove(this.dataProvider.getProfile().misc.soundTypes,e)},hasType:function(e){return this.dataProvider.getProfile().misc.soundTypes.indexOf(e)>=0},play:function(e,t){null==t&&(t=!1),this.hasType(this.getSoundType(e))?this.doPlay(e,t):this.doStop(e)},pause:function(e){this.doPause(e)},stop:function(e){this.doStop(e)},fade:function(e){},isPlaying:function(e){return!1},doPlay:function(e,t){},doPause:function(e){},doStop:function(e){},registerSound:function(e){haxe_Log.trace("register sound "+e,{fileName:"src/kro13/kk/sound/AbstractSoundManager.hx",lineNumber:98,className:"kro13.kk.sound.AbstractSoundManager",methodName:"registerSound"});var t=this.soundsMap,a=this.makeSound(e);t.h[e]=a},makeSound:function(e){return null},getSoundType:function(e){return"main3"==e?1:0},__class__:kro13_kk_sound_AbstractSoundManager};var kro13_howler_HowlerSoundManager=function(){kro13_kk_sound_AbstractSoundManager.call(this)};$hxClasses["kro13.howler.HowlerSoundManager"]=kro13_howler_HowlerSoundManager,kro13_howler_HowlerSoundManager.__name__="kro13.howler.HowlerSoundManager",kro13_howler_HowlerSoundManager.__super__=kro13_kk_sound_AbstractSoundManager,kro13_howler_HowlerSoundManager.prototype=$extend(kro13_kk_sound_AbstractSoundManager.prototype,{isPlaying:function(e){return this.soundsMap.h[e].playing()},setVolume:function(e,t){this.soundsMap.h[e].volume(t)},fade:function(e){var t=this.soundsMap.h[e];t.fade(t.volume(),0,1e3)},doPlay:function(e,t){var a=this.soundsMap.h[e];a.playing()||a.play()},doPause:function(e){var t=this.soundsMap.h[e];haxe_Log.trace("pause "+e+" "+Std.string(null!=t),{fileName:"src/kro13/howler/HowlerSoundManager.hx",lineNumber:48,className:"kro13.howler.HowlerSoundManager",methodName:"doPause"}),null!=t&&t.pause()},doStop:function(e){var t=this.soundsMap.h[e];haxe_Log.trace("stop "+e+" "+Std.string(null!=t),{fileName:"src/kro13/howler/HowlerSoundManager.hx",lineNumber:58,className:"kro13.howler.HowlerSoundManager",methodName:"doStop"}),null!=t&&t.stop()},makeSound:function(e){var t={};return t.src=["audio/"+e+".mp3"],t.autoplay=!1,t.loop=this.isLoop(e),new Howl(t)},isLoop:function(e){switch(e){case"snow1":case"wind":return!0;default:return!1}},__class__:kro13_howler_HowlerSoundManager});var kro13_hxp_HxpEngine=function(e,t,a,n){null==n&&(n=!1),null==a&&(a=60),null==t&&(t=0),null==e&&(e=0),haxepunk_Engine.call(this,e,t,a,n)};$hxClasses["kro13.hxp.HxpEngine"]=kro13_hxp_HxpEngine,kro13_hxp_HxpEngine.__name__="kro13.hxp.HxpEngine",kro13_hxp_HxpEngine.__super__=haxepunk_Engine,kro13_hxp_HxpEngine.prototype=$extend(haxepunk_Engine.prototype,{update:function(){haxepunk_HXP.needsResize&&haxepunk_HXP.resize(haxepunk_HXP.windowWidth,haxepunk_HXP.windowHeight);for(var e=0,t=this.preUpdate.callbacks;e<t.length;){var a=t[e];++e,a()}if(null!=this._scene&&this._scenes.length>0&&this._scenes[this._scenes.length-1]!=this._scene){js_Boot.getClass(this._scene).__name__;this._scene.end(),this._scene.updateLists(!1),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this._scene=this._scenes[this._scenes.length-1];for(e=0,t=this.onSceneSwitch.callbacks;e<t.length;){a=t[e];++e,a()}js_Boot.getClass(this._scene).__name__;this._scene.assetCache.enable(),this._scene.updateLists(),this._scene.started?this._scene.resume():this._scene.begin(),this._scene.started=!0,this._scene.updateLists(!0)}for(e=0,t=this._scenes;e<t.length;){var n=t[e];if(++e,n!=this.console){n.updateLists();for(var i=0,s=n.preUpdate.callbacks;i<s.length;){a=s[i];++i,a()}haxepunk_HXP.tweener.get_active()&&haxepunk_HXP.tweener.get_hasTween()&&haxepunk_HXP.tweener.updateTweens(haxepunk_HXP.elapsed),n.get_active()&&(n.get_hasTween()&&n.updateTweens(haxepunk_HXP.elapsed),n.update()),n.updateLists(!1);for(var _=0,r=n.postUpdate.callbacks;_<r.length;){var o=r[_];++_,o()}}}for(e=0,t=this.postUpdate.callbacks;e<t.length;){a=t[e];++e,a()}},__class__:kro13_hxp_HxpEngine});var kro13_hxp_HxpEntity=function(){this.isList=!1,haxepunk_Entity.call(this)};$hxClasses["kro13.hxp.HxpEntity"]=kro13_hxp_HxpEntity,kro13_hxp_HxpEntity.__name__="kro13.hxp.HxpEntity",kro13_hxp_HxpEntity.__super__=haxepunk_Entity,kro13_hxp_HxpEntity.prototype=$extend(haxepunk_Entity.prototype,{__class__:kro13_hxp_HxpEntity});var kro13_hxp_HxpResourceManager=function(){var e,t;this.cache=haxepunk_assets_AssetCache.global,null==(t=16777215)&&(t=0),null==(e=!1)&&(e=!1),this.addTexture("blank_rect",new openfl_display_BitmapData(40,40,e,t)),null==(t=16777215)&&(t=0),null==(e=!0)&&(e=!1);var a=new openfl_display_BitmapData(400,400,e,t);haxepunk_graphics_hardware_Texture.drawCircle(a,200,200,200),this.addTexture("blank_circ",a)};$hxClasses["kro13.hxp.HxpResourceManager"]=kro13_hxp_HxpResourceManager,kro13_hxp_HxpResourceManager.__name__="kro13.hxp.HxpResourceManager",kro13_hxp_HxpResourceManager.__properties__={get_instance:"get_instance"},kro13_hxp_HxpResourceManager.get_instance=function(){return null==kro13_hxp_HxpResourceManager.instance&&(kro13_hxp_HxpResourceManager.instance=new kro13_hxp_HxpResourceManager),kro13_hxp_HxpResourceManager.instance},kro13_hxp_HxpResourceManager.prototype={loadAtlas:function(e){haxe_Log.trace("start loading",{fileName:"src/kro13/hxp/HxpResourceManager.hx",lineNumber:42,className:"kro13.hxp.HxpResourceManager",methodName:"loadAtlas"}),this.atlas=haxepunk_graphics_atlas__$TextureAtlas_GdxTexturePacker.load(e),haxe_Log.trace("loaded "+Std.string(this.atlas)+" "+Std.string(this.cache),{fileName:"src/kro13/hxp/HxpResourceManager.hx",lineNumber:44,className:"kro13.hxp.HxpResourceManager",methodName:"loadAtlas"}),this.cache.addTextureAtlas(this.atlas),haxe_Log.trace("atlas "+e+" loaded to "+this.cache.name,{fileName:"src/kro13/hxp/HxpResourceManager.hx",lineNumber:46,className:"kro13.hxp.HxpResourceManager",methodName:"loadAtlas"})},getRectImage:function(e,t){var a=new haxepunk_graphics_atlas_AtlasData(this.getTexture("blank_rect")),n=new haxepunk_graphics_Image(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(a));return n.scaleX=e.x/n.scale/n.get_width(),n.scaleY=e.y/n.scale/n.get_height(),n.set_color(t),n},getCircImage:function(e,t){var a=new haxepunk_graphics_atlas_AtlasData(this.getTexture("blank_circ")),n=new haxepunk_graphics_Image(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(a));return n.scaleX=e.x/n.scale/n.get_width(),n.scaleY=e.y/n.scale/n.get_height(),n.set_color(t),n},loadAllSounds:function(){var e="main3";this.getSound("audio/"+e+".mp3");e="snow1";this.getSound("audio/"+e+".mp3");e="hit";this.getSound("audio/"+e+".mp3");e="land0";this.getSound("audio/"+e+".mp3");e="land1";this.getSound("audio/"+e+".mp3");e="avalanche1";this.getSound("audio/"+e+".mp3");e="crash";this.getSound("audio/"+e+".mp3");e="wind";this.getSound("audio/"+e+".mp3");e="eagle";this.getSound("audio/"+e+".mp3");e="hare";this.getSound("audio/"+e+".mp3");e="circle_big1";this.getSound("audio/"+e+".mp3");e="circle_small";this.getSound("audio/"+e+".mp3")},getSound:function(e){haxe_Log.trace("get "+e,{fileName:"src/kro13/hxp/HxpResourceManager.hx",lineNumber:77,className:"kro13.hxp.HxpResourceManager",methodName:"getSound"});var t=this.cache.getSound(e);return haxe_Log.trace(e+" got",{fileName:"src/kro13/hxp/HxpResourceManager.hx",lineNumber:79,className:"kro13.hxp.HxpResourceManager",methodName:"getSound"}),t},getFont:function(e){return this.cache.getBitmapFont(e)},getImage:function(e){return new haxepunk_graphics_Image(this.cache.getAtlasRegion(e))},getTileAtlas:function(e){var t=haxepunk_assets_AssetCache.global.getAtlasData(e,!1);return haxepunk_graphics_atlas_TileAtlas.loadFromAtlasRegion(haxepunk_graphics_atlas_Atlas.loadImageAsRegion(t),40,40)},getTexture:function(e){return this.cache.getTexture(e)},addTexture:function(e,t){this.cache.addTexture(e,t)},clear:function(){this.cache.dispose(),kro13_hxp_HxpResourceManager.instance=null},__class__:kro13_hxp_HxpResourceManager};var kro13_kk_IDestructable=function(){};$hxClasses["kro13.kk.IDestructable"]=kro13_kk_IDestructable,kro13_kk_IDestructable.__name__="kro13.kk.IDestructable",kro13_kk_IDestructable.__isInterface__=!0,kro13_kk_IDestructable.prototype={__class__:kro13_kk_IDestructable};var kro13_kk_ComponentsContainer=function(){this.name="container",this.componentsMap=new haxe_ds_IntMap,this.onDestroy=new haxepunk_Signal0};$hxClasses["kro13.kk.ComponentsContainer"]=kro13_kk_ComponentsContainer,kro13_kk_ComponentsContainer.__name__="kro13.kk.ComponentsContainer",kro13_kk_ComponentsContainer.__interfaces__=[kro13_kk_IDestructable],kro13_kk_ComponentsContainer.prototype={addComponent:function(e){this.componentsMap.h[e.type]=e},getComponent:function(e){return null==this.componentsMap?null:this.componentsMap.h[e]},removeComponent:function(e){this.componentsMap.remove(e)},iterator:function(){return this.componentsMap.keys()},destroy:function(){for(var e=0,t=this.onDestroy.callbacks;e<t.length;){var a=t[e];++e,a()}for(var n=this.componentsMap.keys();n.hasNext();){var i=n.next();this.componentsMap.h[i].destroy()}this.componentsMap=null;for(var s=this.onDestroy;s.callbacks.length>0;)s.callbacks.pop();this.onDestroy=null},__class__:kro13_kk_ComponentsContainer};var kro13_kk_IBuildable=function(){};$hxClasses["kro13.kk.IBuildable"]=kro13_kk_IBuildable,kro13_kk_IBuildable.__name__="kro13.kk.IBuildable",kro13_kk_IBuildable.__isInterface__=!0,kro13_kk_IBuildable.prototype={__class__:kro13_kk_IBuildable};var kro13_kk_gameObjects_AbstractGameObject=function(){this.id=-1,this.type=0,kro13_kk_ComponentsContainer.call(this),this.id=kro13_kk_utils_GameObjetIds.getNext()};$hxClasses["kro13.kk.gameObjects.AbstractGameObject"]=kro13_kk_gameObjects_AbstractGameObject,kro13_kk_gameObjects_AbstractGameObject.__name__="kro13.kk.gameObjects.AbstractGameObject",kro13_kk_gameObjects_AbstractGameObject.__interfaces__=[kro13_kk_IBuildable],kro13_kk_gameObjects_AbstractGameObject.__super__=kro13_kk_ComponentsContainer,kro13_kk_gameObjects_AbstractGameObject.prototype=$extend(kro13_kk_ComponentsContainer.prototype,{build:function(){},__class__:kro13_kk_gameObjects_AbstractGameObject});var kro13_kk_gameObjects_Transformable=function(){var e;(kro13_kk_gameObjects_AbstractGameObject.call(this),this.name="transformable",this.addComponent(new kro13_kk_components_Transform(this)),null==this.componentsMap)?e=null:e=this.componentsMap.h[2];this.transform=e};$hxClasses["kro13.kk.gameObjects.Transformable"]=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Transformable.__name__="kro13.kk.gameObjects.Transformable",kro13_kk_gameObjects_Transformable.__super__=kro13_kk_gameObjects_AbstractGameObject,kro13_kk_gameObjects_Transformable.prototype=$extend(kro13_kk_gameObjects_AbstractGameObject.prototype,{setEvenPosition:function(e,t){haxepunk_math_Vector2.setTo(this.get_position(),e,t);var a=this.get_position();a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.x%2!=0&&(a.x+=1),a.y%2!=0&&(a.y+=1);for(var n=this.transform.onPositionChanged,i=this.get_position(),s=0,_=n.callbacks;s<_.length;){var r=_[s];++s,r(i)}},setEvenScale:function(e){this.transform.set_scale(e);for(var t=this.transform.iterator();t.hasNext();){var a=t.next().get_position();a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.x%2!=0&&(a.x+=1),a.y%2!=0&&(a.y+=1)}},destroy:function(){for(var e=this.transform.children.length-1;e>=0;){this.transform.children[e].owner.destroy(),--e}null!=this.transform.parent&&this.transform.parent.removeChild(this.transform),kro13_kk_gameObjects_AbstractGameObject.prototype.destroy.call(this)},get_position:function(){return this.transform.get_position()},set_position:function(e){return this.transform.set_position(e)},get_size:function(){return this.transform.get_size()},set_size:function(e){return this.transform.set_size(e)},__class__:kro13_kk_gameObjects_Transformable,__properties__:{set_size:"set_size",get_size:"get_size",set_position:"set_position",get_position:"get_position"}});var kro13_kk_ISwitchable=function(){};$hxClasses["kro13.kk.ISwitchable"]=kro13_kk_ISwitchable,kro13_kk_ISwitchable.__name__="kro13.kk.ISwitchable",kro13_kk_ISwitchable.__isInterface__=!0,kro13_kk_ISwitchable.prototype={__class__:kro13_kk_ISwitchable};var kro13_kk_systems_IComponentSystem=function(){};$hxClasses["kro13.kk.systems.IComponentSystem"]=kro13_kk_systems_IComponentSystem,kro13_kk_systems_IComponentSystem.__name__="kro13.kk.systems.IComponentSystem",kro13_kk_systems_IComponentSystem.__isInterface__=!0,kro13_kk_systems_IComponentSystem.__interfaces__=[kro13_kk_ISwitchable],kro13_kk_systems_IComponentSystem.prototype={__class__:kro13_kk_systems_IComponentSystem};var kro13_kk_scenes_AbstractScene=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="scene",this.systems=[]};$hxClasses["kro13.kk.scenes.AbstractScene"]=kro13_kk_scenes_AbstractScene,kro13_kk_scenes_AbstractScene.__name__="kro13.kk.scenes.AbstractScene",kro13_kk_scenes_AbstractScene.__interfaces__=[kro13_kk_systems_IComponentSystem],kro13_kk_scenes_AbstractScene.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_scenes_AbstractScene.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{addSystem:function(e){this.systems.indexOf(e)<0&&this.systems.push(e)},removeSystem:function(e){this.systems.indexOf(e)>=0&&HxOverrides.remove(this.systems,e)},addContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];this.transform.addChild(t);for(var a=0,n=this.systems;a<n.length;){var i=n[a];++a,i.addContainer(e)}},removeContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];this.transform.removeChild(t);for(var a=0,n=this.systems;a<n.length;){var i=n[a];++a,i.removeContainer(e)}},start:function(){for(var e=0,t=this.systems;e<t.length;){var a=t[e];++e,a.start()}},stop:function(){for(var e=0,t=this.systems;e<t.length;){var a=t[e];++e,a.stop()}},clear:function(){for(var e=0,t=this.systems;e<t.length;){var a=t[e];++e,a.clear()}},__class__:kro13_kk_scenes_AbstractScene});var kro13_hxp_scenes_HxpAbstractScene=function(){kro13_kk_scenes_AbstractScene.call(this),this.name="hxp scene",this.scene=new haxepunk_Scene,this.visibiltyBuffer=new kro13_kk_systems_VisibilityBuffer};$hxClasses["kro13.hxp.scenes.HxpAbstractScene"]=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpAbstractScene.__name__="kro13.hxp.scenes.HxpAbstractScene",kro13_hxp_scenes_HxpAbstractScene.__super__=kro13_kk_scenes_AbstractScene,kro13_hxp_scenes_HxpAbstractScene.prototype=$extend(kro13_kk_scenes_AbstractScene.prototype,{init:function(){haxepunk_HXP.engine.pushScene(this.scene),this.renderSystem=new kro13_hxp_systems_HxpRenderSystem(this,haxepunk_HXP.engine.preRender,this.scene,this.visibiltyBuffer),this.transformSystem=new kro13_hxp_systems_HxpTransformSystem(this,haxepunk_HXP.engine.preRender,this.visibiltyBuffer),this.addSystem(this.renderSystem),this.addSystem(this.transformSystem)},destroy:function(){kro13_kk_scenes_AbstractScene.prototype.destroy.call(this),this.stop(),this.clear(),HxOverrides.remove(haxepunk_HXP.engine._scenes,this.scene),haxepunk_assets_AssetCache.active.indexOf(this.scene.assetCache)>-1&&this.scene.assetCache.dispose(),this.scene=null},__class__:kro13_hxp_scenes_HxpAbstractScene});var kro13_hxp_scenes_HxpBackScene=function(){kro13_hxp_scenes_HxpAbstractScene.call(this),this.name="back scene",this.scene.name=this.name};$hxClasses["kro13.hxp.scenes.HxpBackScene"]=kro13_hxp_scenes_HxpBackScene,kro13_hxp_scenes_HxpBackScene.__name__="kro13.hxp.scenes.HxpBackScene",kro13_hxp_scenes_HxpBackScene.__super__=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpBackScene.prototype=$extend(kro13_hxp_scenes_HxpAbstractScene.prototype,{build:function(){this.back=new kro13_kk_gameObjects_Back,this.back.build(),this.addContainer(this.back),openfl_Lib.get_current().stage.addEventListener("resize",$bind(this,this.onResize))},clear:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.clear.call(this),openfl_Lib.get_current().stage.removeEventListener("resize",$bind(this,this.onResize))},onResize:function(e){this.back.get_size().x=haxepunk_HXP.width,this.back.get_size().y=haxepunk_HXP.height,this.back.renderer.isValid=!1},__class__:kro13_hxp_scenes_HxpBackScene});var kro13_hxp_scenes_HxpGUIScene=function(e,t,a){this.statsGlobal=!0,this.isConsoleOn=!1,this.isMainMenu=!0,this.isPlaying=!0,this.isFinish=!1,kro13_hxp_scenes_HxpAbstractScene.call(this),this.name="GUI Scene",this.scene.camera=new haxepunk_cameras_StaticCamera,this.scene.bgAlpha=0,this.gameEventSystem=e,this.dataProvider=t,this.scoreData=t.getLocal().scoreData,this.profile=t.getLocal().getProfile(),this.reloadGame=a,this.scene.name=this.name};$hxClasses["kro13.hxp.scenes.HxpGUIScene"]=kro13_hxp_scenes_HxpGUIScene,kro13_hxp_scenes_HxpGUIScene.__name__="kro13.hxp.scenes.HxpGUIScene",kro13_hxp_scenes_HxpGUIScene.__super__=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpGUIScene.prototype=$extend(kro13_hxp_scenes_HxpAbstractScene.prototype,{setQuickMenuPos:function(){var e=this.dataProvider.getProfile().misc.rightHanded?haxepunk_HXP.width-150:50;kro13_kk_Constants.PORTRAIT?this.quickMenu.setEvenPosition(e,.5*(haxepunk_HXP.height-700)):this.quickMenu.setEvenPosition(e,.5*(haxepunk_HXP.height-800))},addContainer:function(e){kro13_hxp_scenes_HxpAbstractScene.prototype.addContainer.call(this,e),this.gameEventSystem.addContainer(e)},removeContainer:function(e){kro13_hxp_scenes_HxpAbstractScene.prototype.removeContainer.call(this,e),this.gameEventSystem.removeContainer(e)},init:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.init.call(this);var e=new kro13_kk_components_GameEventHandler;this.addComponent(e),e.addHandler($bind(this,this.onEvent)),this.gameEventSystem.addContainer(this),this.addSystem(new kro13_hxp_systems_control_HxpGUIControlSystem(this,haxepunk_HXP.engine.preUpdate)),this.addSystem(new kro13_kk_systems_SimpleUpdateSystem(this,haxepunk_HXP.engine.preUpdate)),this.addSystem(new kro13_hxp_systems_HxpTextEmitterSystem(this,haxepunk_HXP.engine.preUpdate,this.scene)),this.addSystem(new kro13_kk_systems_AnimationSystem(this,haxepunk_HXP.engine.preRender)),this.addSystem(new kro13_hxp_systems_HxpParticlesSystem(this,haxepunk_HXP.engine.preRender)),this.addSystem(new kro13_kk_systems_InGameMessagesSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider)),openfl_Lib.get_current().stage.addEventListener("resize",$bind(this,this.onResize))},build:function(){var e=this,t=kro13_kk_guiObjects_GUIObjectsFactory.get_instance();this.playerHUD=t.buildPlayerHUD(this.dataProvider),this.hud=t.buildTopHUD(this.dataProvider),this.quickMenu=t.buildQuickMenu(this.dataProvider,this.gameEventSystem),this.mainMenu=t.buildMainMenu(this.dataProvider,this.gameEventSystem),this.popConfirm=t.buildConfirmDialog(),this.popStats=t.buildStatsDialog(),this.popHelp=t.buildHelpDilaog(this.dataProvider),this.popSettings=t.buildSettingsDilaog(this.dataProvider,this.gameEventSystem),this.popError=t.buildErrorDialog(),this.popCredits=t.buildSimpleDialog(kro13_kk_utils_L.get_instance().AUDIO_CREDITS),this.popPrivacy=t.buildPrivacyPolicyDialog();var a=$bind(this,this.hidePopup),n=this.popCredits,i=function(){a(n,null)};this.popCredits.buttons[0].action=i,this.popTutor=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildTutorDialog(),this.popTutor.buttons[0].action=$bind(this,this.onTutorConfirm);var s=$bind(this,this.hidePopup),_=this.popSettings,r=function(){e.setQuickMenuPos(),e.dataProvider.save(),e.popSettings.reloadNeeded&&(e.popSettings.reloadNeeded=!1,e.reloadGame())};i=function(){s(_,r)};this.popSettings.buttons[0].action=i,this.popStats.buttons[0].action=$bind(this,this.toggleStats);var o=$bind(this,this.hidePopup),l=this.popStats;i=function(){o(l,null)};this.popStats.buttons[1].action=i;var h=$bind(this,this.hidePopup),u=this.popError,p=function(){e.isMainMenu||e.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)};i=function(){h(u,p)};this.popError.buttons[0].action=i,this.resize(),this.showMainMenu()},onTutorConfirm:function(){if(!this.popTutor.isFinished())return this.removeContainer(this.popTutor),this.popTutor.showNext(),void this.addContainer(this.popTutor);this.hidePopup(this.popTutor),kro13_kk_TutorManager.get_instance().isStarted,this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onConsole:function(){this.isConsoleOn?this.removeContainer(this.consolePopup):this.addContainer(this.consolePopup),this.isConsoleOn=!this.isConsoleOn},onEvent:function(e){switch(e._hx_index){case 0:var t=e.firstStart;this.mainMenu.isFirstStart=t;break;case 2:this.showQuickMenu();break;case 7:this.showStatsDialog();break;case 9:null==this.currPopup&&this.showMainMenu();break;case 10:this.showHelpDialog();break;case 11:this.showCreditsDialog();break;case 12:var a=e.onCancel,n=e.onConfirm,i=e.message;this.showConfirmDialog(i,n,a);break;case 13:this.showSettingsDialog();break;case 14:var s=e.showErrorPopup,_=e.errorMessage,r=e.errorType;kro13_analytics_Analytics.get_instance().sendEventError(_),s&&this.showErrorDialog(r);break;case 15:var o=e.onError,l=e.onSuccess;kro13_ads_AdsManager.get_instance().showAds(l,l,o);break;case 16:o=e.onError;var h=e.onSkip;l=e.onSuccess;kro13_ads_AdsManager.get_instance().showVideoAds(l,h,o);break;case 24:var u=e.score;this.playerHUD.emitScore(u);break;case 30:var p=e.startNew;this.removeContainer(this.mainMenu),this.removeContainer(this.playerHUD),this.removeContainer(this.hud),this.quickMenu.collapse();break;case 39:var c=e.content;this.showTutorDialog(c);break;case 43:n=e.onConfirm,p=$bind(this,this.hidePopup);var d=this.popPrivacy,f=n;this.popPrivacy.buttons[1].action=function(){p(d,f)},this.showPopup(this.popPrivacy)}},showTutorDialog:function(e){this.popTutor.setContent(e),this.popTutor.showNext(),this.showPopup(this.popTutor),this.popTutor.setEvenPosition(this.popTutor.get_position().x,.33*haxepunk_HXP.height),this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE)},showErrorDialog:function(e){1==e?this.popError.setMessage(kro13_kk_utils_L.get_instance().ERROR_ADS):this.popError.setMessage(kro13_kk_utils_L.get_instance().ERROR_DEFAULT),this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.showPopup(this.popError)},showStatsDialog:function(){this.popStats.setStats(this.dataProvider.getProfile()),this.showPopup(this.popStats),this.dataProvider.getTopScores(this.statsGlobal,$bind(this,this.onTopScoreGot))},showHelpDialog:function(){if(this.showPopup(this.popHelp),this.popHelp.setEvenPosition(.5*this.popHelp.offset,.5*this.popHelp.offset),this.popHelp.setPage(),kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())){var e=$bind(this,this.hidePopup),t=this.popHelp,a=$bind(this,this.stopHelp),n=function(){a(!1)};o=function(){e(t,n)};this.popHelp.btnOk.action=o}else{var i=$bind(this,this.hidePopup),s=this.popHelp,_=$bind(this,this.stopHelp),r=function(){_(!0)},o=function(){i(s,r)};this.popHelp.btnOk.action=o}},showSettingsDialog:function(){this.showPopup(this.popSettings)},showCreditsDialog:function(){this.showPopup(this.popCredits)},stopHelp:function(e){e&&this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},showConfirmDialog:function(e,t,a){this.popConfirm.buttons[0].transform.set_visible(null!=a),this.popConfirm.validateLayout();var n=$bind(this,this.hidePopup),i=this.popConfirm,s=a,_=function(){n(i,s)};this.popConfirm.buttons[0].action=_;var r=$bind(this,this.hidePopup),o=this.popConfirm,l=t;_=function(){r(o,l)};this.popConfirm.buttons[1].action=_,this.popConfirm.setMessage(e),this.showPopup(this.popConfirm)},showPopup:function(e){null!=this.currPopup&&this.removeContainer(this.currPopup),this.addContainer(e),this.currPopup=e,this.currPopup.setEvenPosition(.5*(haxepunk_HXP.width-900),.5*(haxepunk_HXP.height-this.currPopup.get_size().y)),this.removeContainer(this.mainMenu),this.removeContainer(this.quickMenu),this.removeContainer(this.playerHUD)},toggleStats:function(){if(this.statsGlobal=!this.statsGlobal,this.popStats.setStats(this.dataProvider.getProfile()),this.dataProvider.getTopScores(this.statsGlobal,$bind(this,this.onTopScoreGot)),this.statsGlobal){var e=this.popStats.buttons[0],t=kro13_kk_utils_L.get_instance().BTN_GLOBAL_FRIENDS;null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}else{var a;e=this.popStats.buttons[0],t=kro13_kk_utils_L.get_instance().BTN_GLOBAL_ALL;null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}},hidePopup:function(e,t){this.removeContainer(e),this.isMainMenu?this.showMainMenu():this.showQuickMenu(),haxe_Log.trace("-------------------\x3e hide "+this.currPopup.name,{fileName:"src/kro13/hxp/scenes/HxpGUIScene.hx",lineNumber:426,className:"kro13.hxp.scenes.HxpGUIScene",methodName:"hidePopup"}),this.currPopup=null,null!=t&&t()},showQuickMenu:function(){this.mainMenu.collapse(),this.removeContainer(this.mainMenu),this.addContainer(this.quickMenu),this.quickMenu.expand(),this.addContainer(this.hud),this.addContainer(this.playerHUD),this.playerHUD.resetScore(),this.isMainMenu=!1},showMainMenu:function(){this.mainMenu.showIap(!1),this.addContainer(this.mainMenu),this.mainMenu.expand(),this.quickMenu.collapse(),this.removeContainer(this.quickMenu),this.removeContainer(this.hud),this.removeContainer(this.playerHUD),null!=this.currPopup&&this.removeContainer(this.currPopup),null!=this.popError&&this.removeContainer(this.popError),this.isMainMenu=!0},onTopScoreGot:function(e){this.popStats.setTopScore(e);var t=haxepunk_HXP.height-this.popStats.get_size().y;this.popStats.get_position().y=.5*t},onResize:function(e){this.resize()},resize:function(){var e=Math.floor(.5*(haxepunk_HXP.width-900));this.playerHUD.setEvenPosition(.5*haxepunk_HXP.width,.33*haxepunk_HXP.height),this.setQuickMenuPos(),kro13_kk_Constants.PORTRAIT?this.mainMenu.setEvenPosition(e,.5*(haxepunk_HXP.height-700)):this.mainMenu.setEvenPosition(e,.5*(haxepunk_HXP.height-600));var t=haxepunk_HXP.width,a=120;null==a&&(a=0),null==t&&(t=0);var n={x:t,y:a};this.hud.set_size(n),null!=this.currPopup&&this.currPopup.setEvenPosition(e,.5*(haxepunk_HXP.height-this.popConfirm.get_size().y)),this.popHelp.setEvenPosition(.5*this.popHelp.offset,.5*this.popHelp.offset),this.popHelp.validateLayout(),this.popTutor.setEvenPosition(e,.33*haxepunk_HXP.height)},displayIapBtnIfNeeded:function(){kro13_iap_IAPManager.get_instance().checkIfPremiumPurchased($bind(this,this.onNoAdsCheckDone))},onNoAdsCheckDone:function(e){this.isMainMenu?kro13_iap_IAPManager.get_instance().isAvailable()?(haxe_Log.trace(null==e?"null":""+e,{fileName:"src/kro13/hxp/scenes/HxpGUIScene.hx",lineNumber:529,className:"kro13.hxp.scenes.HxpGUIScene",methodName:"onNoAdsCheckDone"}),e?(kro13_ads_AdsManager.get_instance().set_enabled(!1),this.mainMenu.showIap(!1)):(kro13_ads_AdsManager.get_instance().set_enabled(!0),this.mainMenu.showIap(!0))):haxe_Log.trace(""+Std.string(kro13_iap_IAPManager.get_instance().isAvailable()),{fileName:"src/kro13/hxp/scenes/HxpGUIScene.hx",lineNumber:526,className:"kro13.hxp.scenes.HxpGUIScene",methodName:"onNoAdsCheckDone"}):haxe_Log.trace(""+Std.string(this.isMainMenu),{fileName:"src/kro13/hxp/scenes/HxpGUIScene.hx",lineNumber:521,className:"kro13.hxp.scenes.HxpGUIScene",methodName:"onNoAdsCheckDone"})},showVkInfo:function(){if(null!=this.mainMenu.btnSocial)if(kro13_kk_BonusManager.bonusCondition(this.dataProvider)){this.mainMenu.btnSocial.stopBlink();e=this.mainMenu.btnSocial,t=kro13_kk_utils_L.get_instance().BTN_SOCIAL;null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}else{this.mainMenu.btnSocial.startBlink();var e=this.mainMenu.btnSocial,t=kro13_kk_utils_L.get_instance().BTN_SOCIAL+" <red>(  )</red>";null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}if(kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(2,this.dataProvider.getProfile())){this.mainMenu.btnHelp.startBlink();e=this.mainMenu.btnHelp,t=kro13_kk_utils_L.get_instance().BTN_HELP+" <red>(  )</red>";null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}else if(kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(3,this.dataProvider.getProfile())){this.mainMenu.btnHelp.startBlink();e=this.mainMenu.btnHelp,t=kro13_kk_utils_L.get_instance().BTN_HELP+" <red>(  )</red>";null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}else{this.mainMenu.btnHelp.stopBlink();var a;e=this.mainMenu.btnHelp,t=kro13_kk_utils_L.get_instance().BTN_HELP;null==e.label&&(e.label=new kro13_kk_guiObjects_TextField(e.borderColor,e.labelSize,!1,!0,null,e.color),e.label.build(),e.transform.addChild(e.label.transform)),(a=e.label).materialConfig.text=t,a.renderer.isValid=!1,e.validateLayout(),e.label.renderer.isValid=!1}},__class__:kro13_hxp_scenes_HxpGUIScene});var kro13_hxp_scenes_HxpGameScene=function(e,t){kro13_hxp_scenes_HxpAbstractScene.call(this),this.name="Game Scene "+(new Date).getTime()/1e3,this.scene.name=this.name,this.gameEventSystem=e,this.dataProvider=t,this.scene.bgAlpha=0};$hxClasses["kro13.hxp.scenes.HxpGameScene"]=kro13_hxp_scenes_HxpGameScene,kro13_hxp_scenes_HxpGameScene.__name__="kro13.hxp.scenes.HxpGameScene",kro13_hxp_scenes_HxpGameScene.__super__=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpGameScene.prototype=$extend(kro13_hxp_scenes_HxpAbstractScene.prototype,{addContainer:function(e){kro13_hxp_scenes_HxpAbstractScene.prototype.addContainer.call(this,e),this.gameEventSystem.addContainer(e)},removeContainer:function(e){kro13_hxp_scenes_HxpAbstractScene.prototype.removeContainer.call(this,e),this.gameEventSystem.removeContainer(e)},init:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.init.call(this),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.init(this.dataProvider);var e=new kro13_kk_components_GameEventHandler;this.addComponent(e),e.addHandler($bind(this,this.onEvent)),this.gameEventSystem.addContainer(this),this.addSystem(new kro13_kk_systems_HitSystem(this,haxepunk_HXP.engine.preUpdate,this.dataProvider,this.gameEventSystem)),this.addSystem(new kro13_hxp_systems_HxpPhysicsSystem(this,haxepunk_HXP.engine.preUpdate,this.visibiltyBuffer,this.gameEventSystem)),this.addSystem(new kro13_hxp_systems_control_HxpMouseControlSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider)),this.particlesSystem=new kro13_hxp_systems_HxpParticlesSystem(this,haxepunk_HXP.engine.preRender),this.addSystem(this.particlesSystem),this.addSystem(new kro13_hxp_systems_HxpTextEmitterSystem(this,haxepunk_HXP.engine.preRender,this.scene)),this.zIndexSystem=new kro13_hxp_systems_HxpZIndexSystem(this,haxepunk_HXP.engine.preRender,this.visibiltyBuffer,this.scene),this.addSystem(this.zIndexSystem),this.addSystem(new kro13_hxp_systems_HxpCameraSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider,this.scene.camera)),this.addSystem(new kro13_kk_systems_AnimationSystem(this,haxepunk_HXP.engine.preRender)),this.addSystem(new kro13_kk_systems_TrampSystem(this,haxepunk_HXP.engine.preRender,this.gameEventSystem,this.dataProvider)),this.addSystem(new kro13_kk_systems_StuckSystem(this,haxepunk_HXP.engine.preRender,this.gameEventSystem)),this.updateSystem=new kro13_kk_systems_SimpleUpdateSystem(this,haxepunk_HXP.engine.preUpdate),this.addSystem(this.updateSystem),this.scoreSystem=new kro13_kk_systems_ScoreSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider,this.gameEventSystem),this.addSystem(this.scoreSystem),this.addSystem(new kro13_kk_systems_DestroySystem(this,this.gameEventSystem)),this.avalancheSystem=new kro13_kk_systems_AvalancheSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider,this.gameEventSystem),this.addSystem(this.avalancheSystem),this.soundSystem=new kro13_kk_systems_SoundControlSystem(this,haxepunk_HXP.engine.postUpdate,this.gameEventSystem,this.dataProvider,this.avalancheSystem),this.addSystem(this.soundSystem),this.addSystem(new kro13_kk_systems_TricksSystem(this,haxepunk_HXP.engine.preRender,this.dataProvider,this.gameEventSystem)),this.fogSystem=new kro13_kk_systems_FogSystem(this,haxepunk_HXP.engine.preRender,this.visibiltyBuffer,this.dataProvider),this.addSystem(this.fogSystem),this.rollbackSystem=new kro13_kk_systems_RollbackSystem(this,haxepunk_HXP.engine.preRender,this.gameEventSystem),this.addSystem(this.rollbackSystem),this.addSystem(new kro13_kk_systems_ChaseSystem(this,haxepunk_HXP.engine.preUpdate,this.dataProvider,this.gameEventSystem))},start:function(){this.renderSystem.start(),this.transformSystem.start(),this.fogSystem.start(),this.updateSystem.start(),this.zIndexSystem.start(),this.rollbackSystem.start(),this.soundSystem.start()},clear:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.clear.call(this),null!=this.player&&this.player.destroy(),null!=this.canyon&&this.canyon.destroy()},build:function(){this.buildPlayer(),this.buildCanyon()},onEvent:function(e){switch(e._hx_index){case 0:var t=e.firstStart;this.startNew(t);break;case 1:this.restart();break;case 2:this.play();break;case 3:this.pause();break;case 30:e.startNew;this.updateSystem.removeContainer(this.canyon)}},play:function(){haxe_Log.trace("play",{fileName:"src/kro13/hxp/scenes/HxpGameScene.hx",lineNumber:183,className:"kro13.hxp.scenes.HxpGameScene",methodName:"play"}),kro13_hxp_scenes_HxpAbstractScene.prototype.start.call(this)},pause:function(){haxe_Log.trace("pause",{fileName:"src/kro13/hxp/scenes/HxpGameScene.hx",lineNumber:189,className:"kro13.hxp.scenes.HxpGameScene",methodName:"pause"}),this.stop(),this.start()},restart:function(){this.player.body.velocity={x:0,y:0},this.player.body.enableForceById(0),this.player.body.enableForceById(1),this.player.body.enableForceById(2),this.player.body.enableForceById(3),this.player.set_position(this.canyon.getRestartPoint()),this.dataProvider.updateRestarts(-1),this.updateSystem.addContainer(this.canyon),kro13_analytics_Analytics.get_instance().sendEventWithAmount("rollbacks:decrease",this.dataProvider.getProfile().restarts)},startNew:function(e){if(!e&&this.dataProvider.getLocal().scoreData.currentScore>this.dataProvider.getProfile().totalScore){var t=this.dataProvider.getLocal().scoreData;this.dataProvider.getProfile().totalScore=t.currentScore,this.dataProvider.updateRemoteProfileProp("totalScore",this.dataProvider.getProfile().totalScore,$bind(this,this.onProfileUpdated))}this.pause(),this.clear(),e||(kro13_analytics_Analytics.get_instance().sendEventWithAmount("score:current",this.dataProvider.getLocal().scoreData.currentScore),this.scoreSystem.reset(),this.dataProvider.validateLocal(),this.dataProvider.updateRestarts(1,!0),this.dataProvider.getProfile().canyonChain=[],kro13_analytics_Analytics.get_instance().sendEventWithAmount("rollbacks:reset",this.dataProvider.getProfile().restarts),kro13_analytics_Analytics.get_instance().sendEvent("game:finish")),this.build(),this.start(),kro13_analytics_Analytics.get_instance().sendEvent("game:start")},buildCanyon:function(){this.canyon=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildCanyonChain(this.dataProvider,this.gameEventSystem),this.canyon.setPlayer(this.player),this.canyon.childAdded.callbacks.push($bind(this,this.onCanyonAdded)),this.canyon.childRemoved.callbacks.push($bind(this,this.onCanyonRemoved)),this.addContainer(this.canyon)},onCanyonAdded:function(e){this.addContainer(e)},onCanyonRemoved:function(e){this.removeContainer(e),e.destroy()},buildPlayer:function(){this.player=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildPlayer(this.dataProvider),this.gameEventSystem.addContainer(this.player),this.addContainer(this.player);var e,t=this.player;null==t.componentsMap?e=null:e=t.componentsMap.h[13];e.enable(!1),this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PLAYER_CREATED(this.player))},onRemoteProfileSaved:function(e){},onProfileUpdated:function(e){kro13_analytics_Analytics.get_instance().sendEventWithAmount("score:total",this.dataProvider.getProfile().totalScore)},__class__:kro13_hxp_scenes_HxpGameScene});var kro13_hxp_scenes_HxpPreloaderScene=function(){kro13_hxp_scenes_HxpAbstractScene.call(this),this.name="Preloader scene",this.scene.camera=new haxepunk_cameras_StaticCamera,this.scene.name=this.name};$hxClasses["kro13.hxp.scenes.HxpPreloaderScene"]=kro13_hxp_scenes_HxpPreloaderScene,kro13_hxp_scenes_HxpPreloaderScene.__name__="kro13.hxp.scenes.HxpPreloaderScene",kro13_hxp_scenes_HxpPreloaderScene.__super__=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpPreloaderScene.prototype=$extend(kro13_hxp_scenes_HxpAbstractScene.prototype,{init:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.init.call(this),this.addSystem(new kro13_kk_systems_AnimationSystem(this,haxepunk_HXP.engine.preUpdate))},start:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.start.call(this)},build:function(){this.preloader=new kro13_kk_guiObjects_KKPreloader;var e=haxepunk_HXP.width,t=haxepunk_HXP.height;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.preloader.set_size(a),this.preloader.build(),this.addContainer(this.preloader)},__class__:kro13_hxp_scenes_HxpPreloaderScene});var kro13_hxp_scenes_HxpSnowScene=function(e,t){kro13_hxp_scenes_HxpAbstractScene.call(this),this.eventSystem=e,this.dataProvider=t,this.scene.camera=new haxepunk_cameras_StaticCamera,this.scene.bgAlpha=0,this.name="snow scene",this.scene.name=this.name};$hxClasses["kro13.hxp.scenes.HxpSnowScene"]=kro13_hxp_scenes_HxpSnowScene,kro13_hxp_scenes_HxpSnowScene.__name__="kro13.hxp.scenes.HxpSnowScene",kro13_hxp_scenes_HxpSnowScene.__super__=kro13_hxp_scenes_HxpAbstractScene,kro13_hxp_scenes_HxpSnowScene.prototype=$extend(kro13_hxp_scenes_HxpAbstractScene.prototype,{build:function(){this.snow=new kro13_kk_guiObjects_effects_Snow(this.dataProvider),this.snow.build(),this.addContainer(this.snow),this.eventSystem.addContainer(this.snow);var e=new kro13_kk_gameObjects_Renderable;haxepunk_math_Vector2.setTo(e.transform.get_size(),haxepunk_HXP.width,.33*haxepunk_HXP.height),e.setEvenPosition(0,0);var t={size:e.transform.get_size(),source:"images/light.png"};e.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(t),e.transform.set_alpha(.3),this.addContainer(e),this.snowFront=new kro13_kk_guiObjects_effects_Snow(this.dataProvider,2,2,.4,5),this.snowFront.build(),this.addContainer(this.snowFront),this.eventSystem.addContainer(this.snowFront)},init:function(){kro13_hxp_scenes_HxpAbstractScene.prototype.init.call(this),this.addSystem(new kro13_hxp_systems_HxpParticlesSystem(this,haxepunk_HXP.engine.preRender))},__class__:kro13_hxp_scenes_HxpSnowScene});var kro13_hxp_sound_HxpSfx=function(e,t){this.isPaused=!1,this.isStopped=!0,haxepunk_Sfx.call(this,e,t),this.fader=new haxepunk_tweens_sound_SfxFader(this),haxepunk_HXP.tweener.addTween(this.fader,!1)};$hxClasses["kro13.hxp.sound.HxpSfx"]=kro13_hxp_sound_HxpSfx,kro13_hxp_sound_HxpSfx.__name__="kro13.hxp.sound.HxpSfx",kro13_hxp_sound_HxpSfx.__super__=haxepunk_Sfx,kro13_hxp_sound_HxpSfx.prototype=$extend(haxepunk_Sfx.prototype,{play:function(e,t,a){null==a&&(a=!1),null==t&&(t=0),null==e&&(e=1),this.isStopped?(this.isStopped=!1,haxepunk_Sfx.prototype.play.call(this,e,t,a)):this.isPaused&&(this.resume(),this.isPaused=!1)},fade:function(){this.fader.fadeTo(0,1)},loop:function(e,t){null==t&&(t=0),null==e&&(e=1),this.isStopped=!0,haxepunk_Sfx.prototype.loop.call(this,e,t)},stop:function(){return this.isStopped=!0,haxepunk_Sfx.prototype.stop.call(this)},pause:function(){this.isPaused=!0,haxepunk_Sfx.prototype.stop.call(this)},isPlaying:function(){return!this.isPaused&&!this.isStopped},__class__:kro13_hxp_sound_HxpSfx});var kro13_hxp_sound_HxpSoundManager=function(){kro13_kk_sound_AbstractSoundManager.call(this)};$hxClasses["kro13.hxp.sound.HxpSoundManager"]=kro13_hxp_sound_HxpSoundManager,kro13_hxp_sound_HxpSoundManager.__name__="kro13.hxp.sound.HxpSoundManager",kro13_hxp_sound_HxpSoundManager.__super__=kro13_kk_sound_AbstractSoundManager,kro13_hxp_sound_HxpSoundManager.prototype=$extend(kro13_kk_sound_AbstractSoundManager.prototype,{setVolume:function(e,t){this.soundsMap.h[e].set_volume(t)},fade:function(e){haxe_Log.trace("fade "+e,{fileName:"src/kro13/hxp/sound/HxpSoundManager.hx",lineNumber:25,className:"kro13.hxp.sound.HxpSoundManager",methodName:"fade"}),this.soundsMap.h[e].fade()},isPlaying:function(e){return this.soundsMap.h[e].isPlaying()},doPlay:function(e,t){var a=this.soundsMap.h[e];a.isPlaying()||(haxe_Log.trace("play "+e,{fileName:"src/kro13/hxp/sound/HxpSoundManager.hx",lineNumber:41,className:"kro13.hxp.sound.HxpSoundManager",methodName:"doPlay"}),a.play(1,0,t))},doStop:function(e){var t=this.soundsMap.h[e];null!=t&&(haxe_Log.trace("stop "+e,{fileName:"src/kro13/hxp/sound/HxpSoundManager.hx",lineNumber:51,className:"kro13.hxp.sound.HxpSoundManager",methodName:"doStop"}),t.stop())},doPause:function(e){var t=this.soundsMap.h[e];null!=t&&(haxe_Log.trace("pause "+e,{fileName:"src/kro13/hxp/sound/HxpSoundManager.hx",lineNumber:61,className:"kro13.hxp.sound.HxpSoundManager",methodName:"doPause"}),t.pause())},makeSound:function(e){var t=new kro13_hxp_sound_HxpSfx("audio/"+e+".mp3");return haxe_Log.trace("audio/"+e+".mp3",{fileName:"src/kro13/hxp/sound/HxpSoundManager.hx",lineNumber:69,className:"kro13.hxp.sound.HxpSoundManager",methodName:"makeSound"}),t},__class__:kro13_hxp_sound_HxpSoundManager});var kro13_kk_systems_AbstractComponentSystem=function(e){this.containers=[],this.scene=e};$hxClasses["kro13.kk.systems.AbstractComponentSystem"]=kro13_kk_systems_AbstractComponentSystem,kro13_kk_systems_AbstractComponentSystem.__name__="kro13.kk.systems.AbstractComponentSystem",kro13_kk_systems_AbstractComponentSystem.__interfaces__=[kro13_kk_systems_IComponentSystem],kro13_kk_systems_AbstractComponentSystem.prototype={addContainer:function(e){if(!(this.containers.indexOf(e)>=0)){this.containers.push(e);var t=$bind(this,this.removeContainer),a=e;e.onDestroy.callbacks.push((function(){t(a)}))}},removeContainer:function(e){if(!(this.containers.indexOf(e)<0)){HxOverrides.remove(this.containers,e);var t=$bind(this,this.removeContainer),a=e;HxOverrides.remove(e.onDestroy.callbacks,(function(){t(a)}))}},clear:function(){this.containers=[]},start:function(){},stop:function(){},__class__:kro13_kk_systems_AbstractComponentSystem};var kro13_kk_systems_AbstractUpdateSystem=function(e,t){kro13_kk_systems_AbstractComponentSystem.call(this,e),this.onUpdate=t};$hxClasses["kro13.kk.systems.AbstractUpdateSystem"]=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_AbstractUpdateSystem.__name__="kro13.kk.systems.AbstractUpdateSystem",kro13_kk_systems_AbstractUpdateSystem.__super__=kro13_kk_systems_AbstractComponentSystem,kro13_kk_systems_AbstractUpdateSystem.prototype=$extend(kro13_kk_systems_AbstractComponentSystem.prototype,{start:function(){kro13_kk_systems_AbstractComponentSystem.prototype.start.call(this),this.onUpdate.callbacks.indexOf($bind(this,this.update))<=-1&&this.onUpdate.callbacks.push($bind(this,this.update))},stop:function(){kro13_kk_systems_AbstractComponentSystem.prototype.stop.call(this),HxOverrides.remove(this.onUpdate.callbacks,$bind(this,this.update))},update:function(){},__class__:kro13_kk_systems_AbstractUpdateSystem});var kro13_hxp_systems_HxpCameraSystem=function(e,t,a,n){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.camera=n,this.dataProvider=a;this.anchor={x:0,y:0},n.scale=1.3};$hxClasses["kro13.hxp.systems.HxpCameraSystem"]=kro13_hxp_systems_HxpCameraSystem,kro13_hxp_systems_HxpCameraSystem.__name__="kro13.hxp.systems.HxpCameraSystem",kro13_hxp_systems_HxpCameraSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpCameraSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[6];if(this.playerHandler=t,null==e.componentsMap)a=null;else a=e.componentsMap.h[2];var n=a;this.anchor=n.get_position(),this.anchorCamera(),this.playerHandler.addHandler($bind(this,this.onEvent))}},clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.playerBody=null,this.playerHandler=null},update:function(){var e=this.playerBody.velocity,t=.95*this.camera.scale+.05*(1.8-.6*Math.sqrt(e.x*e.x+e.y*e.y)/this.dataProvider.getLocal().maxSpeed)+.05*(1-kro13_kk_systems_DTSystem.multiplier);this.camera.scale=t},anchorCamera:function(){this.camera.anchor(this.anchor,.5,.33)},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.anchorCamera();break;case 1:this.anchorCamera();break;case 18:e.target;var t=e.amplitude;t>=2?this.camera.shake(.5,10):1==t&&this.camera.shake(.3,3);break;case 25:this.camera.shake(1.5,10);break;case 30:e.startNew;this.camera.anchor(null,0,0)}},__class__:kro13_hxp_systems_HxpCameraSystem});var kro13_hxp_systems_HxpParticlesSystem=function(e,t){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),this.entitiesManager=kro13_hxp_systems_render_HxpEntitiesManager.instance};$hxClasses["kro13.hxp.systems.HxpParticlesSystem"]=kro13_hxp_systems_HxpParticlesSystem,kro13_hxp_systems_HxpParticlesSystem.__name__="kro13.hxp.systems.HxpParticlesSystem",kro13_hxp_systems_HxpParticlesSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpParticlesSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t,a;null==e.componentsMap?t=null:t=e.componentsMap.h[4];(null!=t&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?a=null:a=e.componentsMap.h[2];for(var n=a.iterator();n.hasNext();){var i=n.next();this.addContainer(i.owner)}},removeContainer:function(e){var t;(kro13_kk_systems_AbstractUpdateSystem.prototype.removeContainer.call(this,e),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];for(var a=t.iterator();a.hasNext();){var n=a.next();this.removeContainer(n.owner)}},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this)},stop:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.stop.call(this)},update:function(){for(var e=null,t=0,a=this.containers;t<a.length;){var n,i=a[t];if(++t,null==i.componentsMap)n=null;else n=i.componentsMap.h[4];if((e=n).update(kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier),null!=this.entitiesManager.idsToEntities[i.id]&&e.visible&&e.isTimeToEmit()){var s=this.entitiesManager.getEntity(i.id).graphic;switch(e.particlesType){case"avalanche_front":s.emit(e.particlesType,(Math.random()-.5)*haxepunk_HXP.width,0);break;case"blow":case"plume":s.emit(e.particlesType,0,0);break;case"snow":s.emit(e.particlesType,Math.random()*haxepunk_HXP.width,0)}}}},__class__:kro13_hxp_systems_HxpParticlesSystem});var kro13_hxp_systems_HxpPhysicsSystem=function(e,t,a,n){this.updCounter=1,this.vectorRight={x:1,y:0},this.vectorLeft={x:-1,y:0},this.vectorUp={x:0,y:1},this.collisionResistance={x:0,y:0},this.playerAcceleration={x:0,y:0},this.updateSteps=1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),this.entitiesManager=kro13_hxp_systems_render_HxpEntitiesManager.instance,this.visibilityBuffer=a,this.eventDispatcher=n,this.physicalCoeffs=[]};$hxClasses["kro13.hxp.systems.HxpPhysicsSystem"]=kro13_hxp_systems_HxpPhysicsSystem,kro13_hxp_systems_HxpPhysicsSystem.__name__="kro13.hxp.systems.HxpPhysicsSystem",kro13_hxp_systems_HxpPhysicsSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpPhysicsSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.physicalCoeffs=[]},addContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[3];var a;(null!=t&&t.hasForces()&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?a=null:a=e.componentsMap.h[12];var n=a;null!=n&&this.physicalCoeffs.push(n)},update:function(){for(var e=null,t=null,a=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier,n=null,i=0,s=this.containers;i<s.length;){var _,r,o=s[i];if(++i,null==o.componentsMap)_=null;else _=o.componentsMap.h[2];if(e=_,null==o.componentsMap)r=null;else r=o.componentsMap.h[3];if(t=r,null!=this.entitiesManager.idsToEntities[o.id]){var l=this.entitiesManager.getEntityBB(o.id,t.position.x,t.position.y,t.size.x,t.size.y);t.acceleration.x=0,t.acceleration.y=0;for(var h=0,u=t.forces;h<u.length;){var p=u[h];++h,p.enabled&&(p.update(),t.acceleration.x+=p.get_vector().x/t.mass,t.acceleration.y+=p.get_vector().y/t.mass)}t.velocity.x+=t.acceleration.x*a*t.timeRate,t.velocity.y+=t.acceleration.y*a*t.timeRate;var c=(xe=t.velocity).x,d=xe.y;null==d&&(d=0),null==c&&(c=0);var f=ke={x:c,y:d};f.x*=a,f.y*=a;var m=f;if(l.set_angle(e.get_rotation()),this.updCounter>=1){for(var g=this.visibilityBuffer.visible,x=0;x<g.length;){var k,y=g[x];if(++x,null==y.componentsMap)k=null;else k=y.componentsMap.h[3];var b,v=k;if(null==y.componentsMap)b=null;else b=y.componentsMap.h[2];var P=b;if(y!=o&&null!=v){var w=this.entitiesManager.getEntityBB(y.id,v.position.x,v.position.y,v.size.x,v.size.y),T=l.get_x(),C=l.get_y();l.set_x(Math.ceil(m.x)),l.set_y(Math.ceil(m.y));var S=null!=l&&null!=w&&l.collide(w);if(l.set_x(T),l.set_y(C),S){switch(y.type){case 2:case 3:case 4:case 7:null==e.get_position()&&haxe_Log.trace(e.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),e.absPosition.x=e.get_position().x,e.absPosition.y=e.get_position().y;for(var A=e.parent;null!=A;)e.absPosition.x+=A.get_position().x,e.absPosition.y+=A.get_position().y,A=A.parent;var E=e.absPosition,D=[];if(null!=l)for(var M=0,R=l._points;M<R.length;){var L=R[M];++M;var I=E.x+L.x+m.x,$=E.y+L.y+m.y;null==$&&($=0),null==I&&(I=0);var B={x:I,y:$};D.push(B)}var O=D;null==P.get_position()&&haxe_Log.trace(P.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),P.absPosition.x=P.get_position().x,P.absPosition.y=P.get_position().y;for(var G=P.parent;null!=G;)P.absPosition.x+=G.get_position().x,P.absPosition.y+=G.get_position().y,G=G.parent;var F=P.absPosition,N={x:0,y:0},H=[];if(null!=w)for(var U=0,X=w._points;U<X.length;){var V=X[U];++U;var j=F.x+V.x+N.x,z=F.y+V.y+N.y;null==z&&(z=0),null==j&&(j=0);var W={x:j,y:z};H.push(W)}var Y=H;null==kro13_kk_utils_CollisionUtils.instance&&(kro13_kk_utils_CollisionUtils.instance=new kro13_kk_utils_CollisionUtils),n=kro13_kk_utils_CollisionUtils.instance.getMinTranslationVector(O,Y);var K=m.x,q=m.y;null==q&&(q=0),null==K&&(K=0);var J={x:K,y:q};J.x-=n.x,J.y-=n.y,m=J;var Z=1;if(null==Z&&(Z=1),0!=n.x||0!=n.y){var Q=Z/Math.sqrt(n.x*n.x+n.y*n.y);n.x*=Q,n.y*=Q}var ee,te=n;if(this.collisionResistance.x=0,this.collisionResistance.y=0,t.velocity.x>=0){var ae=this.vectorRight;ee=te.x*ae.x+te.y*ae.y}else{var ne=this.vectorLeft;ee=te.x*ne.x+te.y*ne.y}var ie=this.vectorUp,se=te.x*ie.x+te.y*ie.y;ee>=0&&(this.collisionResistance.x=-t.velocity.x*(ee+.1)),se>=0&&(this.collisionResistance.y=-t.velocity.y*(se+.01));var _e=this.collisionResistance,re=t.velocity,oe=re.x,le=re.y;null==le&&(le=0),null==oe&&(oe=0);var he={x:oe,y:le};he.x+=_e.x,he.y+=_e.y,t.velocity=he}for(var ue=0,pe=t.onCollide.callbacks;ue<pe.length;){var ce=pe[ue];++ue,ce(y)}for(var de=0,fe=v.onCollide.callbacks;de<fe.length;){var me=fe[de];++de,me(o)}}}}this.updCounter=0}Math.sqrt(m.x*m.x+m.y*m.y)>0&&e.moveBy(Math.round(m.x),Math.round(m.y));var ge=e;ge.set_rotation(ge.get_rotation()+t.angularVelocity*a)}}this.updCounter++;for(i=0,s=this.physicalCoeffs;i<s.length;){L=s[i];++i,L.rotationQueue.push(L.transform.get_rotation()),L.rotationQueue.length>=5&&L.rotationQueue.shift();var xe=L.body.velocity;L.speedQueue.push(Math.sqrt(xe.x*xe.x+xe.y*xe.y));var ke=L.body.velocity;L.speedSum+=Math.sqrt(ke.x*ke.x+ke.y*ke.y),L.speedQueue.length>=20&&(L.speedSum-=L.speedQueue[0],L.speedQueue.shift()),L.speedCoeff=1/(L.speedSum/L.speedQueue.length+1),L.rotationCoeff=1/(.1*Math.pow(L.transform.get_rotation()-L.rotationQueue[0],2)+1)}},collidesWithAny:function(e,t,a,n){var i=this.entitiesManager.getEntityBB(e,0,0,a.get_size().x,a.get_size().y),s=this.entitiesManager.getEntityBB(t,0,0,n.get_size().x,n.get_size().y);return i.collide(s)},willCollide:function(e,t,a,n){null==n&&(n=!1);var i=e.get_x(),s=e.get_y();e.set_x(Math.ceil(a.x)),e.set_y(Math.ceil(a.y));var _=null!=e&&null!=t&&e.collide(t);return e.set_x(i),e.set_y(s),_},calculateCollisionResistance:function(e,t){var a;if(this.collisionResistance.x=0,this.collisionResistance.y=0,e.velocity.x>=0){var n=this.vectorRight;a=t.x*n.x+t.y*n.y}else{n=this.vectorLeft;a=t.x*n.x+t.y*n.y}n=this.vectorUp;var i=t.x*n.x+t.y*n.y;return a>=0&&(this.collisionResistance.x=-e.velocity.x*(a+.1)),i>=0&&(this.collisionResistance.y=-e.velocity.y*(i+.01)),this.collisionResistance},getOBBArray:function(e,t,a){var n=[];if(null!=t)for(var i=0,s=t._points;i<s.length;){var _=s[i];++i;var r=e.x+_.x+a.x,o=e.y+_.y+a.y;null==o&&(o=0),null==r&&(r=0);var l={x:r,y:o};n.push(l)}return n},__class__:kro13_hxp_systems_HxpPhysicsSystem});var kro13_hxp_systems_HxpRenderSystem=function(e,t,a,n){this.hasEntity=!1,this.needToRender=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),this.entitiesManager=kro13_hxp_systems_render_HxpEntitiesManager.instance,this.visibilityBuffer=n,this.hxpScene=a};$hxClasses["kro13.hxp.systems.HxpRenderSystem"]=kro13_hxp_systems_HxpRenderSystem,kro13_hxp_systems_HxpRenderSystem.__name__="kro13.hxp.systems.HxpRenderSystem",kro13_hxp_systems_HxpRenderSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpRenderSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t;(e instanceof kro13_kk_gameObjects_Renderable&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];for(var a=t.iterator();a.hasNext();){var n=a.next();this.addContainer(n.owner)}},removeContainer:function(e){if(kro13_kk_systems_AbstractUpdateSystem.prototype.removeContainer.call(this,e),null!=this.entitiesManager.idsToEntities[e.id]){this.hxpScene.remove(this.entitiesManager.getEntity(e.id)),this.entitiesManager.clearEntity(e.id);var t=this.visibilityBuffer;HxOverrides.remove(t.visible,e),t.typeToVisible.exists(e.type)&&HxOverrides.remove(t.typeToVisible.get(e.type),e)}var a;null==e.componentsMap?a=null:a=e.componentsMap.h[2];for(var n=a.iterator();n.hasNext();){var i=n.next();this.removeContainer(i.owner)}},clear:function(){for(var e=0,t=this.containers;e<t.length;){var a=t[e];++e,null!=this.entitiesManager.idsToEntities[a.id]&&(this.hxpScene.remove(this.entitiesManager.getEntity(a.id)),this.entitiesManager.clearEntity(a.id))}var n=this.visibilityBuffer;n.visible=[],n.typeToVisible=new haxe_ds_IntMap,kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this)},validateNow:function(){for(var e=0,t=this.containers;e<t.length;){var a,n=t[e];if(++e,null==n.componentsMap)a=null;else a=n.componentsMap.h[2];var i=a;null==i.get_position()&&haxe_Log.trace(i.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),i.absPosition.x=i.get_position().x,i.absPosition.y=i.get_position().y;for(var s=i.parent;null!=s;)i.absPosition.x+=s.get_position().x,i.absPosition.y+=s.get_position().y,s=s.parent;for(var _=i.absPosition,r=_.x-i.origin.x,o=_.y-i.origin.y,l=_.x+i.get_size().x-i.origin.x,h=_.y+i.get_size().y-i.origin.y,u=this.hxpScene.camera.x,p=this.hxpScene.camera.y,c=this.hxpScene.camera,d=this.hxpScene.camera.x+haxepunk_HXP.screen.width/(c.scale*c.scaleX*haxepunk_HXP.screen.scaleX),f=this.hxpScene.camera,m=this.hxpScene.camera.y+haxepunk_HXP.screen.height/(f.scale*f.scaleY*haxepunk_HXP.screen.scaleY),g=!(u>l||d<r||p>h||m<o),x=i;x!=this.scene.transform&&null!=x;)x=x.parent;var k=null!=x;if(this.needToRender=k&&g,this.hasEntity=null!=this.entitiesManager.idsToEntities[n.id],this.needToRender&&this.hasEntity){var y,b=this.entitiesManager.getEntity(n.id);if(null==b._scene&&(haxe_Log.trace("DA FUCK?! --------------------------------------\x3e "+n.id,{fileName:"src/kro13/hxp/systems/HxpRenderSystem.hx",lineNumber:144,className:"kro13.hxp.systems.HxpRenderSystem",methodName:"validateEntityIfNeeded"}),this.hxpScene.add(b)),null==n.componentsMap)y=null;else y=n.componentsMap.h[1];var v=y;v.isValid||(this.entitiesManager.updateEntity(n),v.isValid=!0),v.isLayerValid||(this.entitiesManager.updateEntityLayer(n),v.isLayerValid=!0)}else if(this.needToRender&&!this.hasEntity){var P=this.entitiesManager.buildEnity(n);this.hxpScene.add(P);var w=this.visibilityBuffer;w.visible.push(n),w.typeToVisible.exists(n.type)||w.typeToVisible.set(n.type,[]),w.typeToVisible.get(n.type).push(n)}else if(!this.needToRender&&this.hasEntity){this.hxpScene.remove(this.entitiesManager.getEntity(n.id)),this.entitiesManager.clearEntity(n.id);var T=this.visibilityBuffer;HxOverrides.remove(T.visible,n),T.typeToVisible.exists(n.type)&&HxOverrides.remove(T.typeToVisible.get(n.type),n)}}},update:function(){for(var e=0,t=this.containers;e<t.length;){var a,n=t[e];if(++e,null==n.componentsMap)a=null;else a=n.componentsMap.h[2];var i=a;null==i.get_position()&&haxe_Log.trace(i.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),i.absPosition.x=i.get_position().x,i.absPosition.y=i.get_position().y;for(var s=i.parent;null!=s;)i.absPosition.x+=s.get_position().x,i.absPosition.y+=s.get_position().y,s=s.parent;for(var _=i.absPosition,r=_.x-i.origin.x,o=_.y-i.origin.y,l=_.x+i.get_size().x-i.origin.x,h=_.y+i.get_size().y-i.origin.y,u=this.hxpScene.camera.x,p=this.hxpScene.camera.y,c=this.hxpScene.camera,d=this.hxpScene.camera.x+haxepunk_HXP.screen.width/(c.scale*c.scaleX*haxepunk_HXP.screen.scaleX),f=this.hxpScene.camera,m=this.hxpScene.camera.y+haxepunk_HXP.screen.height/(f.scale*f.scaleY*haxepunk_HXP.screen.scaleY),g=!(u>l||d<r||p>h||m<o),x=i;x!=this.scene.transform&&null!=x;)x=x.parent;var k=null!=x;if(this.needToRender=k&&g,this.hasEntity=null!=this.entitiesManager.idsToEntities[n.id],this.needToRender&&this.hasEntity){var y,b=this.entitiesManager.getEntity(n.id);if(null==b._scene&&(haxe_Log.trace("DA FUCK?! --------------------------------------\x3e "+n.id,{fileName:"src/kro13/hxp/systems/HxpRenderSystem.hx",lineNumber:144,className:"kro13.hxp.systems.HxpRenderSystem",methodName:"validateEntityIfNeeded"}),this.hxpScene.add(b)),null==n.componentsMap)y=null;else y=n.componentsMap.h[1];var v=y;v.isValid||(this.entitiesManager.updateEntity(n),v.isValid=!0),v.isLayerValid||(this.entitiesManager.updateEntityLayer(n),v.isLayerValid=!0)}else if(this.needToRender&&!this.hasEntity){var P=this.entitiesManager.buildEnity(n);this.hxpScene.add(P);var w=this.visibilityBuffer;w.visible.push(n),w.typeToVisible.exists(n.type)||w.typeToVisible.set(n.type,[]),w.typeToVisible.get(n.type).push(n)}else if(!this.needToRender&&this.hasEntity){this.hxpScene.remove(this.entitiesManager.getEntity(n.id)),this.entitiesManager.clearEntity(n.id);var T=this.visibilityBuffer;HxOverrides.remove(T.visible,n),T.typeToVisible.exists(n.type)&&HxOverrides.remove(T.typeToVisible.get(n.type),n)}}},checkIsOnScene:function(e){for(var t=e;t!=this.scene.transform&&null!=t;)t=t.parent;return null!=t},checkIsOnCamera:function(e){null==e.get_position()&&haxe_Log.trace(e.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),e.absPosition.x=e.get_position().x,e.absPosition.y=e.get_position().y;for(var t=e.parent;null!=t;)e.absPosition.x+=t.get_position().x,e.absPosition.y+=t.get_position().y,t=t.parent;var a=e.absPosition,n=a.x-e.origin.x,i=a.y-e.origin.y,s=a.x+e.get_size().x-e.origin.x,_=a.y+e.get_size().y-e.origin.y,r=this.hxpScene.camera.x,o=this.hxpScene.camera.y,l=this.hxpScene.camera,h=this.hxpScene.camera.x+haxepunk_HXP.screen.width/(l.scale*l.scaleX*haxepunk_HXP.screen.scaleX),u=(l=this.hxpScene.camera,this.hxpScene.camera.y+haxepunk_HXP.screen.height/(l.scale*l.scaleY*haxepunk_HXP.screen.scaleY));return!(r>s||h<n||o>_||u<i)},validateEntityIfNeeded:function(e){var t,a=this.entitiesManager.getEntity(e.id);(null==a._scene&&(haxe_Log.trace("DA FUCK?! --------------------------------------\x3e "+e.id,{fileName:"src/kro13/hxp/systems/HxpRenderSystem.hx",lineNumber:144,className:"kro13.hxp.systems.HxpRenderSystem",methodName:"validateEntityIfNeeded"}),this.hxpScene.add(a)),null==e.componentsMap)?t=null:t=e.componentsMap.h[1];var n=t;n.isValid||(this.entitiesManager.updateEntity(e),n.isValid=!0),n.isLayerValid||(this.entitiesManager.updateEntityLayer(e),n.isLayerValid=!0)},eraseEntity:function(e){this.hxpScene.remove(this.entitiesManager.getEntity(e.id)),this.entitiesManager.clearEntity(e.id);var t=this.visibilityBuffer;HxOverrides.remove(t.visible,e),t.typeToVisible.exists(e.type)&&HxOverrides.remove(t.typeToVisible.get(e.type),e)},drawEntity:function(e){var t=this.entitiesManager.buildEnity(e);this.hxpScene.add(t);var a=this.visibilityBuffer;a.visible.push(e),a.typeToVisible.exists(e.type)||a.typeToVisible.set(e.type,[]),a.typeToVisible.get(e.type).push(e)},__class__:kro13_hxp_systems_HxpRenderSystem});var kro13_hxp_systems_HxpTextEmitterSystem=function(e,t,a){this.LIFETIME=1e3,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.hxpScene=a,this.entities=[],haxe_Log.trace("new text emit system",{fileName:"src/kro13/hxp/systems/HxpTextEmitterSystem.hx",lineNumber:29,className:"kro13.hxp.systems.HxpTextEmitterSystem",methodName:"new"})};$hxClasses["kro13.hxp.systems.HxpTextEmitterSystem"]=kro13_hxp_systems_HxpTextEmitterSystem,kro13_hxp_systems_HxpTextEmitterSystem.__name__="kro13.hxp.systems.HxpTextEmitterSystem",kro13_hxp_systems_HxpTextEmitterSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpTextEmitterSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[7];null!=t&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e)},stop:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.stop.call(this);for(var e=this.entities.length,t=0,a=e;t<a;){var n=t++,i=this.entities[e-n-1];this.hxpScene.remove(i),HxOverrides.remove(this.entities,i)}},update:function(){for(var e,t=this,a=null,n=0,i=this.containers;n<i.length;){var s,_=i[n];if(++n,null==_.componentsMap)s=null;else s=_.componentsMap.h[7];if(null!=(e=s.pop())){var r=65280;Std.parseInt(e)<0&&(r=16711680);var o=new haxepunk_graphics_text_BitmapText(e,0,0,0,0,{font:"fonts/Norse-Bold-ru.fnt",size:60,format:1,wordWrap:!0,color:r}),l=[new haxepunk_Entity(null,null,o)];if(null==_.componentsMap)a=null;else a=_.componentsMap.h[2];var h=a,u=l[0];null==h.get_position()&&haxe_Log.trace(h.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),h.absPosition.x=h.get_position().x,h.absPosition.y=h.get_position().y;for(var p=h.parent;null!=p;)h.absPosition.x+=p.get_position().x,h.absPosition.y+=p.get_position().y,p=p.parent;u.set_x(h.absPosition.x+50);var c=l[0];null==h.get_position()&&haxe_Log.trace(h.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),h.absPosition.x=h.get_position().x,h.absPosition.y=h.get_position().y;for(var d=h.parent;null!=d;)h.absPosition.x+=d.get_position().x,h.absPosition.y+=d.get_position().y,d=d.parent;c.set_y(h.absPosition.y-50),this.hxpScene.add(l[0]),this.entities.push(l[0]),haxe_Timer.delay(function(e){return function(){t.entities.indexOf(e[0])>=0&&(t.hxpScene.remove(e[0]),HxOverrides.remove(t.entities,e[0]))}}(l),this.LIFETIME)}}},__class__:kro13_hxp_systems_HxpTextEmitterSystem});var kro13_hxp_systems_HxpTransformSystem=function(e,t,a){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),this.entitiesManager=kro13_hxp_systems_render_HxpEntitiesManager.instance,this.visibiltyBuffer=a,this.binders=[]};$hxClasses["kro13.hxp.systems.HxpTransformSystem"]=kro13_hxp_systems_HxpTransformSystem,kro13_hxp_systems_HxpTransformSystem.__name__="kro13.hxp.systems.HxpTransformSystem",kro13_hxp_systems_HxpTransformSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpTransformSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.binders=[]},addContainer:function(e){null==e.componentsMap?t=null:t=e.componentsMap.h[2];(null!=t&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?t=null:t=e.componentsMap.h[11];if(null!=t){var t;if(null==e.componentsMap)t=null;else t=e.componentsMap.h[11];this.binders.push(t)}},removeContainer:function(e){var t;(kro13_kk_systems_AbstractUpdateSystem.prototype.removeContainer.call(this,e),null==e.componentsMap)?t=null:t=e.componentsMap.h[11];if(null!=t){var a;if(null==e.componentsMap)a=null;else a=e.componentsMap.h[11];HxOverrides.remove(this.binders,a)}},validateNow:function(){for(var e=0,t=this.visibiltyBuffer.visible;e<t.length;){var a,n=t[e];if(++e,null==n.componentsMap)a=null;else a=n.componentsMap.h[2];var i=a,s=this.entitiesManager.getEntity(n.id);null==i.get_position()&&haxe_Log.trace(i.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),i.absPosition.x=i.get_position().x,i.absPosition.y=i.get_position().y;for(var _=i.parent;null!=_;)i.absPosition.x+=_.get_position().x,i.absPosition.y+=_.get_position().y,_=_.parent;var r=i.absPosition,o=r.y;s.moveBy(r.x-s.get_x(),o-s.get_y(),null,!1);var l=i.get_rotation();s.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(s.graphic,haxepunk_graphics_Image).angle=l);var h=i.get_scale();if(!s.isList&&s.graphic instanceof haxepunk_graphics_Image)js_Boot.__cast(s.graphic,haxepunk_graphics_Image).scale=h;else if(s.isList)for(var u=0,p=s.graphic.get_children();u<p.length;){var c=p[u];++u,js_Boot.__cast(c,haxepunk_graphics_Image).scale=h}var d=i.flip;d&&s.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(s.graphic,haxepunk_graphics_Image).flipX=d),s.set_visible(i.get_visible());var f=i.get_alpha();s.graphic.set_alpha(f)}for(e=0,t=this.binders;e<t.length;){var m=t[e];++e,null!=m.targetTransform&&m.bindFunction(m.targetTransform)}},update:function(){for(var e=0,t=this.visibiltyBuffer.visible;e<t.length;){var a,n=t[e];if(++e,null==n.componentsMap)a=null;else a=n.componentsMap.h[2];var i=a,s=this.entitiesManager.getEntity(n.id);null==i.get_position()&&haxe_Log.trace(i.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),i.absPosition.x=i.get_position().x,i.absPosition.y=i.get_position().y;for(var _=i.parent;null!=_;)i.absPosition.x+=_.get_position().x,i.absPosition.y+=_.get_position().y,_=_.parent;var r=i.absPosition,o=r.y;s.moveBy(r.x-s.get_x(),o-s.get_y(),null,!1);var l=i.get_rotation();s.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(s.graphic,haxepunk_graphics_Image).angle=l);var h=i.get_scale();if(!s.isList&&s.graphic instanceof haxepunk_graphics_Image)js_Boot.__cast(s.graphic,haxepunk_graphics_Image).scale=h;else if(s.isList)for(var u=0,p=s.graphic.get_children();u<p.length;){var c=p[u];++u,js_Boot.__cast(c,haxepunk_graphics_Image).scale=h}var d=i.flip;d&&s.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(s.graphic,haxepunk_graphics_Image).flipX=d),s.set_visible(i.get_visible());var f=i.get_alpha();s.graphic.set_alpha(f)}for(e=0,t=this.binders;e<t.length;){var m=t[e];++e,null!=m.targetTransform&&m.bindFunction(m.targetTransform)}},alpha:function(e,t){e.graphic.set_alpha(t)},visible:function(e,t){e.set_visible(t)},move:function(e,t){var a=t.y;e.moveBy(t.x-e.get_x(),a-e.get_y(),null,!1)},rotate:function(e,t){e.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(e.graphic,haxepunk_graphics_Image).angle=t)},scale:function(e,t){if(!e.isList&&e.graphic instanceof haxepunk_graphics_Image)js_Boot.__cast(e.graphic,haxepunk_graphics_Image).scale=t;else if(e.isList)for(var a=0,n=e.graphic.get_children();a<n.length;){var i=n[a];++a,js_Boot.__cast(i,haxepunk_graphics_Image).scale=t}},flip:function(e,t){t&&e.graphic instanceof haxepunk_graphics_Image&&(js_Boot.__cast(e.graphic,haxepunk_graphics_Image).flipX=t)},__class__:kro13_hxp_systems_HxpTransformSystem});var kro13_hxp_systems_HxpZIndexSystem=function(e,t,a,n){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.hxpScene=n,this.visibilityBuffer=a,haxe_Log.trace("new z index system",{fileName:"src/kro13/hxp/systems/HxpZIndexSystem.hx",lineNumber:32,className:"kro13.hxp.systems.HxpZIndexSystem",methodName:"new"})};$hxClasses["kro13.hxp.systems.HxpZIndexSystem"]=kro13_hxp_systems_HxpZIndexSystem,kro13_hxp_systems_HxpZIndexSystem.__name__="kro13.hxp.systems.HxpZIndexSystem",kro13_hxp_systems_HxpZIndexSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_HxpZIndexSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.playerTransform=null},addContainer:function(e){if(1==e.type){var t;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[2];this.playerTransform=t}},update:function(){if(null!=this.playerTransform){for(var e=0,t=this.visibilityBuffer.visible;e<t.length;){var a=t[e];switch(++e,a.type){case 4:var n,i=a;if(null==a.componentsMap)n=null;else n=a.componentsMap.h[1];var s=n;if(0==i.depth)s.isLayerValid=!1,s._layer=12;else{var _;if(null==a.componentsMap)_=null;else _=a.componentsMap.h[2];var r=_;null==r.get_position()&&haxe_Log.trace(r.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),r.absPosition.x=r.get_position().x,r.absPosition.y=r.get_position().y;for(var o=r.parent;null!=o;)r.absPosition.x+=o.get_position().x,r.absPosition.y+=o.get_position().y,o=o.parent;var l=r.absPosition.y+20,h=this.playerTransform;null==h.get_position()&&haxe_Log.trace(h.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),h.absPosition.x=h.get_position().x,h.absPosition.y=h.get_position().y;for(var u=h.parent;null!=u;)h.absPosition.x+=u.get_position().x,h.absPosition.y+=u.get_position().y,u=u.parent;l<=h.absPosition.y?(s.isLayerValid=!1,s._layer=12):(s.isLayerValid=!1,s._layer=6)}break;case 9:var p;if(null==a.componentsMap)p=null;else p=a.componentsMap.h[2];var c,d=p;if(null==a.componentsMap)c=null;else c=a.componentsMap.h[1];var f=c;null==d.get_position()&&haxe_Log.trace(d.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),d.absPosition.x=d.get_position().x,d.absPosition.y=d.get_position().y;for(var m=d.parent;null!=m;)d.absPosition.x+=m.get_position().x,d.absPosition.y+=m.get_position().y,m=m.parent;var g=d.absPosition.y+20,x=this.playerTransform;null==x.get_position()&&haxe_Log.trace(x.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),x.absPosition.x=x.get_position().x,x.absPosition.y=x.get_position().y;for(var k=x.parent;null!=k;)x.absPosition.x+=k.get_position().x,x.absPosition.y+=k.get_position().y,k=k.parent;g<=x.absPosition.y?(f.isLayerValid=!1,f._layer=13):(f.isLayerValid=!1,f._layer=5);break;case 2:case 7:case 10:var y;if(null==a.componentsMap)y=null;else y=a.componentsMap.h[2];var b,v=y;if(null==a.componentsMap)b=null;else b=a.componentsMap.h[1];var P=b;null==v.get_position()&&haxe_Log.trace(v.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),v.absPosition.x=v.get_position().x,v.absPosition.y=v.get_position().y;for(var w=v.parent;null!=w;)v.absPosition.x+=w.get_position().x,v.absPosition.y+=w.get_position().y,w=w.parent;var T=v.absPosition.y,C=this.playerTransform;null==C.get_position()&&haxe_Log.trace(C.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),C.absPosition.x=C.get_position().x,C.absPosition.y=C.get_position().y;for(var S=C.parent;null!=S;)C.absPosition.x+=S.get_position().x,C.absPosition.y+=S.get_position().y,S=S.parent;T<=C.absPosition.y?(P.isLayerValid=!1,P._layer=12):(P.isLayerValid=!1,P._layer=1)}}var A;null!=(A=this.hxpScene.getLayer(12))&&A.sort($bind(this,this.sortByY)),null!=(A=this.hxpScene.getLayer(6))&&A.sort($bind(this,this.sortByY)),null!=(A=this.hxpScene.getLayer(12))&&A.sort($bind(this,this.sortByY)),null!=(A=this.hxpScene.getLayer(1))&&A.sort($bind(this,this.sortByY))}},sortInLayer:function(e){var t=this.hxpScene.getLayer(e);null!=t&&t.sort($bind(this,this.sortByY))},checkGroundSorting:function(e){var t,a=e;null==e.componentsMap?t=null:t=e.componentsMap.h[1];var n=t;if(0==a.depth)n.isLayerValid=!1,n._layer=12;else{var i;if(null==e.componentsMap)i=null;else i=e.componentsMap.h[2];var s=i;null==s.get_position()&&haxe_Log.trace(s.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),s.absPosition.x=s.get_position().x,s.absPosition.y=s.get_position().y;for(var _=s.parent;null!=_;)s.absPosition.x+=_.get_position().x,s.absPosition.y+=_.get_position().y,_=_.parent;var r=s.absPosition.y+20,o=this.playerTransform;null==o.get_position()&&haxe_Log.trace(o.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),o.absPosition.x=o.get_position().x,o.absPosition.y=o.get_position().y;for(_=o.parent;null!=_;)o.absPosition.x+=_.get_position().x,o.absPosition.y+=_.get_position().y,_=_.parent;r<=o.absPosition.y?(n.isLayerValid=!1,n._layer=12):(n.isLayerValid=!1,n._layer=6)}},checkShadowsSorting:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];var a,n=t;null==e.componentsMap?a=null:a=e.componentsMap.h[1];var i=a;null==n.get_position()&&haxe_Log.trace(n.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),n.absPosition.x=n.get_position().x,n.absPosition.y=n.get_position().y;for(var s=n.parent;null!=s;)n.absPosition.x+=s.get_position().x,n.absPosition.y+=s.get_position().y,s=s.parent;var _=n.absPosition.y+20,r=this.playerTransform;null==r.get_position()&&haxe_Log.trace(r.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),r.absPosition.x=r.get_position().x,r.absPosition.y=r.get_position().y;for(s=r.parent;null!=s;)r.absPosition.x+=s.get_position().x,r.absPosition.y+=s.get_position().y,s=s.parent;_<=r.absPosition.y?(i.isLayerValid=!1,i._layer=13):(i.isLayerValid=!1,i._layer=5)},checkObjectsSorting:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];var a,n=t;null==e.componentsMap?a=null:a=e.componentsMap.h[1];var i=a;null==n.get_position()&&haxe_Log.trace(n.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),n.absPosition.x=n.get_position().x,n.absPosition.y=n.get_position().y;for(var s=n.parent;null!=s;)n.absPosition.x+=s.get_position().x,n.absPosition.y+=s.get_position().y,s=s.parent;var _=n.absPosition.y,r=this.playerTransform;null==r.get_position()&&haxe_Log.trace(r.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),r.absPosition.x=r.get_position().x,r.absPosition.y=r.get_position().y;for(s=r.parent;null!=s;)r.absPosition.x+=s.get_position().x,r.absPosition.y+=s.get_position().y,s=s.parent;_<=r.absPosition.y?(i.isLayerValid=!1,i._layer=12):(i.isLayerValid=!1,i._layer=1)},sortByY:function(e,t){return e.get_y()>t.get_y()?1:e.get_y()<t.get_y()?-1:e.get_y()==t.get_y()?e.get_x()<=t.get_x()?-1:1:0},__class__:kro13_hxp_systems_HxpZIndexSystem});var kro13_hxp_systems_control_HxpGUIControlSystem=function(e,t){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),haxe_Log.trace("new gui control system",{fileName:"src/kro13/hxp/systems/control/HxpGUIControlSystem.hx",lineNumber:24,className:"kro13.hxp.systems.control.HxpGUIControlSystem",methodName:"new"})};$hxClasses["kro13.hxp.systems.control.HxpGUIControlSystem"]=kro13_hxp_systems_control_HxpGUIControlSystem,kro13_hxp_systems_control_HxpGUIControlSystem.__name__="kro13.hxp.systems.control.HxpGUIControlSystem",kro13_hxp_systems_control_HxpGUIControlSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_control_HxpGUIControlSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t;(e instanceof kro13_kk_guiObjects_Button&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];for(var a=t.iterator();a.hasNext();){var n=a.next();this.addContainer(n.owner)}},update:function(){var e=haxepunk_input_Mouse.get_mouseX(),t=haxepunk_input_Mouse.get_mouseY();null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.point=a;for(var n=this.containers.length-1;n>=0;){var i=this.containers[n];if(null==i.componentsMap)h=null;else h=i.componentsMap.h[2];var s,_=h;if(haxepunk_input_Mouse.mousePressed){var r=this.point;null==_.get_position()&&haxe_Log.trace(_.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),_.absPosition.x=_.get_position().x,_.absPosition.y=_.get_position().y;for(var o=_.parent;null!=o;)_.absPosition.x+=o.get_position().x,_.absPosition.y+=o.get_position().y,o=o.parent;var l=_.absPosition;null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),s=null!=kro13_hxp_systems_render_HxpEntitiesManager.instance.idsToEntities[_.owner.id]&&_.get_visible()&&r.x>=l.x&&r.y>=l.y&&r.x<=l.x+_.get_size().x&&r.y<=l.y+_.get_size().y}else s=!1;s&&(this.currBtn=i,this.currBtn.isToggle||this.currBtn.altColor(),n=0),--n}if(null!=this.currBtn){haxepunk_input_Mouse.mouseReleased&&null!=this.currBtn.action&&(this.currBtn.action(),this.currBtn.isToggle||this.currBtn.normColor());var h=this.currBtn.transform;r=this.point;null==h.get_position()&&haxe_Log.trace(h.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),h.absPosition.x=h.get_position().x,h.absPosition.y=h.get_position().y;for(o=h.parent;null!=o;)h.absPosition.x+=o.get_position().x,h.absPosition.y+=o.get_position().y,o=o.parent;l=h.absPosition;null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),null!=kro13_hxp_systems_render_HxpEntitiesManager.instance.idsToEntities[h.owner.id]&&h.get_visible()&&r.x>=l.x&&r.y>=l.y&&r.x<=l.x+h.get_size().x&&r.y<=l.y+h.get_size().y||(this.currBtn.isToggle||this.currBtn.normColor(),this.currBtn=null)}},isButtonHit:function(e,t){null==e.get_position()&&haxe_Log.trace(e.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),e.absPosition.x=e.get_position().x,e.absPosition.y=e.get_position().y;for(var a=e.parent;null!=a;)e.absPosition.x+=a.get_position().x,e.absPosition.y+=a.get_position().y,a=a.parent;var n=e.absPosition;return null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),!!(null!=kro13_hxp_systems_render_HxpEntitiesManager.instance.idsToEntities[e.owner.id]&&e.get_visible())&&(t.x>=n.x&&t.y>=n.y&&t.x<=n.x+e.get_size().x&&t.y<=n.y+e.get_size().y)},getPressPoint:function(){var e=haxepunk_input_Mouse.get_mouseX(),t=haxepunk_input_Mouse.get_mouseY();return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},__class__:kro13_hxp_systems_control_HxpGUIControlSystem});var kro13_hxp_systems_control_HxpMouseControlSystem=function(e,t,a){this.enabled=!0,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.dataProvider=a,this.mouseX=haxepunk_input_Mouse.get_mouseX(),this.isActive=!1,haxe_Log.trace("new mouse system",{fileName:"src/kro13/hxp/systems/control/HxpMouseControlSystem.hx",lineNumber:32,className:"kro13.hxp.systems.control.HxpMouseControlSystem",methodName:"new"})};$hxClasses["kro13.hxp.systems.control.HxpMouseControlSystem"]=kro13_hxp_systems_control_HxpMouseControlSystem,kro13_hxp_systems_control_HxpMouseControlSystem.__name__="kro13.hxp.systems.control.HxpMouseControlSystem",kro13_hxp_systems_control_HxpMouseControlSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_hxp_systems_control_HxpMouseControlSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[2];if(this.playerTransform=t,null==e.componentsMap)a=null;else a=e.componentsMap.h[6];a.addHandler($bind(this,this.onEvent))}},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this),this.mouseX=haxepunk_input_Mouse.get_mouseX()},update:function(){if(this.enabled){if(haxepunk_input_Mouse.mouseUp&&(this.isActive=!1),null!=this.playerTransform&&this.isActive){var e=this.playerTransform;e.set_rotation(e.get_rotation()+(haxepunk_input_Mouse.get_mouseX()-this.mouseX)*kro13_kk_systems_DTSystem.multiplier*this.dataProvider.getProfile().misc.sensitivity)}haxepunk_input_Mouse.mouseDown&&(this.isActive=!0),this.mouseX=haxepunk_input_Mouse.get_mouseX()}},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.enabled=!0;break;case 1:this.enabled=!0;break;case 22:1==e.avalanche&&(this.enabled=!1)}},__class__:kro13_hxp_systems_control_HxpMouseControlSystem});var kro13_hxp_systems_render_HxpEntitiesManager=function(){this.count=0,this.idsToEntities=[],this.idsToBBs=[],this.entitiesPool=new haxe_ds_List;for(var e=0;e<100;){e++;this.putEntityToPool(new kro13_hxp_HxpEntity)}};$hxClasses["kro13.hxp.systems.render.HxpEntitiesManager"]=kro13_hxp_systems_render_HxpEntitiesManager,kro13_hxp_systems_render_HxpEntitiesManager.__name__="kro13.hxp.systems.render.HxpEntitiesManager",kro13_hxp_systems_render_HxpEntitiesManager.__properties__={get_instance:"get_instance"},kro13_hxp_systems_render_HxpEntitiesManager.get_instance=function(){return null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager),kro13_hxp_systems_render_HxpEntitiesManager.instance},kro13_hxp_systems_render_HxpEntitiesManager.prototype={entitiesCount:function(){return this.count},hasEntity:function(e){return null!=this.idsToEntities[e]},getEntity:function(e){return this.idsToEntities[e]},updateEntity:function(e){var t,a=e.id;null==e.componentsMap?t=null:t=e.componentsMap.h[1];var n,i=t;null==e.componentsMap?n=null:n=e.componentsMap.h[2];var s=n,_=this.idsToEntities[a];this.applyConfig(_,s,i)},updateEntityLayer:function(e){var t,a=e.id;null==e.componentsMap?t=null:t=e.componentsMap.h[1];var n=t;this.idsToEntities[a].set_layer(n._layer)},buildEnity:function(e){var t,a=this.getEntityFromPool(),n=e.id;null==e.componentsMap?t=null:t=e.componentsMap.h[1];var i,s=t;null==e.componentsMap?i=null:i=e.componentsMap.h[2];var _=i;return this.applyConfig(a,_,s),a.set_layer(s._layer),this.idsToEntities[n]=a,a.set_name(e.name),this.count++,a},clearEntity:function(e){var t=this.idsToEntities[e];this.idsToBBs[e]=null,this.idsToEntities[e]=null,t.graphic.destroy(),t.set_mask(null),t.set_collidable(!1),this.putEntityToPool(t),this.count--},getEntityBB:function(e,t,a,n,i){if(null==this.idsToBBs[e]){var s=haxepunk_masks_Polygon.createFromArray([t,a,t+n,a,t+n,a+i,t,a+i]),_=this.idsToEntities[e];_.set_mask(s),_.set_collidable(!0),this.idsToBBs[e]=s}return this.idsToBBs[e]},applyConfig:function(e,t,a){var n=a.material;switch(n._hx_index){case 0:var i=n.config;this.applyGroundBlockConfig(e,i),this.setListProperties(e,t.origin);break;case 1:var s=n.config;this.applyImageConfig(e,s);var _=t.origin;e.isList=!1,(l=e.graphic).originX=_.x*l.get_width()/(l.get_width()*l.scaleX*l.scale),l.originY=_.y*l.get_height()/(l.get_height()*l.scaleY*l.scale);break;case 2:s=n.config;this.applyClipImageConfig(e,s);_=t.origin;e.isList=!1,(l=e.graphic).originX=_.x*l.get_width()/(l.get_width()*l.scaleX*l.scale),l.originY=_.y*l.get_height()/(l.get_height()*l.scaleY*l.scale);break;case 3:var r=n.config;this.applyRectangleConfig(e,r);_=t.origin;e.isList=!1,(l=e.graphic).originX=_.x*l.get_width()/(l.get_width()*l.scaleX*l.scale),l.originY=_.y*l.get_height()/(l.get_height()*l.scaleY*l.scale);break;case 4:var o=n.config;this.applyCircConfig(e,o);_=t.origin;e.isList=!1,(l=e.graphic).originX=_.x*l.get_width()/(l.get_width()*l.scaleX*l.scale),l.originY=_.y*l.get_height()/(l.get_height()*l.scaleY*l.scale);break;case 5:r=n.config;this.applyClipRectangleConfig(e,r);var l;_=t.origin;e.isList=!1,(l=e.graphic).originX=_.x*l.get_width()/(l.get_width()*l.scaleX*l.scale),l.originY=_.y*l.get_height()/(l.get_height()*l.scaleY*l.scale);break;case 6:var h=n.config;this.applyTextConfig(e,h);break;case 7:var u=n.config;this.applyParticlesConfig(e,u);break;case 8:var p=n.config;this.applyGUIConfig(e,p),this.setListProperties(e,t.origin);break;case 9:var c=n.config;this.applyGUIButtonConfig(e,c),this.setListProperties(e,t.origin);break;case 11:var d=n.config;this.applyCliffConfig(e,d),this.setListProperties(e,t.origin);break;case 12:var f=n.config;this.applySnowmanConfig(e,f),this.setListProperties(e,t.origin);break;default:throw haxe_Exception.thrown("KK ERROR: unknown material "+Std.string(a.material)+"!")}},applySnowmanConfig:function(e,t){var a=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,n=kro13_hxp_HxpResourceManager.get_instance().getImage(t.source);n.scaleX=t.size.x/n.scale/n.get_width(),n.scaleY=t.size.y/n.scale/n.get_height(),a.add(n);var i=kro13_hxp_HxpResourceManager.get_instance(),s=t.leftEyeSize.x;null==(o=t.leftEyeSize.y)&&(o=0),null==s&&(s=0);var _={x:s,y:o},r=i.getRectImage(_,0);r.x=t.leftEyePos.x,r.y=t.leftEyePos.y,a.add(r);var o,l=kro13_hxp_HxpResourceManager.get_instance();s=t.rightEyeSize.x;null==(o=t.rightEyeSize.y)&&(o=0),null==s&&(s=0);_={x:s,y:o};var h=l.getRectImage(_,0);h.x=t.rightEyePos.x,h.y=t.rightEyePos.y,a.add(h);var u=kro13_hxp_HxpResourceManager.get_instance().getImage("images/snowman_nose.png");u.flipX=t.flip,u.scaleX=t.noseSize.x/u.scale/u.get_width(),u.scaleY=t.noseSize.y/u.scale/u.get_height(),t.flip?u.x=t.size.x-t.nosePos.x-t.noseSize.x:u.x=t.nosePos.x,u.y=t.nosePos.y,a.add(u),e.graphic=a,e.graphic.pixelSnapping=!0},applyCliffConfig:function(e,t){for(var a=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,n=(kro13_hxp_HxpResourceManager.get_instance().getRectImage(t.size,16711680),t.levels.length),i=0,s=n;i<s;)for(var _=i++,r=0,o=t.levels[n-_-1];r<o.length;){var l=o[r];++r;var h=40*l.size.x;null==(m=40*l.size.y)&&(m=0),null==h&&(h=0);var u=h,p=40*l.z;null==p&&(p=0),null==u&&(u=0);var c={x:u,y:p},d=t.borderColor,f=kro13_hxp_HxpResourceManager.get_instance().getRectImage(c,d-100*(_+1));f.x=40*l.position.x,f.y=t.size.y-40*(l.position.y+l.z),a.add(f)}for(i=0,s=n;i<s;)for(_=i++,r=0,o=t.levels[_];r<o.length;){l=o[r];++r;var m;h=40*l.size.x;null==(m=40*l.size.y)&&(m=0),null==h&&(h=0);var g={x:h,y:m},x=(d=t.color,kro13_hxp_HxpResourceManager.get_instance().getRectImage(g,d-100*(_+1)));x.x=40*l.position.x,x.y=t.size.y-40*(l.position.y+l.size.y+l.z),a.add(x)}return e.graphic=a,e},applyGUIConfig:function(e,t){var a=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,n=kro13_hxp_HxpResourceManager.get_instance(),i=t.size.x;null==(s=t.size.y)&&(s=0),null==i&&(i=0);var s,_={x:i,y:s},r=n.getRectImage(_,t.borderColor),o=kro13_hxp_HxpResourceManager.get_instance();i=t.size.x-2*t.borderWidth;null==(s=t.size.y-2*t.borderWidth)&&(s=0),null==i&&(i=0);_={x:i,y:s};var l=o.getRectImage(_,t.color);return l.x=t.borderWidth,l.y=t.borderWidth,a.add(r),a.add(l),e.graphic=a,e},applyGUIButtonConfig:function(e,t){var a=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,n=kro13_hxp_HxpResourceManager.get_instance(),i=t.size.x+2*t.outBorderWidth;null==(o=t.size.y+2*t.outBorderWidth)&&(o=0),null==i&&(i=0);var s={x:i,y:o},_=n.getRectImage(s,t.outBorderColor),r=kro13_hxp_HxpResourceManager.get_instance();i=t.size.x;null==(o=t.size.y)&&(o=0),null==i&&(i=0);s={x:i,y:o};var o,l=r.getRectImage(s,t.borderColor),h=kro13_hxp_HxpResourceManager.get_instance();i=t.size.x-2*t.borderWidth;null==(o=t.size.y-2*t.borderWidth)&&(o=0),null==i&&(i=0);s={x:i,y:o};var u=h.getRectImage(s,t.color);return _.x=-t.outBorderWidth,_.y=-t.outBorderWidth,u.x=t.borderWidth,u.y=t.borderWidth,a.add(_),a.add(l),a.add(u),e.graphic=a,e},applyParticlesConfig:function(e,t){var a=kro13_hxp_HxpResourceManager.get_instance().getTexture("blank_rect"),n=null;if(e.graphic instanceof haxepunk_graphics_emitter_Emitter&&(n=e.graphic),null==n||!n.hasType(t.particlesType)){var i=new haxepunk_graphics_atlas_AtlasData(a);(n=new haxepunk_graphics_emitter_Emitter(new haxepunk_graphics_atlas_TileAtlas(i))).newType(t.particlesType,[0])}return n.setRotation(t.particlesType,0,0,360),n.setColor(t.particlesType,t.color,null!=t.endColor&&0!=t.endColor?t.endColor:t.color),n.setMotion(t.particlesType,t.emitAngle,t.distance,t.duration,null!=t.angleRange?t.angleRange:0,null!=t.distanceRange?t.distanceRange:0,null!=t.durationRange?t.durationRange:0),n.setAlpha(t.particlesType,null!=t.startAlpha?t.startAlpha:1,null!=t.endAlpha?t.endAlpha:1),n.setScale(t.particlesType,null!=t.startScale?t.startScale:1,null!=t.endScale?t.endScale:1),e.graphic=n,e},applyClipImageConfig:function(e,t){return this.applyImageConfig(e,t),e.graphic.clipRect=new haxepunk_math_Rectangle(0,0,t.size.x*t.clipSize.x,t.size.y*t.clipSize.y),e},applyClipRectangleConfig:function(e,t){return this.applyRectangleConfig(e,t),e.graphic.clipRect=new haxepunk_math_Rectangle(0,0,t.size.x*t.clipSize.x,t.size.y*t.clipSize.y),e},applyImageConfig:function(e,t){var a=kro13_hxp_HxpResourceManager.get_instance().getImage(t.source);return a.scaleX=t.size.x/a.scale/a.get_width(),a.scaleY=t.size.y/a.scale/a.get_height(),e.graphic=a,e.graphic.pixelSnapping=!0,0!=t.color&&null!=t.color&&e.graphic.set_color(t.color),e},applyGroundBlockConfig:function(e,t){var a=new haxepunk_graphics_BaseGraphicList_$haxepunk_$Graphic,n=kro13_hxp_HxpResourceManager.get_instance().getRectImage(t.size,t.color);n.scaleX=t.size.x/n.scale/n.get_width(),n.scaleY=t.size.y/n.scale/n.get_height(),a.add(n);for(var i=0,s=t.spots;i<s.length;){var _=s[i];++i;var r=kro13_hxp_HxpResourceManager.get_instance();null==(w=40)&&(w=0),null==(P=40)&&(P=0);var o,l={x:P,y:w},h=t.color,u=t.spotColor;if(null==(k=.2)&&(k=1),k<=0)o=h;else if(k>=1)o=u;else{var p=h>>>24&255,c=h>>>16&255,d=h>>>8&255,f=255&h;o=(p+=((u>>>24&255)-p)*k|0)<<24|(c+=((u>>>16&255)-c)*k|0)<<16|(d+=((u>>>8&255)-d)*k|0)<<8|(f+=((255&u)-f)*k|0)}var m=r.getRectImage(l,o);m.x=40*_.x,m.y=40*_.y,a.add(m)}for(i=0,s=t.shadows;i<s.length;){var g=s[i];++i;var x=kro13_hxp_HxpResourceManager.get_instance();null==(w=40)&&(w=0),null==(P=40)&&(P=0);var k,y;l={x:P,y:w},h=t.color,u=t.spotColor;if(null==(k=.4)&&(k=1),k<=0)y=h;else if(k>=1)y=u;else{p=h>>>24&255,c=h>>>16&255,d=h>>>8&255,f=255&h;y=(p+=((u>>>24&255)-p)*k|0)<<24|(c+=((u>>>16&255)-c)*k|0)<<16|(d+=((u>>>8&255)-d)*k|0)<<8|(f+=((255&u)-f)*k|0)}var b=x.getRectImage(l,y);b.x=40*g.x,b.y=40*g.y,a.add(b)}for(i=0,s=t.borders;i<s.length;){var v=s[i];switch(++i,v){case 0:var P,w,T=kro13_hxp_HxpResourceManager.get_instance();null==(w=40)&&(w=0),null==(P=t.size.x)&&(P=0);l={x:P,y:w};var C=T.getRectImage(l,t.borderColor);C.y=t.size.y,a.add(C);break;case 1:var S=kro13_hxp_HxpResourceManager.get_instance(),A=2,E=t.size.y;null==E&&(E=0),null==A&&(A=0);var D={x:A,y:E},M=S.getRectImage(D,t.borderColor);M.x=t.size.x-2,a.add(M);break;case 2:var R=kro13_hxp_HxpResourceManager.get_instance(),L=2,I=t.size.y;null==I&&(I=0),null==L&&(L=0);var $={x:L,y:I},B=R.getRectImage($,t.borderColor);a.add(B);break;case 3:var O=kro13_hxp_HxpResourceManager.get_instance(),G=t.size.x,F=2;null==F&&(F=0),null==G&&(G=0);var N={x:G,y:F},H=O.getRectImage(N,t.borderColor);a.add(H)}}return e.graphic=a,e},applyRectangleConfig:function(e,t){var a=null!=e.graphic?e.graphic.alpha:1,n=kro13_hxp_HxpResourceManager.get_instance().getRectImage(t.size,t.color);return e.graphic=n,e.graphic.set_alpha(a),e.graphic.pixelSnapping=!0,e},applyCircConfig:function(e,t){var a=null!=e.graphic?e.graphic.alpha:1,n=kro13_hxp_HxpResourceManager.get_instance().getCircImage(t.size,t.color);return e.graphic=n,e.graphic.set_alpha(a),e.graphic.pixelSnapping=!0,e},applyTextConfig:function(e,t){var a=t.options,n=new haxepunk_graphics_text_BitmapText(t.text,0,0,Math.floor(t.width),Math.floor(t.height),a);return t.centerOrigin&&n.centerOrigin(),e.graphic=n,e},setPlainProperties:function(e,t){e.isList=!1;var a=e.graphic;a.originX=t.x*a.get_width()/(a.get_width()*a.scaleX*a.scale),a.originY=t.y*a.get_height()/(a.get_height()*a.scaleY*a.scale)},setListProperties:function(e,t){e.isList=!0;for(var a=0,n=e.graphic.get_children();a<n.length;){var i=n[a];++a;var s=i;s.originX=t.x*s.get_width()/(s.get_width()*s.scaleX*s.scale),s.originY=t.y*s.get_height()/(s.get_height()*s.scaleY*s.scale)}},getEntityFromPool:function(){return 0==this.entitiesPool.length&&this.entitiesPool.push(new kro13_hxp_HxpEntity),this.entitiesPool.pop()},putEntityToPool:function(e){e.isList=!1,this.entitiesPool.push(e)},__class__:kro13_hxp_systems_render_HxpEntitiesManager};var kro13_iap_IIApManager=function(){};$hxClasses["kro13.iap.IIApManager"]=kro13_iap_IIApManager,kro13_iap_IIApManager.__name__="kro13.iap.IIApManager",kro13_iap_IIApManager.__isInterface__=!0,kro13_iap_IIApManager.prototype={__class__:kro13_iap_IIApManager};var kro13_iap_IAPManager=function(){this.testIsPremiumPurchased=!1};$hxClasses["kro13.iap.IAPManager"]=kro13_iap_IAPManager,kro13_iap_IAPManager.__name__="kro13.iap.IAPManager",kro13_iap_IAPManager.__interfaces__=[kro13_iap_IIApManager],kro13_iap_IAPManager.__properties__={get_instance:"get_instance"},kro13_iap_IAPManager.get_instance=function(){return null==kro13_iap_IAPManager.instance&&(kro13_iap_IAPManager.instance=new kro13_iap_IAPManager),kro13_iap_IAPManager.instance},kro13_iap_IAPManager.prototype={hasPremium:function(){return null==this.impl?this.testIsPremiumPurchased:this.impl.hasPremium()},isAvailable:function(){return null==this.impl||this.impl.isAvailable()},checkIfPremiumPurchased:function(e){var t=this;null!=this.impl?this.impl.checkIfPremiumPurchased(e):haxe_Timer.delay((function(){e(t.testIsPremiumPurchased)}),1e3)},purchasePremium:function(e,t){if(null==this.impl)return this.testIsPremiumPurchased=!0,void haxe_Timer.delay((function(){e()}),1e3);this.impl.purchasePremium(e,t)},__class__:kro13_iap_IAPManager};var kro13_kk_BonusManager=function(){};$hxClasses["kro13.kk.BonusManager"]=kro13_kk_BonusManager,kro13_kk_BonusManager.__name__="kro13.kk.BonusManager",kro13_kk_BonusManager.bonusPostUrl=function(){return"?w=wall-168383584_25"},kro13_kk_BonusManager.bonusCondition=function(e){return kro13_kk_data_EProfileTag.isTagged(1,e.getProfile())},kro13_kk_BonusManager.bonusAction=function(e){kro13_kk_BonusManager.bonusCondition(e)&&e.updateRestarts(1)};var kro13_kk_Constants=function(){};$hxClasses["kro13.kk.Constants"]=kro13_kk_Constants,kro13_kk_Constants.__name__="kro13.kk.Constants";var kro13_kk_EGameEvent=$hxEnums["kro13.kk.EGameEvent"]={__ename__:"kro13.kk.EGameEvent",__constructs__:["START_NEW","RESTART","PLAY","PAUSE","ACTIVATE","DEACTIVATE","RESET_PROFILE","STATS","CHANGE_SOUND","MAIN_MENU","HELP","CREDITS","CONFIRM","SETTINGS","ERROR","SHOW_ADS","SHOW_VIDEO_ADS","PLAYER_CREATED","HIT","TRAMP_ON","TRAMP_OFF","TRAMP_LAND","STUCK","RELEASE","EMIT_SCORE","AVALANCHE_START","AVALANCHE_STOP","TRICK_START","TRICK_STOP","COMBO_STOP","ROLLBACK","CANYON_SWITCH","CANYON_GENERATE_NEXT","CHASE_START","CHASE_SUCCESS","CHASE_FAIL","VALIDATE_DATA","START_TUTOR","IN_GAME_MESSAGE","TUTOR_MESSAGE","COMPLEXITY_REDUCED","BONUS","SETTINGS_CHANGED","SHOW_PRIVACY_POLICY"],START_NEW:($_=function(e){return{_hx_index:0,firstStart:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["firstStart"],$_),RESTART:{_hx_index:1,__enum__:"kro13.kk.EGameEvent",toString:$estr},PLAY:{_hx_index:2,__enum__:"kro13.kk.EGameEvent",toString:$estr},PAUSE:{_hx_index:3,__enum__:"kro13.kk.EGameEvent",toString:$estr},ACTIVATE:{_hx_index:4,__enum__:"kro13.kk.EGameEvent",toString:$estr},DEACTIVATE:{_hx_index:5,__enum__:"kro13.kk.EGameEvent",toString:$estr},RESET_PROFILE:{_hx_index:6,__enum__:"kro13.kk.EGameEvent",toString:$estr},STATS:{_hx_index:7,__enum__:"kro13.kk.EGameEvent",toString:$estr},CHANGE_SOUND:{_hx_index:8,__enum__:"kro13.kk.EGameEvent",toString:$estr},MAIN_MENU:{_hx_index:9,__enum__:"kro13.kk.EGameEvent",toString:$estr},HELP:{_hx_index:10,__enum__:"kro13.kk.EGameEvent",toString:$estr},CREDITS:{_hx_index:11,__enum__:"kro13.kk.EGameEvent",toString:$estr},CONFIRM:($_=function(e,t,a){return{_hx_index:12,message:e,onConfirm:t,onCancel:a,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["message","onConfirm","onCancel"],$_),SETTINGS:{_hx_index:13,__enum__:"kro13.kk.EGameEvent",toString:$estr},ERROR:($_=function(e,t,a){return{_hx_index:14,errorType:e,errorMessage:t,showErrorPopup:a,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["errorType","errorMessage","showErrorPopup"],$_),SHOW_ADS:($_=function(e,t){return{_hx_index:15,onSuccess:e,onError:t,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["onSuccess","onError"],$_),SHOW_VIDEO_ADS:($_=function(e,t,a){return{_hx_index:16,onSuccess:e,onSkip:t,onError:a,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["onSuccess","onSkip","onError"],$_),PLAYER_CREATED:($_=function(e){return{_hx_index:17,player:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["player"],$_),HIT:($_=function(e,t){return{_hx_index:18,target:e,amplitude:t,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["target","amplitude"],$_),TRAMP_ON:{_hx_index:19,__enum__:"kro13.kk.EGameEvent",toString:$estr},TRAMP_OFF:($_=function(e){return{_hx_index:20,jumpTime:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["jumpTime"],$_),TRAMP_LAND:{_hx_index:21,__enum__:"kro13.kk.EGameEvent",toString:$estr},STUCK:($_=function(e){return{_hx_index:22,avalanche:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["avalanche"],$_),RELEASE:{_hx_index:23,__enum__:"kro13.kk.EGameEvent",toString:$estr},EMIT_SCORE:($_=function(e){return{_hx_index:24,score:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["score"],$_),AVALANCHE_START:{_hx_index:25,__enum__:"kro13.kk.EGameEvent",toString:$estr},AVALANCHE_STOP:($_=function(e,t){return{_hx_index:26,escaped:e,fade:t,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["escaped","fade"],$_),TRICK_START:{_hx_index:27,__enum__:"kro13.kk.EGameEvent",toString:$estr},TRICK_STOP:{_hx_index:28,__enum__:"kro13.kk.EGameEvent",toString:$estr},COMBO_STOP:{_hx_index:29,__enum__:"kro13.kk.EGameEvent",toString:$estr},ROLLBACK:($_=function(e){return{_hx_index:30,startNew:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["startNew"],$_),CANYON_SWITCH:{_hx_index:31,__enum__:"kro13.kk.EGameEvent",toString:$estr},CANYON_GENERATE_NEXT:{_hx_index:32,__enum__:"kro13.kk.EGameEvent",toString:$estr},CHASE_START:{_hx_index:33,__enum__:"kro13.kk.EGameEvent",toString:$estr},CHASE_SUCCESS:{_hx_index:34,__enum__:"kro13.kk.EGameEvent",toString:$estr},CHASE_FAIL:{_hx_index:35,__enum__:"kro13.kk.EGameEvent",toString:$estr},VALIDATE_DATA:{_hx_index:36,__enum__:"kro13.kk.EGameEvent",toString:$estr},START_TUTOR:{_hx_index:37,__enum__:"kro13.kk.EGameEvent",toString:$estr},IN_GAME_MESSAGE:($_=function(e){return{_hx_index:38,message:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["message"],$_),TUTOR_MESSAGE:($_=function(e){return{_hx_index:39,content:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["content"],$_),COMPLEXITY_REDUCED:($_=function(e){return{_hx_index:40,reducer:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["reducer"],$_),BONUS:($_=function(e){return{_hx_index:41,level:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["level"],$_),SETTINGS_CHANGED:{_hx_index:42,__enum__:"kro13.kk.EGameEvent",toString:$estr},SHOW_PRIVACY_POLICY:($_=function(e){return{_hx_index:43,onConfirm:e,__enum__:"kro13.kk.EGameEvent",toString:$estr}},$_.__params__=["onConfirm"],$_)},kro13_kk_MessageContent={_new:function(e){return e},fromString:function(e){var t=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1);return haxepunk_math_Vector2.setTo(t.get_size(),800,0),t.build(),t.materialConfig.text=e,t.renderer.isValid=!1,haxepunk_math_Vector2.setTo(t.get_size(),800,kro13_kk_utils_TextUtils.getTextRect(t).y),t}},kro13_kk_IEventDispatcher=function(){};$hxClasses["kro13.kk.IEventDispatcher"]=kro13_kk_IEventDispatcher,kro13_kk_IEventDispatcher.__name__="kro13.kk.IEventDispatcher",kro13_kk_IEventDispatcher.__isInterface__=!0,kro13_kk_IEventDispatcher.prototype={__class__:kro13_kk_IEventDispatcher};var kro13_kk_IUpdatable=function(){};$hxClasses["kro13.kk.IUpdatable"]=kro13_kk_IUpdatable,kro13_kk_IUpdatable.__name__="kro13.kk.IUpdatable",kro13_kk_IUpdatable.__isInterface__=!0,kro13_kk_IUpdatable.prototype={__class__:kro13_kk_IUpdatable};var kro13_kk_KKGame=function(){this.isStarted=!1,kro13_kk_KKGame.version=openfl_Lib.get_current().stage.application.meta.h.version;var e=this.calculateScaledDimensions();kro13_hxp_HxpEngine.call(this,e.x,e.y,60,!1);var t=window.document.getElementById("content");window.addEventListener("resize",(function(e){0==t.clientHeight&&openfl_Lib.get_current().dispatchEvent(new openfl_events_Event("deactivate"))}),!1)};$hxClasses["kro13.kk.KKGame"]=kro13_kk_KKGame,kro13_kk_KKGame.__name__="kro13.kk.KKGame",kro13_kk_KKGame.__super__=kro13_hxp_HxpEngine,kro13_kk_KKGame.prototype=$extend(kro13_hxp_HxpEngine.prototype,{init:function(){haxe_Log.trace("init",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:68,className:"kro13.kk.KKGame",methodName:"init"}),this.initAnalytics(),this.initAds(),this.initWeb()},initCpp:function(){var e=this;this.defineLocale(),this.createDTSystem(),this.showPreloader(),kro13_kk_threading_ThreadingManager.get_instance().run((function(){e.initResourceManager()}),(function(){e.initTextProperties(),e.hidePreloader(),e.createGameEventSystem(),e.createDataProvider(),e.createTutor(),e.initLocale(),e.createBackScene(),e.createGameScene(),e.createSnowScene(),e.createGUIScene(),e.startGame(),e.addListeners()}),(function(e){haxe_Log.trace(e,{fileName:"src/kro13/kk/KKGame.hx",lineNumber:116,className:"kro13.kk.KKGame",methodName:"initCpp"})}))},initWeb:function(){this.defineLocale(),this.createGameEventSystem(),this.createDataProvider(),this.createTutor(),this.initLocale(),this.createDTSystem(),this.createBackScene(),this.showPreloader(),this.initResourceManager(),this.initTextProperties(),this.setScale(),this.getRemoteProfile()},initAnalytics:function(){kro13_analytics_Analytics.get_instance().init()},initAds:function(){kro13_ads_AdsManager.get_instance().init()},getRemoteProfile:function(){this.dataProvider.loadRemoteProfile($bind(this,this.onRemoteProfileGot))},onRemoteProfileGot:function(e){haxe_Log.trace("remote profile: "+Std.string(e),{fileName:"src/kro13/kk/KKGame.hx",lineNumber:154,className:"kro13.kk.KKGame",methodName:"onRemoteProfileGot"}),kro13_kk_KKGame.isMe="140553"==e.remoteId,this.hidePreloader(),this.createGameScene(),this.createSnowScene(),this.createGUIScene(),this.startGame(),this.addListeners()},updateLocalProfle:function(){},checkWebViewVersion:function(){var e=$global.navigator.userAgent.toLowerCase();if(e.indexOf("android")>=0){var t=e.indexOf("chrome");if(t>=0){var a=Std.parseInt(e.substring(e.indexOf("/",t)+1,e.indexOf(".",t)));haxe_Log.trace("WV version "+a,{fileName:"src/kro13/kk/KKGame.hx",lineNumber:186,className:"kro13.kk.KKGame",methodName:"checkWebViewVersion"})}}},defineLocale:function(){haxe_Log.trace("ru",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:204,className:"kro13.kk.KKGame",methodName:"defineLocale"}),kro13_kk_Constants.LOCALE="ru"},setScale:function(){haxepunk_HXP.screen.scaleMode=new haxepunk_screen_UniformScaleMode(1,!0),haxepunk_HXP.screen.scaleMode.integer=!1},showPreloader:function(){haxe_Log.trace("show preloader",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:222,className:"kro13.kk.KKGame",methodName:"showPreloader"}),this.preloaderScene=new kro13_hxp_scenes_HxpPreloaderScene,this.preloaderScene.init(),this.preloaderScene.build(),this.preloaderScene.start()},hidePreloader:function(){haxe_Log.trace("hide preloader",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:231,className:"kro13.kk.KKGame",methodName:"hidePreloader"}),this.preloaderScene.destroy()},createDataProvider:function(){haxe_Log.trace("create dp",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:237,className:"kro13.kk.KKGame",methodName:"createDataProvider"}),this.dataProvider=new kro13_kk_data_DataProvider(this.gameEventSystem),this.dataProvider.load()},initLocale:function(){haxe_Log.trace("init locale",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:244,className:"kro13.kk.KKGame",methodName:"initLocale"}),kro13_kk_utils_L.get_instance().init("locale/"+this.dataProvider.getProfile().misc.locale.toLowerCase()+".json")},initResourceManager:function(){haxe_Log.trace("init res",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:250,className:"kro13.kk.KKGame",methodName:"initResourceManager"}),kro13_hxp_HxpResourceManager.get_instance().loadAtlas("images/kk.atlas"),kro13_hxp_HxpResourceManager.get_instance().loadAllSounds()},initTextProperties:function(){haxe_Log.trace("create txt",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:257,className:"kro13.kk.KKGame",methodName:"initTextProperties"}),haxepunk_graphics_text_BitmapText.defineFormatTag("white",{color:16777215}),haxepunk_graphics_text_BitmapText.defineFormatTag("red",{color:16711680}),haxepunk_graphics_text_BitmapText.defineFormatTag("green",{color:65280}),haxepunk_graphics_text_BitmapText.defineFormatTag("pink",{color:16731843}),haxepunk_graphics_text_BitmapText.defineFormatTag("guiText",{color:11250647}),haxepunk_graphics_text_BitmapText.defineFormatTag("guiObjects",{color:10066380});var e=kro13_hxp_HxpResourceManager.get_instance().getImage("images/star.png");e.y=-40,haxepunk_graphics_text_BitmapText.defineImageTag("star",e)},createDTSystem:function(){this.dtSystem=new kro13_kk_systems_DTSystem(haxepunk_HXP.engine.preUpdate),this.dtSystem.start()},createGameEventSystem:function(){haxe_Log.trace("create event system",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:277,className:"kro13.kk.KKGame",methodName:"createGameEventSystem"}),this.gameEventSystem=new kro13_kk_systems_GameEventSystem,this.gameEventSystem.start()},createBackScene:function(){haxe_Log.trace("create back",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:284,className:"kro13.kk.KKGame",methodName:"createBackScene"}),this.backScene=new kro13_hxp_scenes_HxpBackScene,this.backScene.init(),this.backScene.build(),this.backScene.start()},createGameScene:function(){haxe_Log.trace("create game",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:293,className:"kro13.kk.KKGame",methodName:"createGameScene"}),this.gameScene=new kro13_hxp_scenes_HxpGameScene(this.gameEventSystem,this.dataProvider),this.gameScene.init(),haxe_Log.trace("game initialized",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:296,className:"kro13.kk.KKGame",methodName:"createGameScene"})},createGUIScene:function(){haxe_Log.trace("create gui",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:301,className:"kro13.kk.KKGame",methodName:"createGUIScene"}),this.guiScene=new kro13_hxp_scenes_HxpGUIScene(this.gameEventSystem,this.dataProvider,$bind(this,this.reloadGame)),this.guiScene.init(),this.guiScene.build(),this.guiScene.start()},createSnowScene:function(){this.snowScene=new kro13_hxp_scenes_HxpSnowScene(this.gameEventSystem,this.dataProvider),this.snowScene.init(),this.snowScene.build(),this.snowScene.start()},createTutor:function(){kro13_kk_TutorManager.get_instance().init(this.dataProvider,this.gameEventSystem),this.gameEventSystem.addContainer(kro13_kk_TutorManager.get_instance())},startGame:function(){haxe_Log.trace("start",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:324,className:"kro13.kk.KKGame",methodName:"startGame"}),this.isStarted=!0,kro13_kk_data_EProfileTag.isTagged(5,this.dataProvider.getProfile())?this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.START_NEW(!0)):this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.START_TUTOR),this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.ACTIVATE)},reloadGame:function(){this.initLocale(),this.guiScene.destroy(),this.createGUIScene()},onContextLost:function(e){haxe_Log.trace("context lost",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:359,className:"kro13.kk.KKGame",methodName:"onContextLost"})},onContextCreate:function(e){haxe_Log.trace("context create",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:364,className:"kro13.kk.KKGame",methodName:"onContextCreate"}),kro13_kk_guiObjects_popups_ConsolePopup.print("Context")},onActivate:function(e){this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.ACTIVATE),haxe_Log.trace("activate",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:371,className:"kro13.kk.KKGame",methodName:"onActivate"}),kro13_kk_guiObjects_popups_ConsolePopup.print("Activate")},onDeactivate:function(e){this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.DEACTIVATE),haxe_Log.trace("deactivate",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:382,className:"kro13.kk.KKGame",methodName:"onDeactivate"}),kro13_kk_guiObjects_popups_ConsolePopup.print("Deactivate"),this.isStarted&&(this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.gameEventSystem.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU),this.dataProvider.save(),this.dataProvider.saveRemoteProfile())},addListeners:function(){openfl_Lib.get_current().addEventListener("deactivate",$bind(this,this.onDeactivate)),openfl_Lib.get_current().addEventListener("activate",$bind(this,this.onActivate)),openfl_Lib.get_current().stage.addEventListener("context3DCreate",$bind(this,this.onContextCreate))},onKKResize:function(e){var t=this.calculateScaledDimensions();haxepunk_HXP.width=t.x,haxepunk_HXP.height=t.y,haxe_Log.trace("-------------------------------",{fileName:"src/kro13/kk/KKGame.hx",lineNumber:413,className:"kro13.kk.KKGame",methodName:"onKKResize",customParams:[t.x,t.y]})},calculateScaledDimensions:function(){var e=openfl_Lib.get_current().stage.stageWidth,t=openfl_Lib.get_current().stage.stageHeight,a=1;e>t?(kro13_kk_Constants.PORTRAIT=!1,a=1400/t):(kro13_kk_Constants.PORTRAIT=!0,a=1080/e);var n=e=Math.floor(e*a),i=t=Math.floor(t*a);return null==i&&(i=0),null==n&&(n=0),{x:n,y:i}},__class__:kro13_kk_KKGame});var kro13_kk_RestartController=function(e,t){this.eventDispatcher=t,this.dataProvider=e};$hxClasses["kro13.kk.RestartController"]=kro13_kk_RestartController,kro13_kk_RestartController.__name__="kro13.kk.RestartController",kro13_kk_RestartController.prototype={tryRestart:function(){kro13_ads_AdsManager.get_instance().get_enabled()&&this.dataProvider.getProfile().scoreData.adsCounter<1?(this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CONFIRM(kro13_kk_utils_L.get_instance().NO_RESTART,$bind(this,this.onNoRestartConfirm),$bind(this,this.tryStartNew)))):this.tryStartNew()},tryStartNew:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE);var e=this.dataProvider.getLocal().getFinishText();this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CONFIRM(e,$bind(this,this.onStartNewConfirm),$bind(this,this.onStartNewCancel)))},onNoRestartConfirm:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.SHOW_VIDEO_ADS($bind(this,this.onAdsSuccess),$bind(this,this.onAdsSkip),$bind(this,this.onAdsError)))},onStartNewConfirm:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ROLLBACK(!0))},onStartNewCancel:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU)},onAdsSuccess:function(){this.dataProvider.updateRestarts(1),kro13_kk_BonusManager.bonusAction(this.dataProvider),this.dataProvider.getProfile().scoreData.adsCounter++},onAdsError:function(e){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ERROR(1,e,!0))},onAdsSkip:function(){},__class__:kro13_kk_RestartController};var kro13_kk_TutorManager=function(){kro13_kk_gameObjects_AbstractGameObject.call(this),this.isStarted=!1,this.eventHandler=new kro13_kk_components_GameEventHandler,this.addComponent(this.eventHandler),haxe_Log.trace("new tutor manager",{fileName:"src/kro13/kk/TutorManager.hx",lineNumber:41,className:"kro13.kk.TutorManager",methodName:"new"})};$hxClasses["kro13.kk.TutorManager"]=kro13_kk_TutorManager,kro13_kk_TutorManager.__name__="kro13.kk.TutorManager",kro13_kk_TutorManager.__interfaces__=[kro13_kk_ISwitchable],kro13_kk_TutorManager.__properties__={get_instance:"get_instance"},kro13_kk_TutorManager.get_instance=function(){return null==kro13_kk_TutorManager.instance&&(kro13_kk_TutorManager.instance=new kro13_kk_TutorManager),kro13_kk_TutorManager.instance},kro13_kk_TutorManager.__super__=kro13_kk_gameObjects_AbstractGameObject,kro13_kk_TutorManager.prototype=$extend(kro13_kk_gameObjects_AbstractGameObject.prototype,{init:function(e,t){this.dataProvider=e,this.eventDispatcher=t,this.eventHandler.addHandler($bind(this,this.onEvent)),this.tutorDP=new kro13_kk_data_TutorDataProvider},start:function(){var e=this.dataProvider.local;this.tutorDP.reset(),this.dataProvider.local=this.tutorDP,this.dataProvider.load(),this.dataProvider.getProfile().misc=e.getProfile().misc,kro13_ads_AdsManager.get_instance().set_enabled(!1),this.isStarted=!0,haxe_Log.trace("------------------------------------\x3e TUTOR START!",{fileName:"src/kro13/kk/TutorManager.hx",lineNumber:63,className:"kro13.kk.TutorManager",methodName:"start"})},stop:function(){this.dataProvider.local;this.dataProvider.local=new kro13_kk_data_LocalDataProvider,this.dataProvider.load(),kro13_ads_AdsManager.get_instance().set_enabled(!0),this.isStarted=!1,haxe_Log.trace("------------------------------------\x3e TUTR STOP!",{fileName:"src/kro13/kk/TutorManager.hx",lineNumber:75,className:"kro13.kk.TutorManager",methodName:"stop"})},getProgress:function(){return this.tutorDP.progress},onEvent:function(e){var t=this;switch(e._hx_index){case 18:var a=e.amplitude,n=e.target;if(!this.isStarted)return;if(7==n.type&&a>=2)if(this.tutorDP.hitsCount++,3==this.tutorDP.hitsCount)this.tutorDP.progress++,(i=new kro13_kk_guiObjects_popups_help_demos_AvalancheDemo(800,2)).build(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([i,kro13_kk_MessageContent.fromString(kro13_kk_utils_L.get_instance().TUTOR_RUN)])),kro13_analytics_Analytics.get_instance().sendEvent("tutor:point4");break;case 21:if(!this.isStarted)return;this.dataProvider.getScoreData().speedBonus>=2&&Math.abs(this.dataProvider.getScoreData().totalRotation)>=360&&(this.tutorDP.jumpsCount++,1==this.tutorDP.jumpsCount&&haxe_Timer.delay((function(){t.tutorDP.progress++;var e=new kro13_kk_guiObjects_popups_help_demos_SnowmenDemo(800,2);e.build(),t.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([e])),kro13_analytics_Analytics.get_instance().sendEvent("tutor:point3")}),200));break;case 26:e.fade;if(1==e.escaped){if(!this.isStarted)return;(i=new kro13_kk_guiObjects_popups_help_demos_MandalaDemo(800,2)).build(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([i,kro13_kk_MessageContent.fromString(kro13_kk_utils_L.get_instance().TUTOR_END)])),this.stop(),kro13_analytics_Analytics.get_instance().sendEvent("tutor:finish"),kro13_kk_data_EProfileTag.tag(5,this.dataProvider.getProfile())}break;case 30:1==e.startNew&&this.isStarted&&this.stop();break;case 31:if(!this.isStarted)return;if(0==this.tutorDP.progress&&this.dataProvider.getLocal().scoreData.totalTracks>=2)this.tutorDP.progress++,(i=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2(800,2)).build(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([i])),kro13_analytics_Analytics.get_instance().sendEvent("tutor:point1");break;case 37:this.start(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.START_NEW(!1));kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildPrivacyPolicyDialog();var i,s=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1(800,2);s.build(),(i=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4(800,2)).build(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([kro13_kk_MessageContent.fromString(kro13_kk_utils_L.get_instance().TUTOR_WELCOME),s,i])),kro13_analytics_Analytics.get_instance().sendEvent("tutor:start");break;case 41:var _=e.level;if(!this.isStarted)return;_>=3&&1==this.tutorDP.progress&&haxe_Timer.delay((function(){t.tutorDP.progress++;var e=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3(800,2);e.build(),t.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TUTOR_MESSAGE([e])),kro13_analytics_Analytics.get_instance().sendEvent("tutor:point2")}),200)}},__class__:kro13_kk_TutorManager});var kro13_kk_components_IComponent=function(){};$hxClasses["kro13.kk.components.IComponent"]=kro13_kk_components_IComponent,kro13_kk_components_IComponent.__name__="kro13.kk.components.IComponent",kro13_kk_components_IComponent.__isInterface__=!0,kro13_kk_components_IComponent.__interfaces__=[kro13_kk_IDestructable],kro13_kk_components_IComponent.prototype={__class__:kro13_kk_components_IComponent};var kro13_kk_components_AbstractComponent=function(e){this.type=e};$hxClasses["kro13.kk.components.AbstractComponent"]=kro13_kk_components_AbstractComponent,kro13_kk_components_AbstractComponent.__name__="kro13.kk.components.AbstractComponent",kro13_kk_components_AbstractComponent.__interfaces__=[kro13_kk_components_IComponent],kro13_kk_components_AbstractComponent.prototype={destroy:function(){},__class__:kro13_kk_components_AbstractComponent};var kro13_kk_components_AnimPlayer=function(){kro13_kk_components_AbstractComponent.call(this,8)};$hxClasses["kro13.kk.components.AnimPlayer"]=kro13_kk_components_AnimPlayer,kro13_kk_components_AnimPlayer.__name__="kro13.kk.components.AnimPlayer",kro13_kk_components_AnimPlayer.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_components_AnimPlayer.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_AnimPlayer.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{play:function(e){this.currentAnim!=e&&(this.stop(),this.currentAnim=e,this.currentAnim.start())},stop:function(){null!=this.currentAnim&&this.currentAnim.stop()},update:function(e){null!=this.currentAnim&&(this.currentAnim.isStarted?this.currentAnim.update(e):this.currentAnim=null)},__class__:kro13_kk_components_AnimPlayer});var kro13_kk_components_Body=function(e,t){if(this.angularVelocity=0,this.mass=1.4,kro13_kk_components_AbstractComponent.call(this,3),this.size=e,null==t){var a={x:0,y:0};this.position=a}else this.position=t;this.forces=[],this.idsToForces=new haxe_ds_IntMap;a={x:0,y:0};this.velocity=a;a={x:0,y:0};this.acceleration=a,this.onCollide=new haxepunk_Signal1,this.timeRate=1};$hxClasses["kro13.kk.components.Body"]=kro13_kk_components_Body,kro13_kk_components_Body.__name__="kro13.kk.components.Body",kro13_kk_components_Body.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Body.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{destroy:function(){kro13_kk_components_AbstractComponent.prototype.destroy.call(this),this.size=null,this.position=null,this.forces=[]},hasForces:function(){return this.forces.length>0},getForceById:function(e){return this.idsToForces.get(e)},addForce:function(e){this.forces.push(e),this.idsToForces.set(e.id,e)},removeForceById:function(e){HxOverrides.remove(this.forces,this.idsToForces.get(e)),this.idsToForces.remove(e)},enableForceById:function(e){this.getForceById(e).enabled=!0},disableForceById:function(e){this.getForceById(e).enabled=!1},updateForces:function(e){this.acceleration.x=0,this.acceleration.y=0;for(var t=0,a=this.forces;t<a.length;){var n=a[t];++t,n.enabled&&(n.update(),this.acceleration.x+=n.get_vector().x/this.mass,this.acceleration.y+=n.get_vector().y/this.mass)}this.velocity.x+=this.acceleration.x*e*this.timeRate,this.velocity.y+=this.acceleration.y*e*this.timeRate},__class__:kro13_kk_components_Body});var kro13_kk_components_GameEventHandler=function(){kro13_kk_components_AbstractComponent.call(this,6),this.handlers=[]};$hxClasses["kro13.kk.components.GameEventHandler"]=kro13_kk_components_GameEventHandler,kro13_kk_components_GameEventHandler.__name__="kro13.kk.components.GameEventHandler",kro13_kk_components_GameEventHandler.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_GameEventHandler.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{destroy:function(){kro13_kk_components_AbstractComponent.prototype.destroy.call(this),this.handlers=null},sendEvent:function(e){for(var t=0,a=this.handlers;t<a.length;){var n=a[t];++t,n(e)}},addHandler:function(e){this.handlers.push(e)},removeHandler:function(e){HxOverrides.remove(this.handlers,e)},__class__:kro13_kk_components_GameEventHandler});var kro13_kk_components_Layout=function(){this.right=-1,this.bottom=-1,this.left=-1,this.top=-1,kro13_kk_components_AbstractComponent.call(this,5),this.direction="horizontal"};$hxClasses["kro13.kk.components.Layout"]=kro13_kk_components_Layout,kro13_kk_components_Layout.__name__="kro13.kk.components.Layout",kro13_kk_components_Layout.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Layout.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{__class__:kro13_kk_components_Layout});var kro13_kk_components_Particles=function(e,t){this.timeDelta=0,this.visible=!0,kro13_kk_components_AbstractComponent.call(this,4),this.particlesType=e,null==t&&(t=function(){return!0}),this.emitFunc=t};$hxClasses["kro13.kk.components.Particles"]=kro13_kk_components_Particles,kro13_kk_components_Particles.__name__="kro13.kk.components.Particles",kro13_kk_components_Particles.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_components_Particles.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Particles.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{update:function(e){this.timeDelta+=e,this.timeDelta>=this.emitFrequency&&(this.timeDelta=0,this.readyToEmit=!0)},isTimeToEmit:function(){return!!this.readyToEmit&&(this.readyToEmit=!1,this.emitFunc())},__class__:kro13_kk_components_Particles});var kro13_kk_components_PhysicalCoefficients=function(e){var t;(kro13_kk_components_AbstractComponent.call(this,12),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];(this.transform=t,null==e.componentsMap)?t=null:t=e.componentsMap.h[3];this.body=t,this.rotationQueue=[],this.speedQueue=[],this.speedSum=0,this.speedCoeff=0,this.rotationCoeff=0};$hxClasses["kro13.kk.components.PhysicalCoefficients"]=kro13_kk_components_PhysicalCoefficients,kro13_kk_components_PhysicalCoefficients.__name__="kro13.kk.components.PhysicalCoefficients",kro13_kk_components_PhysicalCoefficients.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_components_PhysicalCoefficients.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_PhysicalCoefficients.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{update:function(e){this.rotationQueue.push(this.transform.get_rotation()),this.rotationQueue.length>=5&&this.rotationQueue.shift();var t=this.body.velocity;this.speedQueue.push(Math.sqrt(t.x*t.x+t.y*t.y));t=this.body.velocity;this.speedSum+=Math.sqrt(t.x*t.x+t.y*t.y),this.speedQueue.length>=20&&(this.speedSum-=this.speedQueue[0],this.speedQueue.shift()),this.speedCoeff=1/(this.speedSum/this.speedQueue.length+1),this.rotationCoeff=1/(.1*Math.pow(this.transform.get_rotation()-this.rotationQueue[0],2)+1)},getSpeedCoeff:function(){return this.speedCoeff},getRotationCoeff:function(){return this.rotationCoeff},__class__:kro13_kk_components_PhysicalCoefficients});var kro13_kk_components_PlayerPile=function(e){var t;(kro13_kk_components_AbstractComponent.call(this,13),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];(this.transform=t,null==e.componentsMap)?t=null:t=e.componentsMap.h[3];this.body=t,this.pile=new kro13_kk_gameObjects_Renderable;var a=48,n=70;null==n&&(n=0),null==a&&(a=0);var i={source:"images/pile.png",size:{x:a,y:n}};this.pile.set_size(i.size),this.pile.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(i);var s=this.pile.renderer;s.isLayerValid=!1,s._layer=1,haxepunk_math_Vector2.setTo(this.pile.transform.origin,.5*this.pile.get_size().x,this.pile.get_size().y),this.transform.addChild(this.pile.transform)};$hxClasses["kro13.kk.components.PlayerPile"]=kro13_kk_components_PlayerPile,kro13_kk_components_PlayerPile.__name__="kro13.kk.components.PlayerPile",kro13_kk_components_PlayerPile.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_PlayerPile.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{enable:function(e){e?(this.transform.set_visible(!1),this.transform.addChild(this.pile.transform),this.pile.transform.set_visible(!0)):(this.transform.set_visible(!0),this.transform.removeChild(this.pile.transform),this.pile.transform.set_visible(!1))},__class__:kro13_kk_components_PlayerPile});var kro13_kk_components_Renderer=function(){this._layer=0,this.isLayerValid=!0,this.isValid=!0,kro13_kk_components_AbstractComponent.call(this,1)};$hxClasses["kro13.kk.components.Renderer"]=kro13_kk_components_Renderer,kro13_kk_components_Renderer.__name__="kro13.kk.components.Renderer",kro13_kk_components_Renderer.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Renderer.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{set_layer:function(e){return this.isLayerValid=!1,this._layer=e},get_layer:function(){return this._layer},__class__:kro13_kk_components_Renderer,__properties__:{set_layer:"set_layer",get_layer:"get_layer"}});var kro13_kk_components_TextEmitter=function(){kro13_kk_components_AbstractComponent.call(this,7),this.toEmit=[],this.delaysMap=new haxe_ds_IntMap};$hxClasses["kro13.kk.components.TextEmitter"]=kro13_kk_components_TextEmitter,kro13_kk_components_TextEmitter.__name__="kro13.kk.components.TextEmitter",kro13_kk_components_TextEmitter.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_TextEmitter.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{emitWithDelay:function(e,t){this.delaysMap.exists(e)?(new Date).getTime()/1e3-this.delaysMap.get(e)>=1&&(this.emit(t),this.delaysMap.set(e,(new Date).getTime()/1e3)):(this.emit(t),this.delaysMap.set(e,(new Date).getTime()/1e3))},emit:function(e){this.toEmit.push(e)},pop:function(){return this.toEmit.pop()},__class__:kro13_kk_components_TextEmitter});var kro13_kk_components_Transform=function(e){this.absPosition={x:0,y:0},this._alpha=1,this._visible=!0,this._scale=1,this.flip=!1,kro13_kk_components_AbstractComponent.call(this,2),this.owner=e,this.children=[],this.parent=null;var t={x:0,y:0};this._position=t;t={x:0,y:0};this._size=t,this._rotation=0;t={x:0,y:0};this.origin=t,this.onPositionChanged=new haxepunk_Signal1,this.onRotationChanged=new haxepunk_Signal1};$hxClasses["kro13.kk.components.Transform"]=kro13_kk_components_Transform,kro13_kk_components_Transform.__name__="kro13.kk.components.Transform",kro13_kk_components_Transform.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Transform.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{destroy:function(){kro13_kk_components_AbstractComponent.prototype.destroy.call(this);for(var e=this.onPositionChanged;e.callbacks.length>0;)e.callbacks.pop();for(e=this.onRotationChanged;e.callbacks.length>0;)e.callbacks.pop();this.onPositionChanged=null,this.onRotationChanged=null,this.parent=null,this._position=null,this._size=null,this.children=null},addChild:function(e){this.children.indexOf(e)<0&&(this.children.push(e),e.parent=this)},removeChild:function(e){HxOverrides.remove(this.children,e),e.parent=null},iterator:function(){return new haxe_iterators_ArrayIterator(this.children)},moveBy:function(e,t){this._position.x+=e,this._position.y+=t;for(var a=this._position,n=0,i=this.onPositionChanged.callbacks;n<i.length;){var s=i[n];++n,s(a)}},rotateBy:function(e){this.set_rotation(this.get_rotation()+e)},getDistance:function(e){var t=this.get_position().x-this.origin.x+.5*this.get_size().x,a=this.get_position().y-this.origin.y+.5*this.get_size().y,n=t-(e.get_position().x-e.origin.x+.5*e.get_size().x),i=a-(e.get_position().y-e.origin.y+.5*e.get_size().y);return Math.sqrt(n*n+i*i)},getRadius:function(){return this.radius},getAbsPosition:function(){null==this.get_position()&&haxe_Log.trace(this.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),this.absPosition.x=this.get_position().x,this.absPosition.y=this.get_position().y;for(var e=this.parent;null!=e;)this.absPosition.x+=e.get_position().x,this.absPosition.y+=e.get_position().y,e=e.parent;return this.absPosition},set_position:function(e){haxepunk_math_Vector2.setTo(this._position,e.x,e.y);for(var t=this._position,a=0,n=this.onPositionChanged.callbacks;a<n.length;){var i=n[a];++a,i(t)}return this._position},get_position:function(){return this._position},set_size:function(e){return haxepunk_math_Vector2.setTo(this._size,e.x,e.y),this.radius=Math.sqrt(e.x*e.x+e.y*e.y),this._size},get_size:function(){return this._size},set_rotation:function(e){this._rotation=e;for(var t=this._rotation,a=0,n=this.onRotationChanged.callbacks;a<n.length;){var i=n[a];++a,i(t)}return this._rotation},get_rotation:function(){return this._rotation},set_scale:function(e){this._scale=e;for(var t=this.iterator();t.hasNext();){var a=t.next(),n=a.get_position().x*e/a.get_scale(),i=a.get_position().y*e/a.get_scale();null==i&&(i=0),null==n&&(n=0);var s={x:n,y:i};a.set_position(s),a.set_scale(e)}return this._scale},get_scale:function(){return this._scale},set_visible:function(e){this._visible=e;for(var t=this.iterator();t.hasNext();){t.next().set_visible(this._visible)}return this._visible},get_visible:function(){return this._visible},set_alpha:function(e){this._alpha=e;for(var t=this.iterator();t.hasNext();){t.next().set_alpha(this._alpha)}return this._alpha},get_alpha:function(){return this._alpha},__class__:kro13_kk_components_Transform,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_visible:"set_visible",get_visible:"get_visible",set_scale:"set_scale",get_scale:"get_scale",set_size:"set_size",get_size:"get_size",set_rotation:"set_rotation",get_rotation:"get_rotation",set_position:"set_position",get_position:"get_position"}});var kro13_kk_components_TransformBinder=function(e){var t;(kro13_kk_components_AbstractComponent.call(this,11),null==e.componentsMap)?t=null:t=e.componentsMap.h[2];this.transform=t,this.bindFunction=$bind(this,this.defaultBindFn)};$hxClasses["kro13.kk.components.TransformBinder"]=kro13_kk_components_TransformBinder,kro13_kk_components_TransformBinder.__name__="kro13.kk.components.TransformBinder",kro13_kk_components_TransformBinder.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_components_TransformBinder.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_TransformBinder.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{bindTo:function(e){this.targetTransform=e},unbind:function(){this.targetTransform=null},update:function(e){null!=this.targetTransform&&this.bindFunction(this.targetTransform)},defaultBindFn:function(e){haxepunk_math_Vector2.setTo(this.transform.get_position(),e.get_position().x,e.get_position().y)},__class__:kro13_kk_components_TransformBinder});var kro13_kk_components_Updater=function(e){kro13_kk_components_AbstractComponent.call(this,9),this.owner=e};$hxClasses["kro13.kk.components.Updater"]=kro13_kk_components_Updater,kro13_kk_components_Updater.__name__="kro13.kk.components.Updater",kro13_kk_components_Updater.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_components_Updater.__super__=kro13_kk_components_AbstractComponent,kro13_kk_components_Updater.prototype=$extend(kro13_kk_components_AbstractComponent.prototype,{update:function(e){this.owner.update(e)},__class__:kro13_kk_components_Updater});var kro13_kk_components_animation_AbstractAnimation=function(){};$hxClasses["kro13.kk.components.animation.AbstractAnimation"]=kro13_kk_components_animation_AbstractAnimation,kro13_kk_components_animation_AbstractAnimation.__name__="kro13.kk.components.animation.AbstractAnimation",kro13_kk_components_animation_AbstractAnimation.__interfaces__=[kro13_kk_IUpdatable,kro13_kk_ISwitchable],kro13_kk_components_animation_AbstractAnimation.prototype={start:function(){this.isStarted=!0,this.timer=0},stop:function(){this.isStarted=!1,this.timer=0},update:function(e){this.timer+=e},__class__:kro13_kk_components_animation_AbstractAnimation};var kro13_kk_components_body_IForce=function(){};$hxClasses["kro13.kk.components.body.IForce"]=kro13_kk_components_body_IForce,kro13_kk_components_body_IForce.__name__="kro13.kk.components.body.IForce",kro13_kk_components_body_IForce.__isInterface__=!0,kro13_kk_components_body_IForce.prototype={__class__:kro13_kk_components_body_IForce,__properties__:{get_vector:"get_vector"}};var kro13_kk_components_body_AbstractForce=function(e){this.id=e;this._vector={x:0,y:0},this.enabled=!0,this.angular=!1};$hxClasses["kro13.kk.components.body.AbstractForce"]=kro13_kk_components_body_AbstractForce,kro13_kk_components_body_AbstractForce.__name__="kro13.kk.components.body.AbstractForce",kro13_kk_components_body_AbstractForce.__interfaces__=[kro13_kk_components_body_IForce],kro13_kk_components_body_AbstractForce.prototype={update:function(){},initVector:function(e,t){haxepunk_math_Vector2.setTo(this._vector,e,t),haxe_Log.trace("init vector "+e+" "+t,{fileName:"src/kro13/kk/components/body/AbstractForce.hx",lineNumber:26,className:"kro13.kk.components.body.AbstractForce",methodName:"initVector"})},get_vector:function(){return this._vector},__class__:kro13_kk_components_body_AbstractForce,__properties__:{get_vector:"get_vector"}};var kro13_kk_components_body_Gravity=function(e){kro13_kk_components_body_AbstractForce.call(this,0),this._vector.y=e};$hxClasses["kro13.kk.components.body.Gravity"]=kro13_kk_components_body_Gravity,kro13_kk_components_body_Gravity.__name__="kro13.kk.components.body.Gravity",kro13_kk_components_body_Gravity.__super__=kro13_kk_components_body_AbstractForce,kro13_kk_components_body_Gravity.prototype=$extend(kro13_kk_components_body_AbstractForce.prototype,{__class__:kro13_kk_components_body_Gravity});var kro13_kk_components_body_GroundFriction=function(e){kro13_kk_components_body_AbstractForce.call(this,1),this.body=e};$hxClasses["kro13.kk.components.body.GroundFriction"]=kro13_kk_components_body_GroundFriction,kro13_kk_components_body_GroundFriction.__name__="kro13.kk.components.body.GroundFriction",kro13_kk_components_body_GroundFriction.__super__=kro13_kk_components_body_AbstractForce,kro13_kk_components_body_GroundFriction.prototype=$extend(kro13_kk_components_body_AbstractForce.prototype,{update:function(){var e=-(this.body.velocity.x>0?1:-1)*Math.pow(this.body.velocity.x,2)*.001,t=.001*-Math.pow(this.body.velocity.y,2);haxepunk_math_Vector2.setTo(this._vector,e,t)},__class__:kro13_kk_components_body_GroundFriction});var kro13_kk_components_body_GroundResistance=function(e,t){this.angleRad=0,kro13_kk_components_body_AbstractForce.call(this,2),this.transform=e,this.body=t};$hxClasses["kro13.kk.components.body.GroundResistance"]=kro13_kk_components_body_GroundResistance,kro13_kk_components_body_GroundResistance.__name__="kro13.kk.components.body.GroundResistance",kro13_kk_components_body_GroundResistance.__super__=kro13_kk_components_body_AbstractForce,kro13_kk_components_body_GroundResistance.prototype=$extend(kro13_kk_components_body_AbstractForce.prototype,{update:function(){var e=0,t=1;((e=this.transform.get_rotation()>=0?(180-this.transform.get_rotation()%360)/180:-(180+this.transform.get_rotation()%360)/180)<0&&e<=-.5||e>=0&&e<.5)&&(t=-1);var a=this.body.velocity.x>0?1:-1,n=1-Math.abs(Math.cos(Math.PI*e)),i=1-Math.abs(Math.sin(Math.PI*e)),s=Math.pow(i,2),_=Math.pow(n,2),r=n*t,o=Math.pow(.2*this.body.velocity.y,2)*r,l=-a*Math.pow(this.body.velocity.x,2)*s*.1,h=-Math.pow(this.body.velocity.y,2)*_*.1;haxepunk_math_Vector2.setTo(this._vector,o+l,h)},__class__:kro13_kk_components_body_GroundResistance});var kro13_kk_components_body_RotationInertia=function(e){this.buffer=[],this.listeningToInput=!1,this.slideTime=-1,this.mouseDownX=-1,kro13_kk_components_body_AbstractForce.call(this,3),this.angular=!0,this.body=e,this.groundForce=e.getForceById(2)};$hxClasses["kro13.kk.components.body.RotationInertia"]=kro13_kk_components_body_RotationInertia,kro13_kk_components_body_RotationInertia.__name__="kro13.kk.components.body.RotationInertia",kro13_kk_components_body_RotationInertia.__super__=kro13_kk_components_body_AbstractForce,kro13_kk_components_body_RotationInertia.prototype=$extend(kro13_kk_components_body_AbstractForce.prototype,{update:function(){var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier/1;if(haxepunk_input_Mouse.mouseDown&&(this.mouseDownX=haxepunk_input_Mouse.get_mouseX(),this.slideTime=0,this.body.angularVelocity=0,this.listeningToInput=!0,this.buffer.push(haxepunk_input_Mouse.get_mouseX()),this.buffer.length>10&&this.buffer.shift()),haxepunk_input_Mouse.mouseUp&&this.listeningToInput){if(this.isFlying()){var t=(haxepunk_input_Mouse.get_mouseX()-this.buffer[0])/(e*this.buffer.length);this.impulse=.1*t,this.body.angularVelocity=this.impulse}this.buffer=[],this.listeningToInput=!1}!this.listeningToInput&&Math.abs(this.body.angularVelocity)>0&&(this.body.angularVelocity*=this.getFrictionCoeff(),Math.abs(this.body.angularVelocity)<1&&(this.body.angularVelocity=0)),this.slideTime+=e},isFlying:function(){return!this.groundForce.enabled},getFrictionCoeff:function(){return this.isFlying()?.999:.9},__class__:kro13_kk_components_body_RotationInertia});var kro13_kk_components_renderer_materials_EMaterial=$hxEnums["kro13.kk.components.renderer.materials.EMaterial"]={__ename__:"kro13.kk.components.renderer.materials.EMaterial",__constructs__:["GROUND_BLOCK","IMAGE","CLIP_IMAGE","RECTANGLE","CIRCLE","CLIP_RECTANGLE","TEXT","PARTICLES","GUI","GUI_BUTTON","PLAYER_GUY","CLIFF","SNOWMAN"],GROUND_BLOCK:($_=function(e){return{_hx_index:0,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),IMAGE:($_=function(e){return{_hx_index:1,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),CLIP_IMAGE:($_=function(e){return{_hx_index:2,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),RECTANGLE:($_=function(e){return{_hx_index:3,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),CIRCLE:($_=function(e){return{_hx_index:4,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),CLIP_RECTANGLE:($_=function(e){return{_hx_index:5,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),TEXT:($_=function(e){return{_hx_index:6,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),PARTICLES:($_=function(e){return{_hx_index:7,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),GUI:($_=function(e){return{_hx_index:8,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),GUI_BUTTON:($_=function(e){return{_hx_index:9,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),PLAYER_GUY:($_=function(e){return{_hx_index:10,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),CLIFF:($_=function(e){return{_hx_index:11,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_),SNOWMAN:($_=function(e){return{_hx_index:12,config:e,__enum__:"kro13.kk.components.renderer.materials.EMaterial",toString:$estr}},$_.__params__=["config"],$_)},kro13_kk_components_renderer_materials_MaterialUtils=function(){};$hxClasses["kro13.kk.components.renderer.materials.MaterialUtils"]=kro13_kk_components_renderer_materials_MaterialUtils,kro13_kk_components_renderer_materials_MaterialUtils.__name__="kro13.kk.components.renderer.materials.MaterialUtils",kro13_kk_components_renderer_materials_MaterialUtils.buildImage=function(e,t){var a=new kro13_kk_gameObjects_Renderable,n={source:e,size:t};return a.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(n),a},kro13_kk_components_renderer_materials_MaterialUtils.buildRectangle=function(e,t){var a=new kro13_kk_gameObjects_Renderable,n={color:t,size:e};return a.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE(n),a};var kro13_kk_data_DataProvider=function(e){this.local=new kro13_kk_data_LocalDataProvider,this.remote=new kro13_vk_VKRemoteDataProvider,this.eventDispatcher=e};$hxClasses["kro13.kk.data.DataProvider"]=kro13_kk_data_DataProvider,kro13_kk_data_DataProvider.__name__="kro13.kk.data.DataProvider",kro13_kk_data_DataProvider.prototype={loadRemoteProfile:function(e){null==e&&(e=$bind(this,this.defaultOnSuccess));var t=$bind(this,this.onRemoteProfileLoad),a=e;this.remote.loadProfile(this.local.getProfile().remoteId,(function(e){t(a,e)}),$bind(this,this.onRemoteError))},saveRemoteProfile:function(e){null==e&&(e=$bind(this,this.defaultOnSuccess));var t=kro13_kk_data_DataUtils.cloneRemotePart(this.local.getProfile());this.remote.updateProfile(t,e,$bind(this,this.onRemoteError))},updateRemoteProfileProp:function(e,t,a){null==a&&(a=$bind(this,this.defaultOnSuccess)),this.remote.updateProfileProp(this.local.getProfile().remoteId,e,t,a,$bind(this,this.onRemoteError))},getTopScores:function(e,t){null==e&&(e=!0),null==t&&(t=$bind(this,this.defaultOnSuccess)),this.remote.getTopScores(10,e,t,$bind(this,this.onRemoteError))},updateRestarts:function(e,t){null==t&&(t=!1),this.local.updateRestarts(e,t)},getProfile:function(){return this.local.getProfile()},save:function(){this.local.save()},load:function(){this.local.load(),this.validateLocal()},getScoreData:function(){return this.local.scoreData},getLocal:function(){return this.local},validateLocal:function(){this.local.validate(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.VALIDATE_DATA)},onRemoteProfileLoad:function(e,t){var a=this.local.getProfile();a.remoteId=t.remoteId,a.userName=t.userName,a.totalScore=t.totalScore,kro13_kk_data_EProfileTag.isTagged(1,t)?kro13_kk_data_EProfileTag.tag(1,a):kro13_kk_data_EProfileTag.untag(1,a),e(t)},onRemoteError:function(e){if(kro13_kk_KKGame.isMe){var t="KK error\n"+JSON.stringify(e);window.alert(Std.string(t))}this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ERROR(0,JSON.stringify(e),!0))},defaultOnSuccess:function(e){},__class__:kro13_kk_data_DataProvider};var kro13_kk_data_IRemoteDataProvider=function(){};$hxClasses["kro13.kk.data.IRemoteDataProvider"]=kro13_kk_data_IRemoteDataProvider,kro13_kk_data_IRemoteDataProvider.__name__="kro13.kk.data.IRemoteDataProvider",kro13_kk_data_IRemoteDataProvider.__isInterface__=!0,kro13_kk_data_IRemoteDataProvider.prototype={__class__:kro13_kk_data_IRemoteDataProvider};var kro13_kk_data_RemoteDataProviderStub=function(e){this.local=e};$hxClasses["kro13.kk.data.RemoteDataProviderStub"]=kro13_kk_data_RemoteDataProviderStub,kro13_kk_data_RemoteDataProviderStub.__name__="kro13.kk.data.RemoteDataProviderStub",kro13_kk_data_RemoteDataProviderStub.__interfaces__=[kro13_kk_data_IRemoteDataProvider],kro13_kk_data_RemoteDataProviderStub.prototype={loadProfile:function(e,t,a){if(haxe_Log.trace("get profile stub "+e,{fileName:"src/kro13/kk/data/DataProvider.hx",lineNumber:155,className:"kro13.kk.data.RemoteDataProviderStub",methodName:"loadProfile"}),null!=t){var n={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]};""==e?n.userName="Stubby Stub":(n.remoteId=this.local.getProfile().remoteId,n.userName=this.local.getProfile().userName,n.totalScore=this.local.getProfile().totalScore),t(n)}},updateProfile:function(e,t,a){null!=t&&t(e.remoteId)},updateProfileProp:function(e,t,a,n,i){Reflect.setProperty(this.local.getProfile(),t,a),null!=n&&n(e)},getTopScores:function(e,t,a,n){null!=a&&a([])},__class__:kro13_kk_data_RemoteDataProviderStub};var kro13_kk_data_DataUtils=function(){};$hxClasses["kro13.kk.data.DataUtils"]=kro13_kk_data_DataUtils,kro13_kk_data_DataUtils.__name__="kro13.kk.data.DataUtils",kro13_kk_data_DataUtils.overwriteObject=function(e,t){for(var a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Reflect.setProperty(e,i,Reflect.getProperty(t,i))}},kro13_kk_data_DataUtils.cloneRemotePart=function(e){for(var t={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Reflect.setProperty(t,i,Reflect.getProperty(e,i))}return t},kro13_kk_data_DataUtils.generateUserName=function(){var e=Math.floor(Math.random()*kro13_kk_data_DataUtils.adjectives.length),t=Math.floor(Math.random()*kro13_kk_data_DataUtils.nouns.length);return kro13_kk_data_DataUtils.adjectives[e]+" "+kro13_kk_data_DataUtils.nouns[t]},kro13_kk_data_DataUtils.getDefaultProfile=function(){for(var e={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},t={version:0,canyonChain:[],misc:{soundTypes:[0,1],sensitivity:1,rightHanded:!0,locale:kro13_kk_Constants.LOCALE.toUpperCase()},restarts:1,scoreData:{currentScore:0,speedBonus:0,avalancheBonus:0,speedRatio:0,bonusCounter:0,totalRotation:0,totalTracks:0,totalSatori:0,restartUpdatesCount:0,adsCounter:0,totalDistance:0,bestCombo:0,totalJumps:0,totalSnowmen:0,bestJumpLen:0,bestRotation:0,avalanchesEscaped:0,complexity:0},restsrtHP:0,deactivated:!1},a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Reflect.setProperty(e,i,Reflect.getProperty(t,i))}return haxe_Log.trace("new default prof "+Std.string(e),{fileName:"src/kro13/kk/data/DataUtils.hx",lineNumber:54,className:"kro13.kk.data.DataUtils",methodName:"getDefaultProfile"}),e},kro13_kk_data_DataUtils.getDefaultRemoteProfile=function(){return{remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]}},kro13_kk_data_DataUtils.getDefaultMisc=function(){return{soundTypes:[0,1],sensitivity:1,rightHanded:!0,locale:kro13_kk_Constants.LOCALE.toUpperCase()}},kro13_kk_data_DataUtils.getBlankScoreData=function(){return{currentScore:0,speedBonus:0,avalancheBonus:0,speedRatio:0,bonusCounter:0,totalRotation:0,totalTracks:0,totalSatori:0,restartUpdatesCount:0,adsCounter:0,totalDistance:0,bestCombo:0,totalJumps:0,totalSnowmen:0,bestJumpLen:0,bestRotation:0,avalanchesEscaped:0,complexity:0}},kro13_kk_data_DataUtils.encodeCanyon=function(e){for(var t=[],a=0,n=e.ground.blocks;a<n.length;){var i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}var s={blocks:t};for(t=[],a=0,n=e.leftWall.blocks;a<n.length;){i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}var _={blocks:t};for(t=[],a=0,n=e.rightWall.blocks;a<n.length;){i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}var r={blocks:t};for(t=[],a=0,n=e.leftWallWall.blocks;a<n.length;){i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}var o={blocks:t};for(t=[],a=0,n=e.rightWallWall.blocks;a<n.length;){i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}return{ground:s,leftWall:_,rightWall:r,leftWallWall:o,rightWallWall:{blocks:t}}},kro13_kk_data_DataUtils.decodeCanyon=function(e){for(var t=new kro13_kk_maps_CanyonMap,a=e.ground,n=new kro13_kk_maps_GroundMap,i=0,s=a.blocks;i<s.length;){var _=s[i];++i,(T=new kro13_kk_maps_GroundBlockMap).size=_.size,T.position=_.position;for(var r=0,o=_.borders;r<o.length;){var l=o[r];++r,T.addBorder(l)}if(null!=_.landscapeDecore)for(var h=0,u=_.landscapeDecore;h<u.length;){var p=u[h];++h,T.landscapeDecore.push(p)}if(null!=_.natureObjects)for(var c=0,d=_.natureObjects;c<d.length;){var f=d[c];++c,T.natureObjects.push(f)}if(null!=_.snowmen)for(var m=0,g=_.snowmen;m<g.length;){var x=g[m];++m,T.snowmen.push(x)}for(var k=0,y=_.spots;k<y.length;){var b=y[k];++k,T.spots.push(b)}for(var v=0,P=_.tramps;v<P.length;){var w=P[v];++v,T.trampolines.push(w)}n.addBlock(T)}t.ground=n;for(a=e.leftWall,n=new kro13_kk_maps_GroundMap,i=0,s=a.blocks;i<s.length;){_=s[i];++i,(T=new kro13_kk_maps_GroundBlockMap).size=_.size,T.position=_.position;for(r=0,o=_.borders;r<o.length;){l=o[r];++r,T.addBorder(l)}if(null!=_.landscapeDecore)for(h=0,u=_.landscapeDecore;h<u.length;){p=u[h];++h,T.landscapeDecore.push(p)}if(null!=_.natureObjects)for(c=0,d=_.natureObjects;c<d.length;){f=d[c];++c,T.natureObjects.push(f)}if(null!=_.snowmen)for(m=0,g=_.snowmen;m<g.length;){x=g[m];++m,T.snowmen.push(x)}for(k=0,y=_.spots;k<y.length;){b=y[k];++k,T.spots.push(b)}for(v=0,P=_.tramps;v<P.length;){w=P[v];++v,T.trampolines.push(w)}n.addBlock(T)}t.leftWall=n;for(a=e.leftWallWall,n=new kro13_kk_maps_GroundMap,i=0,s=a.blocks;i<s.length;){_=s[i];++i,(T=new kro13_kk_maps_GroundBlockMap).size=_.size,T.position=_.position;for(r=0,o=_.borders;r<o.length;){l=o[r];++r,T.addBorder(l)}if(null!=_.landscapeDecore)for(h=0,u=_.landscapeDecore;h<u.length;){p=u[h];++h,T.landscapeDecore.push(p)}if(null!=_.natureObjects)for(c=0,d=_.natureObjects;c<d.length;){f=d[c];++c,T.natureObjects.push(f)}if(null!=_.snowmen)for(m=0,g=_.snowmen;m<g.length;){x=g[m];++m,T.snowmen.push(x)}for(k=0,y=_.spots;k<y.length;){b=y[k];++k,T.spots.push(b)}for(v=0,P=_.tramps;v<P.length;){w=P[v];++v,T.trampolines.push(w)}n.addBlock(T)}t.leftWallWall=n;for(a=e.rightWall,n=new kro13_kk_maps_GroundMap,i=0,s=a.blocks;i<s.length;){_=s[i];++i,(T=new kro13_kk_maps_GroundBlockMap).size=_.size,T.position=_.position;for(r=0,o=_.borders;r<o.length;){l=o[r];++r,T.addBorder(l)}if(null!=_.landscapeDecore)for(h=0,u=_.landscapeDecore;h<u.length;){p=u[h];++h,T.landscapeDecore.push(p)}if(null!=_.natureObjects)for(c=0,d=_.natureObjects;c<d.length;){f=d[c];++c,T.natureObjects.push(f)}if(null!=_.snowmen)for(m=0,g=_.snowmen;m<g.length;){x=g[m];++m,T.snowmen.push(x)}for(k=0,y=_.spots;k<y.length;){b=y[k];++k,T.spots.push(b)}for(v=0,P=_.tramps;v<P.length;){w=P[v];++v,T.trampolines.push(w)}n.addBlock(T)}t.rightWall=n;for(a=e.rightWallWall,n=new kro13_kk_maps_GroundMap,i=0,s=a.blocks;i<s.length;){var T;_=s[i];++i,(T=new kro13_kk_maps_GroundBlockMap).size=_.size,T.position=_.position;for(r=0,o=_.borders;r<o.length;){l=o[r];++r,T.addBorder(l)}if(null!=_.landscapeDecore)for(h=0,u=_.landscapeDecore;h<u.length;){p=u[h];++h,T.landscapeDecore.push(p)}if(null!=_.natureObjects)for(c=0,d=_.natureObjects;c<d.length;){f=d[c];++c,T.natureObjects.push(f)}if(null!=_.snowmen)for(m=0,g=_.snowmen;m<g.length;){x=g[m];++m,T.snowmen.push(x)}for(k=0,y=_.spots;k<y.length;){b=y[k];++k,T.spots.push(b)}for(v=0,P=_.tramps;v<P.length;){w=P[v];++v,T.trampolines.push(w)}n.addBlock(T)}return t.rightWallWall=n,t},kro13_kk_data_DataUtils.encodeGround=function(e){for(var t=[],a=0,n=e.blocks;a<n.length;){var i=n[a++];t.push({size:i.size,position:i.position,borders:i.getBorders(),natureObjects:i.getNatureObjects(),tramps:i.getTrampolines(),spots:i.getSposts(),snowmen:i.getSnowmen(),landscapeDecore:i.getLandscapeDecore()})}return{blocks:t}},kro13_kk_data_DataUtils.decodeGround=function(e){for(var t=new kro13_kk_maps_GroundMap,a=0,n=e.blocks;a<n.length;){var i=n[a];++a;var s=new kro13_kk_maps_GroundBlockMap;s.size=i.size,s.position=i.position;for(var _=0,r=i.borders;_<r.length;){var o=r[_];++_,s.addBorder(o)}if(null!=i.landscapeDecore)for(var l=0,h=i.landscapeDecore;l<h.length;){var u=h[l];++l,s.landscapeDecore.push(u)}if(null!=i.natureObjects)for(var p=0,c=i.natureObjects;p<c.length;){var d=c[p];++p,s.natureObjects.push(d)}if(null!=i.snowmen)for(var f=0,m=i.snowmen;f<m.length;){var g=m[f];++f,s.snowmen.push(g)}for(var x=0,k=i.spots;x<k.length;){var y=k[x];++x,s.spots.push(y)}for(var b=0,v=i.tramps;b<v.length;){var P=v[b];++b,s.trampolines.push(P)}t.addBlock(s)}return t},kro13_kk_data_DataUtils.encodeBlock=function(e){return{size:e.size,position:e.position,borders:e.getBorders(),natureObjects:e.getNatureObjects(),tramps:e.getTrampolines(),spots:e.getSposts(),snowmen:e.getSnowmen(),landscapeDecore:e.getLandscapeDecore()}},kro13_kk_data_DataUtils.decodeBlock=function(e){var t=new kro13_kk_maps_GroundBlockMap;t.size=e.size,t.position=e.position;for(var a=0,n=e.borders;a<n.length;){var i=n[a];++a,t.addBorder(i)}if(null!=e.landscapeDecore)for(a=0,n=e.landscapeDecore;a<n.length;){var s=n[a];++a,t.landscapeDecore.push(s)}if(null!=e.natureObjects)for(a=0,n=e.natureObjects;a<n.length;){s=n[a];++a,t.natureObjects.push(s)}if(null!=e.snowmen)for(a=0,n=e.snowmen;a<n.length;){var _=n[a];++a,t.snowmen.push(_)}for(a=0,n=e.spots;a<n.length;){var r=n[a];++a,t.spots.push(r)}for(a=0,n=e.tramps;a<n.length;){var o=n[a];++a,t.trampolines.push(o)}return t};var kro13_kk_data_EProfileTag={isTagged:function(e,t){return null!=t.tags&&t.tags.indexOf(e)>=0},tag:function(e,t){t.tags.indexOf(e)<0&&t.tags.push(e)},untag:function(e,t){t.tags.indexOf(e)>=0&&HxOverrides.remove(t.tags,e)}},kro13_kk_data_LocalDataProvider=function(){this.MAX_FOG_INTENSITY=4,this.MIN_FOG_INTENSITY=1,this.MAX_SNOW_INTENSITY=20,this.MIN_SNOW_INTENSITY=1,this.MAX_COMPLEXITY=20,this.MAX_BONUS_INTERVAL=4,this.MIN_BONUS_INTERVAL=1,this.MAX_MAX_BLOCK_SIZE=20,this.MIN_MAX_BLOCK_SIZE=14,this.MAX_MIN_BLOCK_SIZE=6,this.MIN_MIN_BLOCK_SIZE=3,this.MAX_NAT_OBJ_COUNT=5,this.MIN_NAT_OBJ_COUNT=2,this.patcher=new kro13_kk_data_ProfilePatcher};$hxClasses["kro13.kk.data.LocalDataProvider"]=kro13_kk_data_LocalDataProvider,kro13_kk_data_LocalDataProvider.__name__="kro13.kk.data.LocalDataProvider",kro13_kk_data_LocalDataProvider.prototype={load:function(){this.profile=kro13_kk_data_Storage.loadData(),this.patcher.patch(this.profile),this.scoreData=this.profile.scoreData},reset:function(){kro13_kk_data_Storage.resetData()},save:function(){kro13_kk_data_Storage.saveData()},updateRestarts:function(e,t){null==t&&(t=!1);var a=e<0||t;e>0&&0==this.profile.restarts&&(a=!0),t&&(this.profile.restarts=0),this.profile.restarts+=e,this.profile.restarts<=0&&(this.profile.restarts=0,this.profile.restartHP=0,a=!1),a&&(this.profile.restartHP=90)},validate:function(){this.gravity=this.calcGravity(),this.maxSpeed=Math.floor(31.6*Math.sqrt(this.gravity)*.95),this.minSpeed=Math.floor(.1*this.maxSpeed),this.critSpeed=Math.floor(.4*this.maxSpeed),haxe_Log.trace("-----------------\x3e validate:",{fileName:"src/kro13/kk/data/LocalDataProvider.hx",lineNumber:90,className:"kro13.kk.data.LocalDataProvider",methodName:"validate"}),haxe_Log.trace("gravity: "+this.gravity,{fileName:"src/kro13/kk/data/LocalDataProvider.hx",lineNumber:91,className:"kro13.kk.data.LocalDataProvider",methodName:"validate"}),haxe_Log.trace("complexity: "+this.scoreData.complexity,{fileName:"src/kro13/kk/data/LocalDataProvider.hx",lineNumber:97,className:"kro13.kk.data.LocalDataProvider",methodName:"validate"}),haxe_Log.trace("complexity coef: "+this.calcComplexity(),{fileName:"src/kro13/kk/data/LocalDataProvider.hx",lineNumber:98,className:"kro13.kk.data.LocalDataProvider",methodName:"validate"}),kro13_kk_guiObjects_popups_ConsolePopup.print(this.calcComplexity()+","+this.gravity)},getProfile:function(){return this.profile},getScoreData:function(){return this.scoreData},getTotalBonus:function(){return this.scoreData.speedBonus+this.scoreData.avalancheBonus},getTrackLength:function(){return 10},checkChaseChance:function(){return!0},checkAvalancheChance:function(){return Math.random()>=.666},getAvalancheTotalTime:function(){return 30},getFogIntensity:function(){var e=(this.MIN_FOG_INTENSITY-this.MAX_FOG_INTENSITY)*this.calcComplexity()+this.MAX_FOG_INTENSITY;return e=Math.max(e,this.MIN_FOG_INTENSITY)},getSnowIntensity:function(){var e=(this.MAX_SNOW_INTENSITY-this.MIN_SNOW_INTENSITY)*this.calcComplexity()+this.MIN_SNOW_INTENSITY;return e=Math.min(e,this.MAX_SNOW_INTENSITY)},getMinBlockSize:function(){var e=this.MIN_MIN_BLOCK_SIZE-this.MAX_MIN_BLOCK_SIZE,t=Math.round(e*this.calcComplexity()+this.MAX_MIN_BLOCK_SIZE);return t=0|Math.max(this.MIN_MIN_BLOCK_SIZE,t)},getMaxBlockSize:function(){var e=this.MIN_MAX_BLOCK_SIZE-this.MAX_MAX_BLOCK_SIZE,t=Math.round(e*this.calcComplexity()+this.MAX_MAX_BLOCK_SIZE);return t=0|Math.max(this.MIN_MAX_BLOCK_SIZE,t)},getMinBlockShift:function(){return this.getMinBlockSize()},getMaxNatureObjectsCount:function(){var e=this.MAX_NAT_OBJ_COUNT-this.MIN_NAT_OBJ_COUNT,t=Math.round(e*this.calcComplexity()+this.MIN_NAT_OBJ_COUNT);return t=0|Math.min(t,this.MAX_NAT_OBJ_COUNT)},getBonusUpdateInterval:function(){var e=(this.MIN_BONUS_INTERVAL-this.MAX_BONUS_INTERVAL)*this.calcComplexity()+this.MAX_BONUS_INTERVAL;return e=Math.max(e,this.MIN_BONUS_INTERVAL)},getHareSpeedCoef:function(){return this.scoreData.totalSatori<=1?.8:.9},getMaxSnowmenCount:function(){return 1},getMinTrampsCount:function(){return 5},getMaxTrampsCount:function(){return 15},getMaxSpeed:function(){return this.maxSpeed},getCriticalHitSpeed:function(){return this.critSpeed},getMinSpeed:function(){return this.minSpeed},getGravity:function(){return this.gravity},getNextRestartScore:function(){return 0==this.scoreData.restartUpdatesCount?1e3:this.scoreData.restartUpdatesCount<=4?3e3*this.scoreData.restartUpdatesCount:12e3+6e3*(this.scoreData.restartUpdatesCount-4)},getTreeProb:function(){return.1+.6*this.calcComplexity()},getStoneProb:function(){return.1+.2*this.calcComplexity()},isFixedShift:function(){return!1},getFinishText:function(){var e=this.isNewRecord()?kro13_kk_utils_L.get_instance().FINISH_NEW_RECORD:"";return this.scoreData.currentScore>0?e+=kro13_kk_utils__$L_LL.add(kro13_kk_utils_L.get_instance().FINISH_GOOD,{score:this.scoreData.currentScore})+"\n":e+=kro13_kk_utils__$L_LL.add(kro13_kk_utils_L.get_instance().FINISH_BAD,{score:this.scoreData.currentScore})+"\n",e+=kro13_kk_utils_L.get_instance().BEST_COMBO+": "+this.scoreData.bestCombo+"\n",e+=kro13_kk_utils_L.get_instance().BEST_JUMP+": "+kro13_kk_utils_MathUtils.get_instance().roundWithPrec(this.scoreData.bestJumpLen,2)+" "+kro13_kk_utils_L.get_instance().METER+"\n",e+=kro13_kk_utils_L.get_instance().BEST_ROTATION+": "+this.scoreData.bestRotation+"\n",e+=kro13_kk_utils_L.get_instance().TOTAL_DISTANCE+": "+this.scoreData.totalDistance+" "+kro13_kk_utils_L.get_instance().METER+"\n",e+=kro13_kk_utils_L.get_instance().TOTAL_JUMPS+": "+this.scoreData.totalJumps+"\n",e+=kro13_kk_utils_L.get_instance().SNOWMEN_DESTROYED+": "+this.scoreData.totalSnowmen+"\n",e+=kro13_kk_utils_L.get_instance().AVALANCHES_ESCAPED+": "+this.scoreData.avalanchesEscaped+"\n",e+=""+kro13_kk_utils_L.get_instance().FINISH_TXT},isNewRecord:function(){return this.scoreData.currentScore>this.profile.totalScore},calcGravity:function(){return Math.round(400*(1+.5*this.calcComplexity()))},calcComplexity:function(){return this.scoreData.complexity/this.MAX_COMPLEXITY},__class__:kro13_kk_data_LocalDataProvider};var kro13_kk_data_ProfilePatcher=function(){this.patches=[],this.addPatch(new kro13_kk_data_patches_Patch1),this.addPatch(new kro13_kk_data_patches_Patch2),this.addPatch(new kro13_kk_data_patches_Patch3),this.addPatch(new kro13_kk_data_patches_Patch4),this.addPatch(new kro13_kk_data_patches_Patch5),this.addPatch(new kro13_kk_data_patches_Patch6),this.addPatch(new kro13_kk_data_patches_Patch7)};$hxClasses["kro13.kk.data.ProfilePatcher"]=kro13_kk_data_ProfilePatcher,kro13_kk_data_ProfilePatcher.__name__="kro13.kk.data.ProfilePatcher",kro13_kk_data_ProfilePatcher.prototype={patch:function(e){for(var t=e.version,a=0,n=this.patches;a<n.length;){var i=n[a];++a,t<i.version&&(i.apply(e),haxe_Log.trace("patch "+i.version,{fileName:"src/kro13/kk/data/ProfilePatcher.hx",lineNumber:27,className:"kro13.kk.data.ProfilePatcher",methodName:"patch"}))}},addPatch:function(e){this.patches.push(e)},__class__:kro13_kk_data_ProfilePatcher};var kro13_kk_data_Storage=function(){};$hxClasses["kro13.kk.data.Storage"]=kro13_kk_data_Storage,kro13_kk_data_Storage.__name__="kro13.kk.data.Storage",kro13_kk_data_Storage.loadData=function(){try{return kro13_kk_data_Storage.profileSO=openfl_net_SharedObject.getLocal("kk_profile","kro13.kk",!0),0==Reflect.fields(kro13_kk_data_Storage.profileSO.data).length&&(kro13_kk_data_Storage.resetData(),kro13_analytics_Analytics.get_instance().sendEvent("game:create_profile")),kro13_kk_data_Storage.profileSO.data}catch(t){haxe_NativeStackTrace.lastError=t;var e=haxe_Exception.caught(t).unwrap();throw kro13_analytics_Analytics.get_instance().sendEventError("create profile error"),haxe_Exception.thrown("KK: unable to create profile! Error: "+Std.string(e))}},kro13_kk_data_Storage.saveData=function(){if(1==kro13_kk_data_Storage.profileSO.flush())throw kro13_analytics_Analytics.get_instance().sendEventError("save profile error"),haxe_Exception.thrown("KK: not enough disk space to save profile!")},kro13_kk_data_Storage.resetData=function(){kro13_kk_data_Storage.profileSO.clear();for(var e={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},t={version:0,canyonChain:[],misc:{soundTypes:[0,1],sensitivity:1,rightHanded:!0,locale:kro13_kk_Constants.LOCALE.toUpperCase()},restarts:1,scoreData:{currentScore:0,speedBonus:0,avalancheBonus:0,speedRatio:0,bonusCounter:0,totalRotation:0,totalTracks:0,totalSatori:0,restartUpdatesCount:0,adsCounter:0,totalDistance:0,bestCombo:0,totalJumps:0,totalSnowmen:0,bestJumpLen:0,bestRotation:0,avalanchesEscaped:0,complexity:0},restsrtHP:0,deactivated:!1},a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Reflect.setProperty(e,i,Reflect.getProperty(t,i))}haxe_Log.trace("new default prof "+Std.string(e),{fileName:"src/kro13/kk/data/DataUtils.hx",lineNumber:54,className:"kro13.kk.data.DataUtils",methodName:"getDefaultProfile"});var s=e;for(a=0,n=Reflect.fields(s);a<n.length;){i=n[a];++a,Reflect.setProperty(kro13_kk_data_Storage.profileSO.data,i,Reflect.getProperty(s,i))}},kro13_kk_data_Storage.prototype={__class__:kro13_kk_data_Storage};var kro13_kk_data_TutorDataProvider=function(){this.jumpsCount=0,this.hitsCount=0,this.progress=0,kro13_kk_data_LocalDataProvider.call(this)};$hxClasses["kro13.kk.data.TutorDataProvider"]=kro13_kk_data_TutorDataProvider,kro13_kk_data_TutorDataProvider.__name__="kro13.kk.data.TutorDataProvider",kro13_kk_data_TutorDataProvider.__super__=kro13_kk_data_LocalDataProvider,kro13_kk_data_TutorDataProvider.prototype=$extend(kro13_kk_data_LocalDataProvider.prototype,{reset:function(){this.progress=0,this.hitsCount=0,this.jumpsCount=0},load:function(){for(var e={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},t={version:0,canyonChain:[],misc:{soundTypes:[0,1],sensitivity:1,rightHanded:!0,locale:kro13_kk_Constants.LOCALE.toUpperCase()},restarts:1,scoreData:{currentScore:0,speedBonus:0,avalancheBonus:0,speedRatio:0,bonusCounter:0,totalRotation:0,totalTracks:0,totalSatori:0,restartUpdatesCount:0,adsCounter:0,totalDistance:0,bestCombo:0,totalJumps:0,totalSnowmen:0,bestJumpLen:0,bestRotation:0,avalanchesEscaped:0,complexity:0},restsrtHP:0,deactivated:!1},a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Reflect.setProperty(e,i,Reflect.getProperty(t,i))}haxe_Log.trace("new default prof "+Std.string(e),{fileName:"src/kro13/kk/data/DataUtils.hx",lineNumber:54,className:"kro13.kk.data.DataUtils",methodName:"getDefaultProfile"}),this.profile=e,this.patcher.patch(this.profile),this.scoreData=this.profile.scoreData,this.profile.restarts=1},updateRestarts:function(e,t){null==t&&(t=!1),this.profile.restarts=1},getFogIntensity:function(){return 4},getSnowIntensity:function(){return 1},getTreeProb:function(){return.1},getStoneProb:function(){return.1},getTrackLength:function(){return 5},getMinBlockSize:function(){return 10},getMaxBlockSize:function(){return 10},getBonusUpdateInterval:function(){return this.progress>=1?2:9999},getMinBlockShift:function(){return this.progress>=1?9:6},checkChaseChance:function(){return!1},checkAvalancheChance:function(){return this.progress>=4},getAvalancheTotalTime:function(){return 6},getMaxNatureObjectsCount:function(){return this.progress>=2?0:this.progress>=1?1:2},getMaxSnowmenCount:function(){return this.progress>=3?1:0},getMinTrampsCount:function(){return 2==this.progress?2:0},getMaxTrampsCount:function(){return 2==this.progress?2:0},getFinishText:function(){return kro13_kk_utils_L.get_instance().FINISH_TUTOR},calcGravity:function(){return 400},__class__:kro13_kk_data_TutorDataProvider});var kro13_kk_data_patches_IPatch=function(){};$hxClasses["kro13.kk.data.patches.IPatch"]=kro13_kk_data_patches_IPatch,kro13_kk_data_patches_IPatch.__name__="kro13.kk.data.patches.IPatch",kro13_kk_data_patches_IPatch.__isInterface__=!0,kro13_kk_data_patches_IPatch.prototype={__class__:kro13_kk_data_patches_IPatch};var kro13_kk_data_patches_Patch1=function(){this.version=1};$hxClasses["kro13.kk.data.patches.Patch1"]=kro13_kk_data_patches_Patch1,kro13_kk_data_patches_Patch1.__name__="kro13.kk.data.patches.Patch1",kro13_kk_data_patches_Patch1.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch1.prototype={apply:function(e){e.tags=[],e.misc.isHelpSeen&&e.tags.push(0),haxe_Log.trace("--------------------\x3e tags "+Std.string(e.tags),{fileName:"src/kro13/kk/data/patches/Patch1.hx",lineNumber:19,className:"kro13.kk.data.patches.Patch1",methodName:"apply"}),Reflect.deleteField(e.misc,"isHelpSeen"),e.version=this.version},__class__:kro13_kk_data_patches_Patch1};var kro13_kk_data_patches_Patch2=function(){this.version=2};$hxClasses["kro13.kk.data.patches.Patch2"]=kro13_kk_data_patches_Patch2,kro13_kk_data_patches_Patch2.__name__="kro13.kk.data.patches.Patch2",kro13_kk_data_patches_Patch2.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch2.prototype={apply:function(e){e.restartHP=90,e.version=this.version},__class__:kro13_kk_data_patches_Patch2};var kro13_kk_data_patches_Patch3=function(){this.version=3};$hxClasses["kro13.kk.data.patches.Patch3"]=kro13_kk_data_patches_Patch3,kro13_kk_data_patches_Patch3.__name__="kro13.kk.data.patches.Patch3",kro13_kk_data_patches_Patch3.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch3.prototype={apply:function(e){e.scoreData.adsCounter=0,e.version=this.version},__class__:kro13_kk_data_patches_Patch3};var kro13_kk_data_patches_Patch4=function(){this.version=4};$hxClasses["kro13.kk.data.patches.Patch4"]=kro13_kk_data_patches_Patch4,kro13_kk_data_patches_Patch4.__name__="kro13.kk.data.patches.Patch4",kro13_kk_data_patches_Patch4.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch4.prototype={apply:function(e){e.scoreData.avalancheBonus=0,e.version=this.version},__class__:kro13_kk_data_patches_Patch4};var kro13_kk_data_patches_Patch5=function(){this.version=5};$hxClasses["kro13.kk.data.patches.Patch5"]=kro13_kk_data_patches_Patch5,kro13_kk_data_patches_Patch5.__name__="kro13.kk.data.patches.Patch5",kro13_kk_data_patches_Patch5.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch5.prototype={apply:function(e){e.misc.rightHanded=!0,e.version=this.version},__class__:kro13_kk_data_patches_Patch5};var kro13_kk_data_patches_Patch6=function(){this.version=6};$hxClasses["kro13.kk.data.patches.Patch6"]=kro13_kk_data_patches_Patch6,kro13_kk_data_patches_Patch6.__name__="kro13.kk.data.patches.Patch6",kro13_kk_data_patches_Patch6.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch6.prototype={apply:function(e){e.misc.soundTypes=[0,1],e.version=this.version},__class__:kro13_kk_data_patches_Patch6};var kro13_kk_data_patches_Patch7=function(){this.version=7};$hxClasses["kro13.kk.data.patches.Patch7"]=kro13_kk_data_patches_Patch7,kro13_kk_data_patches_Patch7.__name__="kro13.kk.data.patches.Patch7",kro13_kk_data_patches_Patch7.__interfaces__=[kro13_kk_data_patches_IPatch],kro13_kk_data_patches_Patch7.prototype={apply:function(e){e.misc.locale=kro13_kk_Constants.LOCALE.toUpperCase(),e.version=this.version},__class__:kro13_kk_data_patches_Patch7};var kro13_kk_gameObjects_Renderable=function(){var e;(kro13_kk_gameObjects_Transformable.call(this),this.name="renderable",this.addComponent(new kro13_kk_components_Renderer),null==this.componentsMap)?e=null:e=this.componentsMap.h[1];this.renderer=e};$hxClasses["kro13.kk.gameObjects.Renderable"]=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Renderable.__name__="kro13.kk.gameObjects.Renderable",kro13_kk_gameObjects_Renderable.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Renderable.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{__class__:kro13_kk_gameObjects_Renderable});var kro13_kk_gameObjects_Avalanche=function(){kro13_kk_gameObjects_Renderable.call(this),this.name="avalanche"};$hxClasses["kro13.kk.gameObjects.Avalanche"]=kro13_kk_gameObjects_Avalanche,kro13_kk_gameObjects_Avalanche.__name__="kro13.kk.gameObjects.Avalanche",kro13_kk_gameObjects_Avalanche.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Avalanche.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=haxepunk_HXP.width,t=haxepunk_HXP.height;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.set_size(a);var n=this.get_size();this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE({size:n,color:16777215});var i=this.renderer;i.isLayerValid=!1,i._layer=1,this.frontFx=new kro13_kk_gameObjects_fx_AvalancheFront,this.frontFx.get_position().x=.5*this.get_size().x,this.frontFx.build(),this.frontFx.get_position().y=this.get_size().y+20,this.transform.addChild(this.frontFx.transform)},setFxEnabled:function(e){this.frontFx.enabled=e},__class__:kro13_kk_gameObjects_Avalanche});var kro13_kk_gameObjects_Back=function(){kro13_kk_gameObjects_Renderable.call(this),this.name="Back";var e=this.renderer;e.isLayerValid=!1,e._layer=15};$hxClasses["kro13.kk.gameObjects.Back"]=kro13_kk_gameObjects_Back,kro13_kk_gameObjects_Back.__name__="kro13.kk.gameObjects.Back",kro13_kk_gameObjects_Back.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Back.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=haxepunk_HXP.width;null==(t=haxepunk_HXP.height)&&(t=0),null==e&&(e=0);var t,a={x:e,y:t};this.set_size(a),null==(t=0)&&(t=0),null==(e=0)&&(e=0);a={x:e,y:t};this.set_position(a);var n={size:this.get_size(),source:"images/back.png"};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(n)},__class__:kro13_kk_gameObjects_Back});var kro13_kk_gameObjects_Canyon=function(e,t){kro13_kk_gameObjects_Transformable.call(this),this.map=e,this.name="Canyon "+this.id,this.dataProvider=t};$hxClasses["kro13.kk.gameObjects.Canyon"]=kro13_kk_gameObjects_Canyon,kro13_kk_gameObjects_Canyon.__name__="kro13.kk.gameObjects.Canyon",kro13_kk_gameObjects_Canyon.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Canyon.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){var e=this.map.ground,t=this.map.leftWall,a=this.map.leftWallWall,n=this.map.rightWall,i=this.map.rightWallWall;this.ground=this.buildGroundFromMap(e,10066380,0),this.ground.name="Middle Ground",this.transform.addChild(this.ground.transform),this.get_size().y=this.ground.get_size().y,this.ground.addFog();var s=this.buildGroundFromMap(t,13421798,1);s.name="Left Wall",s.addBodies(),this.transform.addChild(s.transform);var _=this.buildGroundFromMap(a,16250879,2);_.name="Left Wall Wall",_.addBodies(),this.transform.addChild(_.transform);var r=this.buildGroundFromMap(n,13421798,1);r.name="Right Wall",r.addBodies(),this.transform.addChild(r.transform);var o=this.buildGroundFromMap(i,16250879,2);o.name="Right Wall Wall",o.addBodies(),this.transform.addChild(o.transform)},buildGroundFromMap:function(e,t,a){var n=new kro13_kk_gameObjects_Ground(this.dataProvider);return n.buildFromMap(e,t,a),n},getEnterPoint:function(){return this.ground.getEnterPoint()},getExitPoint:function(){return this.ground.getExitPoint()},getRestartPoint:function(e){return this.ground.getRestartPoint(e)},destroy:function(){for(var e=this.componentsMap.keys();e.hasNext();){var t=e.next();this.componentsMap.h[t].destroy()}this.componentsMap=null},__class__:kro13_kk_gameObjects_Canyon});var kro13_kk_gameObjects_CanyonChain=function(e,t){this.counter=0,kro13_kk_gameObjects_Transformable.call(this),this.name="Chain",this.addComponent(new kro13_kk_components_Updater(this)),this.childAdded=new haxepunk_Signal1,this.childRemoved=new haxepunk_Signal1,this.dataProvider=e,this.eventDispatcher=t};$hxClasses["kro13.kk.gameObjects.CanyonChain"]=kro13_kk_gameObjects_CanyonChain,kro13_kk_gameObjects_CanyonChain.__name__="kro13.kk.gameObjects.CanyonChain",kro13_kk_gameObjects_CanyonChain.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_gameObjects_CanyonChain.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_CanyonChain.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){if(1==this.dataProvider.getProfile().canyonChain.length){for(var e=kro13_kk_gameObjects_GameObjectsFactory.get_instance(),t=this.dataProvider.getProfile().canyonChain[0],a=new kro13_kk_maps_CanyonMap,n=t.ground,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){var r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(var o=0,l=r.borders;o<l.length;){var h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(var u=0,p=r.landscapeDecore;u<p.length;){var c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(var d=0,f=r.natureObjects;d<f.length;){var m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(var g=0,x=r.snowmen;g<x.length;){var k=x[g];++g,C.snowmen.push(k)}for(var y=0,b=r.spots;y<b.length;){var v=b[y];++y,C.spots.push(v)}for(var P=0,w=r.tramps;P<w.length;){var T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.ground=i;for(n=t.leftWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWall=i;for(n=t.leftWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWallWall=i;for(n=t.rightWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWall=i;for(n=t.rightWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWallWall=i,this.curr=e.buildCanyon(a,this.dataProvider)}else if(2==this.dataProvider.getProfile().canyonChain.length){for(e=kro13_kk_gameObjects_GameObjectsFactory.get_instance(),t=this.dataProvider.getProfile().canyonChain[0],a=new kro13_kk_maps_CanyonMap,n=t.ground,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.ground=i;for(n=t.leftWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWall=i;for(n=t.leftWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWallWall=i;for(n=t.rightWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWall=i;for(n=t.rightWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWallWall=i,this.prev=e.buildCanyon(a,this.dataProvider);for(e=kro13_kk_gameObjects_GameObjectsFactory.get_instance(),t=this.dataProvider.getProfile().canyonChain[1],a=new kro13_kk_maps_CanyonMap,n=t.ground,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.ground=i;for(n=t.leftWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWall=i;for(n=t.leftWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.leftWallWall=i;for(n=t.rightWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWall=i;for(n=t.rightWallWall,i=new kro13_kk_maps_GroundMap,s=0,_=n.blocks;s<_.length;){var C;r=_[s];++s,(C=new kro13_kk_maps_GroundBlockMap).size=r.size,C.position=r.position;for(o=0,l=r.borders;o<l.length;){h=l[o];++o,C.addBorder(h)}if(null!=r.landscapeDecore)for(u=0,p=r.landscapeDecore;u<p.length;){c=p[u];++u,C.landscapeDecore.push(c)}if(null!=r.natureObjects)for(d=0,f=r.natureObjects;d<f.length;){m=f[d];++d,C.natureObjects.push(m)}if(null!=r.snowmen)for(g=0,x=r.snowmen;g<x.length;){k=x[g];++g,C.snowmen.push(k)}for(y=0,b=r.spots;y<b.length;){v=b[y];++y,C.spots.push(v)}for(P=0,w=r.tramps;P<w.length;){T=w[P];++P,C.trampolines.push(T)}i.addBlock(C)}a.rightWallWall=i,this.curr=e.buildCanyon(a,this.dataProvider)}else this.curr=this.generateNextCanyon();null!=this.prev&&(this.prev.transform.get_position().y=-this.prev.transform.get_size().y,this.transform.addChild(this.prev.transform)),this.transform.addChild(this.curr.transform)},update:function(e){if(this.timeToGenerateNext()&&null==this.next){this.next=this.generateNextCanyon();var t=this.curr.get_position().y;this.next.transform.get_position().y=t+this.curr.getExitPoint().y,this.transform.addChild(this.next.transform);for(var a=this.next,n=0,i=this.childAdded.callbacks;n<i.length;){var s=i[n];++n,s(a)}this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CANYON_GENERATE_NEXT)}if(this.timeToSwitch()){if(null!=this.prev){this.transform.removeChild(this.prev.transform);for(a=this.prev,n=0,i=this.childRemoved.callbacks;n<i.length;){s=i[n];++n,s(a)}}this.prev=this.curr,this.curr=this.next,this.next=null,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CANYON_SWITCH)}if(null==this.getCurrentBlock())return haxe_Log.trace("out of track!",{fileName:"src/kro13/kk/gameObjects/CanyonChain.hx",lineNumber:88,className:"kro13.kk.gameObjects.CanyonChain",methodName:"update"}),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.RESTART),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU),void this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE)},getCurrentBlock:function(){for(var e=0,t=this.curr.ground.blocks;e<t.length;){var a=t[e];++e;var n=a.transform;null==n.get_position()&&haxe_Log.trace(n.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),n.absPosition.x=n.get_position().x,n.absPosition.y=n.get_position().y;for(var i=n.parent;null!=i;)n.absPosition.x+=i.get_position().x,n.absPosition.y+=i.get_position().y,i=i.parent;var s=n.absPosition;if(s.y<=this.player.transform.get_position().y&&s.y+a.transform.get_size().y>=this.player.transform.get_position().y&&s.x<=this.player.transform.get_position().x&&s.x+a.transform.get_size().x>=this.player.transform.get_position().x)return a}return null},setPlayer:function(e){this.player=e;var t=this.curr.get_position(),a=this.curr.getEnterPoint(),n=t.x,i=t.y;null==i&&(i=0),null==n&&(n=0);var s=t={x:n,y:i};s.x+=a.x,s.y+=a.y,e.set_position(s)},getRestartPoint:function(){var e=this.curr.getRestartPoint(this.player.get_position());null==e&&(e=this.curr.getEnterPoint());var t=(n=this.curr.get_position()).x,a=n.y;null==a&&(a=0),null==t&&(t=0);var n,i=n={x:t,y:a};return i.x+=e.x,i.y+=e.y,i},timeToSwitch:function(){return this.player.transform.get_position().y>this.curr.get_position().y+this.curr.transform.get_size().y},timeToGenerateNext:function(){return this.player.transform.get_position().y>this.curr.get_position().y+.3*this.curr.transform.get_size().y},generateNextCanyon:function(){var e=this.dataProvider.getLocal().getMinBlockSize();null==(t=this.dataProvider.getLocal().getMinBlockSize())&&(t=0),null==e&&(e=0);var t,a=e,n=t;e=this.dataProvider.getLocal().getMaxBlockSize();null==(t=this.dataProvider.getLocal().getMaxBlockSize())&&(t=0),null==e&&(e=0);var i=e,s=t,_=null;_=kro13_kk_maps_CanyonMap.generateRandom(this.dataProvider.getLocal().getTrackLength(),a,n,i,s,this.dataProvider.getLocal().getMinBlockShift(),this.dataProvider.getLocal().getMaxNatureObjectsCount(),this.dataProvider.getLocal().getMaxSnowmenCount(),this.dataProvider.getLocal().getMinTrampsCount(),this.dataProvider.getLocal().getMaxTrampsCount(),null==this.curr,this.dataProvider.getLocal().isFixedShift()),null!=this.curr&&_.linkTo(this.curr.map),this.dataProvider.getProfile().canyonChain.length>=2&&this.dataProvider.getProfile().canyonChain.shift();for(var r=this.dataProvider.getProfile().canyonChain,o=[],l=0,h=_.ground.blocks;l<h.length;){var u=h[l++];o.push({size:u.size,position:u.position,borders:u.getBorders(),natureObjects:u.getNatureObjects(),tramps:u.getTrampolines(),spots:u.getSposts(),snowmen:u.getSnowmen(),landscapeDecore:u.getLandscapeDecore()})}var p={blocks:o};for(o=[],l=0,h=_.leftWall.blocks;l<h.length;){u=h[l++];o.push({size:u.size,position:u.position,borders:u.getBorders(),natureObjects:u.getNatureObjects(),tramps:u.getTrampolines(),spots:u.getSposts(),snowmen:u.getSnowmen(),landscapeDecore:u.getLandscapeDecore()})}var c={blocks:o};for(o=[],l=0,h=_.rightWall.blocks;l<h.length;){u=h[l++];o.push({size:u.size,position:u.position,borders:u.getBorders(),natureObjects:u.getNatureObjects(),tramps:u.getTrampolines(),spots:u.getSposts(),snowmen:u.getSnowmen(),landscapeDecore:u.getLandscapeDecore()})}var d={blocks:o};for(o=[],l=0,h=_.leftWallWall.blocks;l<h.length;){u=h[l++];o.push({size:u.size,position:u.position,borders:u.getBorders(),natureObjects:u.getNatureObjects(),tramps:u.getTrampolines(),spots:u.getSposts(),snowmen:u.getSnowmen(),landscapeDecore:u.getLandscapeDecore()})}var f={blocks:o};for(o=[],l=0,h=_.rightWallWall.blocks;l<h.length;){u=h[l++];o.push({size:u.size,position:u.position,borders:u.getBorders(),natureObjects:u.getNatureObjects(),tramps:u.getTrampolines(),spots:u.getSposts(),snowmen:u.getSnowmen(),landscapeDecore:u.getLandscapeDecore()})}return r.push({ground:p,leftWall:c,rightWall:d,leftWallWall:f,rightWallWall:{blocks:o}}),kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildCanyon(_,this.dataProvider)},__class__:kro13_kk_gameObjects_CanyonChain});var kro13_kk_gameObjects_Cliff=function(){kro13_kk_gameObjects_Renderable.call(this),this.type=2,this.name="Cliff "+this.id;var e=this.renderer;e.isLayerValid=!1,e._layer=1};$hxClasses["kro13.kk.gameObjects.Cliff"]=kro13_kk_gameObjects_Cliff,kro13_kk_gameObjects_Cliff.__name__="kro13.kk.gameObjects.Cliff",kro13_kk_gameObjects_Cliff.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Cliff.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(t=280)&&(t=0),null==(a=240)&&(a=0);var e={x:a,y:t};this.set_size(e);var t,a=this.get_size().x;null==(t=this.get_size().y)&&(t=0),null==a&&(a=0);var n={size:e={x:a,y:t},source:"images/cliff0.png"};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(n);var i=Math.random();this.transform.flip=i>.5,haxepunk_math_Vector2.setTo(this.transform.origin,120,this.get_size().y-80)},__class__:kro13_kk_gameObjects_Cliff});var kro13_kk_gameObjects_Fog=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="fog "+this.id,this.addComponent(new kro13_kk_components_Updater(this)),this.moove=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,1,3),new kro13_kk_tween_FloatTween(1,0,3)]))};$hxClasses["kro13.kk.gameObjects.Fog"]=kro13_kk_gameObjects_Fog,kro13_kk_gameObjects_Fog.__name__="kro13.kk.gameObjects.Fog",kro13_kk_gameObjects_Fog.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_gameObjects_Fog.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Fog.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){var e=2*haxepunk_HXP.width,t=.33*haxepunk_HXP.height;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.set_size(a),this.fogEntity=new kro13_kk_gameObjects_Renderable,this.fogEntity.type=10,this.fogEntity.set_size(this.get_size()),haxepunk_math_Vector2.setTo(this.fogEntity.transform.origin,.5*this.get_size().x,.11*haxepunk_HXP.height);var n=this.fogEntity.renderer;n.isLayerValid=!1,n._layer=1;var i=Math.random(),s=268435455;if(i<=.1)if(null==(h=.1)&&(h=1),h<=0)s=16777215;else if(h>=1)s=16730531;else{var _=0,r=255,o=255,l=255;s=(_+=(0-_)*h|0)<<24|(r+=(255-r)*h|0)<<16|(o+=(73-o)*h|0)<<8|(l+=(163-l)*h|0)}else if(i<=.4){var h;if(null==(h=.1)&&(h=1),h<=0)s=16777215;else if(h>=1)s=6776735;else{_=0,r=255,o=255,l=255;s=(_+=(0-_)*h|0)<<24|(r+=(103-r)*h|0)<<16|(o+=(103-o)*h|0)<<8|(l+=(159-l)*h|0)}}var u=this.get_size();this.fogEntity.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({size:u,source:"images/fog.png",color:s}),this.transform.addChild(this.fogEntity.transform),this.startTimeFluct=3*Math.random()},update:function(e){this.startTimeFluct<0?(this.moove.update(e),haxepunk_math_Vector2.setTo(this.fogEntity.get_position(),0,50*this.moove.getValue())):this.startTimeFluct-=e},__class__:kro13_kk_gameObjects_Fog});var kro13_kk_gameObjects_GameObjectsFactory=function(){};$hxClasses["kro13.kk.gameObjects.GameObjectsFactory"]=kro13_kk_gameObjects_GameObjectsFactory,kro13_kk_gameObjects_GameObjectsFactory.__name__="kro13.kk.gameObjects.GameObjectsFactory",kro13_kk_gameObjects_GameObjectsFactory.__properties__={get_instance:"get_instance"},kro13_kk_gameObjects_GameObjectsFactory.get_instance=function(){return null==kro13_kk_gameObjects_GameObjectsFactory.instance&&(kro13_kk_gameObjects_GameObjectsFactory.instance=new kro13_kk_gameObjects_GameObjectsFactory),kro13_kk_gameObjects_GameObjectsFactory.instance},kro13_kk_gameObjects_GameObjectsFactory.prototype={buildCanyon:function(e,t){var a=new kro13_kk_gameObjects_Canyon(e,t);return a.build(),a},buildFog:function(){var e=new kro13_kk_gameObjects_Fog;return e.build(),e},buildCanyonChain:function(e,t){var a=new kro13_kk_gameObjects_CanyonChain(e,t);return a.build(),a},buildPlayer:function(e){var t=new kro13_kk_gameObjects_Player(e);return t.build(),t},buildNatureObject:function(e,t){var a=new kro13_kk_gameObjects_NatureObject(e,t);return a.build(),a},buildShadow:function(e){var t=new kro13_kk_gameObjects_Shadow(e);return t.build(),t},buildtTrampoline:function(){var e=new kro13_kk_gameObjects_Trampoline;return e.build(),e},buildSnowman:function(){var e=new kro13_kk_gameObjects_Snowman;return e.build(),e},buildAvalanche:function(){var e=new kro13_kk_gameObjects_Avalanche;return e.build(),e},buildCircularBoom:function(e,t){var a=new kro13_kk_gameObjects_fx_CircularBoom(e,t);return a.build(),a},buildSnowBlow:function(e){var t=new kro13_kk_gameObjects_fx_SnowBlow(e);return t.build(),t},__class__:kro13_kk_gameObjects_GameObjectsFactory};var kro13_kk_gameObjects_Ground=function(e){this.depth=0,kro13_kk_gameObjects_Transformable.call(this),this.name="ground",this.blocks=[],this.dataProvider=e};$hxClasses["kro13.kk.gameObjects.Ground"]=kro13_kk_gameObjects_Ground,kro13_kk_gameObjects_Ground.__name__="kro13.kk.gameObjects.Ground",kro13_kk_gameObjects_Ground.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Ground.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{buildFromMap:function(e,t,a){this.map=e,this.depth=a,this.get_size().y=0;for(var n=0,i=e.blocks;n<i.length;){var s=i[n++],_=this.buildBlockFromMap(s,t);this.addBlock(_)}var r=e.getEnterPoint(),o=e.getExitPoint(),l=r.x;null==(h=r.y)&&(h=0),null==l&&(l=0),null==(h=h)&&(h=0),null==(l=l)&&(l=0),(u={x:l,y:h}).x*=40,u.y*=40,this.enterPoint=u;var h,u;l=o.x;null==(h=o.y)&&(h=0),null==l&&(l=0),null==(h=h)&&(h=0),null==(l=l)&&(l=0),(u={x:l,y:h}).x*=40,u.y*=40,this.exitPoint=u},getEnterPoint:function(){return this.enterPoint},getExitPoint:function(){return this.exitPoint},addBodies:function(){for(var e=0,t=this.blocks;e<t.length;){var a=t[e];++e;var n=a.get_size(),i=0,s=20;null==s&&(s=0),null==i&&(i=0);var _={x:i,y:s};a.addComponent(new kro13_kk_components_Body(n,_))}},getRestartPoint:function(e){for(var t=0,a=this.blocks.length;t<a;){var n=t++,i=this.blocks[this.blocks.length-1-n];if(i.transform.get_position().y+i.transform.get_size().y<e.y&&i.get_size().y>=200){var s=i.transform.get_position().x+.5*i.transform.get_size().x,_=i.transform.get_position().y;return null==_&&(_=0),null==s&&(s=0),{x:s,y:_}}}return null},addFog:function(){for(var e=0,t=this.blocks;e<t.length;){var a=t[e];++e,a.addFog()}},addBlock:function(e){this.blocks.push(e),e.depth=this.depth,this.transform.addChild(e.transform),this.get_size().y+=e.get_size().y},buildBlockFromMap:function(e,t){var a=new kro13_kk_gameObjects_GroundBlock(this.dataProvider);return a.depth=this.depth,a.buildFromMap(e,t),a},__class__:kro13_kk_gameObjects_Ground});var kro13_kk_gameObjects_GroundBlock=function(e){this.depth=0,kro13_kk_gameObjects_Renderable.call(this),this.type=4,this.name="Ground block "+this.id;var t=this.renderer;t.isLayerValid=!1,t._layer=12,this.dataProvider=e};$hxClasses["kro13.kk.gameObjects.GroundBlock"]=kro13_kk_gameObjects_GroundBlock,kro13_kk_gameObjects_GroundBlock.__name__="kro13.kk.gameObjects.GroundBlock",kro13_kk_gameObjects_GroundBlock.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_GroundBlock.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{buildFromMap:function(e,t){this.map=e;var a=e.position.x;null==(n=e.position.y)&&(n=0),null==a&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(i={x:a,y:n}).x*=40,i.y*=40,this.set_position(i);var n,i;a=e.size.x;if(null==(n=e.size.y)&&(n=0),null==a&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(i={x:a,y:n}).x*=40,i.y*=40,this.set_size(i),e.getLandscapeDecore().length>0){var s=e.getLandscapeDecore()[0],_=new kro13_kk_gameObjects_Cliff;_.build(),this.transform.addChild(_.transform),_.setEvenPosition(40*s.x,40*s.y)}for(var r=0,o=e.getNatureObjects();r<o.length;){var l=o[r];++r;var h=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildNatureObject(0!=this.depth,this.dataProvider);h.setEvenPosition(40*(l.x+.5),40*(l.y+.5)),this.transform.addChild(h.transform)}for(r=0,o=e.getSnowmen();r<o.length;){var u=o[r];++r;var p=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildSnowman();p.setEvenPosition(40*u.x,40*u.y),this.transform.addChild(p.transform)}for(r=0,o=e.getTrampolines();r<o.length;){var c=o[r];++r;var d=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildtTrampoline();d.setEvenPosition(40*c.x,40*c.y),this.transform.addChild(d.transform)}var f={size:this.get_size(),color:t,borderColor:7566220,spotColor:6776735,borders:e.getBorders(),spots:e.getSposts(),shadows:e.getNatureObjects()};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GROUND_BLOCK(f)},addShadows:function(){for(var e=0,t=this.map.getNatureObjects();e<t.length;){var a=t[e];++e;var n=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildShadow(this.map.size.x);n.setEvenPosition(0,40*a.y),this.transform.addChild(n.transform)}},addFog:function(){for(var e=0,t=Math.floor(this.get_size().y/(.05*haxepunk_HXP.height));e<t;){var a=e++,n=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildFog();n.setEvenPosition(.5*this.get_size().x,.05*haxepunk_HXP.height*a),this.transform.addChild(n.transform)}},__class__:kro13_kk_gameObjects_GroundBlock});var kro13_kk_gameObjects_Hare=function(){kro13_kk_gameObjects_Transformable.call(this),this.type=12,this.name="Hare",this.animPlayer=new kro13_kk_components_AnimPlayer,this.addComponent(this.animPlayer);this.body=new kro13_kk_components_Body({x:0,y:0}),this.addComponent(new kro13_kk_components_TransformBinder(this))};$hxClasses["kro13.kk.gameObjects.Hare"]=kro13_kk_gameObjects_Hare,kro13_kk_gameObjects_Hare.__name__="kro13.kk.gameObjects.Hare",kro13_kk_gameObjects_Hare.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_Hare.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){null==(n=80)&&(n=0),null==(t=40)&&(t=0);var e={x:t,y:n};this.set_size(e);var t=(e=this.get_size()).x;null==(n=e.y)&&(n=0),null==t&&(t=0),(a=e={x:t,y:n}).x*=.5,a.y*=.5,this.transform.origin=a,null==(n=40)&&(n=0),null==(t=40)&&(t=0),null==(n=n)&&(n=0),null==(t=t)&&(t=0),(a=e={x:t,y:n}).x*=.9,a.y*=.9,this.body.size=a;var a;t=(e=this.body.size).x;null==(n=e.y)&&(n=0),null==t&&(t=0),(a=e={x:t,y:n}).x*=-.5,a.y*=-.5,this.body.position=a,this.hareSit=new kro13_kk_gameObjects_Renderable,this.hareSit.name="hare sit",this.hareSit.set_size(this.get_size());var n;t=this.transform.origin.x;null==(n=this.transform.origin.y)&&(n=0),null==t&&(t=0);e={x:t,y:n};this.hareSit.transform.origin=e;var i={source:"images/hare_sit.png",size:this.hareSit.get_size()};this.hareSit.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(i),this.transform.addChild(this.hareSit.transform),(s=this.hareSit.renderer).isLayerValid=!1,s._layer=1,this.hareSit.type=12,this.hareSit.addComponent(this.body),this.hareJump=new kro13_kk_gameObjects_Renderable,this.hareSit.name="hare jump",this.hareJump.set_size(this.get_size()),this.hareJump.transform.origin=this.transform.origin;var s,_={source:"images/hare_jump.png",size:this.hareJump.get_size()};this.hareJump.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(_),this.transform.addChild(this.hareJump.transform),(s=this.hareJump.renderer).isLayerValid=!1,s._layer=1,this.hareSit.type=12,this.transform.onRotationChanged.callbacks.push($bind(this,this.rotate)),this.runAnim=new kro13_kk_gameObjects_hare_anim_Run(this),this.sitAnim=new kro13_kk_gameObjects_hare_anim_Sit(this)},isRunning:function(){return this.runAnim.isStarted},run:function(){this.animPlayer.play(this.runAnim)},sit:function(){this.animPlayer.play(this.sitAnim)},rotate:function(e){this.hareJump.transform.set_rotation(e),this.hareSit.transform.set_rotation(e)},legsIn:function(){this.hareSit.transform.set_visible(!0),this.hareJump.transform.set_visible(!1)},legsOut:function(){this.hareSit.transform.set_visible(!1),this.hareJump.transform.set_visible(!0)},__class__:kro13_kk_gameObjects_Hare});var kro13_kk_gameObjects_NatureObject=function(e,t,a){var n;(null==a&&(a=0),kro13_kk_gameObjects_Renderable.call(this),this.includeBig=e,this.objType=a,this.dataProvider=t,0==this.objType&&(this.objType=this.pickRandomType()),this.type=2,this.addComponent(new kro13_kk_components_Body(this.get_size())),null==this.componentsMap)?n=null:n=this.componentsMap.h[3];this.body=n,this.name="Nature Object "+a+" "+this.id;var i=this.renderer;i.isLayerValid=!1,i._layer=1};$hxClasses["kro13.kk.gameObjects.NatureObject"]=kro13_kk_gameObjects_NatureObject,kro13_kk_gameObjects_NatureObject.__name__="kro13.kk.gameObjects.NatureObject",kro13_kk_gameObjects_NatureObject.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_NatureObject.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=this.getTypeConfig(this.objType);this.set_size(e.materialConfig.size);var t=.5*this.get_size().x;null==(n=this.get_size().y)&&(n=0),null==t&&(t=0);var a={x:t,y:n};this.transform.origin=a,this.body.size=e.bodySize;var n;t=.5*-this.body.size.x;null==(n=-this.body.size.y)&&(n=0),null==t&&(t=0);a={x:t,y:n};this.body.position=a;var i=Math.random();this.transform.flip=i>.5,this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(e.materialConfig)},pickRandomType:function(){var e=Math.random(),t=this.dataProvider.getLocal().getTreeProb(),a=this.dataProvider.getLocal().getStoneProb(),n=this.includeBig?.2:0;return e<=t?3:e<=t+a?4:e<=t+a+n?5:e<=t+a+n+.4*(1-t-a-n)?2:1},getTypeConfig:function(e){var t=Math.random(),a=268435455;if(t<=.1)if(null==(l=.1)&&(l=1),l<=0)a=16777215;else if(l>=1)a=16730531;else{var n=0,i=255,s=255,_=255;a=(n+=(0-n)*l|0)<<24|(i+=(255-i)*l|0)<<16|(s+=(73-s)*l|0)<<8|(_+=(163-_)*l|0)}else if(t<=.4){if(null==(l=.1)&&(l=1),l<=0)a=16777215;else if(l>=1)a=6776735;else{n=0,i=255,s=255,_=255;a=(n+=(0-n)*l|0)<<24|(i+=(103-i)*l|0)<<16|(s+=(103-s)*l|0)<<8|(_+=(159-_)*l|0)}}var r=null;null==(p=.2)&&(p=0),null==(u=.2)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40;var o=c;switch(e){case 1:null==(p=4.5)&&(p=0),null==(u=2)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,r={size:c,color:a,source:"images/pine3.png"};break;case 2:null==(p=4.5)&&(p=0),null==(u=2)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,r={size:c,color:a,source:"images/pine4.png"};break;case 3:var l,h=Math.random();if(h=h<=.3?.8:h<=.6?1.2:1,h+=this.dataProvider.getLocal().getTreeProb(),Math.random()>=.5)if(null==(l=.2)&&(l=1),l<=0)a=16777215;else if(l>=1)a=16730531;else{n=0,i=255,s=255,_=255;a=(n+=(0-n)*l|0)<<24|(i+=(255-i)*l|0)<<16|(s+=(73-s)*l|0)<<8|(_+=(163-_)*l|0)}else if(null==(l=.3)&&(l=1),l<=0)a=16777215;else if(l>=1)a=6776735;else{n=0,i=255,s=255,_=255;a=(n+=(0-n)*l|0)<<24|(i+=(103-i)*l|0)<<16|(s+=(103-s)*l|0)<<8|(_+=(159-_)*l|0)}null==(p=4*h)&&(p=0),null==(u=3*h)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,r={size:c,color:a,source:"images/pine2.png"};break;case 4:null==(p=.25)&&(p=0),null==(u=1)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,o=c,null==(p=.75)&&(p=0),null==(u=1)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,r={size:c,color:a,source:"images/stone.png"};break;case 5:var u,p,c;null==(p=.25)&&(p=0),null==(u=1)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,o=c,null==(p=15)&&(p=0),null==(u=6)&&(u=0),null==(p=p)&&(p=0),null==(u=u)&&(u=0),(c={x:u,y:p}).x*=40,c.y*=40,r={size:c,color:a,source:"images/pine_big.png"};break;default:throw haxe_Exception.thrown("no such nature object type!")}return{materialConfig:r,bodySize:o}},__class__:kro13_kk_gameObjects_NatureObject});var kro13_kk_gameObjects_PlayerBase=function(){kro13_kk_gameObjects_Renderable.call(this),this.name="Player",this.type=1;var e,t=this.renderer;(t.isLayerValid=!1,t._layer=10,this.addComponent(new kro13_kk_components_GameEventHandler),this.addComponent(new kro13_kk_components_TextEmitter),this.addComponent(new kro13_kk_components_AnimPlayer),null==this.componentsMap)?e=null:e=this.componentsMap.h[8];(this.animPlayer=e,this.guy=new kro13_kk_gameObjects_player_PlayerGuy,null==this.componentsMap)?e=null:e=this.componentsMap.h[7];this.scoreEmitter=e};$hxClasses["kro13.kk.gameObjects.PlayerBase"]=kro13_kk_gameObjects_PlayerBase,kro13_kk_gameObjects_PlayerBase.__name__="kro13.kk.gameObjects.PlayerBase",kro13_kk_gameObjects_PlayerBase.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_PlayerBase.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(t=2)&&(t=0),null==(a=1)&&(a=0),null==(t=t)&&(t=0),null==(a=a)&&(a=0);var e=n={x:a,y:t};e.x*=40,e.y*=40,this.set_size(e);var t,a=.5*this.get_size().x;null==(t=.5*this.get_size().y)&&(t=0),null==a&&(a=0);var n={x:a,y:t};this.transform.origin=n,this.guy.build(),this.transform.addChild(this.guy.transform);var i={size:this.get_size(),source:"images/board.png"};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(i),this.transform.onRotationChanged.callbacks.push($bind(this,this.updateRotation)),this.jump=new kro13_kk_gameObjects_player_anim_PlayerJump(this),this.prepareJump=new kro13_kk_gameObjects_player_anim_PlayerPrepareJump(this)},updateRotation:function(e){var t,a=this.guy,n=e%360,i=n/180,s=Math.cos(i*Math.PI),_=Math.sin(i*Math.PI),r=Math.round(14*s);(haxepunk_math_Vector2.setTo(a.legLeft.get_position(),Math.round(10*_),a.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(a.legRight.get_position(),Math.round(10*-_),a.legLeft.transform.get_position().y),n>200&&n<340||n<-20&&n>-160)?((t=a.headFront.renderer).isLayerValid=!1,t._layer=9+a.layerShift,(t=a.headBack.renderer).isLayerValid=!1,t._layer=7+a.layerShift,(t=a.bodyFront.renderer).isLayerValid=!1,t._layer=9+a.layerShift,(t=a.bodyBack.renderer).isLayerValid=!1,t._layer=7+a.layerShift):((t=a.headFront.renderer).isLayerValid=!1,t._layer=7+a.layerShift,(t=a.headBack.renderer).isLayerValid=!1,t._layer=9+a.layerShift,(t=a.bodyFront.renderer).isLayerValid=!1,t._layer=7+a.layerShift,(t=a.bodyBack.renderer).isLayerValid=!1,t._layer=9+a.layerShift,(n<=0&&n>=-20||n>=180&&n<=200||n>=340&&n<=360||n<=-160&&n>=-180)&&(r=s>=0?14:-14));a.headFront.setEvenPosition(-r,a.headFront.transform.get_position().y),a.headBack.setEvenPosition(r,a.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyFront.get_position(),-r,a.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyBack.get_position(),r,a.bodyBack.transform.get_position().y)},__class__:kro13_kk_gameObjects_PlayerBase});var kro13_kk_gameObjects_Player=function(e){var t;(this.isNew=!1,kro13_kk_gameObjects_PlayerBase.call(this),this.dataProvider=e,this.addComponent(new kro13_kk_components_Body(this.get_size())),this.addComponent(new kro13_kk_components_PhysicalCoefficients(this)),this.addComponent(new kro13_kk_components_TransformBinder(this)),this.addComponent(new kro13_kk_components_PlayerPile(this)),null==this.componentsMap)?t=null:t=this.componentsMap.h[3];(this.body=t,null==this.componentsMap)?t=null:t=this.componentsMap.h[6];this.gameEvent=t,this.gameEvent.addHandler($bind(this,this.onEvent)),this.plume=new kro13_kk_gameObjects_fx_SnowPlume(this,e),this.speedPlume=new kro13_kk_gameObjects_fx_SpeedPlume(this,e)};$hxClasses["kro13.kk.gameObjects.Player"]=kro13_kk_gameObjects_Player,kro13_kk_gameObjects_Player.__name__="kro13.kk.gameObjects.Player",kro13_kk_gameObjects_Player.__super__=kro13_kk_gameObjects_PlayerBase,kro13_kk_gameObjects_Player.prototype=$extend(kro13_kk_gameObjects_PlayerBase.prototype,{build:function(){kro13_kk_gameObjects_PlayerBase.prototype.build.call(this),null==(n=.2)&&(n=0),null==(a=.2)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0);var e=a,t=n;e*=40,t*=40;var a=(i=this.get_size()).x;null==(n=i.y)&&(n=0),null==a&&(a=0),(s=i={x:a,y:n}).x-=e,s.y-=t,this.body.size=s;var n,i,s;a=(i=this.body.size).x;null==(n=i.y)&&(n=0),null==a&&(a=0),(s=i={x:a,y:n}).x*=-.5,s.y*=-.5,this.body.position=s,this.validate(),this.body.addForce(new kro13_kk_components_body_GroundResistance(this.transform,this.body)),this.body.addForce(new kro13_kk_components_body_GroundFriction(this.body)),this.body.addForce(new kro13_kk_components_body_RotationInertia(this.body)),this.plume.build(),this.transform.addChild(this.plume.transform),this.speedPlume.build(),this.transform.addChild(this.speedPlume.transform)},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.isNew=!0,(n=this.renderer).isLayerValid=!1,n._layer=10,this.guy.shiftLayer(0);break;case 2:this.isNew&&(this.jump.setTime(.2),this.animPlayer.play(this.jump),this.isNew=!1);break;case 19:this.animPlayer.play(this.prepareJump);break;case 20:var t=e.jumpTime;this.jump.setTime(t),this.animPlayer.play(this.jump),(n=this.renderer).isLayerValid=!1,n._layer=5,this.guy.shiftLayer(-5);break;case 21:(n=this.renderer).isLayerValid=!1,n._layer=10,this.guy.shiftLayer(0);var a,n=this.guy,i=this.transform.get_rotation()%360,s=i/180,_=Math.cos(s*Math.PI),r=Math.sin(s*Math.PI),o=Math.round(14*_);if(haxepunk_math_Vector2.setTo(n.legLeft.get_position(),Math.round(10*r),n.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(n.legRight.get_position(),Math.round(10*-r),n.legLeft.transform.get_position().y),i>200&&i<340||i<-20&&i>-160)(a=n.headFront.renderer).isLayerValid=!1,a._layer=9+n.layerShift,(a=n.headBack.renderer).isLayerValid=!1,a._layer=7+n.layerShift,(a=n.bodyFront.renderer).isLayerValid=!1,a._layer=9+n.layerShift,(a=n.bodyBack.renderer).isLayerValid=!1,a._layer=7+n.layerShift;else(a=n.headFront.renderer).isLayerValid=!1,a._layer=7+n.layerShift,(a=n.headBack.renderer).isLayerValid=!1,a._layer=9+n.layerShift,(a=n.bodyFront.renderer).isLayerValid=!1,a._layer=7+n.layerShift,(a=n.bodyBack.renderer).isLayerValid=!1,a._layer=9+n.layerShift,(i<=0&&i>=-20||i>=180&&i<=200||i>=340&&i<=360||i<=-160&&i>=-180)&&(o=_>=0?14:-14);n.headFront.setEvenPosition(-o,n.headFront.transform.get_position().y),n.headBack.setEvenPosition(o,n.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(n.bodyFront.get_position(),-o,n.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(n.bodyBack.get_position(),o,n.bodyBack.transform.get_position().y),haxe_Log.trace("1",{fileName:"src/kro13/kk/gameObjects/Player.hx",lineNumber:83,className:"kro13.kk.gameObjects.Player",methodName:"onEvent"});break;case 36:this.validate()}},validate:function(){haxe_Log.trace("player validate",{fileName:"src/kro13/kk/gameObjects/Player.hx",lineNumber:107,className:"kro13.kk.gameObjects.Player",methodName:"validate"}),this.body.removeForceById(0),this.body.addForce(new kro13_kk_components_body_Gravity(this.dataProvider.getLocal().gravity))},__class__:kro13_kk_gameObjects_Player});var kro13_kk_gameObjects_Shadow=function(e){kro13_kk_gameObjects_Renderable.call(this),this.type=9;var t=this.renderer;t.isLayerValid=!1,t._layer=5,this.width=e};$hxClasses["kro13.kk.gameObjects.Shadow"]=kro13_kk_gameObjects_Shadow,kro13_kk_gameObjects_Shadow.__name__="kro13.kk.gameObjects.Shadow",kro13_kk_gameObjects_Shadow.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Shadow.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e,t;null==(t=1)&&(t=0),null==(e=this.width)&&(e=0),null==(t=t)&&(t=0),null==(e=e)&&(e=0);var a={x:e,y:t};a.x*=40,a.y*=40,this.set_size(a);var n={size:this.get_size(),color:6776735};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE(n),this.transform.set_alpha(.3)},__class__:kro13_kk_gameObjects_Shadow});var kro13_kk_gameObjects_Snowman=function(){var e;(kro13_kk_gameObjects_Renderable.call(this),this.type=7,this.addComponent(new kro13_kk_components_Body(this.get_size())),null==this.componentsMap)?e=null:e=this.componentsMap.h[3];this.body=e,this.name="Snowman "+this.id;var t=this.renderer;t.isLayerValid=!1,t._layer=1};$hxClasses["kro13.kk.gameObjects.Snowman"]=kro13_kk_gameObjects_Snowman,kro13_kk_gameObjects_Snowman.__name__="kro13.kk.gameObjects.Snowman",kro13_kk_gameObjects_Snowman.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Snowman.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(o=75)&&(o=0),null==(n=46)&&(n=0);var e={x:n,y:o};this.set_size(e),null==(o=20)&&(o=0),null==(n=40)&&(n=0);e={x:n,y:o};this.body.size=e,null==(o=-20)&&(o=0),null==(n=0)&&(n=0);e={x:n,y:o};this.body.position=e;var t=Math.random();t=t<=.33?1:t<=.66?1.1:.9;var a=Math.random();a=a<=.33?1:a<=.66?1.1:.9,haxepunk_math_Vector2.setTo(this.transform.get_size(),this.transform.get_size().x*t,this.transform.get_size().y*a);var n=.5*(this.get_size().x-this.body.size.x);null==(o=this.get_size().y)&&(o=0),null==n&&(n=0);e={x:n,y:o};this.transform.origin=e;n=kro13_kk_utils_MathUtils.get_instance().randomRange(5,10);null==(o=kro13_kk_utils_MathUtils.get_instance().randomRange(5,10))&&(o=0),null==n&&(n=0);var i=e={x:n,y:o};n=kro13_kk_utils_MathUtils.get_instance().randomRange(4,21-i.x);null==(o=kro13_kk_utils_MathUtils.get_instance().randomRange(4,26-i.y))&&(o=0),null==n&&(n=0);var s=e={x:n,y:o};n=kro13_kk_utils_MathUtils.get_instance().randomRange(0|Math.max(i.x-2,5),0|Math.min(i.x+2,10));null==(o=kro13_kk_utils_MathUtils.get_instance().randomRange(0|Math.max(i.y-2,5),0|Math.min(i.y+2,10)))&&(o=0),null==n&&(n=0);var _=e={x:n,y:o};n=kro13_kk_utils_MathUtils.get_instance().randomRange(25,42-_.x);null==(o=kro13_kk_utils_MathUtils.get_instance().randomRange(0|Math.max(s.y-2,4),0|Math.min(s.y+2,26-_.y)))&&(o=0),null==n&&(n=0);var r=e={x:n,y:o};n=kro13_kk_utils_MathUtils.get_instance().randomRange(16,24);null==(o=kro13_kk_utils_MathUtils.get_instance().randomRange(6,10))&&(o=0),null==n&&(n=0);var o,l=e={x:n,y:o};n=kro13_kk_utils_MathUtils.get_instance().randomRange(20,26);null==(o=(0|Math.max(s.y+i.y,r.y+_.y))+kro13_kk_utils_MathUtils.get_instance().randomRange(0,8)+2)&&(o=0),null==n&&(n=0);var h=e={x:n,y:o},u={size:this.get_size(),source:"images/snowman_blank.png",leftEyeSize:i,leftEyePos:s,rightEyeSize:_,rightEyePos:r,noseSize:l,nosePos:h,flip:Math.random()>.5};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.SNOWMAN(u)},__class__:kro13_kk_gameObjects_Snowman});var kro13_kk_gameObjects_Trampoline=function(){var e;(kro13_kk_gameObjects_Renderable.call(this),this.type=6,this.addComponent(new kro13_kk_components_Body(this.get_size())),null==this.componentsMap)?e=null:e=this.componentsMap.h[3];this.body=e,this.name="Trampoline "+this.id;var t=this.renderer;t.isLayerValid=!1,t._layer=12};$hxClasses["kro13.kk.gameObjects.Trampoline"]=kro13_kk_gameObjects_Trampoline,kro13_kk_gameObjects_Trampoline.__name__="kro13.kk.gameObjects.Trampoline",kro13_kk_gameObjects_Trampoline.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_Trampoline.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e,t,a;null==(t=3)&&(t=0),null==(e=2)&&(e=0),null==(t=t)&&(t=0),null==(e=e)&&(e=0),(a={x:e,y:t}).x*=40,a.y*=40,this.set_size(a),null==(t=.3)&&(t=0),null==(e=.5)&&(e=0),null==(t=t)&&(t=0),null==(e=e)&&(e=0),(a={x:e,y:t}).x*=40,a.y*=40,this.body.position=a,null==(t=1.7)&&(t=0),null==(e=1)&&(e=0),null==(t=t)&&(t=0),null==(e=e)&&(e=0),(a={x:e,y:t}).x*=40,a.y*=40,this.body.size=a;var n={size:this.get_size(),source:"images/tramp.png"};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(n)},__class__:kro13_kk_gameObjects_Trampoline});var kro13_kk_gameObjects_fx_AvalancheFront=function(){this.enabled=!0,kro13_kk_gameObjects_Renderable.call(this),this.name="avalanche front fx",this.type=5;var e=this.renderer;e.isLayerValid=!1,e._layer=0;var t=new kro13_kk_components_Particles("avalanche_front",$bind(this,this.emit));t.emitFrequency=.01,this.addComponent(t)};$hxClasses["kro13.kk.gameObjects.fx.AvalancheFront"]=kro13_kk_gameObjects_fx_AvalancheFront,kro13_kk_gameObjects_fx_AvalancheFront.__name__="kro13.kk.gameObjects.fx.AvalancheFront",kro13_kk_gameObjects_fx_AvalancheFront.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_fx_AvalancheFront.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=40,t=40;null==t&&(t=0),null==e&&(e=0);var a={size:{x:e,y:t},color:16777215,endColor:10066380,particlesType:"avalanche_front",emitAngle:-90,distance:100,distanceRange:50,duration:1,startAlpha:1,endAlpha:.1,startScale:3},n=kro13_kk_components_renderer_materials_EMaterial.PARTICLES(a);this.renderer.material=n;var i=this.renderer;i.isLayerValid=!1,i._layer=0},freeze:function(){null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager);var e=kro13_hxp_systems_render_HxpEntitiesManager.instance.getEntity(this.id);if(null!=e){var t=e.graphic;null!=t&&(t.frozen=!0)}},unfreeze:function(){null==kro13_hxp_systems_render_HxpEntitiesManager.instance&&(kro13_hxp_systems_render_HxpEntitiesManager.instance=new kro13_hxp_systems_render_HxpEntitiesManager);var e=kro13_hxp_systems_render_HxpEntitiesManager.instance.getEntity(this.id);if(null!=e){var t=e.graphic;null!=t&&(t.frozen=!1)}},emit:function(){return this.enabled},__class__:kro13_kk_gameObjects_fx_AvalancheFront});var kro13_kk_gameObjects_fx_CircularBoom=function(e,t){null==t&&(t=16777215),null==e&&(e=5),this.isStarted=!1,kro13_kk_gameObjects_Renderable.call(this),this.name="CircularBoomFx",this.type=5;var a=this.renderer;a.isLayerValid=!1,a._layer=11,this.addComponent(new kro13_kk_components_Updater(this)),this.radius=e,this.color=t,this.addComponent(new kro13_kk_components_TransformBinder(this))};$hxClasses["kro13.kk.gameObjects.fx.CircularBoom"]=kro13_kk_gameObjects_fx_CircularBoom,kro13_kk_gameObjects_fx_CircularBoom.__name__="kro13.kk.gameObjects.fx.CircularBoom",kro13_kk_gameObjects_fx_CircularBoom.__interfaces__=[kro13_kk_ISwitchable,kro13_kk_IUpdatable],kro13_kk_gameObjects_fx_CircularBoom.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_fx_CircularBoom.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(i=40)&&(i=0),null==(s=40)&&(s=0);var e=s,t=i,a=this.radius;null==(i=t)&&(i=0),null==(s=e)&&(s=0);var n=_={x:s,y:i};n.x*=a,n.y*=a,this.set_size(n);var i,s=.5*this.get_size().x;null==(i=.5*this.get_size().y)&&(i=0),null==s&&(s=0);var _={x:s,y:i};this.transform.origin=_,this.materialC={size:this.get_size(),color:this.color},this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.CIRCLE(this.materialC),this.expand=new kro13_kk_tween_FloatTween(.01,1,.2)},update:function(e){if(this.isStarted){var t,a=this.expand;e=kro13_kk_systems_DTSystem._dt;(t=a.elapsed<=a.duration||a.ratio<1)||null==a.onComplete||a.isComplete||(a.onComplete(),a.isComplete=!0),t&&(a.ratio=a.elapsed/a.duration,a.ratio>1&&(a.ratio=1),a.ratio=a.ease(a.ratio),a.val=a.from+a.range*a.ratio),a.elapsed+=e,this.transform.set_scale(this.expand.val),this.transform.set_alpha(.3*this.expand.val),(t=(a=this.expand).elapsed<=a.duration||a.ratio<1)||null==a.onComplete||a.isComplete||(a.onComplete(),a.isComplete=!0),t||this.stop()}},start:function(){this.isStarted=!0},stop:function(){this.transform.set_scale(.01),this.transform.set_alpha(.01),this.isStarted=!1,this.expand.reset(),this.renderer.isValid=!1,this.destroy()},__class__:kro13_kk_gameObjects_fx_CircularBoom});var kro13_kk_gameObjects_fx_SnowBlow=function(e){this.counter=0,kro13_kk_gameObjects_Renderable.call(this),this.name="Snow Blow Fx",this.type=5;var t=this.renderer;t.isLayerValid=!1,t._layer=1;var a=new kro13_kk_components_Particles("blow",$bind(this,this.emit));this.conf=e,a.emitFrequency=e.emitFrequency,this.addComponent(a)};$hxClasses["kro13.kk.gameObjects.fx.SnowBlow"]=kro13_kk_gameObjects_fx_SnowBlow,kro13_kk_gameObjects_fx_SnowBlow.__name__="kro13.kk.gameObjects.fx.SnowBlow",kro13_kk_gameObjects_fx_SnowBlow.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_fx_SnowBlow.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=40,t=40;null==t&&(t=0),null==e&&(e=0);var a={size:{x:e,y:t},color:16777215,particlesType:"blow",emitAngle:0,distance:this.conf.distance,duration:this.conf.duration,angleRange:360,distanceRange:20,durationRange:.1,endAlpha:.1,endScale:.5},n=kro13_kk_components_renderer_materials_EMaterial.PARTICLES(a);this.renderer.material=n},emit:function(){this.counter++;this.counter,this.conf.eminCount;return this.counter<this.conf.eminCount},__class__:kro13_kk_gameObjects_fx_SnowBlow});var kro13_kk_gameObjects_fx_SnowPlume=function(e,t){this.prevRotation=0,kro13_kk_gameObjects_Renderable.call(this),this.name="Snow Plume Fx",this.type=5;var a,n=this.renderer;(n.isLayerValid=!1,n._layer=1,this.particles=new kro13_kk_components_Particles("plume",$bind(this,this.emit)),this.particles.emitFrequency=.04,this.addComponent(this.particles),this.addComponent(new kro13_kk_components_Updater(this)),null==e.componentsMap)?a=null:a=e.componentsMap.h[3];(this.playerBody=a,null==e.componentsMap)?a=null:a=e.componentsMap.h[2];(this.playerTransform=a,null==e.componentsMap)?a=null:a=e.componentsMap.h[12];this.physicalCoeff=a,this.dataProvider=t};$hxClasses["kro13.kk.gameObjects.fx.SnowPlume"]=kro13_kk_gameObjects_fx_SnowPlume,kro13_kk_gameObjects_fx_SnowPlume.__name__="kro13.kk.gameObjects.fx.SnowPlume",kro13_kk_gameObjects_fx_SnowPlume.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_gameObjects_fx_SnowPlume.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_fx_SnowPlume.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(a=40)&&(a=0),null==(t=40)&&(t=0);var e={x:t,y:a};this.materialC={size:e,color:16777215,particlesType:"plume",emitAngle:90,distance:40,duration:.5,angleRange:0,distanceRange:40,durationRange:.1,endAlpha:.1,startScale:1,endScale:.5};var t,a,n=kro13_kk_components_renderer_materials_EMaterial.PARTICLES(this.materialC);null==(a=4)&&(a=0),null==(t=20)&&(t=0);e={x:t,y:a};this.transform.origin=e,this.renderer.material=n},update:function(e){this.particles.emitFrequency=this.getEmitFreq();var t=Math.pow(.1/this.physicalCoeff.getSpeedCoeff(),1.2);this.materialC.distance=Math.min(t,200);var a,n=(this.playerTransform.get_rotation()-90)%360;if(n>=0&&n<=180||n<=-180&&n>=-360){t=this.playerTransform.get_rotation()%360;this.materialC.emitAngle=t+270}else{t=this.playerTransform.get_rotation()%360;this.materialC.emitAngle=t+90}(this.renderer.isValid=!1,Math.abs(this.playerTransform.get_rotation()%180)<=35||Math.abs(this.playerTransform.get_rotation()%180)>=145)?((a=this.renderer).isLayerValid=!1,a._layer=11):((a=this.renderer).isLayerValid=!1,a._layer=1);var i=kro13_kk_utils_MathUtils.get_instance().degToRad(2*this.playerTransform.get_rotation()+90);haxepunk_math_Vector2.setTo(this.transform.get_position(),20*Math.cos(i),-20*Math.sin(i))},getEmitFreq:function(){return 100*this.physicalCoeff.getSpeedCoeff()*this.physicalCoeff.getRotationCoeff()},emit:function(){if(this.playerBody.getForceById(1).enabled){var e=this.playerBody.velocity;return Math.sqrt(e.x*e.x+e.y*e.y)>this.dataProvider.getLocal().minSpeed}return!1},__class__:kro13_kk_gameObjects_fx_SnowPlume});var kro13_kk_gameObjects_fx_SpeedPlume=function(e,t){kro13_kk_gameObjects_fx_SnowPlume.call(this,e,t);var a=this.renderer;a.isLayerValid=!1,a._layer=11,this.name="Speed Plume Fx"};$hxClasses["kro13.kk.gameObjects.fx.SpeedPlume"]=kro13_kk_gameObjects_fx_SpeedPlume,kro13_kk_gameObjects_fx_SpeedPlume.__name__="kro13.kk.gameObjects.fx.SpeedPlume",kro13_kk_gameObjects_fx_SpeedPlume.__super__=kro13_kk_gameObjects_fx_SnowPlume,kro13_kk_gameObjects_fx_SpeedPlume.prototype=$extend(kro13_kk_gameObjects_fx_SnowPlume.prototype,{build:function(){kro13_kk_gameObjects_fx_SnowPlume.prototype.build.call(this),this.materialC.color=16757990},update:function(e){var t=.4*(1-this.dataProvider.getLocal().scoreData.speedRatio);this.particles.emitFrequency=.04+t},emit:function(){return this.dataProvider.getLocal().scoreData.speedRatio>.5},__class__:kro13_kk_gameObjects_fx_SpeedPlume});var kro13_kk_gameObjects_hare_anim_Run=function(e){this.jumpTime=.3,this.sitTime=.1,kro13_kk_components_animation_AbstractAnimation.call(this),this.hare=e};$hxClasses["kro13.kk.gameObjects.hare.anim.Run"]=kro13_kk_gameObjects_hare_anim_Run,kro13_kk_gameObjects_hare_anim_Run.__name__="kro13.kk.gameObjects.hare.anim.Run",kro13_kk_gameObjects_hare_anim_Run.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_gameObjects_hare_anim_Run.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{update:function(e){0==this.timer&&this.hare.legsOut(),this.timer>=this.jumpTime&&this.hare.legsIn(),kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e),this.timer>=this.sitTime+this.jumpTime&&(this.stop(),this.jumpTime=this.getJumpTime())},getJumpTime:function(){return Math.random()>=.8?.6:.3},__class__:kro13_kk_gameObjects_hare_anim_Run});var kro13_kk_gameObjects_hare_anim_Sit=function(e){kro13_kk_components_animation_AbstractAnimation.call(this),this.hare=e};$hxClasses["kro13.kk.gameObjects.hare.anim.Sit"]=kro13_kk_gameObjects_hare_anim_Sit,kro13_kk_gameObjects_hare_anim_Sit.__name__="kro13.kk.gameObjects.hare.anim.Sit",kro13_kk_gameObjects_hare_anim_Sit.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_gameObjects_hare_anim_Sit.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{update:function(e){kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e),this.hare.legsIn()},__class__:kro13_kk_gameObjects_hare_anim_Sit});var kro13_kk_gameObjects_player_PlayerGuy=function(){this.layerShift=0,kro13_kk_gameObjects_Transformable.call(this),this.name="PlayerGuy"};$hxClasses["kro13.kk.gameObjects.player.PlayerGuy"]=kro13_kk_gameObjects_player_PlayerGuy,kro13_kk_gameObjects_player_PlayerGuy.__name__="kro13.kk.gameObjects.player.PlayerGuy",kro13_kk_gameObjects_player_PlayerGuy.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_gameObjects_player_PlayerGuy.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){null==(t=34)&&(t=0),null==(a=24)&&(a=0),null==(t=t)&&(t=0),null==(a=a)&&(a=0);var e=n={x:a,y:t};e.x*=2,e.y*=2,this.set_size(e);var t,a=.5*this.get_size().x;null==(t=this.get_size().y)&&(t=0),null==a&&(a=0);var n={x:a,y:t};this.transform.origin=n,this.buildHead(),this.buildBody(),this.buildLegs(),this.transform.addChild(this.legLeft.transform),this.legLeft.setEvenPosition(-10,-6),this.transform.addChild(this.legRight.transform),this.legRight.setEvenPosition(10,-6),this.transform.addChild(this.body.transform),this.body.setEvenPosition(0,-24),this.transform.addChild(this.head.transform),this.head.setEvenPosition(0,-68);var i,s=Math.cos(0*Math.PI),_=Math.sin(0*Math.PI),r=Math.round(14*s);haxepunk_math_Vector2.setTo(this.legLeft.get_position(),Math.round(10*_),this.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(this.legRight.get_position(),Math.round(10*-_),this.legLeft.transform.get_position().y),(i=this.headFront.renderer).isLayerValid=!1,i._layer=7+this.layerShift,(i=this.headBack.renderer).isLayerValid=!1,i._layer=9+this.layerShift,(i=this.bodyFront.renderer).isLayerValid=!1,i._layer=7+this.layerShift,(i=this.bodyBack.renderer).isLayerValid=!1,i._layer=9+this.layerShift,r=s>=0?14:-14,this.headFront.setEvenPosition(-r,this.headFront.transform.get_position().y),this.headBack.setEvenPosition(r,this.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(this.bodyFront.get_position(),-r,this.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(this.bodyBack.get_position(),r,this.bodyBack.transform.get_position().y)},shiftLayer:function(e){var t;(t=this.head.renderer).isLayerValid=!1,t._layer=8+e,(t=this.body.renderer).isLayerValid=!1,t._layer=8+e,(t=this.legRight.renderer).isLayerValid=!1,t._layer=9+e,(t=this.legLeft.renderer).isLayerValid=!1,t._layer=9+e,this.layerShift=e},update:function(e){var t,a=e%360,n=a/180,i=Math.cos(n*Math.PI),s=Math.sin(n*Math.PI),_=Math.round(14*i);(haxepunk_math_Vector2.setTo(this.legLeft.get_position(),Math.round(10*s),this.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(this.legRight.get_position(),Math.round(10*-s),this.legLeft.transform.get_position().y),a>200&&a<340||a<-20&&a>-160)?((t=this.headFront.renderer).isLayerValid=!1,t._layer=9+this.layerShift,(t=this.headBack.renderer).isLayerValid=!1,t._layer=7+this.layerShift,(t=this.bodyFront.renderer).isLayerValid=!1,t._layer=9+this.layerShift,(t=this.bodyBack.renderer).isLayerValid=!1,t._layer=7+this.layerShift):((t=this.headFront.renderer).isLayerValid=!1,t._layer=7+this.layerShift,(t=this.headBack.renderer).isLayerValid=!1,t._layer=9+this.layerShift,(t=this.bodyFront.renderer).isLayerValid=!1,t._layer=7+this.layerShift,(t=this.bodyBack.renderer).isLayerValid=!1,t._layer=9+this.layerShift,(a<=0&&a>=-20||a>=180&&a<=200||a>=340&&a<=360||a<=-160&&a>=-180)&&(_=i>=0?14:-14));this.headFront.setEvenPosition(-_,this.headFront.transform.get_position().y),this.headBack.setEvenPosition(_,this.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(this.bodyFront.get_position(),-_,this.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(this.bodyBack.get_position(),_,this.bodyBack.transform.get_position().y)},sit:function(){this.head.setEvenPosition(0,-60),this.body.setEvenPosition(0,-20)},stand:function(){this.head.setEvenPosition(0,-68),this.body.setEvenPosition(0,-24)},buildHead:function(){null==(n=22)&&(n=0),null==(a=24)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.head=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_head.png",t),this.head.name="head",null==(n=0)&&(n=0),null==(a=24)&&(a=0);var e={x:a,y:n};this.head.transform.origin=e,(i=this.head.renderer).isLayerValid=!1,i._layer=8,null==(n=20)&&(n=0),null==(a=20)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.headFront=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_head_front.png",t),null==(n=0)&&(n=0),null==(a=20)&&(a=0);var t,a,n;e={x:a,y:n};this.headFront.transform.origin=e,(i=this.headFront.renderer).isLayerValid=!1,i._layer=7,null==(n=15)&&(n=0),null==(a=6)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.headBack=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_head_back.png",t),null==(n=0)&&(n=0),null==(a=6)&&(a=0);var i;e={x:a,y:n};this.headBack.transform.origin=e,(i=this.headBack.renderer).isLayerValid=!1,i._layer=9,this.head.transform.addChild(this.headFront.transform),this.head.transform.addChild(this.headBack.transform)},buildBody:function(){null==(n=9)&&(n=0),null==(a=16)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.body=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_body.png",t),this.body.name="body",null==(n=0)&&(n=0),null==(a=16)&&(a=0);var e={x:a,y:n};this.body.transform.origin=e,(i=this.body.renderer).isLayerValid=!1,i._layer=8,null==(n=6)&&(n=0),null==(a=2)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.bodyFront=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_body_front.png",t),null==(n=0)&&(n=0),null==(a=2)&&(a=0);var t,a,n;e={x:a,y:n};this.bodyFront.transform.origin=e,(i=this.bodyFront.renderer).isLayerValid=!1,i._layer=7,this.bodyFront.setEvenPosition(0,4),null==(n=14)&&(n=0),null==(a=14)&&(a=0),null==(n=n)&&(n=0),null==(a=a)&&(a=0),(t=e={x:a,y:n}).x*=2,t.y*=2,this.bodyBack=kro13_kk_components_renderer_materials_MaterialUtils.buildImage("images/player_body_back.png",t),null==(n=0)&&(n=0),null==(a=14)&&(a=0);var i;e={x:a,y:n};this.bodyBack.transform.origin=e,(i=this.bodyBack.renderer).isLayerValid=!1,i._layer=9,this.bodyBack.setEvenPosition(0,-12),this.body.transform.addChild(this.bodyFront.transform),this.body.transform.addChild(this.bodyBack.transform)},buildLegs:function(){null==(a=3)&&(a=0),null==(t=3)&&(t=0),null==(a=a)&&(a=0),null==(t=t)&&(t=0),(e=n={x:t,y:a}).x*=2,e.y*=2,this.legLeft=kro13_kk_components_renderer_materials_MaterialUtils.buildRectangle(e,7096996),this.legLeft.name="leg left",null==(a=0)&&(a=0),null==(t=3)&&(t=0);var e,t,a,n={x:t,y:a};this.legLeft.transform.origin=n,(i=this.legLeft.renderer).isLayerValid=!1,i._layer=9,null==(a=3)&&(a=0),null==(t=3)&&(t=0),null==(a=a)&&(a=0),null==(t=t)&&(t=0),(e=n={x:t,y:a}).x*=2,e.y*=2,this.legRight=kro13_kk_components_renderer_materials_MaterialUtils.buildRectangle(e,7096996),this.legRight.name="leg right",null==(a=0)&&(a=0),null==(t=3)&&(t=0);var i;n={x:t,y:a};this.legRight.transform.origin=n,(i=this.legRight.renderer).isLayerValid=!1,i._layer=9},__class__:kro13_kk_gameObjects_player_PlayerGuy});var kro13_kk_gameObjects_player_anim_PlayerJump=function(e){this.isLanded=!0,kro13_kk_components_animation_AbstractAnimation.call(this),this.player=e,this.jumpTime=.6};$hxClasses["kro13.kk.gameObjects.player.anim.PlayerJump"]=kro13_kk_gameObjects_player_anim_PlayerJump,kro13_kk_gameObjects_player_anim_PlayerJump.__name__="kro13.kk.gameObjects.player.anim.PlayerJump",kro13_kk_gameObjects_player_anim_PlayerJump.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_gameObjects_player_anim_PlayerJump.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{setTime:function(e){this.jumpTime=e},stop:function(){kro13_kk_components_animation_AbstractAnimation.prototype.stop.call(this),this.isLanded=!0},update:function(e){this.isLanded?0==this.timer?this.jump():this.timer>=this.jumpTime+.2&&(this.stop(),this.player.guy.stand()):this.timer>=this.jumpTime?this.land():this.timer<.5*this.jumpTime?this.player.transform.set_scale(1+.5*Math.pow(this.timer/(.5*this.jumpTime),.5)*this.jumpTime/.6):this.player.transform.set_scale(1+.5*Math.pow((this.jumpTime-this.timer)/(.5*this.jumpTime),.5)*this.jumpTime/.6),kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e)},jump:function(){this.player.guy.stand(),this.isLanded=!1},land:function(){this.player.transform.set_scale(1),this.player.guy.sit(),this.isLanded=!0},__class__:kro13_kk_gameObjects_player_anim_PlayerJump});var kro13_kk_gameObjects_player_anim_PlayerPrepareJump=function(e){kro13_kk_components_animation_AbstractAnimation.call(this),this.player=e};$hxClasses["kro13.kk.gameObjects.player.anim.PlayerPrepareJump"]=kro13_kk_gameObjects_player_anim_PlayerPrepareJump,kro13_kk_gameObjects_player_anim_PlayerPrepareJump.__name__="kro13.kk.gameObjects.player.anim.PlayerPrepareJump",kro13_kk_gameObjects_player_anim_PlayerPrepareJump.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_gameObjects_player_anim_PlayerPrepareJump.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{update:function(e){kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e),this.player.guy.sit(),this.stop()},__class__:kro13_kk_gameObjects_player_anim_PlayerPrepareJump});var kro13_kk_gameObjects_tricks_Trick=function(e){this.isStarted=!1,kro13_kk_gameObjects_Renderable.call(this),this.name="abstract trick",this.type=8;var t=this.renderer;t.isLayerValid=!1,t._layer=-1,this.imgSource=e.source,this.originY=e.originY;var a=new kro13_kk_components_TransformBinder(this);this.addComponent(a),a.bindFunction=$bind(this,this.bindFn)};$hxClasses["kro13.kk.gameObjects.tricks.Trick"]=kro13_kk_gameObjects_tricks_Trick,kro13_kk_gameObjects_tricks_Trick.__name__="kro13.kk.gameObjects.tricks.Trick",kro13_kk_gameObjects_tricks_Trick.__interfaces__=[kro13_kk_ISwitchable],kro13_kk_gameObjects_tricks_Trick.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_gameObjects_tricks_Trick.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){null==(t=80)&&(t=0),null==(a=80)&&(a=0);var e={x:a,y:t};this.set_size(e);var t,a=.5*this.get_size().x;null==(t=this.get_size().y*this.originY)&&(t=0),null==a&&(a=0);e={x:a,y:t};this.transform.origin=e,this.materialC={size:this.get_size(),source:this.imgSource},this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(this.materialC)},start:function(){this.isStarted=!0},stop:function(){this.isStarted=!1},bindFn:function(e){this.isStarted&&(this.transform.set_scale(e.get_scale()),this.transform.set_rotation(e.get_rotation()-90),haxepunk_math_Vector2.setTo(this.transform.get_position(),e.get_position().x,e.get_position().y))},__class__:kro13_kk_gameObjects_tricks_Trick});var kro13_kk_guiObjects_Layable=function(){var e;(kro13_kk_gameObjects_Renderable.call(this),this.addComponent(new kro13_kk_components_Layout),null==this.componentsMap)?e=null:e=this.componentsMap.h[5];this.layout=e};$hxClasses["kro13.kk.guiObjects.Layable"]=kro13_kk_guiObjects_Layable,kro13_kk_guiObjects_Layable.__name__="kro13.kk.guiObjects.Layable",kro13_kk_guiObjects_Layable.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_guiObjects_Layable.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{__class__:kro13_kk_guiObjects_Layable});var kro13_kk_guiObjects_Button=function(e,t,a){null==a&&(a=76),this.isToggle=!1,kro13_kk_guiObjects_Layable.call(this);var n=this.renderer;n.isLayerValid=!1,n._layer=1,this.color=e,this.borderColor=t,this.animPlayer=new kro13_kk_components_AnimPlayer,this.addComponent(this.animPlayer),this.btnBlink=new kro13_kk_guiObjects_anims_ButtonBlink(this),this.labelSize=a};$hxClasses["kro13.kk.guiObjects.Button"]=kro13_kk_guiObjects_Button,kro13_kk_guiObjects_Button.__name__="kro13.kk.guiObjects.Button",kro13_kk_guiObjects_Button.__super__=kro13_kk_guiObjects_Layable,kro13_kk_guiObjects_Button.prototype=$extend(kro13_kk_guiObjects_Layable.prototype,{setIcon:function(e){if(""!=e){null==this.icon&&(this.icon=new kro13_kk_gameObjects_Renderable,this.transform.addChild(this.icon.transform));var t=this.getIconSize();null==(n=this.getIconSize())&&(n=0),null==t&&(t=0);var a={x:t,y:n};this.iconMaterialConfig={size:a,source:e,color:this.borderColor};var n,i=this.icon;t=this.getIconSize();null==(n=this.getIconSize())&&(n=0),null==t&&(t=0);a={x:t,y:n};i.set_size(a),this.icon.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(this.iconMaterialConfig),this.validateLayout(),this.icon.renderer.isValid=!1}},setLabel:function(e){null==this.label&&(this.label=new kro13_kk_guiObjects_TextField(this.borderColor,this.labelSize,!1,!0,null,this.color),this.label.build(),this.transform.addChild(this.label.transform));var t=this.label;t.materialConfig.text=e,t.renderer.isValid=!1,this.validateLayout(),this.label.renderer.isValid=!1},build:function(){var e=this.get_size().x,t=this.get_size().y;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.materialConfig={size:a,color:this.color,borderColor:this.borderColor,borderWidth:4,outBorderWidth:2,outBorderColor:this.color},this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI_BUTTON(this.materialConfig),this.validateLayout()},altColor:function(){this.materialConfig.color=this.borderColor,this.materialConfig.borderColor=this.color,this.materialConfig.outBorderColor=this.borderColor,this.renderer.isValid=!1,null!=this.label&&this.label.altColor(),null!=this.icon&&(this.iconMaterialConfig.color=this.color,this.icon.renderer.isValid=!1)},normColor:function(){this.materialConfig.color=this.color,this.materialConfig.borderColor=this.borderColor,this.materialConfig.outBorderColor=this.color,this.renderer.isValid=!1,null!=this.label&&this.label.normColor(),null!=this.icon&&(this.iconMaterialConfig.color=this.borderColor,this.icon.renderer.isValid=!1)},startBlink:function(){this.animPlayer.play(this.btnBlink)},stopBlink:function(){this.animPlayer.stop()},enlarge:function(){var e=this.btnBlink,t=e.button.get_size().x;e.button.materialConfig.size.x=t*(1+e.scaleSize);t=e.button.get_size().y;e.button.materialConfig.size.y=t*(1+e.scaleSize),e.button.validateLayout(),e.button.renderer.isValid=!1,e.button.transform.set_position(e.scaledPos)},shrnk:function(){var e=this.btnBlink;e.button.materialConfig.size.x=e.button.get_size().x,e.button.materialConfig.size.y=e.button.get_size().y,e.button.validateLayout(),e.button.renderer.isValid=!1,e.button.transform.set_position(e.normalPos)},validateLayout:function(){var e=this.get_size();if(null!=this.materialConfig&&(e=this.materialConfig.size),null!=this.icon)if("horizontal"==this.layout.direction){var t=.5*(e.y-this.icon.get_size().x);this.icon.get_position().x=Math.floor(t);t=.5*(e.y-this.icon.get_size().y);this.icon.get_position().y=Math.floor(t)}else{t=.5*(e.x-this.icon.get_size().x);this.icon.get_position().x=Math.floor(t);t=.5*(e.x-this.icon.get_size().y);this.icon.get_position().y=Math.floor(t)}if(null!=this.label){t=.5*e.x;this.label.get_position().x=Math.floor(t);var a=.5*e.y+6;null!=this.icon&&"vertical"==this.layout.direction&&(a=this.icon.get_size().y+.5*(e.y-this.icon.get_size().y)-20),this.label.get_position().y=a}},getIconSize:function(){return"horizontal"==this.layout.direction?this.transform.get_size().y:this.transform.get_size().x},getLabelY:function(){return null!=this.icon&&"vertical"==this.layout.direction?this.icon.get_size().y+.5*(this.get_size().y-this.icon.get_size().y)-20:.5*this.get_size().y},__class__:kro13_kk_guiObjects_Button});var kro13_kk_guiObjects_GUIObjectsFactory=function(){this.popupX=0,this.mainMenuY=.5*(haxepunk_HXP.height-1e3)};$hxClasses["kro13.kk.guiObjects.GUIObjectsFactory"]=kro13_kk_guiObjects_GUIObjectsFactory,kro13_kk_guiObjects_GUIObjectsFactory.__name__="kro13.kk.guiObjects.GUIObjectsFactory",kro13_kk_guiObjects_GUIObjectsFactory.__properties__={get_instance:"get_instance"},kro13_kk_guiObjects_GUIObjectsFactory.get_instance=function(){return null==kro13_kk_guiObjects_GUIObjectsFactory.instance&&(kro13_kk_guiObjects_GUIObjectsFactory.instance=new kro13_kk_guiObjects_GUIObjectsFactory),kro13_kk_guiObjects_GUIObjectsFactory.instance},kro13_kk_guiObjects_GUIObjectsFactory.prototype={buildFlexPopup:function(e,t,a){var n=new kro13_kk_guiObjects_popups_FlexPopup(e,16777215,10066380);return n.set_size(a),n.set_position(t),n.build(),n.name="Pop Flex",n},buildStatsDialog:function(){var e=this.buildSquareButton(null,"images/btn_ok.png");null==(r=120)&&(r=0),null==(_=500)&&(_=0);var t={x:_,y:r},a=this.buildBlankButton(t),n=kro13_kk_utils_L.get_instance().BTN_GLOBAL_FRIENDS;null==a.label&&(a.label=new kro13_kk_guiObjects_TextField(a.borderColor,a.labelSize,!1,!0,null,a.color),a.label.build(),a.transform.addChild(a.label.transform));var i=a.label;i.materialConfig.text=n,i.renderer.isValid=!1,a.validateLayout(),a.label.renderer.isValid=!1;var s=new kro13_kk_guiObjects_popups_StatsPopup(a,e,16777215,10066380);null==(_=900)&&(_=0);var _,r;t={x:_,y:0};s.set_size(t),null==(r=0)&&(r=0),null==(_=this.popupX)&&(_=0);t={x:_,y:r};return s.set_position(t),s.build(),s},buildTutorDialog:function(){var e=this.buildSquareButton(null,"images/btn_ok.png"),t=new kro13_kk_guiObjects_popups_TutorPopup([e],16777215,10066380);null==(n=900)&&(n=0);var a={x:n,y:0};t.set_size(a);var n,i=0;null==i&&(i=0),null==(n=this.popupX)&&(n=0);a={x:n,y:i};t.set_position(a),t.build();var s=new kro13_kk_gameObjects_Renderable;s.build(),haxepunk_math_Vector2.setTo(s.transform.get_size(),240,212),s.setEvenPosition(0,-s.transform.get_size().y);var _=s.get_size();return s.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/shaman.png",size:_}),t.transform.addChild(s.transform),t.name="pp tutor",t},buildErrorDialog:function(){var e=this.buildSquareButton(null,"images/btn_ok.png"),t=new kro13_kk_guiObjects_popups_DialogPopup([e],16777215,10066380);null==(n=900)&&(n=0);var a={x:n,y:0};t.set_size(a);var n,i=0;null==i&&(i=0),null==(n=this.popupX)&&(n=0);a={x:n,y:i};return t.set_position(a),t.build(),t.setMessage("Error"),t},buildSimpleDialog:function(e){var t=this.buildSquareButton(null,"images/btn_ok.png"),a=new kro13_kk_guiObjects_popups_DialogPopup([t],16777215,10066380);null==(i=900)&&(i=0);var n={x:i,y:0};a.set_size(n);var i,s=0;null==s&&(s=0),null==(i=this.popupX)&&(i=0);n={x:i,y:s};return a.set_position(n),a.setTextPropsBeforeBuild(46,"center"),a.build(),a.setMessage(e),a},buildPrivacyPolicyDialog:function(){var e=this.buildSquareButton(null,"images/btn_ok.png");null==(r=120)&&(r=0),null==(_=400)&&(_=0);var t={x:_,y:r},a=this.buildBlankButton(t),n=kro13_kk_utils_L.get_instance().PRIVACY_BTN;null==a.label&&(a.label=new kro13_kk_guiObjects_TextField(a.borderColor,a.labelSize,!1,!0,null,a.color),a.label.build(),a.transform.addChild(a.label.transform));var i=a.label;i.materialConfig.text=n,i.renderer.isValid=!1,a.validateLayout(),a.label.renderer.isValid=!1,a.action=function(){openfl_Lib.getURL(new openfl_net_URLRequest("https://kro13.github.io/"))};var s=new kro13_kk_guiObjects_popups_DialogPopup([a,e],16777215,10066380);null==(_=900)&&(_=0);var _,r;t={x:_,y:0};s.set_size(t),null==(r=0)&&(r=0),null==(_=this.popupX)&&(_=0);t={x:_,y:r};return s.set_position(t),s.build(),s.setMessage(kro13_kk_utils_L.get_instance().PRIVACY_MESSAGE),s.name="pp dialog",s},buildHelpDilaog:function(e){var t=new kro13_kk_guiObjects_popups_HelpPopup(e),a=50,n=50;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};return t.set_position(i),t.build(),t},buildSettingsDilaog:function(e,t){var a=new kro13_kk_guiObjects_popups_SettingsPopup(e,t,16777215,10066380);null==(i=900)&&(i=0);var n={x:i,y:0};a.set_size(n);var i,s=0;null==s&&(s=0),null==(i=this.popupX)&&(i=0);n={x:i,y:s};return a.set_position(n),a.build(),a},buildFinishDialog:function(){var e=this.buildSquareButton(null,"images/btn_forth.png"),t=this.buildSquareButton(null,"images/btn_back.png"),a=new kro13_kk_guiObjects_popups_DialogPopup([t,e],16777215,10066380);null==(i=900)&&(i=0);var n={x:i,y:0};a.set_size(n);var i,s=0;null==s&&(s=0),null==(i=this.popupX)&&(i=0);n={x:i,y:s};return a.set_position(n),a.build(),a},buildConfirmDialog:function(){var e=this.buildSquareButton(null,"images/btn_ok.png"),t=this.buildSquareButton(null,"images/btn_cancel.png"),a=new kro13_kk_guiObjects_popups_DialogPopup([t,e],16777215,10066380);null==(i=900)&&(i=0);var n={x:i,y:0};a.set_size(n);var i,s=0;null==s&&(s=0),null==(i=this.popupX)&&(i=0);n={x:i,y:s};return a.set_position(n),a.build(),a},buildBlankButton:function(e){var t=new kro13_kk_guiObjects_Button(16777215,10066380);return t.set_size(e),t.build(),t},buildPlayerHUD:function(e){var t=new kro13_kk_guiObjects_PlayerHUD(e);return t.name="Player HUD",t.build(),t.setEvenScale(1.8),t},buildTopHUD:function(e){var t=new kro13_kk_guiObjects_HUD(e,16777215,10066380);t.name="HUD";var a=haxepunk_HXP.width,n=120;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};return t.set_size(i),t.build(),t},buildQuickMenu:function(e,t){var a=new kro13_kk_guiObjects_QuickMenu(e,t);return a.build(),a},buildMainMenu:function(e,t){var a=new kro13_kk_guiObjects_MainMenu(e,t);return a.build(),a},buildMainMenuButton:function(e,t,a,n){null==n&&(n="Btn");var i=new kro13_kk_guiObjects_Button(16777215,10066380);i.name=n;var s=900,_=120;null==_&&(_=0),null==s&&(s=0);var r={x:s,y:_};i.set_size(r),i.action=e,null==i.label&&(i.label=new kro13_kk_guiObjects_TextField(i.borderColor,i.labelSize,!1,!0,null,i.color),i.label.build(),i.transform.addChild(i.label.transform));var o=i.label;return o.materialConfig.text=a,o.renderer.isValid=!1,i.validateLayout(),i.label.renderer.isValid=!1,i.setIcon(t),i.build(),i},buildSquareButton:function(e,t,a){null==a&&(a="Btn");var n=new kro13_kk_guiObjects_Button(16777215,10066380);n.name=a;var i=120,s=120;null==s&&(s=0),null==i&&(i=0);var _={x:i,y:s};return n.set_size(_),n.action=e,n.setIcon(t),n.build(),n},buildRestartsButton:function(e,t,a){null==a&&(a="Btn");var n=new kro13_kk_guiObjects_RestartsButton(16777215,10066380,60,t);n.name=a;var i=120,s=180;null==s&&(s=0),null==i&&(i=0);var _={x:i,y:s};return n.set_size(_),n.action=e,n.build(),n},buildConsole:function(){var e=new kro13_kk_guiObjects_popups_ConsolePopup,t=50,a=0;null==a&&(a=0),null==t&&(t=0);var n={x:t,y:a};return e.set_position(n),e.build(),e},__class__:kro13_kk_guiObjects_GUIObjectsFactory};var kro13_kk_guiObjects_popups_Popup=function(e,t){kro13_kk_guiObjects_Layable.call(this);var a=this.renderer;a.isLayerValid=!1,a._layer=12,this.color=e,this.borderColor=t};$hxClasses["kro13.kk.guiObjects.popups.Popup"]=kro13_kk_guiObjects_popups_Popup,kro13_kk_guiObjects_popups_Popup.__name__="kro13.kk.guiObjects.popups.Popup",kro13_kk_guiObjects_popups_Popup.__super__=kro13_kk_guiObjects_Layable,kro13_kk_guiObjects_popups_Popup.prototype=$extend(kro13_kk_guiObjects_Layable.prototype,{build:function(){var e={size:this.get_size(),color:this.color,borderColor:this.borderColor,borderWidth:2};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI(e)},__class__:kro13_kk_guiObjects_popups_Popup});var kro13_kk_guiObjects_HUD=function(e,t,a){var n;(this.displayedDiff=0,this.hPadding=50,this.displayedScore=0,kro13_kk_guiObjects_popups_Popup.call(this,t,a),this.addComponent(new kro13_kk_components_Updater(this)),this.dataProvider=e,this.addComponent(new kro13_kk_components_GameEventHandler),null==this.componentsMap)?n=null:n=this.componentsMap.h[6];n.addHandler($bind(this,this.onEvent))};$hxClasses["kro13.kk.guiObjects.HUD"]=kro13_kk_guiObjects_HUD,kro13_kk_guiObjects_HUD.__name__="kro13.kk.guiObjects.HUD",kro13_kk_guiObjects_HUD.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_HUD.__super__=kro13_kk_guiObjects_popups_Popup,kro13_kk_guiObjects_HUD.prototype=$extend(kro13_kk_guiObjects_popups_Popup.prototype,{build:function(){kro13_kk_guiObjects_popups_Popup.prototype.build.call(this),this.totalScoreText=new kro13_kk_guiObjects_TextField(11250647,76),this.transform.addChild(this.totalScoreText.transform),this.totalScoreText.build(),this.setTotalScore(),this.addEvacIcon=new kro13_kk_gameObjects_Renderable;var e=120,t=120;null==t&&(t=0),null==e&&(e=0);var a={size:{x:e,y:t},source:"images/btn_add_eagle.png",color:11250647};this.addEvacIcon.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(a),this.transform.addChild(this.addEvacIcon.transform),this.scoreText=new kro13_kk_guiObjects_TextField(11250647,76),this.transform.addChild(this.scoreText.transform),this.scoreText.build();var n=this.scoreText;n.materialConfig.text="",n.renderer.isValid=!1,this.setTextPosition()},update:function(e){},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.setTotalScore(),this.setTextPosition();break;case 2:this.setTotalScore(),this.setTextPosition();break;case 24:var t=e.score;this.emitScore(t);break;case 29:this.resetScore()}},emitScore:function(e){if(this.displayedScore+=e,Math.abs(this.displayedScore)>0){this.scoreText.options.size=56+Math.round(20*Math.min(200,Math.abs(this.displayedScore))/200);var t=this.scoreText,a=kro13_kk_utils_TextUtils.getColoredString(this.displayedScore,!0);t.materialConfig.text=a,t.renderer.isValid=!1,this.scoreText.renderer.isValid=!1,this.setTextPosition()}},resetScore:function(){this.displayedScore=0;var e=this.scoreText;e.materialConfig.text="",e.renderer.isValid=!1,this.setTotalScore(),this.setTextPosition()},setTextPosition:function(){var e=kro13_kk_utils_TextUtils.getTextRect(this.totalScoreText),t=kro13_kk_utils_TextUtils.getTextRect(this.scoreText),a=120+e.x+t.x+10;this.addEvacIcon.setEvenPosition(.5*(this.get_size().x-a),4),this.totalScoreText.setEvenPosition(this.addEvacIcon.get_position().x+120,.5*(this.get_size().y-e.y)+10),this.scoreText.setEvenPosition(this.totalScoreText.get_position().x+e.x+10,.5*(this.get_size().y-t.y)+10)},setTotalScore:function(){var e=this.totalScoreText,t=this.dataProvider.getLocal().getNextRestartScore()+"/"+kro13_kk_utils_TextUtils.getColoredString(this.dataProvider.getLocal().scoreData.currentScore);e.materialConfig.text=t,e.renderer.isValid=!1},__class__:kro13_kk_guiObjects_HUD});var kro13_kk_guiObjects_KKPreloader=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="KKPreloader",this.animPlayer=new kro13_kk_components_AnimPlayer,this.addComponent(this.animPlayer)};$hxClasses["kro13.kk.guiObjects.KKPreloader"]=kro13_kk_guiObjects_KKPreloader,kro13_kk_guiObjects_KKPreloader.__name__="kro13.kk.guiObjects.KKPreloader",kro13_kk_guiObjects_KKPreloader.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_KKPreloader.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.icon=new kro13_kk_gameObjects_Renderable,this.icon.name="KKPreloader Icon",null==(i=2)&&(i=0),null==(a=1)&&(a=0),null==(i=i)&&(i=0),null==(a=a)&&(a=0),(s=n={x:a,y:i}).x*=40,s.y*=40;var e=s,t={size:e,source:"images/board.png"};this.icon.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(t);var a=.5*e.x;null==(i=.5*e.y)&&(i=0),null==a&&(a=0);var n={x:a,y:i};this.icon.transform.origin=n;var i,s,_=this.icon;a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0),null==(i=i)&&(i=0),null==(a=a)&&(a=0),(s=n={x:a,y:i}).x*=.5,s.y*=.5,_.set_position(s),this.animPlayer.play(new kro13_kk_guiObjects_preloader_PreloaderRotate(this)),this.transform.addChild(this.icon.transform)},__class__:kro13_kk_guiObjects_KKPreloader});var kro13_kk_guiObjects_MainMenu=function(e,t){this.doShowIap=!1,this.isFirstStart=!1,kro13_kk_gameObjects_Transformable.call(this),this.name="main menu",this.eventDispatcher=t,this.dataProvider=e,this.restartController=new kro13_kk_RestartController(e,t),this.isNextAdBlocked=!1};$hxClasses["kro13.kk.guiObjects.MainMenu"]=kro13_kk_guiObjects_MainMenu,kro13_kk_guiObjects_MainMenu.__name__="kro13.kk.guiObjects.MainMenu",kro13_kk_guiObjects_MainMenu.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_MainMenu.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{showIap:function(e){this.doShowIap=e,e?this.showButtonIfPossible(this.btnIap):this.btnIap.transform.set_visible(!1),this.alignButtons(),haxe_Log.trace(null==e?"null":""+e,{fileName:"src/kro13/kk/guiObjects/MainMenu.hx",lineNumber:68,className:"kro13.kk.guiObjects.MainMenu",methodName:"showIap"})},build:function(){kro13_kk_gameObjects_Transformable.prototype.build.call(this);var e=kro13_kk_guiObjects_GUIObjectsFactory.get_instance();this.buttons=[],this.tutorButtons=[];this.btnPlay=e.buildMainMenuButton($bind(this,this.onPlay),"",kro13_kk_utils_L.get_instance().BTN_PLAY,"Btn Play"),this.buttons.push(this.btnPlay),this.tutorButtons.push(this.btnPlay),this.btnIap=e.buildMainMenuButton($bind(this,this.onIap),"",kro13_kk_utils_L.get_instance().BTN_PREMIUM,"Btn Iap"),this.buttons.push(this.btnIap),this.btnStats=e.buildMainMenuButton($bind(this,this.onStats),"",kro13_kk_utils_L.get_instance().BTN_STATS,"Btn Stats"),this.buttons.push(this.btnStats),this.btnSocial=e.buildMainMenuButton($bind(this,this.onSocial),"",kro13_kk_utils_L.get_instance().BTN_SOCIAL,"Btn Social"),this.buttons.push(this.btnSocial),this.btnSettings=e.buildMainMenuButton($bind(this,this.onSettings),"",kro13_kk_utils_L.get_instance().BTN_SETTINGS,"Btn Settings"),this.buttons.push(this.btnSettings),this.tutorButtons.push(this.btnSettings),this.btnHelp=e.buildMainMenuButton($bind(this,this.onHelp),"",kro13_kk_utils_L.get_instance().BTN_HELP,"Btn Help"),this.buttons.push(this.btnHelp),this.tutorButtons.push(this.btnHelp),this.btnTutor=e.buildMainMenuButton($bind(this,this.onTutor),"",kro13_kk_utils_L.get_instance().BTN_TUTOR,"Btn Tutor"),this.buttons.push(this.btnTutor),this.btnCredits=e.buildMainMenuButton($bind(this,this.onCredits),"",kro13_kk_utils_L.get_instance().BTN_CREDITS,"Btn Credits");for(var t=0,a=this.buttons.length;t<a;){var n=t++;this.transform.addChild(this.buttons[n].transform)}this.logo=new kro13_kk_gameObjects_Renderable,haxepunk_math_Vector2.setTo(this.logo.get_size(),900,150);var i,s={size:this.logo.get_size(),source:"images/logo2.png"};this.logo.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(s),this.transform.addChild(this.logo.transform),this.signature=new kro13_kk_guiObjects_TextField(11250647,46,!1,!1),this.signature.build(),(i=this.signature).materialConfig.text="Game by Kro13",i.renderer.isValid=!1,this.transform.addChild(this.signature.transform),this.version=new kro13_kk_guiObjects_TextField(11250647,46,!1,!1),this.version.build(),(i=this.version).materialConfig.text=kro13_kk_KKGame.version,i.renderer.isValid=!1,this.transform.addChild(this.version.transform),this.alignLogo(),this.alignButtons(),this.transform.onPositionChanged.callbacks.push($bind(this,this.alignLogo))},expand:function(){for(var e=0,t=this.buttons;e<t.length;){var a=t[e];++e,this.showButtonIfPossible(a)}this.alignButtons()},collapse:function(){for(var e=0,t=this.buttons;e<t.length;){var a=t[e];++e,a.transform.set_visible(!1)}},showButtonIfPossible:function(e){var t=kro13_kk_data_EProfileTag.isTagged(5,this.dataProvider.getProfile())||this.tutorButtons.indexOf(e)>=0;e!=this.btnIap?e.transform.set_visible(t):e.transform.set_visible(t&&this.doShowIap)},alignLogo:function(e){this.logo.setEvenPosition(.5*(this.btnPlay.get_size().x-this.logo.get_size().x),.5*-Math.floor(this.get_position().y+this.logo.get_size().y)),this.signature.setEvenPosition(this.btnPlay.get_position().x,this.logo.get_position().y+this.logo.get_size().y+10),this.version.setEvenPosition(this.btnPlay.get_position().x+this.btnPlay.get_size().x-kro13_kk_utils_TextUtils.getTextRect(this.version).x,this.logo.get_position().y+this.logo.get_size().y+10)},alignButtons:function(){for(var e=0,t=0,a=this.buttons.length;t<a;){var n=t++;this.buttons[n].transform.get_visible()&&(this.buttons[n].setEvenPosition(0,50*e+120*e),++e)}},onSettings:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.SETTINGS)},onTutor:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.START_TUTOR)},onPlay:function(){haxe_Log.trace("on play",{fileName:"src/kro13/kk/guiObjects/MainMenu.hx",lineNumber:215,className:"kro13.kk.guiObjects.MainMenu",methodName:"onPlay"}),this.dataProvider.getProfile().restarts>0?this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.SHOW_ADS($bind(this,this.onAdsSuccess),$bind(this,this.onAdsError))):this.restartController.tryRestart()},onAdsSuccess:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onAdsError:function(e){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ERROR(1,e,!0))},onAdsSkip:function(){},onIap:function(){var e=this;kro13_iap_IAPManager.get_instance().purchasePremium((function(){e.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU)}),(function(t){e.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ERROR(2,t,!0))}))},onQuit:function(){lime_system_System.exit(0)},onRestart:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.RESTART),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onStats:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.STATS)},onCredits:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CREDITS)},onSocial:function(){var e="https://vk.com/kanyonkarvergroup";kro13_kk_BonusManager.bonusCondition(this.dataProvider)||(e+=kro13_kk_BonusManager.bonusPostUrl());var t=new openfl_net_URLRequest(e);openfl_Lib.getURL(t,"_blank")},onInvite:function(){kro13_vk_VK.get_instance().showInviteBox()},onResetConfirm:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.RESET_PROFILE)},onHelp:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.HELP)},__class__:kro13_kk_guiObjects_MainMenu});var kro13_kk_guiObjects_PlayerHUDBase=function(e){this.ticksVisible=!1,this.displayedScore=0,kro13_kk_gameObjects_Transformable.call(this),this.name="hud base",this.dataProvider=e,this.addComponent(new kro13_kk_components_Updater(this))};$hxClasses["kro13.kk.guiObjects.PlayerHUDBase"]=kro13_kk_guiObjects_PlayerHUDBase,kro13_kk_guiObjects_PlayerHUDBase.__name__="kro13.kk.guiObjects.PlayerHUDBase",kro13_kk_guiObjects_PlayerHUDBase.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_PlayerHUDBase.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_PlayerHUDBase.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.mandala1=new kro13_kk_gameObjects_Renderable,null==(p=9)&&(p=0),null==(e=9)&&(e=0),null==(p=p)&&(p=0),null==(e=e)&&(e=0),(d=_={x:e,y:p}).x*=40,d.y*=40,this.mandala1.transform.set_size(d);var e=(_=this.mandala1.transform.get_size()).x;null==(p=_.y)&&(p=0),null==e&&(e=0),(d=_={x:e,y:p}).x*=.5,d.y*=.5,this.mandala1.transform.origin=d;var t=this.mandala1.get_size();this.mandala1.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/mandala1.png",size:t,color:16777215}),this.transform.addChild(this.mandala1.transform),this.mandala2=new kro13_kk_gameObjects_Renderable,null==(p=9)&&(p=0),null==(e=9)&&(e=0),null==(p=p)&&(p=0),null==(e=e)&&(e=0),(d=_={x:e,y:p}).x*=40,d.y*=40,this.mandala2.transform.set_size(d);e=(_=this.mandala1.transform.get_size()).x;null==(p=_.y)&&(p=0),null==e&&(e=0),(d=_={x:e,y:p}).x*=.5,d.y*=.5,this.mandala2.transform.origin=d;t=this.mandala2.get_size();this.mandala2.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/mandala2.png",size:t}),this.transform.addChild(this.mandala2.transform),this.mandala3=new kro13_kk_gameObjects_Renderable,null==(p=9)&&(p=0),null==(e=9)&&(e=0),null==(p=p)&&(p=0),null==(e=e)&&(e=0),(d=_={x:e,y:p}).x*=40,d.y*=40,this.mandala3.transform.set_size(d);e=(_=this.mandala1.transform.get_size()).x;null==(p=_.y)&&(p=0),null==e&&(e=0),(d=_={x:e,y:p}).x*=.5,d.y*=.5,this.mandala3.transform.origin=d;t=this.mandala1.get_size();this.mandala3.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/mandala3.png",size:t}),this.transform.addChild(this.mandala3.transform);var a=2*Math.PI/4;this.smallTicks=[];for(var n=0;n<4;){var i=n++,s=new kro13_kk_gameObjects_Renderable;null==(p=34)&&(p=0),null==(e=34)&&(e=0);var _={x:e,y:p};s.set_size(_);var r=(d=s.get_size()).x;null==(f=d.y)&&(f=0),null==r&&(r=0),(m={x:r,y:f}).x*=.5,m.y*=.5,s.transform.origin=m;t=s.get_size();s.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({size:t,source:"images/small_fill.png"});var o=148,l=a*(i+1),h=Math.round(o*Math.sin(l)),u=Math.round(o*Math.cos(l));haxepunk_math_Vector2.setTo(s.get_position(),h,u),this.transform.addChild(s.transform),this.smallTicks.push(s)}this.bigTicks=[];for(n=0;n<4;){i=n++;var p,c=new kro13_kk_gameObjects_Renderable;null==(p=34)&&(p=0),null==(e=34)&&(e=0);_={x:e,y:p};c.set_size(_);var d,f,m;r=(d=c.get_size()).x;null==(f=d.y)&&(f=0),null==r&&(r=0),(m={x:r,y:f}).x*=.5,m.y*=.5,c.transform.origin=m;t=c.get_size();c.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({size:t,source:"images/big_fill.png"});o=175,l=a*(i+.5),h=Math.round(o*Math.sin(l)),u=Math.round(o*Math.cos(l));haxepunk_math_Vector2.setTo(c.get_position(),h,u),this.transform.addChild(c.transform),this.bigTicks.push(c)}},update:function(e){var t=this.dataProvider.getLocal().scoreData.bonusCounter;this.mandala1.transform.set_alpha(0),this.mandala2.transform.set_alpha(0),this.mandala3.transform.set_alpha(0),t>=1&&this.mandala1.transform.set_alpha(.4),t>=2&&this.mandala1.transform.set_alpha(1),t>=3&&this.mandala2.transform.set_alpha(.4),t>=5&&this.mandala2.transform.set_alpha(1),this.dataProvider.getLocal().scoreData.avalancheBonus>0&&this.mandala3.transform.set_alpha(1);var a=this.dataProvider.getLocal().scoreData.totalRotation,n=a>=0?1:-1,i=Math.max(Math.abs(this.dataProvider.getLocal().scoreData.totalRotation)-360,0);i*=n;for(var s=0|Math.min(Math.floor(Math.abs(a/90)),this.bigTicks.length),_=0|Math.min(Math.floor(Math.abs(i/90)),this.smallTicks.length),r=0,o=this.smallTicks.length;r<o;){var l=r++,h=n>0?this.smallTicks[l]:this.smallTicks[this.smallTicks.length-l-1];this.ticksVisible&&l<s?h.transform.set_alpha(1):h.transform.set_alpha(0)}for(r=0,o=this.bigTicks.length;r<o;){var u=r++,p=n>0?this.bigTicks[u]:this.bigTicks[this.bigTicks.length-u-1];this.ticksVisible&&u<_?p.transform.set_alpha(1):p.transform.set_alpha(0)}},emitScore:function(e){},resetScore:function(){},showRotation:function(){this.ticksVisible=!0},hideRotation:function(){this.ticksVisible=!1},__class__:kro13_kk_guiObjects_PlayerHUDBase});var kro13_kk_guiObjects_PlayerHUD=function(e){var t;(this.expandScale=0,kro13_kk_guiObjects_PlayerHUDBase.call(this,e),this.name="hud",this.addComponent(new kro13_kk_components_GameEventHandler),null==this.componentsMap)?t=null:t=this.componentsMap.h[6];this.gameEvent=t,this.gameEvent.addHandler($bind(this,this.onEvent))};$hxClasses["kro13.kk.guiObjects.PlayerHUD"]=kro13_kk_guiObjects_PlayerHUD,kro13_kk_guiObjects_PlayerHUD.__name__="kro13.kk.guiObjects.PlayerHUD",kro13_kk_guiObjects_PlayerHUD.__super__=kro13_kk_guiObjects_PlayerHUDBase,kro13_kk_guiObjects_PlayerHUD.prototype=$extend(kro13_kk_guiObjects_PlayerHUDBase.prototype,{update:function(e){kro13_kk_guiObjects_PlayerHUDBase.prototype.update.call(this,e),this.expandScale>0&&(this.expand.update(e),this.transform.set_scale(this.expand.getValue()))},onEvent:function(e){var t=this;switch(e._hx_index){case 0:e.firstStart;this.hideRotation();break;case 20:e.jumpTime;this.showRotation();break;case 21:this.hideRotation();break;case 29:this.resetScore();break;case 40:var a=e.reducer;a>this.expandScale&&(this.expandScale=a,this.expand=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(1.8,1.8+.6*this.expandScale*this.expandScale,.1*this.expandScale),new kro13_kk_tween_FloatTween(1.8+.6*this.expandScale*this.expandScale,1.8,.1*this.expandScale,null,(function(){t.expandScale=0}))]))}},__class__:kro13_kk_guiObjects_PlayerHUD});var kro13_kk_guiObjects_QuickMenu=function(e,t){this.isStuck=!1,this.isPlaying=!1,kro13_kk_gameObjects_Transformable.call(this),this.name="Quick Menu",this.eventDispatcher=t,this.dataProvider=e,this.factory=kro13_kk_guiObjects_GUIObjectsFactory.get_instance(),this.eventHandler=new kro13_kk_components_GameEventHandler,this.addComponent(this.eventHandler),this.eventHandler.addHandler($bind(this,this.onEvent));var a=104,n=104;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};this.borderMaterialConf={size:i,color:16777215},this.animPlayer=new kro13_kk_components_AnimPlayer,this.quickMenuHelp=new kro13_kk_guiObjects_anims_QuickMenuHelp(this),this.addComponent(this.animPlayer),this.restartController=new kro13_kk_RestartController(e,t)};$hxClasses["kro13.kk.guiObjects.QuickMenu"]=kro13_kk_guiObjects_QuickMenu,kro13_kk_guiObjects_QuickMenu.__name__="kro13.kk.guiObjects.QuickMenu",kro13_kk_guiObjects_QuickMenu.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_QuickMenu.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){var e=[];this.btnMenu=this.factory.buildSquareButton($bind(this,this.onMenu),"images/btn_menu.png","Btn Menu"),e.push(this.btnMenu),this.btnRestart=this.factory.buildRestartsButton($bind(this,this.onRestart),this.dataProvider,"Btn Restart"),e.push(this.btnRestart);for(var t=0,a=0,n=e.length;a<n;){var i=a++,s=0,_=t+=(i>0?e[i-1].get_size().y:0)+50;null==_&&(_=0),null==s&&(s=0);var r={x:s,y:_};e[i].set_position(r),this.transform.addChild(e[i].transform)}kro13_kk_gameObjects_Transformable.prototype.build.call(this)},onSpecial:function(){this.dataProvider.getLocal().scoreData.speedBonus=3,this.dataProvider.getLocal().scoreData.bonusCounter=5},expand:function(){this.btnMenu.transform.set_visible(!0),this.btnRestart.transform.set_visible(!0)},collapse:function(){this.btnMenu.transform.set_visible(!1),this.btnRestart.transform.set_visible(!1)},startStuckHelp:function(){this.btnRestart.startBlink()},stopStuckHelp:function(){this.btnRestart.stopBlink()},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.stopStuckHelp(),this.isStuck=!1;break;case 1:this.stopStuckHelp(),this.isStuck=!1;break;case 2:this.isPlaying||(this.isPlaying=!0),this.isStuck&&this.startStuckHelp();break;case 3:this.isPlaying&&(this.isPlaying=!1),this.stopStuckHelp();break;case 22:e.avalanche;this.startStuckHelp(),this.isStuck=!0;break;case 23:this.stopStuckHelp(),this.isStuck=!1}},onMenu:function(){this.isPlaying?(this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU)):this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onPlayPause:function(){this.isPlaying?this.onPause():this.onPlay()},onPlay:function(){this.isPlaying=!0,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onPause:function(){this.isPlaying=!1,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE)},onRestart:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.dataProvider.getProfile().restarts>0?this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CONFIRM(kro13_kk_utils_L.get_instance().RESTART,$bind(this,this.onRestartConfirm),$bind(this,this.onRestartCancel))):this.restartController.tryRestart()},onStartNew:function(){this.restartController.tryStartNew()},onRestartConfirm:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ROLLBACK(!1))},onRestartCancel:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},__class__:kro13_kk_guiObjects_QuickMenu});var kro13_kk_guiObjects_RestartsButton=function(e,t,a,n){kro13_kk_guiObjects_Button.call(this,e,t,a),this.name="button",this.layout.direction="vertical",this.dataProvider=n,this.addComponent(new kro13_kk_components_Updater(this))};$hxClasses["kro13.kk.guiObjects.RestartsButton"]=kro13_kk_guiObjects_RestartsButton,kro13_kk_guiObjects_RestartsButton.__name__="kro13.kk.guiObjects.RestartsButton",kro13_kk_guiObjects_RestartsButton.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_RestartsButton.__super__=kro13_kk_guiObjects_Button,kro13_kk_guiObjects_RestartsButton.prototype=$extend(kro13_kk_guiObjects_Button.prototype,{build:function(){kro13_kk_guiObjects_Button.prototype.build.call(this),null==this.label&&(this.label=new kro13_kk_guiObjects_TextField(this.borderColor,this.labelSize,!1,!0,null,this.color),this.label.build(),this.transform.addChild(this.label.transform));var e=this.label;e.materialConfig.text="",e.renderer.isValid=!1,this.validateLayout(),this.label.renderer.isValid=!1,this.setIcon("images/btn_eagle.png"),null==(i=58)&&(i=0),null==(n=90)&&(n=0);var t={x:n,y:i};null==(i=0)&&(i=0),null==(n=1)&&(n=0);var a={x:n,y:i};this.fillMaterialConfig={size:t,color:this.color,clipSize:a},this.fill=new kro13_kk_gameObjects_Renderable,null==(i=30)&&(i=0),null==(n=15)&&(n=0);var n,i;t={x:n,y:i};this.fill.transform.set_position(t),this.fill.renderer.material=kro13_kk_components_renderer_materials_EMaterial.CLIP_RECTANGLE(this.fillMaterialConfig),this.icon.transform.addChild(this.fill.transform),this.contour=new kro13_kk_gameObjects_Renderable,null==(i=120)&&(i=0),null==(n=120)&&(n=0);t={x:n,y:i};this.contourMaterialConfig={size:t,source:"images/btn_eagle_contour.png",color:this.borderColor},this.contour.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(this.contourMaterialConfig);t={x:0,y:0};this.contour.set_position(t),this.icon.transform.addChild(this.contour.transform)},update:function(e){var t="x"+this.dataProvider.getProfile().restarts;null==this.label&&(this.label=new kro13_kk_guiObjects_TextField(this.borderColor,this.labelSize,!1,!0,null,this.color),this.label.build(),this.transform.addChild(this.label.transform));var a=this.label;a.materialConfig.text=t,a.renderer.isValid=!1,this.validateLayout(),this.label.renderer.isValid=!1;var n=this.dataProvider.getProfile().restartHP/90;this.fillMaterialConfig.clipSize.y=1-n,this.fill.renderer.isValid=!1},altColor:function(){kro13_kk_guiObjects_Button.prototype.altColor.call(this),this.fillMaterialConfig.color=this.borderColor,this.fill.renderer.isValid=!1,this.contourMaterialConfig.color=this.color,this.contour.renderer.isValid=!1},normColor:function(){kro13_kk_guiObjects_Button.prototype.normColor.call(this),this.fillMaterialConfig.color=this.color,this.fill.renderer.isValid=!1,this.contourMaterialConfig.color=this.borderColor,this.contour.renderer.isValid=!1},__class__:kro13_kk_guiObjects_RestartsButton});var kro13_kk_guiObjects_RotationDisplay=function(e){this.fullDelta=8,this.fullDeltaBig=10,this.borderWIdth=4,this.tickSize={x:16,y:16},this.bigTickSize={x:22,y:22},this.ticksCount=16,kro13_kk_gameObjects_Transformable.call(this),this.name="rotate display",this.scoreData=e};$hxClasses["kro13.kk.guiObjects.RotationDisplay"]=kro13_kk_guiObjects_RotationDisplay,kro13_kk_guiObjects_RotationDisplay.__name__="kro13.kk.guiObjects.RotationDisplay",kro13_kk_guiObjects_RotationDisplay.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_RotationDisplay.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_RotationDisplay.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.ticks=[],this.bigTickMC={size:this.bigTickSize,color:16777215,borderColor:11250647,borderWidth:this.borderWIdth};var e=this.bigTickSize,t=this.fullDeltaBig;null==(c=this.fullDeltaBig)&&(c=0),null==t&&(t=0);var a=t,n=c;t=e.x;null==(c=e.y)&&(c=0),null==t&&(t=0),(m=e={x:t,y:c}).x+=a,m.y+=n,this.bigFullTickMC={size:m,color:65280,borderColor:11250647,borderWidth:this.borderWIdth},this.tickMC={size:this.tickSize,color:16777215,borderColor:11250647,borderWidth:this.borderWIdth};e=this.tickSize,t=this.fullDelta;null==(c=this.fullDelta)&&(c=0),null==t&&(t=0);a=t,n=c,t=e.x;null==(c=e.y)&&(c=0),null==t&&(t=0),(m=e={x:t,y:c}).x+=a,m.y+=n,this.fullTickMC={size:m,color:65280,borderColor:11250647,borderWidth:this.borderWIdth},this.bigTickMaterial=kro13_kk_components_renderer_materials_EMaterial.GUI(this.bigTickMC),this.bigFullTickMaterial=kro13_kk_components_renderer_materials_EMaterial.GUI(this.bigFullTickMC),this.tickMaterial=kro13_kk_components_renderer_materials_EMaterial.GUI(this.tickMC),this.fullTickMaterial=kro13_kk_components_renderer_materials_EMaterial.GUI(this.fullTickMC);for(var i=2*Math.PI/this.ticksCount,s=0,_=this.ticksCount;s<_;){var r=s++,o=i*r,l=Math.round(152*Math.sin(o)),h=Math.round(152*Math.cos(o)),u=new kro13_kk_gameObjects_Renderable,p=u.renderer;if(p.isLayerValid=!1,p._layer=1,i*r%Math.PI==0){u.renderer.material=this.bigTickMaterial;var c;t=Math.floor(.5*this.bigTickSize.x);null==(c=Math.floor(.5*this.bigTickSize.y))&&(c=0),null==t&&(t=0);e={x:t,y:c};u.transform.origin=e}else{u.renderer.material=this.tickMaterial;var d=Math.floor(.5*this.tickSize.x),f=Math.floor(.5*this.tickSize.y);null==f&&(f=0),null==d&&(d=0);var m={x:d,y:f};u.transform.origin=m}u.setEvenPosition(l,h),this.transform.addChild(u.transform),this.ticks.push(u)}},update:function(e){var t=360/this.ticksCount,a=this.scoreData.totalRotation,n=a>=0?1:-1,i=Math.floor(Math.abs(a/t)),s=Math.floor(i%this.ticksCount);if(0==s&&i>0&&(s=this.ticksCount),s<this.ticksCount)if(this.emptyTick(0),n>0){for(var _=1,r=s+1;_<r;){var o=_++;this.fillTick(o)}for(_=s+1,r=this.ticksCount;_<r;){var l=_++;this.emptyTick(l)}}else{for(_=1,r=s+1;_<r;){o=_++;this.fillTick(this.ticksCount-o)}for(_=s+1,r=this.ticksCount;_<r;){l=_++;this.emptyTick(this.ticksCount-l)}}else for(_=0,r=this.ticksCount;_<r;){o=_++;this.fillTick(o)}},fillTick:function(e){if(e%(.5*this.ticksCount)==0){this.ticks[e].renderer.material=this.bigFullTickMaterial;var t=Math.floor(.5*this.bigTickSize.x+.5*this.fullDeltaBig);null==(n=Math.floor(.5*this.bigTickSize.y+.5*this.fullDeltaBig))&&(n=0),null==t&&(t=0);var a={x:t,y:n};this.ticks[e].transform.origin=a}else{this.ticks[e].renderer.material=this.fullTickMaterial;var n;t=Math.floor(.5*this.tickSize.x+.5*this.fullDelta);null==(n=Math.floor(.5*this.tickSize.y+.5*this.fullDelta))&&(n=0),null==t&&(t=0);a={x:t,y:n};this.ticks[e].transform.origin=a}this.ticks[e].renderer.isValid=!1},emptyTick:function(e){if(e%(.5*this.ticksCount)==0){this.ticks[e].renderer.material=this.bigTickMaterial;var t=Math.floor(.5*this.bigTickSize.x);null==(n=Math.floor(.5*this.bigTickSize.y))&&(n=0),null==t&&(t=0);var a={x:t,y:n};this.ticks[e].transform.origin=a}else{this.ticks[e].renderer.material=this.tickMaterial;var n;t=Math.floor(.5*this.tickSize.x);null==(n=Math.floor(.5*this.tickSize.y))&&(n=0),null==t&&(t=0);a={x:t,y:n};this.ticks[e].transform.origin=a}this.ticks[e].renderer.isValid=!1},__class__:kro13_kk_guiObjects_RotationDisplay});var kro13_kk_guiObjects_SpeedBar=function(e){kro13_kk_gameObjects_Transformable.call(this),this.name="speed",this.scoreData=e};$hxClasses["kro13.kk.guiObjects.SpeedBar"]=kro13_kk_guiObjects_SpeedBar,kro13_kk_guiObjects_SpeedBar.__name__="kro13.kk.guiObjects.SpeedBar",kro13_kk_guiObjects_SpeedBar.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_SpeedBar.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_SpeedBar.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){var e=0;this.tickFills=[],null==(f=40)&&(f=0),null==(d=204)&&(d=0);var t=i={x:d,y:f};e+=204;var a={size:t,color:16777215,borderColor:11250647,borderWidth:4},n=new kro13_kk_gameObjects_Renderable;n.name="border",(c=n.renderer).isLayerValid=!1,c._layer=1,n.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI(a),this.transform.addChild(n.transform),null==(f=t.y-2*a.borderWidth)&&(f=0),null==(d=t.x-2*a.borderWidth)&&(d=0);var i={x:d,y:f};null==(f=1)&&(f=0),null==(d=.5)&&(d=0);var s={x:d,y:f};this.speedFillMaterialConfig={size:i,color:65280,clipSize:s},this.speedFill=new kro13_kk_gameObjects_Renderable,this.speedFill.name="fill",(c=this.speedFill.renderer).isLayerValid=!1,c._layer=1,null==(f=a.borderWidth)&&(f=0),null==(d=a.borderWidth)&&(d=0);i={x:d,y:f};this.speedFill.transform.set_position(i),this.speedFill.renderer.material=kro13_kk_components_renderer_materials_EMaterial.CLIP_RECTANGLE(this.speedFillMaterialConfig),this.transform.addChild(this.speedFill.transform),null==(f=40)&&(f=0),null==(d=a.borderWidth)&&(d=0);var _={size:i={x:d,y:f},color:11250647},r=new kro13_kk_gameObjects_Renderable;r.name="crit tick",(c=r.renderer).isLayerValid=!1,c._layer=1,null==(f=0)&&(f=0),null==(d=.5*t.x)&&(d=0);i={x:d,y:f};r.transform.set_position(i),r.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE(_),this.transform.addChild(r.transform),null==(f=40)&&(f=0),null==(d=22)&&(d=0);var o=i={x:d,y:f},l={size:o,color:16777215,borderColor:11250647,borderWidth:a.borderWidth};null==(f=o.y-2*a.borderWidth)&&(f=0),null==(d=o.x-2*a.borderWidth)&&(d=0);for(var h={size:i={x:d,y:f},color:65280},u=0;u<5;){var p=u++;e+=o.x+-4;var c,d,f,m=new kro13_kk_gameObjects_Renderable;m.name="bonus tick "+p,(c=m.renderer).isLayerValid=!1,c._layer=1,m.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI(l),null==(f=0)&&(f=0),null==(d=t.x+-4*(p+1)+o.x*p)&&(d=0);i={x:d,y:f};m.transform.set_position(i),this.transform.addChild(m.transform);var g=new kro13_kk_gameObjects_Renderable;g.name="bonus fill "+p;var x=g.renderer;x.isLayerValid=!1,x._layer=1,g.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE(h);var k=g.transform,y=(s=m.transform.get_position(),a.borderWidth),b=a.borderWidth;null==b&&(b=0),null==y&&(y=0);var v=y,P=b,w=s.x,T=s.y;null==T&&(T=0),null==w&&(w=0);var C={x:w,y:T};C.x+=v,C.y+=P,k.set_position(C),this.transform.addChild(g.transform),this.tickFills.push(g)}null==(f=24)&&(f=0),null==(d=e)&&(d=0);i={x:d,y:f};this.set_size(i)},update:function(e){this.speedFillMaterialConfig.clipSize.x=this.scoreData.speedRatio,this.scoreData.speedRatio<.5?this.speedFillMaterialConfig.color=13421798:this.speedFillMaterialConfig.color=65280,this.speedFill.renderer.isValid=!1;for(var t=0,a=0,n=t=this.scoreData.bonusCounter<=5?this.scoreData.bonusCounter:5;a<n;){var i=a++;this.tickFills[i].transform.set_visible(!0),this.tickFills[i].renderer.isValid=!1}for(a=t,n=5;a<n;){i=a++;this.tickFills[i].transform.set_visible(!1),this.tickFills[i].renderer.isValid=!1}},__class__:kro13_kk_guiObjects_SpeedBar});var kro13_kk_guiObjects_TextField=function(e,t,a,n,i,s){null==i&&(i="left"),null==n&&(n=!1),null==a&&(a=!1),null==t&&(t=60),kro13_kk_guiObjects_Layable.call(this),this.color=e,this.aColor=null!=s?s:e,this.name="text";var _=this.renderer;_.isLayerValid=!1,_._layer=1,this.options={font:"fonts/Norse-Bold-ru.fnt",size:t,format:1,wordWrap:a,color:e,align:openfl_text_TextFormatAlign.fromString(i)},this.centerOrigin=n};$hxClasses["kro13.kk.guiObjects.TextField"]=kro13_kk_guiObjects_TextField,kro13_kk_guiObjects_TextField.__name__="kro13.kk.guiObjects.TextField",kro13_kk_guiObjects_TextField.__super__=kro13_kk_guiObjects_Layable,kro13_kk_guiObjects_TextField.prototype=$extend(kro13_kk_guiObjects_Layable.prototype,{setText:function(e){this.materialConfig.text=e,this.renderer.isValid=!1},setSize:function(e){this.options.size=e},build:function(){this.materialConfig={options:this.options,text:"",centerOrigin:this.centerOrigin,width:this.get_size().x,height:this.get_size().y},this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.TEXT(this.materialConfig)},altColor:function(){this.materialConfig.options.color=this.aColor,this.renderer.isValid=!1},normColor:function(){this.materialConfig.options.color=this.color,this.renderer.isValid=!1},__class__:kro13_kk_guiObjects_TextField});var kro13_kk_guiObjects_anims_ButtonBlink=function(e){this.scaleSize=.15,kro13_kk_components_animation_AbstractAnimation.call(this),this.button=e;var t=e.get_position().x,a=e.get_position().y;null==a&&(a=0),null==t&&(t=0);var n={x:t,y:a};this.normalPos=n;n={x:0,y:0};this.scaledPos=n;var i=this.normalPos.x-e.get_size().x*this.scaleSize*.5;this.scaledPos.x=Math.round(i);i=this.normalPos.y-e.get_size().y*this.scaleSize*.5;this.scaledPos.y=Math.round(i)};$hxClasses["kro13.kk.guiObjects.anims.ButtonBlink"]=kro13_kk_guiObjects_anims_ButtonBlink,kro13_kk_guiObjects_anims_ButtonBlink.__name__="kro13.kk.guiObjects.anims.ButtonBlink",kro13_kk_guiObjects_anims_ButtonBlink.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_guiObjects_anims_ButtonBlink.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{update:function(e){if(this.timer>=2&&(this.button.materialConfig.size.x=this.button.get_size().x,this.button.materialConfig.size.y=this.button.get_size().y,this.button.validateLayout(),this.button.renderer.isValid=!1,this.button.transform.set_position(this.normalPos),this.timer=0),this.timer>=1){var t=this.button.get_size().x;this.button.materialConfig.size.x=t*(1+this.scaleSize);t=this.button.get_size().y;this.button.materialConfig.size.y=t*(1+this.scaleSize),this.button.validateLayout(),this.button.renderer.isValid=!1,this.button.transform.set_position(this.scaledPos)}kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e)},start:function(){kro13_kk_components_animation_AbstractAnimation.prototype.start.call(this);var e=this.button.get_position().x,t=this.button.get_position().y;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.normalPos=a;a={x:0,y:0};this.scaledPos=a;var n=this.normalPos.x-this.button.get_size().x*this.scaleSize*.5;this.scaledPos.x=Math.round(n);n=this.normalPos.y-this.button.get_size().y*this.scaleSize*.5;this.scaledPos.y=Math.round(n)},stop:function(){kro13_kk_components_animation_AbstractAnimation.prototype.stop.call(this),this.button.materialConfig.size.x=this.button.get_size().x,this.button.materialConfig.size.y=this.button.get_size().y,this.button.validateLayout(),this.button.renderer.isValid=!1,this.button.transform.set_position(this.normalPos)},enlarge:function(){var e=this.button.get_size().x;this.button.materialConfig.size.x=e*(1+this.scaleSize);e=this.button.get_size().y;this.button.materialConfig.size.y=e*(1+this.scaleSize),this.button.validateLayout(),this.button.renderer.isValid=!1,this.button.transform.set_position(this.scaledPos)},shrink:function(){this.button.materialConfig.size.x=this.button.get_size().x,this.button.materialConfig.size.y=this.button.get_size().y,this.button.validateLayout(),this.button.renderer.isValid=!1,this.button.transform.set_position(this.normalPos)},__class__:kro13_kk_guiObjects_anims_ButtonBlink});var kro13_kk_guiObjects_anims_QuickMenuHelp=function(e){kro13_kk_components_animation_AbstractAnimation.call(this),this.menu=e};$hxClasses["kro13.kk.guiObjects.anims.QuickMenuHelp"]=kro13_kk_guiObjects_anims_QuickMenuHelp,kro13_kk_guiObjects_anims_QuickMenuHelp.__name__="kro13.kk.guiObjects.anims.QuickMenuHelp",kro13_kk_guiObjects_anims_QuickMenuHelp.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_guiObjects_anims_QuickMenuHelp.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{start:function(){kro13_kk_components_animation_AbstractAnimation.prototype.start.call(this),this.btn1=this.menu.btnRestart,this.btn2=this.menu.btnStartNew},update:function(e){0==this.timer&&this.btn1.startBlink(),this.timer>=1&&this.timer<=1.5&&this.btn2.startBlink(),kro13_kk_components_animation_AbstractAnimation.prototype.update.call(this,e)},stop:function(){this.btn1.stopBlink(),this.btn2.stopBlink(),kro13_kk_components_animation_AbstractAnimation.prototype.stop.call(this)},__class__:kro13_kk_guiObjects_anims_QuickMenuHelp});var kro13_kk_guiObjects_effects_Snow=function(e,t,a,n,i){null==i&&(i=20),null==n&&(n=.8),null==a&&(a=.8),null==t&&(t=.5),kro13_kk_gameObjects_Renderable.call(this),this.dataProvider=e,this.name="Snow Fx",this.type=5;var s=this.renderer;s.isLayerValid=!1,s._layer=0,this.particles=new kro13_kk_components_Particles("snow"),this.baseFreq=t,this.particles.emitFrequency=this.baseFreq,this.baseDur=i,this.scale=a,this.alpha=n,this.addComponent(this.particles);var _=new kro13_kk_components_GameEventHandler;_.addHandler($bind(this,this.onEvent)),this.addComponent(_)};$hxClasses["kro13.kk.guiObjects.effects.Snow"]=kro13_kk_guiObjects_effects_Snow,kro13_kk_guiObjects_effects_Snow.__name__="kro13.kk.guiObjects.effects.Snow",kro13_kk_guiObjects_effects_Snow.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_guiObjects_effects_Snow.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){var e=40,t=40;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.materialC={size:a,color:16777215,particlesType:"snow",emitAngle:-120,distance:haxepunk_HXP.height,duration:this.baseDur,angleRange:60,distanceRange:.5*haxepunk_HXP.height,startAlpha:this.alpha,endAlpha:this.alpha,startScale:this.scale,endScale:this.scale,durationRange:.5*this.baseDur};var n=kro13_kk_components_renderer_materials_EMaterial.PARTICLES(this.materialC);this.renderer.material=n},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;var t=this.baseFreq,a=this.dataProvider.getLocal().getSnowIntensity();this.particles.emitFrequency=t/a;t=.5*this.baseDur,a=.5*this.baseDur/this.dataProvider.getLocal().getSnowIntensity();this.materialC.duration=t+a,this.materialC.durationRange=.5*this.materialC.duration,this.renderer.isValid=!1;break;case 31:t=this.baseFreq,a=this.dataProvider.getLocal().getSnowIntensity();this.particles.emitFrequency=t/a;t=.5*this.baseDur,a=.5*this.baseDur/this.dataProvider.getLocal().getSnowIntensity();this.materialC.duration=t+a,this.materialC.durationRange=.5*this.materialC.duration,this.renderer.isValid=!1}},__class__:kro13_kk_guiObjects_effects_Snow});var kro13_kk_guiObjects_popups_ConsolePopup=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="console",this.addComponent(new kro13_kk_components_Updater(this))};$hxClasses["kro13.kk.guiObjects.popups.ConsolePopup"]=kro13_kk_guiObjects_popups_ConsolePopup,kro13_kk_guiObjects_popups_ConsolePopup.__name__="kro13.kk.guiObjects.popups.ConsolePopup",kro13_kk_guiObjects_popups_ConsolePopup.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_popups_ConsolePopup.print=function(e){haxe_Log.trace("console: "+e,{fileName:"src/kro13/kk/guiObjects/popups/ConsolePopup.hx",lineNumber:29,className:"kro13.kk.guiObjects.popups.ConsolePopup",methodName:"print"}),kro13_kk_guiObjects_popups_ConsolePopup.log.push(e),kro13_kk_guiObjects_popups_ConsolePopup.log.length>=20&&kro13_kk_guiObjects_popups_ConsolePopup.log.shift(),kro13_kk_guiObjects_popups_ConsolePopup.isLogDirty=!0},kro13_kk_guiObjects_popups_ConsolePopup.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_ConsolePopup.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{update:function(e){if(kro13_kk_guiObjects_popups_ConsolePopup.isLogDirty&&null!=this.text){var t=this.text,a=kro13_kk_guiObjects_popups_ConsolePopup.log.join("\n");t.materialConfig.text=a,t.renderer.isValid=!1,kro13_kk_guiObjects_popups_ConsolePopup.isLogDirty=!1}},build:function(){kro13_kk_gameObjects_Transformable.prototype.build.call(this),this.text=new kro13_kk_guiObjects_TextField(16711680,null,!0);var e=this.text.renderer;e.isLayerValid=!1,e._layer=-1,null==(a=0)&&(a=0),null==(i=0)&&(i=0);var t={x:i,y:a};this.text.set_position(t);var a,n=this.text,i=this.get_size().x;null==(a=this.get_size().y)&&(a=0),null==i&&(i=0);t={x:i,y:a};n.set_size(t),this.text.build(),this.transform.addChild(this.text.transform)},__class__:kro13_kk_guiObjects_popups_ConsolePopup});var kro13_kk_guiObjects_popups_FlexPopup=function(e,t,a){kro13_kk_guiObjects_popups_Popup.call(this,t,a),this.buttons=[];for(var n=0;n<e.length;){var i=e[n];++n,null!=i&&this.buttons.push(i)}};$hxClasses["kro13.kk.guiObjects.popups.FlexPopup"]=kro13_kk_guiObjects_popups_FlexPopup,kro13_kk_guiObjects_popups_FlexPopup.__name__="kro13.kk.guiObjects.popups.FlexPopup",kro13_kk_guiObjects_popups_FlexPopup.__super__=kro13_kk_guiObjects_popups_Popup,kro13_kk_guiObjects_popups_FlexPopup.prototype=$extend(kro13_kk_guiObjects_popups_Popup.prototype,{build:function(){kro13_kk_guiObjects_popups_Popup.prototype.build.call(this);for(var e=0,t=this.buttons;e<t.length;){var a=t[e];++e,this.transform.addChild(a.transform)}this.validateLayout()},validateLayout:function(){this.calculateSize(),this.placeButtons()},calculateSize:function(){var e=this.calculateContentSize(),t=0;null==(a=this.calculateBtnsHeight()+50)&&(a=0),null==t&&(t=0);var a,n=t,i=a;t=e.x;null==(a=e.y)&&(a=0),null==t&&(t=0);var s=e={x:t,y:a};s.x+=n,s.y+=i;var _=s;this.set_size(_),this.renderer.isValid=!1},calculateContentSize:function(){var e=this.get_size().x,t=this.get_size().y;return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},placeButtons:function(){for(var e=this.calculateBtnsWidth(),t=.5*(this.get_size().x-e),a=0,n=0,i=this.buttons;n<i.length;){var s=i[n];++n,s.transform.get_visible()&&(s.get_position().x=t+50*a,s.get_position().y=this.get_size().y-150,t+=s.get_size().x,++a)}},calculateBtnsHeight:function(){for(var e=0,t=0,a=this.buttons;t<a.length;){var n=a[t];++t,n.transform.get_visible()&&n.transform.get_size().y>e&&(e=n.transform.get_size().y)}return e},calculateBtnsWidth:function(){for(var e=0,t=0,a=this.buttons;t<a.length;){var n=a[t];++t,n.transform.get_visible()&&(e+=n.get_size().x)}return e+=50*(this.buttons.length-1)},__class__:kro13_kk_guiObjects_popups_FlexPopup});var kro13_kk_guiObjects_popups_DialogPopup=function(e,t,a){this.align="left",this.fontSize=60,kro13_kk_guiObjects_popups_FlexPopup.call(this,e,t,a)};$hxClasses["kro13.kk.guiObjects.popups.DialogPopup"]=kro13_kk_guiObjects_popups_DialogPopup,kro13_kk_guiObjects_popups_DialogPopup.__name__="kro13.kk.guiObjects.popups.DialogPopup",kro13_kk_guiObjects_popups_DialogPopup.__super__=kro13_kk_guiObjects_popups_FlexPopup,kro13_kk_guiObjects_popups_DialogPopup.prototype=$extend(kro13_kk_guiObjects_popups_FlexPopup.prototype,{setTextPropsBeforeBuild:function(e,t){null==t&&(t="left"),null==e&&(e=60),this.fontSize=e,this.align=t},build:function(){this.text=new kro13_kk_guiObjects_TextField(11250647,this.fontSize,!0,!1,this.align),null==(a=50)&&(a=0),null==(t=50)&&(t=0);var e={x:t,y:a};this.text.set_position(e);var t,a,n=this.text;null==(a=0)&&(a=0),null==(t=this.get_size().x-100)&&(t=0);e={x:t,y:a};n.set_size(e),this.text.build(),this.transform.addChild(this.text.transform),kro13_kk_guiObjects_popups_FlexPopup.prototype.build.call(this)},setMessage:function(e){var t=this.text;t.materialConfig.text=e,t.renderer.isValid=!1,kro13_kk_guiObjects_popups_FlexPopup.prototype.build.call(this)},calculateContentSize:function(){var e=kro13_kk_utils_TextUtils.getTextRect(this.text),t=this.get_size().x,a=e.y+100;return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}},__class__:kro13_kk_guiObjects_popups_DialogPopup});var kro13_kk_guiObjects_popups_HelpPopup=function(e){this.btnOk=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(null,"images/btn_ok.png");var t=kro13_kk_guiObjects_GUIObjectsFactory.get_instance(),a=440,n=120;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};this.btnSwitch=t.buildBlankButton(i),kro13_kk_guiObjects_popups_FlexPopup.call(this,[this.btnOk,this.btnSwitch],16777215,10066380),this.name="Help Popoup",this.dataProvider=e,this.offset=haxepunk_HXP.width-900,this.offset=Math.min(100,this.offset)};$hxClasses["kro13.kk.guiObjects.popups.HelpPopup"]=kro13_kk_guiObjects_popups_HelpPopup,kro13_kk_guiObjects_popups_HelpPopup.__name__="kro13.kk.guiObjects.popups.HelpPopup",kro13_kk_guiObjects_popups_HelpPopup.__super__=kro13_kk_guiObjects_popups_FlexPopup,kro13_kk_guiObjects_popups_HelpPopup.prototype=$extend(kro13_kk_guiObjects_popups_FlexPopup.prototype,{build:function(){kro13_kk_guiObjects_popups_FlexPopup.prototype.build.call(this),null==(s=this.btnSwitch).label&&(s.label=new kro13_kk_guiObjects_TextField(s.borderColor,s.labelSize,!1,!0,null,s.color),s.label.build(),s.transform.addChild(s.label.transform));var e=s.label;e.materialConfig.text="_",e.renderer.isValid=!1,s.validateLayout(),s.label.renderer.isValid=!1,this.mainHelp=new kro13_kk_guiObjects_popups_help_MainHelp;var t=this.mainHelp,a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0);var n={x:a,y:i};t.set_size(n),this.mainHelp.build(),this.transform.addChild(this.mainHelp.transform),this.avalancheHelp=new kro13_kk_guiObjects_popups_help_AvalancheHelp;t=this.avalancheHelp,a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0);n={x:a,y:i};t.set_size(n),this.avalancheHelp.build(),this.transform.addChild(this.avalancheHelp.transform),this.snowmenHelp=new kro13_kk_guiObjects_popups_help_SnowmenHelp;t=this.snowmenHelp,a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0);n={x:a,y:i};t.set_size(n),this.snowmenHelp.build(),this.transform.addChild(this.snowmenHelp.transform),this.mandalaHelp=new kro13_kk_guiObjects_popups_help_MandalaHelp;t=this.mandalaHelp,a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0);n={x:a,y:i};t.set_size(n),this.mandalaHelp.build(),this.transform.addChild(this.mandalaHelp.transform),this.faunaHelp=new kro13_kk_guiObjects_popups_help_FaunaHelp;t=this.faunaHelp,a=this.get_size().x;null==(i=this.get_size().y)&&(i=0),null==a&&(a=0);n={x:a,y:i};t.set_size(n),this.faunaHelp.build(),this.transform.addChild(this.faunaHelp.transform),this.headerText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),this.headerText.name="Header Text",null==(i=50)&&(i=0),null==(a=50)&&(a=0);n={x:a,y:i};this.headerText.set_position(n);var i;t=this.headerText;null==(i=0)&&(i=0),null==(a=this.get_size().x-100)&&(a=0);var s;n={x:a,y:i};t.set_size(n),this.headerText.build(),(s=this.headerText).materialConfig.text="_",s.renderer.isValid=!1,this.transform.addChild(this.headerText.transform)},setPage:function(){haxe_Log.trace(kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile()),{fileName:"src/kro13/kk/guiObjects/popups/HelpPopup.hx",lineNumber:84,className:"kro13.kk.guiObjects.popups.HelpPopup",methodName:"setPage",customParams:[kro13_kk_data_EProfileTag.isTagged(2,this.dataProvider.getProfile()),kro13_kk_data_EProfileTag.isTagged(3,this.dataProvider.getProfile()),kro13_kk_data_EProfileTag.isTagged(4,this.dataProvider.getProfile()),kro13_kk_data_EProfileTag.isTagged(7,this.dataProvider.getProfile())]}),kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(2,this.dataProvider.getProfile())?this.helpAboutSnowmen():kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(3,this.dataProvider.getProfile())?this.helpAboutAvalanche():kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(7,this.dataProvider.getProfile())?this.helpAboutMandala():kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())&&!kro13_kk_data_EProfileTag.isTagged(4,this.dataProvider.getProfile())?this.helpAboutFauna():this.helpAboutMain()},calculateSize:function(){var e=haxepunk_HXP.width-this.offset,t=haxepunk_HXP.height-this.offset;null==t&&(t=0),null==e&&(e=0);var a={x:e,y:t};this.set_size(a),this.renderer.isValid=!1},setHeader:function(e){this.transform.addChild(this.headerText.transform);var t=this.headerText;t.materialConfig.text=e,t.renderer.isValid=!1},clearDemos:function(){null!=this.headerText&&this.transform.removeChild(this.headerText.transform),null!=this.mainHelp&&this.transform.removeChild(this.mainHelp.transform),null!=this.snowmenHelp&&this.transform.removeChild(this.snowmenHelp.transform),null!=this.avalancheHelp&&this.transform.removeChild(this.avalancheHelp.transform),null!=this.faunaHelp&&this.transform.removeChild(this.faunaHelp.transform),null!=this.mandalaHelp&&this.transform.removeChild(this.mandalaHelp.transform)},helpAboutMandala:function(){kro13_kk_data_EProfileTag.isTagged(7,this.dataProvider.getProfile())||(kro13_kk_data_EProfileTag.tag(7,this.dataProvider.getProfile()),kro13_analytics_Analytics.get_instance().sendEvent("help:mandala")),this.clearDemos(),this.helpAboutSomething(this.mandalaHelp,kro13_kk_utils_L.get_instance().HELP_ABOUT_MANDALA,$bind(this,this.helpAboutFauna),kro13_kk_utils_L.get_instance().HELP_ABOUT_FAUNA)},helpAboutFauna:function(){kro13_kk_data_EProfileTag.isTagged(4,this.dataProvider.getProfile())||(kro13_kk_data_EProfileTag.tag(4,this.dataProvider.getProfile()),kro13_analytics_Analytics.get_instance().sendEvent("help:fauna")),this.clearDemos(),this.helpAboutSomething(this.faunaHelp,kro13_kk_utils_L.get_instance().HELP_ABOUT_FAUNA,$bind(this,this.helpAboutMain),kro13_kk_utils_L.get_instance().HELP_ABOUT_MAIN)},helpAboutAvalanche:function(){kro13_kk_data_EProfileTag.isTagged(3,this.dataProvider.getProfile())||(kro13_kk_data_EProfileTag.tag(3,this.dataProvider.getProfile()),kro13_analytics_Analytics.get_instance().sendEvent("help:avalanche")),this.clearDemos(),this.helpAboutSomething(this.avalancheHelp,kro13_kk_utils_L.get_instance().HELP_AVALANCHE,$bind(this,this.helpAboutMandala),kro13_kk_utils_L.get_instance().HELP_ABOUT_MANDALA)},helpAboutSnowmen:function(){kro13_kk_data_EProfileTag.isTagged(2,this.dataProvider.getProfile())||(kro13_kk_data_EProfileTag.tag(2,this.dataProvider.getProfile()),kro13_analytics_Analytics.get_instance().sendEvent("help:snowmen")),this.clearDemos(),this.helpAboutSomething(this.snowmenHelp,kro13_kk_utils_L.get_instance().HELP_SNOWMEN,$bind(this,this.helpAboutAvalanche),kro13_kk_utils_L.get_instance().HELP_ABOUT_AVALANCHE)},helpAboutMain:function(){kro13_kk_data_EProfileTag.isTagged(0,this.dataProvider.getProfile())||(kro13_kk_data_EProfileTag.tag(0,this.dataProvider.getProfile()),kro13_analytics_Analytics.get_instance().sendEvent("help:main")),this.clearDemos();var e=kro13_kk_utils_L.get_instance().HELP;this.helpAboutSomething(this.mainHelp,e,$bind(this,this.helpAboutSnowmen),kro13_kk_utils_L.get_instance().HELP_ABOUT_SNOWMEN)},helpAboutSomething:function(e,t,a,n){haxe_Log.trace("-----------------",{fileName:"src/kro13/kk/guiObjects/popups/HelpPopup.hx",lineNumber:216,className:"kro13.kk.guiObjects.popups.HelpPopup",methodName:"helpAboutSomething",customParams:[t]}),this.validateLayout(),this.setHeader(t);var i=kro13_kk_utils_TextUtils.getTextRect(this.headerText);null!=e&&(e.get_position().y=i.y,this.transform.addChild(e.transform)),this.btnSwitch.action=a;var s=this.btnSwitch;null==s.label&&(s.label=new kro13_kk_guiObjects_TextField(s.borderColor,s.labelSize,!1,!0,null,s.color),s.label.build(),s.transform.addChild(s.label.transform));var _=s.label;_.materialConfig.text=n,_.renderer.isValid=!1,s.validateLayout(),s.label.renderer.isValid=!1},__class__:kro13_kk_guiObjects_popups_HelpPopup});var kro13_kk_guiObjects_popups_SettingsPopup=function(e,t,a,n){this.locales=["RU","EN"];var i=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(null,"images/btn_ok.png");kro13_kk_guiObjects_popups_FlexPopup.call(this,[i],a,n),this.dataProvider=e,this.eventDispatcher=t,this.reloadNeeded=!1};$hxClasses["kro13.kk.guiObjects.popups.SettingsPopup"]=kro13_kk_guiObjects_popups_SettingsPopup,kro13_kk_guiObjects_popups_SettingsPopup.__name__="kro13.kk.guiObjects.popups.SettingsPopup",kro13_kk_guiObjects_popups_SettingsPopup.__super__=kro13_kk_guiObjects_popups_FlexPopup,kro13_kk_guiObjects_popups_SettingsPopup.prototype=$extend(kro13_kk_guiObjects_popups_FlexPopup.prototype,{build:function(){this.musicText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),null==(p=0)&&(p=0),null==(i=800)&&(i=0);var e={x:i,y:p};this.musicText.set_size(e),null==(p=50)&&(p=0),null==(i=50)&&(i=0);e={x:i,y:p};this.musicText.set_position(e),this.musicText.build();var t=this.musicText,a=kro13_kk_utils_L.get_instance().MUSIC_SETTING+":";t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.musicText.transform),this.btnMusic=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton($bind(this,this.onMusic),"images/btn_music.png","Btn Music");var n=this.btnMusic;null==(p=50)&&(p=0),null==(i=this.get_size().x-170)&&(i=0);e={x:i,y:p};n.set_position(e),this.btnMusic.isToggle=!0,this.transform.addChild(this.btnMusic.transform),this.fxText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),null==(p=0)&&(p=0),null==(i=800)&&(i=0);e={x:i,y:p};this.fxText.set_size(e),null==(p=220)&&(p=0),null==(i=50)&&(i=0);e={x:i,y:p};this.fxText.set_position(e),this.fxText.build();t=this.fxText,a=kro13_kk_utils_L.get_instance().SOUND_FX_SETTING+":";t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.fxText.transform),this.btnFx=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton($bind(this,this.onFx),"images/btn_music.png","Btn Sound");n=this.btnFx;null==(p=220)&&(p=0),null==(i=this.get_size().x-170)&&(i=0);e={x:i,y:p};n.set_position(e),this.btnFx.isToggle=!0,this.transform.addChild(this.btnFx.transform),this.sensText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),null==(p=0)&&(p=0),null==(i=800)&&(i=0);e={x:i,y:p};this.sensText.set_size(e),null==(p=350)&&(p=0),null==(i=50)&&(i=0);e={x:i,y:p};this.sensText.set_position(e),this.sensText.build();t=this.sensText,a=kro13_kk_utils_L.get_instance().SENSITIVITY+":";t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.sensText.transform),this.btnSensMinus=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton($bind(this,this.onSensMinus),"images/btn_minus.png","Btn Sens Minus");n=this.btnSensMinus;var i=50;null==(p=this.sensText.get_position().y+50+20)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.transform.addChild(this.btnSensMinus.transform),this.btnSensPlus=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton($bind(this,this.onSensPlus),"images/btn_plus.png","Btn Sens Plus");n=this.btnSensPlus,i=this.get_size().x-170;null==(p=this.sensText.get_position().y+50+20)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.transform.addChild(this.btnSensPlus.transform),this.sensValText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!0),null==(p=0)&&(p=0),null==(i=0)&&(i=0);e={x:i,y:p};this.sensValText.set_size(e);n=this.sensValText,i=.5*this.get_size().x;null==(p=this.btnSensMinus.get_position().y+50)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.sensValText.build();t=this.sensValText,a=this.getSensText();t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.sensValText.transform),this.posText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),null==(p=0)&&(p=0),null==(i=800)&&(i=0);e={x:i,y:p};this.posText.set_size(e),null==(p=560)&&(p=0),null==(i=50)&&(i=0);e={x:i,y:p};this.posText.set_position(e),this.posText.build();t=this.posText,a=kro13_kk_utils_L.get_instance().MENU_POS+":";t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.posText.transform);var s=$bind(this,this.onMenuPos);n=function(){s(!1)};this.btnLeft=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(n,"images/btn_quit.png","Btn Pos Left"),this.btnLeft.isToggle=!0;n=this.btnLeft,i=50;null==(p=this.posText.get_position().y+50+20)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.transform.addChild(this.btnLeft.transform);var _=$bind(this,this.onMenuPos);n=function(){_(!0)};this.btnRight=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(n,"images/btn_play.png","Btn Pos Right"),this.btnRight.isToggle=!0;n=this.btnRight,i=this.get_size().x-170;null==(p=this.posText.get_position().y+50+20)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.transform.addChild(this.btnRight.transform),this.posValText=new kro13_kk_guiObjects_TextField(11250647,null,!1,!0),null==(p=0)&&(p=0),null==(i=0)&&(i=0);e={x:i,y:p};this.posValText.set_size(e);n=this.posValText,i=.5*this.get_size().x;null==(p=this.btnLeft.get_position().y+50)&&(p=0),null==i&&(i=0);e={x:i,y:p};n.set_position(e),this.posValText.build();t=this.posValText,a=this.getPosText();t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.posValText.transform),this.localeText=new kro13_kk_guiObjects_TextField(11250647,null,!0,!1),null==(p=0)&&(p=0),null==(i=800)&&(i=0);e={x:i,y:p};this.localeText.set_size(e),null==(p=780)&&(p=0),null==(i=50)&&(i=0);e={x:i,y:p};this.localeText.set_position(e),this.localeText.build();t=this.localeText,a=kro13_kk_utils_L.get_instance().MENU_LOCALE+":";t.materialConfig.text=a,t.renderer.isValid=!1,this.transform.addChild(this.localeText.transform);var r=0;this.localeBtns=[];for(var o=0,l=this.locales;o<l.length;){var h=l[o];++o;var u=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(function(e,t){return function(){e[0](t[0])}}([$bind(this,this.onLocale)],[h]),"","Btn Locale "+h);u.isToggle=!0,null==u.label&&(u.label=new kro13_kk_guiObjects_TextField(u.borderColor,u.labelSize,!1,!0,null,u.color),u.label.build(),u.transform.addChild(u.label.transform)),(t=u.label).materialConfig.text=h,t.renderer.isValid=!1,u.validateLayout(),u.label.renderer.isValid=!1;var p;i=50*(r+1)+120*r;null==(p=this.localeText.get_position().y+50+20)&&(p=0),null==i&&(i=0);e={x:i,y:p};u.set_position(e),this.transform.addChild(u.transform),this.localeBtns.push(u),++r}kro13_kk_guiObjects_popups_FlexPopup.prototype.build.call(this),this.setMusicIcon(),this.setFxIcon(),this.togglePos(),this.onLocale(this.dataProvider.getProfile().misc.locale)},calculateContentSize:function(){var e=this.get_size().x,t=970;return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},onLocale:function(e){for(var t=this.locales.indexOf(e),a=0,n=this.localeBtns.length;a<n;){var i=a++;i==t?this.localeBtns[i].altColor():this.localeBtns[i].normColor()}this.dataProvider.getProfile().misc.locale=e,this.reloadNeeded=!0},onFx:function(){null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.hasType(0)?(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.removeType(0)):(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.addType(0)),this.setFxIcon()},onMusic:function(){null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.hasType(1)?(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.removeType(1)):(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.addType(1)),this.setMusicIcon(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.SETTINGS_CHANGED)},onSensMinus:function(){this.dataProvider.getProfile().misc.sensitivity>.501&&(this.dataProvider.getProfile().misc.sensitivity=this.dataProvider.getProfile().misc.sensitivity-.1);var e=this.sensValText,t=this.getSensText();e.materialConfig.text=t,e.renderer.isValid=!1},onSensPlus:function(){this.dataProvider.getProfile().misc.sensitivity<1.5&&(this.dataProvider.getProfile().misc.sensitivity=this.dataProvider.getProfile().misc.sensitivity+.1);var e=this.sensValText,t=this.getSensText();e.materialConfig.text=t,e.renderer.isValid=!1},setFxIcon:function(){if(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.hasType(0)){this.btnFx.setIcon("images/btn_music.png");e=this.fxText,t=kro13_kk_utils_L.get_instance().SOUND_FX_SETTING+" "+kro13_kk_utils_L.get_instance().SETTING_ON;e.materialConfig.text=t,e.renderer.isValid=!1,this.btnFx.altColor()}else{this.btnFx.setIcon("images/btn_mute.png");var e=this.fxText,t=kro13_kk_utils_L.get_instance().SOUND_FX_SETTING+" "+kro13_kk_utils_L.get_instance().SETTING_OFF;e.materialConfig.text=t,e.renderer.isValid=!1,this.btnFx.normColor()}},setMusicIcon:function(){if(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.hasType(1)){this.btnMusic.setIcon("images/btn_music.png");e=this.musicText,t=kro13_kk_utils_L.get_instance().MUSIC_SETTING+" "+kro13_kk_utils_L.get_instance().SETTING_ON;e.materialConfig.text=t,e.renderer.isValid=!1,this.btnMusic.altColor()}else{this.btnMusic.setIcon("images/btn_mute.png");var e=this.musicText,t=kro13_kk_utils_L.get_instance().MUSIC_SETTING+" "+kro13_kk_utils_L.get_instance().SETTING_OFF;e.materialConfig.text=t,e.renderer.isValid=!1,this.btnMusic.normColor()}},onMenuPos:function(e){this.dataProvider.getProfile().misc.rightHanded=!this.dataProvider.getProfile().misc.rightHanded,this.togglePos();var t=this.posValText,a=this.getPosText();t.materialConfig.text=a,t.renderer.isValid=!1},getSensText:function(){var e=Math.round(10*this.dataProvider.getProfile().misc.sensitivity);return Math.floor(e/10)+"."+Math.round(e%10)},togglePos:function(){this.dataProvider.getProfile().misc.rightHanded?(this.btnLeft.normColor(),this.btnRight.altColor()):(this.btnLeft.altColor(),this.btnRight.normColor())},getPosText:function(){return this.dataProvider.getProfile().misc.rightHanded?kro13_kk_utils_L.get_instance().MENU_POS_RIGHT:kro13_kk_utils_L.get_instance().MENU_POS_LEFT},__class__:kro13_kk_guiObjects_popups_SettingsPopup});var kro13_kk_guiObjects_popups_StatsPopup=function(e,t,a,n){kro13_kk_guiObjects_popups_DialogPopup.call(this,[e,t],a,n)};$hxClasses["kro13.kk.guiObjects.popups.StatsPopup"]=kro13_kk_guiObjects_popups_StatsPopup,kro13_kk_guiObjects_popups_StatsPopup.__name__="kro13.kk.guiObjects.popups.StatsPopup",kro13_kk_guiObjects_popups_StatsPopup.__super__=kro13_kk_guiObjects_popups_DialogPopup,kro13_kk_guiObjects_popups_StatsPopup.prototype=$extend(kro13_kk_guiObjects_popups_DialogPopup.prototype,{setStats:function(e){this.totalScore=e.totalScore,this.userName=e.userName,this.profile=e,this.setMessage(this.getStatsMessage()+"\n\n"+kro13_kk_utils_L.get_instance().LOADING)},setTopScore:function(e){for(var t=kro13_kk_utils_L.get_instance().TOP_SCORE+"\n",a=0,n=e.length;a<n;){var i=a++;t+=i+1+". "+e[i].userName+"   <guiObjects>"+e[i].totalScore+"</guiObjects>",kro13_kk_data_EProfileTag.isTagged(1,e[i])&&(t+=" <star/>"),i<e.length-1&&(t+="\n")}this.setMessage(this.getStatsMessage()+"\n\n"+t)},showError:function(){this.setMessage(this.getStatsMessage()+"\n\n"+kro13_kk_utils_L.get_instance().ERROR_SERVER)},getStatsMessage:function(){var e=kro13_kk_utils_L.get_instance().NAME+": <guiObjects>"+this.userName+"</guiObjects>";return kro13_kk_data_EProfileTag.isTagged(1,this.profile)&&(e+=" <star/>"),e+="\n"+kro13_kk_utils_L.get_instance().TOTAL_SCORE+": <guiObjects>"+this.totalScore+"</guiObjects>"},__class__:kro13_kk_guiObjects_popups_StatsPopup});var kro13_kk_guiObjects_popups_TutorPopup=function(e,t,a){this.contentIdx=0,kro13_kk_guiObjects_popups_FlexPopup.call(this,e,t,a)};$hxClasses["kro13.kk.guiObjects.popups.TutorPopup"]=kro13_kk_guiObjects_popups_TutorPopup,kro13_kk_guiObjects_popups_TutorPopup.__name__="kro13.kk.guiObjects.popups.TutorPopup",kro13_kk_guiObjects_popups_TutorPopup.__super__=kro13_kk_guiObjects_popups_FlexPopup,kro13_kk_guiObjects_popups_TutorPopup.prototype=$extend(kro13_kk_guiObjects_popups_FlexPopup.prototype,{setContent:function(e){this.contentIdx=0,this.content=e},showNext:function(){null!=this.curr&&this.transform.removeChild(this.curr.transform),haxe_Log.trace(this.contentIdx,{fileName:"src/kro13/kk/guiObjects/popups/TutorPopup.hx",lineNumber:28,className:"kro13.kk.guiObjects.popups.TutorPopup",methodName:"showNext",customParams:[this.content.length]}),this.curr=this.content[this.contentIdx],this.curr.setEvenPosition(50,50),this.transform.addChild(this.curr.transform),this.contentIdx++,this.validateLayout()},isFinished:function(){return this.contentIdx==this.content.length},calculateContentSize:function(){if(null!=this.curr){var e=this.get_size().x;return null==(t=this.curr.get_size().y+100)&&(t=0),null==e&&(e=0),{x:e,y:t}}var t;e=this.get_size().x;return null==(t=this.get_size().y)&&(t=0),null==e&&(e=0),{x:e,y:t}},__class__:kro13_kk_guiObjects_popups_TutorPopup});var kro13_kk_guiObjects_popups_help_AvalancheHelp=function(){kro13_kk_gameObjects_Transformable.call(this)};$hxClasses["kro13.kk.guiObjects.popups.help.AvalancheHelp"]=kro13_kk_guiObjects_popups_help_AvalancheHelp,kro13_kk_guiObjects_popups_help_AvalancheHelp.__name__="kro13.kk.guiObjects.popups.help.AvalancheHelp",kro13_kk_guiObjects_popups_help_AvalancheHelp.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_AvalancheHelp.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.demo=new kro13_kk_guiObjects_popups_help_demos_AvalancheDemo(this.get_size().x-200,2),this.demo.setEvenPosition(100,100),this.demo.build(),this.transform.addChild(this.demo.transform)},__class__:kro13_kk_guiObjects_popups_help_AvalancheHelp});var kro13_kk_guiObjects_popups_help_FaunaHelp=function(){kro13_kk_gameObjects_Transformable.call(this)};$hxClasses["kro13.kk.guiObjects.popups.help.FaunaHelp"]=kro13_kk_guiObjects_popups_help_FaunaHelp,kro13_kk_guiObjects_popups_help_FaunaHelp.__name__="kro13.kk.guiObjects.popups.help.FaunaHelp",kro13_kk_guiObjects_popups_help_FaunaHelp.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_popups_help_FaunaHelp.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_FaunaHelp.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){var e=kro13_kk_utils_L.get_instance().HELP7;null==(s=144)&&(s=0),null==(i=210)&&(i=0);var t={x:i,y:s};null==(s=-20)&&(s=0),null==(i=0)&&(i=0);var a={x:i,y:s},n=this.buildRecord(e,"images/eagle.png",t,a);n.setEvenPosition(100,100),this.transform.addChild(n.transform);var i,s,_=kro13_kk_utils_L.get_instance().HELP8;null==(s=80)&&(s=0),null==(i=40)&&(i=0);t={x:i,y:s};var r=this.buildRecord(_,"images/hare_sit.png",t);r.setEvenPosition(100,350),this.transform.addChild(r.transform)},update:function(e){},buildRecord:function(e,t,a,n){var i=new kro13_kk_gameObjects_Transformable;i.build();var s=this.buildImage(t,a,n);i.transform.addChild(s.transform);var _=new kro13_kk_guiObjects_TextField(11250647,46,!0,!1),r=this.get_size().x-200-s.get_size().x,o=0;null==o&&(o=0),null==r&&(r=0);var l={x:r,y:o};return _.set_size(l),_.build(),_.materialConfig.text=e,_.renderer.isValid=!1,_.setEvenPosition(s.get_size().x+50,.5*(s.get_size().y-kro13_kk_utils_TextUtils.getTextRect(_).y)),i.transform.addChild(s.transform),i.transform.addChild(_.transform),i},buildImage:function(e,t,a){var n=new kro13_kk_gameObjects_Renderable;null==(c=200)&&(c=0),null==(h=200)&&(h=0);var i={x:h,y:c};n.set_size(i);var s={size:n.get_size(),color:10066380,borderColor:10066380,borderWidth:2};n.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI(s);var _=n.renderer;_.isLayerValid=!1,_._layer=12;var r=new kro13_kk_gameObjects_Renderable;r.set_size(t);var o={source:e,size:r.get_size()};r.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(o);i=n.get_size();var l=r.get_size(),h=i.x;null==(c=i.y)&&(c=0),null==h&&(h=0);var u=h,p=c;if(u-=l.x,null==(c=p-=l.y)&&(c=0),null==(h=u)&&(h=0),(d=i={x:h,y:c}).x*=.5,d.y*=.5,r.set_position(d),null!=a){var c,d,f=r;h=(i=f.get_position()).x;null==(c=i.y)&&(c=0),null==h&&(h=0),(d=i={x:h,y:c}).x+=a.x,d.y+=a.y,f.set_position(d)}return n.transform.addChild(r.transform),n},__class__:kro13_kk_guiObjects_popups_help_FaunaHelp});var kro13_kk_guiObjects_popups_help_MainHelp=function(){this.emitted3=!0,this.demotime3=0,this.demotime2=0,this.emitted2c=!1,this.emitted2b=!1,this.emitted2a=!1,kro13_kk_gameObjects_Transformable.call(this),this.name="main help"};$hxClasses["kro13.kk.guiObjects.popups.help.MainHelp"]=kro13_kk_guiObjects_popups_help_MainHelp,kro13_kk_guiObjects_popups_help_MainHelp.__name__="kro13.kk.guiObjects.popups.help.MainHelp",kro13_kk_guiObjects_popups_help_MainHelp.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_MainHelp.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.demo1=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1(this.get_size().x-200),this.demo1.setEvenPosition(100,100),this.demo1.build(),this.transform.addChild(this.demo1.transform),this.demo2=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2(this.get_size().x-200,1),this.demo2.setEvenPosition(100,this.demo1.get_position().y+this.demo1.get_size().y+50),this.demo2.build(),this.transform.addChild(this.demo2.transform),this.demo3=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3(this.get_size().x-200),this.demo3.setEvenPosition(100,this.demo2.get_position().y+this.demo2.get_size().y+50),this.demo3.build(),this.transform.addChild(this.demo3.transform),this.demo4=new kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4(this.get_size().x-200,1),this.demo4.setEvenPosition(100,this.demo3.get_position().y+this.demo3.get_size().y+50),this.demo4.build(),this.transform.addChild(this.demo4.transform)},__class__:kro13_kk_guiObjects_popups_help_MainHelp});var kro13_kk_guiObjects_popups_help_MandalaHelp=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="mandala help"};$hxClasses["kro13.kk.guiObjects.popups.help.MandalaHelp"]=kro13_kk_guiObjects_popups_help_MandalaHelp,kro13_kk_guiObjects_popups_help_MandalaHelp.__name__="kro13.kk.guiObjects.popups.help.MandalaHelp",kro13_kk_guiObjects_popups_help_MandalaHelp.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_MandalaHelp.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.demo=new kro13_kk_guiObjects_popups_help_demos_MandalaDemo(this.get_size().x-200,2),this.demo.setEvenPosition(100,100),this.demo.build(),this.transform.addChild(this.demo.transform)},__class__:kro13_kk_guiObjects_popups_help_MandalaHelp});var kro13_kk_guiObjects_popups_help_PlayerDemo=function(){kro13_kk_gameObjects_Renderable.call(this),this.name="demo"};$hxClasses["kro13.kk.guiObjects.popups.help.PlayerDemo"]=kro13_kk_guiObjects_popups_help_PlayerDemo,kro13_kk_guiObjects_popups_help_PlayerDemo.__name__="kro13.kk.guiObjects.popups.help.PlayerDemo",kro13_kk_guiObjects_popups_help_PlayerDemo.__super__=kro13_kk_gameObjects_Renderable,kro13_kk_guiObjects_popups_help_PlayerDemo.prototype=$extend(kro13_kk_gameObjects_Renderable.prototype,{build:function(){this.fakeDP=new kro13_kk_data_DataProvider(null),this.fakeDP.getLocal().scoreData={currentScore:0,speedBonus:0,avalancheBonus:0,speedRatio:0,bonusCounter:0,totalRotation:0,totalTracks:0,totalSatori:0,restartUpdatesCount:0,adsCounter:0,totalDistance:0,bestCombo:0,totalJumps:0,totalSnowmen:0,bestJumpLen:0,bestRotation:0,avalanchesEscaped:0,complexity:0},null==(n=200)&&(n=0),null==(a=200)&&(a=0);var e={size:i={x:a,y:n},color:10066380,borderColor:10066380,borderWidth:2};this.renderer.material=kro13_kk_components_renderer_materials_EMaterial.GUI(e);var t=this.renderer;t.isLayerValid=!1,t._layer=12,this.tramp=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildtTrampoline(),this.tramp.get_position().x=60,this.tramp.get_position().y=40,this.tramp.transform.set_visible(!1),this.transform.addChild(this.tramp.transform),this.player=new kro13_kk_gameObjects_PlayerBase,this.player.build(),null==(n=100)&&(n=0),null==(a=100)&&(a=0);var a,n,i={x:a,y:n};this.player.set_position(i),this.transform.addChild(this.player.transform),this.playerHUD=new kro13_kk_guiObjects_PlayerHUDBase(this.fakeDP),this.playerHUD.build(),this.playerHUD.setEvenPosition(this.player.get_position().x,this.player.get_position().y),this.transform.addChild(this.playerHUD.transform),this.playerHUD.setEvenScale(.7),null==(n=275)&&(n=0),null==(a=300)&&(a=0);i={x:a,y:n};this.set_size(i),this.speedPlume=new kro13_kk_gameObjects_fx_SpeedPlume(this.player,this.fakeDP),this.speedPlume.build(),this.transform.addChild(this.speedPlume.transform),this.speedPlume.setEvenPosition(this.player.get_position().x,this.player.get_position().y-40)},destroy:function(){kro13_kk_gameObjects_Renderable.prototype.destroy.call(this)},getPlayer:function(){return this.player},getHUD:function(){return this.playerHUD},getRotation:function(){return this.playerHUD.rotationDisp},getSpeed:function(){return this.playerHUD.speedBar},getBonus:function(){return this.playerHUD.bonusText},getTramp:function(){return this.tramp},__class__:kro13_kk_guiObjects_popups_help_PlayerDemo});var kro13_kk_guiObjects_popups_help_SnowmenHelp=function(){kro13_kk_gameObjects_Transformable.call(this),this.name="snowmen help"};$hxClasses["kro13.kk.guiObjects.popups.help.SnowmenHelp"]=kro13_kk_guiObjects_popups_help_SnowmenHelp,kro13_kk_guiObjects_popups_help_SnowmenHelp.__name__="kro13.kk.guiObjects.popups.help.SnowmenHelp",kro13_kk_guiObjects_popups_help_SnowmenHelp.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_SnowmenHelp.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{build:function(){this.demo=new kro13_kk_guiObjects_popups_help_demos_SnowmenDemo(this.get_size().x-200,2),this.demo.setEvenPosition(100,100),this.demo.build(),this.transform.addChild(this.demo.transform)},__class__:kro13_kk_guiObjects_popups_help_SnowmenHelp});var kro13_kk_guiObjects_popups_help_demos_DemoBase=function(e,t){null==t&&(t=0),kro13_kk_gameObjects_Transformable.call(this),this.width=e,this.demoPos=t,this.addComponent(new kro13_kk_components_Updater(this))};$hxClasses["kro13.kk.guiObjects.popups.help.demos.DemoBase"]=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_DemoBase.__name__="kro13.kk.guiObjects.popups.help.demos.DemoBase",kro13_kk_guiObjects_popups_help_demos_DemoBase.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_guiObjects_popups_help_demos_DemoBase.__super__=kro13_kk_gameObjects_Transformable,kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype=$extend(kro13_kk_gameObjects_Transformable.prototype,{update:function(e){this.demo},build:function(){haxepunk_math_Vector2.setTo(this.get_size(),this.width,0),this.demo=new kro13_kk_guiObjects_popups_help_PlayerDemo,this.demo.build(),haxepunk_math_Vector2.setTo(this.demo.get_size(),200,200),this.transform.addChild(this.demo.transform);var e="left";if(1==this.demoPos&&(e="right"),this.demoText=new kro13_kk_guiObjects_TextField(11250647,46,!0,!1,e),2==this.demoPos){var t=this.demoText;null==(i=0)&&(i=0),null==(n=this.get_size().x)&&(n=0);var a={x:n,y:i};t.set_size(a)}else{var n,i;t=this.demoText;null==(i=0)&&(i=0),null==(n=this.get_size().x-this.demo.get_size().x-50)&&(n=0);a={x:n,y:i};t.set_size(a)}this.demoText.build();var s=this.demoText;switch(s.materialConfig.text=this.message,s.renderer.isValid=!1,this.transform.addChild(this.demoText.transform),this.demoPos){case 1:this.demo.setEvenPosition(this.get_size().x-this.demo.get_size().x,0),this.demoText.setEvenPosition(0,0),haxepunk_math_Vector2.setTo(this.get_size(),this.width,Math.max(this.demo.get_size().y,kro13_kk_utils_TextUtils.getTextRect(this.demoText).y));break;case 2:this.demo.setEvenPosition(.5*(this.get_size().x-this.demo.get_size().x),0),this.demoText.setEvenPosition(0,this.demo.get_size().y+50),haxepunk_math_Vector2.setTo(this.get_size(),this.width,this.demo.get_size().y+50+kro13_kk_utils_TextUtils.getTextRect(this.demoText).y);break;default:this.demo.setEvenPosition(0,0),this.demoText.setEvenPosition(this.demo.get_position().x+this.demo.get_size().x+50,0),haxepunk_math_Vector2.setTo(this.get_size(),this.width,Math.max(this.demo.get_size().y,kro13_kk_utils_TextUtils.getTextRect(this.demoText).y))}},setMessage:function(e){this.message=e},__class__:kro13_kk_guiObjects_popups_help_demos_DemoBase});var kro13_kk_guiObjects_popups_help_demos_AvalancheDemo=function(e,t){null==t&&(t=0),kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.AvalancheDemo"]=kro13_kk_guiObjects_popups_help_demos_AvalancheDemo,kro13_kk_guiObjects_popups_help_demos_AvalancheDemo.__name__="kro13.kk.guiObjects.popups.help.demos.AvalancheDemo",kro13_kk_guiObjects_popups_help_demos_AvalancheDemo.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_AvalancheDemo.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){if(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e),this.avalancheAlphaSeq.getCurrIdx()<2){this.demo.fakeDP.getLocal().scoreData.speedRatio=.66,this.demo.getPlayer().transform.set_rotation(0),(t=this.restartsText).materialConfig.text="x1",t.renderer.isValid=!1}else{if(3==this.avalancheAlphaSeq.getCurrIdx())(t=this.restartsText).materialConfig.text="x0",t.renderer.isValid=!1;this.demo.fakeDP.getLocal().scoreData.speedRatio=.33,this.demo.getPlayer().transform.set_rotation(90)}this.demo.getHUD().update();var t,a=200*this.avalancheSize.getValue();this.avalancheMaterialConfig.size.y=40+a,this.avalanche.transform.set_alpha(this.avalancheAlpha.getValue()),this.avalanche.renderer.isValid=!1,(t=this.avalancheSize).isRunning()?t.tween.update(e):t.reset(),(t=this.avalancheAlpha).isRunning()?t.tween.update(e):t.reset()},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP6),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getHUD().update(),this.avalanche=new kro13_kk_gameObjects_Renderable,this.avalanche.name="avalanche demo",null==(s=240)&&(s=0),null==(n=200)&&(n=0);var e={x:n,y:s};this.avalanche.set_size(e),this.avalanche.setEvenPosition(0,-40),this.avalancheMaterialConfig={size:this.avalanche.get_size(),color:16777215},this.avalanche.renderer.material=kro13_kk_components_renderer_materials_EMaterial.RECTANGLE(this.avalancheMaterialConfig),this.demo.transform.addChild(this.avalanche.transform),(i=this.avalanche.renderer).isLayerValid=!1,i._layer=7,this.demo.getPlayer().get_position().y+=50,this.avalancheSizeSeq=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,.5,1),new kro13_kk_tween_FloatTween(.5,0,1),new kro13_kk_tween_FloatTween(0,1,1),new kro13_kk_tween_FloatTween(1,1,1)]),this.avalancheSize=new kro13_kk_tween_RepeatTween(this.avalancheSizeSeq),this.avalancheAlphaSeq=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,0,1)]),this.avalancheAlpha=new kro13_kk_tween_RepeatTween(this.avalancheAlphaSeq);var t=new kro13_kk_gameObjects_Renderable;null==(s=120)&&(s=0),null==(n=120)&&(n=0);var a={size:e={x:n,y:s},source:"images/btn_eagle.png",color:10066380};t.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(a),null==(s=120)&&(s=0),null==(n=120)&&(n=0);e={x:n,y:s};t.set_size(e);var n=this.demo.get_position().x+this.demo.get_size().x;null==(s=this.demo.get_position().y)&&(s=0),null==n&&(n=0);var i;e={x:n,y:s};t.set_position(e),t.build(),this.restartsText=new kro13_kk_guiObjects_TextField(11250647,70),this.restartsText.build(),(i=this.restartsText).materialConfig.text="x1",i.renderer.isValid=!1;var s,_=kro13_kk_utils_TextUtils.getTextRect(this.restartsText),r=this.restartsText;n=t.get_position().x+.5*(t.get_size().x-_.x);null==(s=t.get_position().y+t.get_size().y)&&(s=0),null==n&&(n=0);e={x:n,y:s};r.set_position(e),this.demo.fakeDP.getLocal().scoreData.avalancheBonus=1},__class__:kro13_kk_guiObjects_popups_help_demos_AvalancheDemo});var kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1=function(e,t){null==t&&(t=0),kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.MainHelpDemo1"]=kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1.__name__="kro13.kk.guiObjects.popups.help.demos.MainHelpDemo1",kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){var t;kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e),this.demo.getPlayer().transform.set_rotation(this.rotation.getValue()),this.demo.fakeDP.getLocal().scoreData.speedRatio=this.speed.getValue(),this.finger.get_position().x=this.fingerPos.getValue(),(t=this.rotation).isRunning()?t.tween.update(e):t.reset(),(t=this.fingerPos).isRunning()?t.tween.update(e):t.reset(),(t=this.speed).isRunning()?t.tween.update(e):t.reset(),this.demo.getHUD().update(e)},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP1),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getPlayer().transform.get_position().y=100,this.demo.getPlayer().transform.set_rotation(90),this.demo.fakeDP.getLocal().scoreData.speedRatio=0,this.demo.fakeDP.getLocal().scoreData.bonusCounter=0,this.demo.getHUD().update(),this.rotation=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(90,-90,2),new kro13_kk_tween_FloatTween(-90,90,2)])),this.fingerPos=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(this.demo.transform.get_size().x-50,50,2),new kro13_kk_tween_FloatTween(50,this.demo.transform.get_size().x-50,2)])),this.speed=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,1,1),new kro13_kk_tween_FloatTween(1,0,1)])),this.finger=new kro13_kk_gameObjects_Renderable,haxepunk_math_Vector2.setTo(this.finger.get_size(),60,75),this.finger.transform.origin.x=30;var e=this.finger.get_size();this.finger.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/finger.png",size:e}),this.demo.transform.addChild(this.finger.transform),this.finger.setEvenPosition(0,this.demo.transform.get_size().y-50)},__class__:kro13_kk_guiObjects_popups_help_demos_MainHelpDemo1});var kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2=function(e,t){null==t&&(t=0),kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.MainHelpDemo2"]=kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2.__name__="kro13.kk.guiObjects.popups.help.demos.MainHelpDemo2",kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){var t;kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e),this.demo.getPlayer().transform.set_rotation(this.rotation.getValue()),this.demo.fakeDP.getLocal().scoreData.speedRatio=this.speed.getValue(),this.demo.fakeDP.getLocal().scoreData.bonusCounter=Math.floor(this.bonus.getValue()),this.demo.getHUD().update(e),(t=this.rotation).isRunning()?t.tween.update(e):t.reset(),(t=this.speed).isRunning()?t.tween.update(e):t.reset(),(t=this.bonus).isRunning()?t.tween.update(e):t.reset()},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP2),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getPlayer().transform.get_position().y=100,this.demo.getPlayer().transform.set_rotation(0),this.demo.fakeDP.getLocal().scoreData.speedRatio=.75,this.demo.fakeDP.getLocal().scoreData.bonusCounter=5,this.demo.fakeDP.getLocal().scoreData.speedBonus=2,this.demo.getHUD().update(),this.rotation=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(-10,10,.6),new kro13_kk_tween_FloatTween(10,-10,.6)])),this.speed=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(.7,.8,.3),new kro13_kk_tween_FloatTween(.8,.7,.3)])),this.bonus=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,1,1),new kro13_kk_tween_FloatTween(1,2,1),new kro13_kk_tween_FloatTween(2,3,1),new kro13_kk_tween_FloatTween(3,5,1),new kro13_kk_tween_FloatTween(5,5,1),new kro13_kk_tween_FloatTween(5,0,1)]))},__class__:kro13_kk_guiObjects_popups_help_demos_MainHelpDemo2});var kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3=function(e,t){null==t&&(t=0),this.jumpCount=0,this.emitted=!0,this.demoTime=0,kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.MainHelpDemo3"]=kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3.__name__="kro13.kk.guiObjects.popups.help.demos.MainHelpDemo3",kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e);var t,a=this.demo.getPlayer();a.transform.set_rotation(this.rotation.getValue()),a.transform.set_scale(this.playerScale.getValue()),this.finger.get_position().x=this.fingerPos.getValue(),this.finger.transform.set_alpha(this.fingerAlpha.getValue()),this.demo.fakeDP.getLocal().scoreData.totalRotation=a.transform.get_rotation(),this.demo.getHUD().update(e),(t=this.rotation).isRunning()?t.tween.update(e):t.reset(),(t=this.fingerPos).isRunning()?t.tween.update(e):t.reset(),(t=this.fingerAlpha).isRunning()?t.tween.update(e):t.reset(),(t=this.playerScale).isRunning()?t.tween.update(e):t.reset()},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP3),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getPlayer().transform.set_rotation(0),this.demo.fakeDP.getLocal().scoreData.totalRotation=0,this.demo.getTramp().transform.set_visible(!0),this.demo.getHUD().showRotation(),this.rotation=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,90,.5,haxepunk_utils_Ease.quintIn),new kro13_kk_tween_FloatTween(90,225,.25),new kro13_kk_tween_FloatTween(225,360,.25),new kro13_kk_tween_FloatTween(360,360,1),new kro13_kk_tween_FloatTween(0,90,1,haxepunk_utils_Ease.quintIn),new kro13_kk_tween_FloatTween(90,405,.5),new kro13_kk_tween_FloatTween(405,720,.5),new kro13_kk_tween_FloatTween(720,720,1)])),this.playerScale=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(1,1,.5),new kro13_kk_tween_FloatTween(1,1.3,.25),new kro13_kk_tween_FloatTween(1.3,1,.25),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,1.5,.5),new kro13_kk_tween_FloatTween(1.5,1,.5),new kro13_kk_tween_FloatTween(1,1,1)])),this.fingerPos=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(50,this.demo.get_size().x-50,.5,haxepunk_utils_Ease.quintIn),new kro13_kk_tween_FloatTween(this.demo.get_size().x-50,this.demo.get_size().x-50,.25),new kro13_kk_tween_FloatTween(this.demo.get_size().x-50,this.demo.get_size().x-50,.25),new kro13_kk_tween_FloatTween(this.demo.get_size().x-50,this.demo.get_size().x-50,1),new kro13_kk_tween_FloatTween(0,this.demo.get_size().x,1,haxepunk_utils_Ease.quintIn),new kro13_kk_tween_FloatTween(this.demo.get_size().x,this.demo.get_size().x,.5),new kro13_kk_tween_FloatTween(this.demo.get_size().x,this.demo.get_size().x,.5),new kro13_kk_tween_FloatTween(this.demo.get_size().x,this.demo.get_size().x,1)])),this.fingerAlpha=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(1,1,.5),new kro13_kk_tween_FloatTween(0,0,.25),new kro13_kk_tween_FloatTween(0,0,.25),new kro13_kk_tween_FloatTween(0,0,1),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(0,0,.5),new kro13_kk_tween_FloatTween(0,0,.5),new kro13_kk_tween_FloatTween(0,0,1)])),this.finger=new kro13_kk_gameObjects_Renderable,haxepunk_math_Vector2.setTo(this.finger.get_size(),60,75),this.finger.transform.origin.x=30;var e=this.finger.get_size();this.finger.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/finger.png",size:e}),this.demo.transform.addChild(this.finger.transform),this.finger.setEvenPosition(0,this.demo.transform.get_size().y-50)},__class__:kro13_kk_guiObjects_popups_help_demos_MainHelpDemo3});var kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4=function(e,t){null==t&&(t=0),kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.MainHelpDemo4"]=kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4.__name__="kro13.kk.guiObjects.popups.help.demos.MainHelpDemo4",kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP4),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getPlayer().transform.get_position().y=100,this.demo.getPlayer().transform.set_rotation(90),this.demo.getHUD().transform.get_position().y=170,this.demo.getHUD().update();var e=kro13_kk_guiObjects_GUIObjectsFactory.get_instance().buildSquareButton(null,"images/btn_eagle.png","Btn Restart1"),t=this.demo.get_position().x,a=.5*(this.demo.get_size().x-e.get_size().x);e.get_position().x=t+a;t=this.demo.get_position().y+this.demo.get_size().y-e.get_size().y;e.get_position().y=t+20,this.transform.addChild(e.transform)},__class__:kro13_kk_guiObjects_popups_help_demos_MainHelpDemo4});var kro13_kk_guiObjects_popups_help_demos_MandalaDemo=function(e,t){null==t&&(t=0),kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.MandalaDemo"]=kro13_kk_guiObjects_popups_help_demos_MandalaDemo,kro13_kk_guiObjects_popups_help_demos_MandalaDemo.__name__="kro13.kk.guiObjects.popups.help.demos.MandalaDemo",kro13_kk_guiObjects_popups_help_demos_MandalaDemo.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_MandalaDemo.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){var t;kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e),this.demo.fakeDP.getLocal().scoreData.avalancheBonus=0|this.bonus.getValue(),this.demo.fakeDP.getLocal().scoreData.totalRotation=this.rotation.getValue(),this.demo.getHUD().transform.set_scale(this.scale.getValue()),this.demo.getHUD().update(e),(t=this.rotation).isRunning()?t.tween.update(e):t.reset(),(t=this.bonus).isRunning()?t.tween.update(e):t.reset(),(t=this.scale).isRunning()?t.tween.update(e):t.reset()},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP9),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getPlayer().transform.get_position().y=100,this.demo.getPlayer().transform.set_rotation(0),this.demo.fakeDP.getLocal().scoreData.bonusCounter=5,this.demo.fakeDP.getLocal().scoreData.avalancheBonus=0,this.demo.getHUD().update(),this.demo.getHUD().showRotation(),this.rotation=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,0,1),new kro13_kk_tween_FloatTween(360,360,.1),new kro13_kk_tween_FloatTween(360,360,.1),new kro13_kk_tween_FloatTween(360,360,.1),new kro13_kk_tween_FloatTween(360,360,.8),new kro13_kk_tween_FloatTween(0,0,1),new kro13_kk_tween_FloatTween(720,720,.1),new kro13_kk_tween_FloatTween(720,720,.2),new kro13_kk_tween_FloatTween(720,720,.2),new kro13_kk_tween_FloatTween(720,720,.6)])),this.bonus=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(0,0,1),new kro13_kk_tween_FloatTween(0,0,.1),new kro13_kk_tween_FloatTween(0,0,.1),new kro13_kk_tween_FloatTween(0,0,.1),new kro13_kk_tween_FloatTween(0,0,.8),new kro13_kk_tween_FloatTween(1,1,1),new kro13_kk_tween_FloatTween(1,1,.1),new kro13_kk_tween_FloatTween(1,1,.2),new kro13_kk_tween_FloatTween(1,1,.2),new kro13_kk_tween_FloatTween(1,1,.6)])),this.scale=new kro13_kk_tween_RepeatTween(new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(.7,.7,1),new kro13_kk_tween_FloatTween(.7,.7,.1),new kro13_kk_tween_FloatTween(.7,.8,.1),new kro13_kk_tween_FloatTween(.8,.7,.1),new kro13_kk_tween_FloatTween(.7,.7,.8),new kro13_kk_tween_FloatTween(.7,.7,1),new kro13_kk_tween_FloatTween(.7,.7,.1),new kro13_kk_tween_FloatTween(.7,1,.2),new kro13_kk_tween_FloatTween(1,.7,.2),new kro13_kk_tween_FloatTween(.7,.7,.6)]))},__class__:kro13_kk_guiObjects_popups_help_demos_MandalaDemo});var kro13_kk_guiObjects_popups_help_demos_SnowmenDemo=function(e,t){null==t&&(t=0),this.emittedSnowmen2=!1,this.emittedSnowmen1=!1,this.demoSnowmenTime=0,kro13_kk_guiObjects_popups_help_demos_DemoBase.call(this,e,t)};$hxClasses["kro13.kk.guiObjects.popups.help.demos.SnowmenDemo"]=kro13_kk_guiObjects_popups_help_demos_SnowmenDemo,kro13_kk_guiObjects_popups_help_demos_SnowmenDemo.__name__="kro13.kk.guiObjects.popups.help.demos.SnowmenDemo",kro13_kk_guiObjects_popups_help_demos_SnowmenDemo.__super__=kro13_kk_guiObjects_popups_help_demos_DemoBase,kro13_kk_guiObjects_popups_help_demos_SnowmenDemo.prototype=$extend(kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype,{update:function(e){kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.update.call(this,e),0==this.demoSnowmenPosSeq.getCurrIdx()?(this.demo.fakeDP.getLocal().scoreData.speedRatio=.66,this.demo.getPlayer().transform.set_rotation(0)):1==this.demoSnowmenPosSeq.getCurrIdx()?this.emittedSnowmen1||(this.demo.getHUD().resetScore(),this.demo.getHUD().emitScore(30),this.emittedSnowmen1=!0,this.emittedSnowmen2=!1,this.snowman.transform.set_visible(!1)):2==this.demoSnowmenPosSeq.getCurrIdx()?(this.demo.fakeDP.getLocal().scoreData.speedRatio=.33,this.demo.fakeDP.getLocal().scoreData.speedRatio=.33,this.demo.getPlayer().transform.set_rotation(90),this.snowman.transform.get_visible()||this.snowman.transform.set_visible(!0)):this.emittedSnowmen2||(this.demo.getHUD().resetScore(),this.demo.getHUD().emitScore(-15),this.emittedSnowmen2=!0,this.emittedSnowmen1=!1),this.demo.getHUD().update();var t=this.demoSnowmenPos;t.isRunning()?t.tween.update(e):t.reset(),this.demoSnowmenTime+=e,this.snowman.get_position().y=this.demoSnowmenPos.getValue()},build:function(){this.setMessage(kro13_kk_utils_L.get_instance().HELP5),kro13_kk_guiObjects_popups_help_demos_DemoBase.prototype.build.call(this),this.demo.getHUD().update(),this.snowman=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildSnowman(),this.demo.transform.addChild(this.snowman.transform),this.snowman.setEvenPosition(80,this.demo.transform.get_size().y);this.demoSnowmenPosSeq=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(this.demo.transform.get_size().y-0,this.demo.transform.get_size().y-60,.7),new kro13_kk_tween_FloatTween(this.demo.transform.get_size().y-60,this.demo.transform.get_size().y-60,1),new kro13_kk_tween_FloatTween(this.demo.transform.get_size().y-0,this.demo.transform.get_size().y-60-20,2),new kro13_kk_tween_FloatTween(this.demo.transform.get_size().y-60-20,this.demo.transform.get_size().y-60-20,1)]),this.demoSnowmenPos=new kro13_kk_tween_RepeatTween(this.demoSnowmenPosSeq)},__class__:kro13_kk_guiObjects_popups_help_demos_SnowmenDemo});var kro13_kk_guiObjects_preloader_PreloaderRotate=function(e){kro13_kk_components_animation_AbstractAnimation.call(this),this.preloader=e};$hxClasses["kro13.kk.guiObjects.preloader.PreloaderRotate"]=kro13_kk_guiObjects_preloader_PreloaderRotate,kro13_kk_guiObjects_preloader_PreloaderRotate.__name__="kro13.kk.guiObjects.preloader.PreloaderRotate",kro13_kk_guiObjects_preloader_PreloaderRotate.__super__=kro13_kk_components_animation_AbstractAnimation,kro13_kk_guiObjects_preloader_PreloaderRotate.prototype=$extend(kro13_kk_components_animation_AbstractAnimation.prototype,{update:function(e){var t=this.preloader.icon.transform;t.set_rotation(t.get_rotation()-1e3*e)},__class__:kro13_kk_guiObjects_preloader_PreloaderRotate});var kro13_kk_maps_CanyonMap=function(){};$hxClasses["kro13.kk.maps.CanyonMap"]=kro13_kk_maps_CanyonMap,kro13_kk_maps_CanyonMap.__name__="kro13.kk.maps.CanyonMap",kro13_kk_maps_CanyonMap.generateRandom=function(e,t,a,n,i,s,_,r,o,l,h,u){null==u&&(u=!1),null==h&&(h=!1),null==l&&(l=5),null==o&&(o=1),null==r&&(r=3),null==_&&(_=3),null==s&&(s=3),null==i&&(i=3),null==n&&(n=3),null==a&&(a=3),null==t&&(t=3),null==e&&(e=40);var p=new kro13_kk_maps_CanyonMap;return p.ground=kro13_kk_maps_GroundMap.generateRandom(e,t,a,n,i,s,_,r,o,l,h,u),p.leftWall=p.ground.getLeftMould(),p.leftWallWall=p.leftWall.getLeftMould(),p.rightWall=p.ground.getRightMould(),p.rightWallWall=p.rightWall.getRightMould(),p},kro13_kk_maps_CanyonMap.buildEndingGroundMap=function(e,t,a){var n=new kro13_kk_maps_GroundBlockMap;n.position=e;var i=t,s=a;null==s&&(s=0),null==i&&(i=0);var _={x:i,y:s};n.size=_,n.addBorder(0),n.addSpots(5),n.addNatureObjects(3);var r=new kro13_kk_maps_GroundMap;return r.addBlock(n),r},kro13_kk_maps_CanyonMap.buildEndingWallMap=function(e){var t=e.getLastBlock(),a=new kro13_kk_maps_GroundBlockMap;null==(u=-1)&&(u=0),null==(s=-10)&&(s=0);var n=s,i=u,s=(_=t.position).x;null==(u=_.y)&&(u=0),null==s&&(s=0),(h=_={x:s,y:u}).x+=n,h.y+=i,a.position=h;s=10;null==(u=t.size.y+1)&&(u=0),null==s&&(s=0);var _={x:s,y:u};a.size=_,a.addSpots(5),a.addNatureObjects(5),a.addBorder(0),a.addBorder(1);var r=new kro13_kk_maps_GroundBlockMap;_=t.position,s=-10;null==(u=t.size.y)&&(u=0),null==s&&(s=0);n=s,i=u,s=_.x;null==(u=_.y)&&(u=0),null==s&&(s=0),(h=_={x:s,y:u}).x+=n,h.y+=i,r.position=h,null==(u=5)&&(u=0),null==(s=20+t.size.x)&&(s=0);_={x:s,y:u};r.size=_,r.addSpots(5),r.addNatureObjects(5),r.addBorder(0);var o=new kro13_kk_maps_GroundBlockMap;_=t.position;null==(u=-1)&&(u=0),null==(s=t.size.x)&&(s=0);n=s,i=u,s=_.x;null==(u=_.y)&&(u=0),null==s&&(s=0),(h=_={x:s,y:u}).x+=n,h.y+=i,o.position=h;s=10;null==(u=t.size.y+1)&&(u=0),null==s&&(s=0);_={x:s,y:u};o.size=_,o.addSpots(5),o.addNatureObjects(5),o.addBorder(0),o.addBorder(2);var l=new kro13_kk_maps_GroundBlockMap;_=t.position,s=-20;null==(u=t.size.y+5)&&(u=0),null==s&&(s=0);var h,u;n=s,i=u,s=_.x;null==(u=_.y)&&(u=0),null==s&&(s=0),(h=_={x:s,y:u}).x+=n,h.y+=i,l.position=h,null==(u=40)&&(u=0),null==(s=40+t.size.x)&&(s=0);_={x:s,y:u};l.size=_,l.addSpots(50,30),l.addNatureObjects(50,30);var p=new kro13_kk_maps_GroundMap;return p.addBlock(a),p.addBlock(r),p.addBlock(o),p.addBlock(l),p},kro13_kk_maps_CanyonMap.prototype={linkTo:function(e){for(var t=e.ground.getLastBlock(),a=e.leftWall.getLastBlock(),n=e.leftWallWall.getLastBlock(),i=e.rightWall.getLastBlock(),s=e.rightWallWall.getLastBlock(),_=this.ground.getFirstBlock(),r=this.leftWall.getFirstBlock(),o=this.leftWallWall.getFirstBlock(),l=this.rightWall.getFirstBlock(),h=this.rightWallWall.getFirstBlock(),u=t.position.x+Math.round(.5*(t.size.x-_.size.x)),p=0,c=this.ground.blocks;p<c.length;){var d=c[p];++p,d.position.x+=u}for(p=0,c=this.leftWall.blocks;p<c.length;){d=c[p];++p,d.position.x+=u}for(p=0,c=this.leftWallWall.blocks;p<c.length;){d=c[p];++p,d.position.x+=u}for(p=0,c=this.rightWall.blocks;p<c.length;){d=c[p];++p,d.position.x+=u}for(p=0,c=this.rightWallWall.blocks;p<c.length;){d=c[p];++p,d.position.x+=u}var f={x:t.position.x,xL:a.position.x,xLL:n.position.x,xR:i.position.x,xRR:s.position.x,xwRR:s.position.x+s.size.x},m={x:_.position.x,xL:r.position.x,xLL:o.position.x,xR:l.position.x,xRR:h.position.x,xwRR:h.position.x+h.size.x},g=null,x=null;t.size.x<=_.size.x?(g=this.calculateBlockPoints(f,m),x=this.calculateBlockPoints(g,m)):(g=this.calculateBlockPoints(m,f),x=this.calculateBlockPoints(g,f));var k=this.buildBlockFromPoints(g.x,g.xR),y=this.buildBlockFromPoints(g.xL,g.x);y.position.y-=1,y.addBorder(0),y.addBorder(1);var b=this.buildBlockFromPoints(g.xLL,g.xL);b.position.y-=2,b.addBorder(0),b.addBorder(1);var v=this.buildBlockFromPoints(g.xR,g.xRR);v.position.y-=1,v.addBorder(0),v.addBorder(2);var P=this.buildBlockFromPoints(g.xRR,g.xwRR);P.position.y-=2,P.addBorder(0),P.addBorder(2);var w=this.buildBlockFromPoints(x.x,x.xR),T=this.buildBlockFromPoints(x.xL,x.x);T.position.y-=1,T.addBorder(0),T.addBorder(1);var C=this.buildBlockFromPoints(x.xLL,x.xL);C.position.y-=2,C.addBorder(0),C.addBorder(1);var S=this.buildBlockFromPoints(x.xR,x.xRR);S.position.y-=1,S.addBorder(0),S.addBorder(2);var A=this.buildBlockFromPoints(x.xRR,x.xwRR);A.position.y-=2,A.addBorder(0),A.addBorder(2),t.size.x<=_.size.x?(this.ground.addBlockAtStart(w),this.leftWall.addBlockAtStart(T),this.rightWall.addBlockAtStart(S),this.leftWallWall.addBlockAtStart(C),this.rightWallWall.addBlockAtStart(A),this.ground.addBlockAtStart(k),this.leftWall.addBlockAtStart(y),this.rightWall.addBlockAtStart(v),this.leftWallWall.addBlockAtStart(b),this.rightWallWall.addBlockAtStart(P)):(this.ground.addBlockAtStart(k),this.leftWall.addBlockAtStart(y),this.rightWall.addBlockAtStart(v),this.leftWallWall.addBlockAtStart(b),this.rightWallWall.addBlockAtStart(P),this.ground.addBlockAtStart(w),this.leftWall.addBlockAtStart(T),this.rightWall.addBlockAtStart(S),this.leftWallWall.addBlockAtStart(C),this.rightWallWall.addBlockAtStart(A))},printPoints:function(e){haxe_Log.trace(e.xLL+" "+e.xL+" "+e.x+" "+e.xR+" "+e.xRR+" "+e.xwRR,{fileName:"src/kro13/kk/maps/CanyonMap.hx",lineNumber:199,className:"kro13.kk.maps.CanyonMap",methodName:"printPoints"})},calculateBlockPoints:function(e,t){var a=e.xLL,n=e.xL,i=e.x,s=e.xR,_=e.xRR,r=e.xwRR;return e.xL>=t.x&&(i=e.xL,n=e.xLL),e.xLL>t.x?a=t.x:e.xLL>t.xL&&(a=t.xL),e.xL<t.xLL&&(n=t.xLL),e.xRR<=t.xR&&(s=e.xRR,_=e.xwRR),e.xwRR<t.xR?r=t.xR:e.xwRR<t.xRR&&(r=t.xRR),e.xRR>t.xwRR&&(_=t.xwRR),a==n&&--a,_==r&&++r,{x:i,xL:n,xLL:a,xR:s,xRR:_,xwRR:r}},buildBlockFromPoints:function(e,t){var a=new kro13_kk_maps_GroundBlockMap;null==(i=2)&&(i=0),null==(n=t-e)&&(n=0);var n,i,s={x:n,y:i};a.size=s,null==(i=0)&&(i=0),null==(n=e)&&(n=0);s={x:n,y:i};return a.position=s,a},__class__:kro13_kk_maps_CanyonMap};var kro13_kk_maps_CliffMap=function(){this.levels=[]};$hxClasses["kro13.kk.maps.CliffMap"]=kro13_kk_maps_CliffMap,kro13_kk_maps_CliffMap.__name__="kro13.kk.maps.CliffMap",kro13_kk_maps_CliffMap.generateRandom=function(e,t,a,n,i){null==i&&(i=3),null==n&&(n=6),null==a&&(a=4);var s=new kro13_kk_maps_CliffMap;return s.buildLevels(e,t,a,n,i),s},kro13_kk_maps_CliffMap.prototype={buildLevels:function(e,t,a,n,i){if(i>3)throw haxe_Exception.thrown("a cliff can not have more than 3 levels!");if(i<1)throw haxe_Exception.thrown("a cliff can not have less than 1 level!");if(this.levels=[],this.levels.push([this.generateLevel(e,t,a,n,1,2)]),1!=i){var s=this.levels[0][0];3==i&&(this.levels.push([this.generateLevel(e,t,a,n,s.z+1,s.z+2)]),s=this.levels[1][0]),this.levels.push([this.generateLevel(e,t,a-2,n-2,s.z+1,s.z+2)]);for(var _=e,r=0,o=0,l=t,h=0,u=this.levels;h<u.length;){var p=u[h];++h,p[0].position.x<_&&(_=p[0].position.x),p[0].position.x+p[0].size.x>o&&(o=p[0].position.x+p[0].size.x),p[0].position.y<l&&(l=p[0].position.y),p[0].position.y+p[0].size.y+p[0].z>r&&(r=p[0].position.y+p[0].size.y+p[0].z)}var c=o-_,d=r-l;null==d&&(d=0),null==c&&(c=0);var f={x:c,y:d};this.size=f;for(h=0,u=this.levels;h<u.length;){p=u[h];++h,p[0].position.x-=_,p[0].position.y-=l}for(h=0,u=this.levels.length;h<u;)for(var m=h++,g=m+1,x=this.levels.length;g<x;){var k=g++;this.levels[m]=this.divideLevels(this.levels[m],this.levels[k][0])}}},divideLevels:function(e,t){for(var a=[],n=t.position.x,i=t.position.x+t.size.x,s=t.position.y,_=t.position.y+t.size.y,r=0;r<e.length;){var o=e[r];++r;var l=o.position.x,h=o.position.x+o.size.x,u=o.position.y,p=o.position.y+o.size.y;if(n>l&&n<h){var c=n-l,d=o.size.y;null==d&&(d=0),null==c&&(c=0);var f={x:c,y:d},m=o.position.x,g=o.position.y;null==g&&(g=0),null==m&&(m=0);var x={x:m,y:g};a.push({size:f,position:x,z:o.z})}if(i>l&&i<h){var k=h-i,y=o.size.y;null==y&&(y=0),null==k&&(k=0);var b={x:k,y:y},v=i,P=o.position.y;null==P&&(P=0),null==v&&(v=0);var w={x:v,y:P};a.push({size:b,position:w,z:o.z})}if(s>u&&s<p){var T=o.size.x,C=s-u;null==C&&(C=0),null==T&&(T=0);var S={x:T,y:C},A=o.position.x,E=o.position.y;null==E&&(E=0),null==A&&(A=0);var D={x:A,y:E};a.push({size:S,position:D,z:o.z})}if(_>u&&_<p){var M=o.size.x,R=p-_;null==R&&(R=0),null==M&&(M=0);var L={x:M,y:R},I=o.position.x,$=_;null==$&&($=0),null==I&&(I=0);var B={x:I,y:$};a.push({size:L,position:B,z:o.z})}}return a},getLevels:function(){return this.levels},getSize:function(){return this.size},print:function(){haxe_Log.trace("cliff map "+this.size.x+", "+this.size.y+":",{fileName:"src/kro13/kk/maps/CliffMap.hx",lineNumber:149,className:"kro13.kk.maps.CliffMap",methodName:"print"})},generateLevel:function(e,t,a,n,i,s){var _=kro13_kk_utils_MathUtils.get_instance().randomRange(a,n);null==(r=kro13_kk_utils_MathUtils.get_instance().randomRange(a,n))&&(r=0),null==_&&(_=0);var r,o={x:_,y:r},l=e-o.x,h=t-o.y;_=kro13_kk_utils_MathUtils.get_instance().randomRange(0,l);return null==(r=kro13_kk_utils_MathUtils.get_instance().randomRange(0,h))&&(r=0),null==_&&(_=0),{size:o,position:{x:_,y:r},z:kro13_kk_utils_MathUtils.get_instance().randomRange(i,s)}},__class__:kro13_kk_maps_CliffMap};var kro13_kk_maps_GroundBlockMap=function(){this.borders=[],this.natureObjects=[],this.spots=[],this.shadows=[],this.trampolines=[],this.snowmen=[];var e={x:0,y:0};this.size=e;e={x:0,y:0};this.position=e,this.landscapeDecore=[]};$hxClasses["kro13.kk.maps.GroundBlockMap"]=kro13_kk_maps_GroundBlockMap,kro13_kk_maps_GroundBlockMap.__name__="kro13.kk.maps.GroundBlockMap",kro13_kk_maps_GroundBlockMap.generateRandom=function(e,t,a,n){null==n&&(n=20),null==a&&(a=20),null==t&&(t=3),null==e&&(e=3);var i=new kro13_kk_maps_GroundBlockMap,s=kro13_kk_utils_MathUtils.get_instance().randomRange(e,a);null==(_=kro13_kk_utils_MathUtils.get_instance().randomRange(t,n))&&(_=0),null==s&&(s=0);var _,r=o={x:s,y:_};i.size=r,null==(_=0)&&(_=0),null==(s=0)&&(s=0);var o={x:s,y:_};return i.position=o,i},kro13_kk_maps_GroundBlockMap.prototype={tryAddLandscapeDecore:function(){if(this.size.x>=6&&this.size.y>=4&&Math.random()>.9){var e=this.landscapeDecore,t=kro13_kk_utils_MathUtils.get_instance().randomRange(3,this.size.x-3),a=kro13_kk_utils_MathUtils.get_instance().randomRange(2,this.size.y-2);null==a&&(a=0),null==t&&(t=0);var n={x:t,y:a};e.push(n)}},getLandscapeDecore:function(){return this.landscapeDecore},addBorder:function(e){this.borders.indexOf(e)<0&&this.borders.push(e)},removeBorder:function(e){this.borders.indexOf(e)>=0&&HxOverrides.remove(this.borders,e)},getBorders:function(){return this.borders},addSnowmen:function(e,t){null==t&&(t=0),null==e&&(e=1);for(var a=0,n=kro13_kk_utils_MathUtils.get_instance().randomRange(t,e);a<n;){a++;var i=kro13_kk_utils_MathUtils.get_instance().randomRange(0,this.size.x-1),s=kro13_kk_utils_MathUtils.get_instance().randomRange(0,this.size.y-1);null==s&&(s=0),null==i&&(i=0);var _={x:i,y:s};this.snowmen.push(_)}this.snowmen.sort($bind(this,this.sortByY)),this.cleanDuplicates(this.natureObjects,this.snowmen),this.cleanDuplicates(this.snowmen)},getSnowmen:function(){return this.snowmen},addTrampolines:function(e){for(var t=0,a=e;t<a;){t++;var n=Math.round(.5*this.size.x)-1,i=Math.round(.5*this.size.y)-1;null==i&&(i=0),null==n&&(n=0);var s={x:n,y:i};this.trampolines.push(s)}},getTrampolines:function(){return this.trampolines},addSpots:function(e,t){null==t&&(t=0),null==e&&(e=3);var a=kro13_kk_utils_MathUtils.get_instance().randomRange(0,e);if(this.size.x>1&&this.size.y>1)for(var n=0,i=a;n<i;){n++;this.addSpot(kro13_kk_utils_MathUtils.get_instance().randomRange(0,this.size.x-1),kro13_kk_utils_MathUtils.get_instance().randomRange(0,this.size.y-1))}},getSposts:function(){return this.spots},addNatureObjects:function(e,t){null==t&&(t=0),null==e&&(e=3),this.size.y<=4&&this.size.x/this.size.y>=2&&(t=0,e=1);var a=kro13_kk_utils_MathUtils.get_instance().randomRange(t,e);if(this.size.x>1&&this.size.y>1)for(var n=0,i=a;n<i;){n++;var s=kro13_kk_utils_MathUtils.get_instance().randomRange(1,this.size.x-1),_=kro13_kk_utils_MathUtils.get_instance().randomRange(1,this.size.y-1);null==_&&(_=0),null==s&&(s=0);var r={x:s,y:_};this.natureObjects.push(r)}this.natureObjects.sort($bind(this,this.sortByY)),this.cleanDuplicates(this.natureObjects),this.cleanDuplicates(this.natureObjects,this.snowmen)},getNatureObjects:function(){return this.natureObjects},addSpot:function(e,t){var a=e,n=t;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};this.spots.push(i)},addShadow:function(e,t){var a=e,n=t;null==n&&(n=0),null==a&&(a=0);var i={x:a,y:n};this.shadows.push(i)},sortByY:function(e,t){return e.y>t.y?1:e.y<t.y?-1:0},cleanDuplicates:function(e,t){null==t&&(t=e.slice());for(var a=t.length-1;a>=0;){for(var n=t[a],i=e.length-1;i>=0;){var s=e[i];s!=n&&s.x==n.x&&s.y==n.y&&HxOverrides.remove(e,s),--i}--a}},__class__:kro13_kk_maps_GroundBlockMap};var kro13_kk_maps_GroundMap=function(){this.blocks=[]};$hxClasses["kro13.kk.maps.GroundMap"]=kro13_kk_maps_GroundMap,kro13_kk_maps_GroundMap.__name__="kro13.kk.maps.GroundMap",kro13_kk_maps_GroundMap.generateRandom=function(e,t,a,n,i,s,_,r,o,l,h,u){null==u&&(u=!1),null==h&&(h=!1),null==l&&(l=5),null==o&&(o=1),null==r&&(r=1),null==_&&(_=3),null==s&&(s=3),null==i&&(i=20),null==n&&(n=20),null==a&&(a=3),null==t&&(t=3),null==e&&(e=40);for(var p=new kro13_kk_maps_GroundMap;p.get_blocksCount()<e;){var c=kro13_kk_maps_GroundBlockMap.generateRandom(t,a,n,i),d=p.getLastBlock();if(0==p.get_blocksCount()&&h)c.size.y<5&&(c.size.y=5);else if(null!=d){var f=0;f=u?Math.random()>.5?-c.size.x+s:d.size.x-s:kro13_kk_utils_MathUtils.get_instance().randomRange(-c.size.x+s,d.size.x-s);var m=d.position,g=f,x=d.size.y;null==x&&(x=0),null==g&&(g=0);var k=g,y=x,b=m.x,v=m.y;null==v&&(v=0),null==b&&(b=0);var P={x:b,y:v};P.x+=k,P.y+=y,c.position=P,c.addNatureObjects(_),c.addSnowmen(r)}c.addSpots(5),c.addBorder(0),p.addBlock(c)}for(var w=kro13_kk_utils_MathUtils.get_instance().randomRange(o,l),T=[],C=0,S=p.blocks;C<S.length;){(D=S[C++]).size.x>2&&D.size.y>3&&D.size.x<=D.size.y&&T.push(D)}for(var A=kro13_kk_utils_MathUtils.get_instance().randomArray(w,T),E=0;E<A.length;){var D=A[E];++E,D.addTrampolines(1)}return p},kro13_kk_maps_GroundMap.prototype={getLeftMould:function(){for(var e=new kro13_kk_maps_GroundMap,t=0,a=this.get_blocksCount();t<a;){var n=t++,i=this.blocks[n],s=1,_=n>0?this.blocks[n-1]:null,r=n<this.get_blocksCount()-1?this.blocks[n+1]:null;if(null!=_&&null!=r){var o=Math.round(Math.abs(_.position.x-i.position.x)),l=Math.round(Math.abs(r.position.x-i.position.x));s=i.position.x<=_.position.x&&i.position.x<=r.position.x?1:_.position.x<r.position.x?o:l}else null!=_?s=i.position.x<=_.position.x?1:Math.round(Math.abs(_.position.x-i.position.x)):null!=r&&(s=i.position.x<=r.position.x?1:Math.round(Math.abs(r.position.x-i.position.x)));var h=new kro13_kk_maps_GroundBlockMap,u=kro13_kk_utils_MathUtils.get_instance().randomRange(s,s+5),p=i.size.y;null==p&&(p=0),null==u&&(u=0);var c={x:u,y:p};h.size=c;var d=i.position.x-h.size.x,f=i.position.y-1;null==f&&(f=0),null==d&&(d=0);var m={x:d,y:f};h.position=m,h.addBorder(1),h.addBorder(0),h.addSpots(5),h.addNatureObjects(10),e.addBlock(h)}return e},getRightMould:function(){for(var e=new kro13_kk_maps_GroundMap,t=0,a=this.get_blocksCount();t<a;){var n=t++,i=this.blocks[n],s=1,_=n>0?this.blocks[n-1]:null,r=n<this.get_blocksCount()-1?this.blocks[n+1]:null;if(null!=_&&null!=r){var o=Math.round(Math.abs(_.position.x+_.size.x-i.position.x-i.size.x)),l=Math.round(Math.abs(r.position.x+r.size.x-i.position.x-i.size.x));s=i.position.x+i.size.x>=_.position.x+_.size.x&&i.position.x+i.size.x>=r.position.x+r.size.x?1:_.position.x+_.size.x>r.position.x+r.size.x?o:l}else null!=_?s=i.position.x+i.size.x>=_.position.x+_.size.x?1:Math.round(Math.abs(_.position.x+_.size.x-i.position.x-i.size.x)):null!=r&&(s=i.position.x+i.size.x>=r.position.x+r.size.x?1:Math.round(Math.abs(r.position.x+r.size.x-i.position.x-i.size.x)));var h=new kro13_kk_maps_GroundBlockMap,u=kro13_kk_utils_MathUtils.get_instance().randomRange(s,s+5),p=i.size.y;null==p&&(p=0),null==u&&(u=0);var c={x:u,y:p};h.size=c;var d=i.position.x+i.size.x,f=i.position.y-1;null==f&&(f=0),null==d&&(d=0);var m={x:d,y:f};h.position=m,h.addBorder(2),h.addBorder(0),h.addSpots(5),h.addNatureObjects(10),e.addBlock(h)}return e},addBlock:function(e){this.blocks.push(e)},addBlockAtStart:function(e){for(var t=0,a=this.blocks;t<a.length;){var n=a[t];++t,n.position.y+=e.size.y}this.blocks.unshift(e)},getLastBlock:function(){return this.blocks[this.get_blocksCount()-1]},getFirstBlock:function(){return this.blocks[0]},iterator:function(){return new haxe_iterators_ArrayIterator(this.blocks)},getEnterPoint:function(){if(this.blocks.length>0){var e=this.getFirstBlock(),t=Math.floor(e.position.x+e.size.x/2);return null==(a=e.position.y)&&(a=0),null==t&&(t=0),{x:t,y:a}}var a;return null==(a=0)&&(a=0),null==(t=0)&&(t=0),{x:t,y:a}},getExitPoint:function(){if(this.blocks.length>0){var e=this.getLastBlock(),t=Math.floor(e.position.x+e.size.x/2);return null==(a=e.position.y+e.size.y)&&(a=0),null==t&&(t=0),{x:t,y:a}}var a;return null==(a=0)&&(a=0),null==(t=0)&&(t=0),{x:t,y:a}},get_blocksCount:function(){return this.blocks.length},__class__:kro13_kk_maps_GroundMap,__properties__:{get_blocksCount:"get_blocksCount"}};var kro13_kk_sound_SoundManager=function(){this.impl=new kro13_howler_HowlerSoundManager};$hxClasses["kro13.kk.sound.SoundManager"]=kro13_kk_sound_SoundManager,kro13_kk_sound_SoundManager.__name__="kro13.kk.sound.SoundManager",kro13_kk_sound_SoundManager.__interfaces__=[kro13_kk_sound_ISoundManager],kro13_kk_sound_SoundManager.__properties__={get_instance:"get_instance"},kro13_kk_sound_SoundManager.get_instance=function(){return null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance},kro13_kk_sound_SoundManager.prototype={isPlaying:function(e){return this.impl.isPlaying(e)},setVolume:function(e,t){this.impl.setVolume(e,t)},init:function(e){this.impl.init(e)},addType:function(e){this.impl.addType(e)},removeType:function(e){this.impl.removeType(e)},hasType:function(e){return this.impl.hasType(e)},play:function(e,t){null==t&&(t=!1),haxe_Log.trace("play sound "+e+" "+(null==t?"null":""+t),{fileName:"src/kro13/kk/sound/SoundManager.hx",lineNumber:52,className:"kro13.kk.sound.SoundManager",methodName:"play"}),this.impl.play(e,t)},stop:function(e){haxe_Log.trace("stop sound "+e,{fileName:"src/kro13/kk/sound/SoundManager.hx",lineNumber:58,className:"kro13.kk.sound.SoundManager",methodName:"stop"}),this.impl.stop(e)},pause:function(e){haxe_Log.trace("pause sound "+e,{fileName:"src/kro13/kk/sound/SoundManager.hx",lineNumber:64,className:"kro13.kk.sound.SoundManager",methodName:"pause"}),this.impl.pause(e)},fade:function(e){this.impl.fade(e)},__class__:kro13_kk_sound_SoundManager};var kro13_kk_systems_AnimationSystem=function(e,t){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),haxe_Log.trace("new anim system",{fileName:"src/kro13/kk/systems/AnimationSystem.hx",lineNumber:16,className:"kro13.kk.systems.AnimationSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.AnimationSystem"]=kro13_kk_systems_AnimationSystem,kro13_kk_systems_AnimationSystem.__name__="kro13.kk.systems.AnimationSystem",kro13_kk_systems_AnimationSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_AnimationSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t,a;null==e.componentsMap?t=null:t=e.componentsMap.h[8];(null!=t&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?a=null:a=e.componentsMap.h[2];for(var n=a.iterator();n.hasNext();){var i=n.next();this.addContainer(i.owner)}},update:function(){for(var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier,t=0,a=this.containers;t<a.length;){var n,i=a[t];if(++t,null==i.componentsMap)n=null;else n=i.componentsMap.h[8];var s=n;null!=s.currentAnim&&(s.currentAnim.isStarted?s.currentAnim.update(e):s.currentAnim=null)}},__class__:kro13_kk_systems_AnimationSystem});var kro13_kk_systems_AvalancheSystem=function(e,t,a,n){this.avalancheStarted=!1,this.avalancheDelay=3,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.dataProvider=a,this.eventDispatcher=n,this.restartController=new kro13_kk_RestartController(a,n),haxe_Log.trace("new avalanche system",{fileName:"src/kro13/kk/systems/AvalancheSystem.hx",lineNumber:48,className:"kro13.kk.systems.AvalancheSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.AvalancheSystem"]=kro13_kk_systems_AvalancheSystem,kro13_kk_systems_AvalancheSystem.__name__="kro13.kk.systems.AvalancheSystem",kro13_kk_systems_AvalancheSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_AvalancheSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{getAvalancheProgress:function(){return this.avalancheProgress/(.4*haxepunk_HXP.height)},addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[2];if(this.playerTransform=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[13];if(this.playerPile=t,null==e.componentsMap)a=null;else a=e.componentsMap.h[6];a.addHandler($bind(this,this.onEvent))}},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this)},stop:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.stop.call(this)},clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.playerBody=null,this.playerTransform=null,this.avalanche=null},update:function(){var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier;if(null!=this.avalancheFade&&null!=this.avalanche){var t=this.avalancheFade,a=t.elapsed<=t.duration||t.ratio<1;a||null==t.onComplete||t.isComplete||(t.onComplete(),t.isComplete=!0),a&&(t.ratio=t.elapsed/t.duration,t.ratio>1&&(t.ratio=1),t.ratio=t.ease(t.ratio),t.val=t.from+t.range*t.ratio),t.elapsed+=e,this.avalanche.transform.set_alpha(this.avalancheFade.val)}this.avalancheStarted&&(this.avalancheTimer<this.avalancheDelay?this.avalancheProgress=this.avalancheInitProgress+(.3*haxepunk_HXP.height-this.avalancheInitProgress)*this.avalancheTimer/this.avalancheDelay:this.avalancheTimer<this.dataProvider.getLocal().getAvalancheTotalTime()&&(this.avalancheProgress+=(.5*this.dataProvider.getLocal().maxSpeed-this.playerBody.velocity.y)*e,this.avalancheProgress<this.avalancheMinProgress&&(this.avalancheProgress=this.avalancheMinProgress),this.avalancheProgress>this.avalanche.get_size().y&&(this.avalancheProgress=this.avalanche.get_size().y)),this.avalancheTimer<this.dataProvider.getLocal().getAvalancheTotalTime()+this.avalancheDelay?(haxepunk_math_Vector2.setTo(this.avalanche.get_position(),this.playerTransform.get_position().x-.5*this.avalanche.get_size().x,this.playerTransform.get_position().y-.33*haxepunk_HXP.height-this.avalanche.get_size().y+this.avalancheProgress),this.avalancheTimer+=e):this.stopAvalanche(!0,!0),this.avalancheProgress>=.4*haxepunk_HXP.height&&(this.stopAvalanche(!1,!0),this.getTrapped()))},getTrapped:function(){this.playerPile.enable(!0),this.playerBody.disableForceById(0),this.playerBody.disableForceById(1),this.playerBody.disableForceById(2),this.playerBody.disableForceById(3),haxepunk_math_Vector2.setTo(this.playerBody.velocity,0,0),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.STUCK(!0))},startAvalanche:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.AVALANCHE_START),null==this.avalanche&&(this.avalanche=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildAvalanche(),this.scene.addContainer(this.avalanche)),this.avalancheProgress=this.avalancheInitProgress=120,this.avalancheMinProgress=.2*haxepunk_HXP.height,this.avalancheTimer=0,this.avalancheStarted=!0,this.avalanche.transform.set_alpha(.95),this.avalancheFade=null,this.avalanche.frontFx.enabled=!0,this.dataProvider.getLocal().scoreData.avalancheBonus=1;var e=this.eventDispatcher,t=this.dataProvider.getLocal();e.dispatchGameEvent(kro13_kk_EGameEvent.BONUS(t.scoreData.speedBonus+t.scoreData.avalancheBonus)),this.update()},stopAvalanche:function(e,t){null==t&&(t=!1),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.AVALANCHE_STOP(e,t)),this.dataProvider.getLocal().scoreData.avalancheBonus=0,this.avalancheStarted=!1,null!=this.avalanche&&(t?this.avalancheFade=new kro13_kk_tween_FloatTween(1,0,1):null!=this.avalanche&&this.avalanche.transform.set_alpha(0),this.avalanche.frontFx.enabled=!1)},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.stopAvalanche(!1);break;case 1:this.stopAvalanche(!1);break;case 2:null!=this.avalanche&&this.avalanche.frontFx.unfreeze();break;case 3:null!=this.avalanche&&this.avalanche.frontFx.freeze();break;case 18:var t=e.amplitude,a=e.target;2!=t||this.avalancheStarted||7!=a.type||this.dataProvider.getLocal().checkAvalancheChance()&&this.startAvalanche();break;case 40:2==e.reducer&&this.stopAvalanche(!0,!0)}},onAdsSuccess:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},onAdsError:function(e){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.ERROR(1,e,!0))},__class__:kro13_kk_systems_AvalancheSystem});var kro13_kk_systems_ChaseSystem=function(e,t,a,n){this.triggerCounter=0,this.hareWaitCoef=.5,this.hareSitCoef=.15,this.hareSpeedCoef=.9,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),haxe_Log.trace("new chase system",{fileName:"src/kro13/kk/systems/ChaseSystem.hx",lineNumber:53,className:"kro13.kk.systems.ChaseSystem",methodName:"new"}),this.chaseStartTimer=0,this.isChaseStarted=!1,this.isChasePrepared=!1,this.isSuccess=!1,this.hareTooFarCounter=0,this.dataProvider=a,this.eventDispatcher=n};$hxClasses["kro13.kk.systems.ChaseSystem"]=kro13_kk_systems_ChaseSystem,kro13_kk_systems_ChaseSystem.__name__="kro13.kk.systems.ChaseSystem",kro13_kk_systems_ChaseSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_ChaseSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[2];if(this.playerTransform=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[6];this.playerHandler=t,this.playerHandler.addHandler($bind(this,this.onEvent)),this.playerBody.onCollide.callbacks.push($bind(this,this.onHit))}e instanceof kro13_kk_gameObjects_CanyonChain&&(this.canyonChain=e)},clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.canyonChain=null},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this),null==this.hare&&this.buildHare()},update:function(){if((this.isChasePrepared||this.isChaseStarted)&&0!=this.route.length){var e=this.playerTransform.get_position(),t=this.hare.transform.get_position(),a=e.x;null==(d=e.y)&&(d=0),null==a&&(a=0);var n=a,i=d;n-=t.x,i-=t.y;var s=Math.sqrt(n*n+i*i);this.isChasePrepared&&s<=800&&(this.isChaseStarted=!0,this.isChasePrepared=!1,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CHASE_START));var _,r=this.dataProvider.getLocal().maxSpeed*this.hareSitCoef,o=this.dataProvider.getLocal().maxSpeed*this.hareWaitCoef;if(this.hare.isRunning()||this.isSuccess)_=!1;else{e=this.playerBody.velocity;if(Math.sqrt(e.x*e.x+e.y*e.y)<=o&&s>=80&&this.playerTransform.get_position().y<=this.hare.get_position().y||s>=400&&this.playerTransform.get_position().y<=this.hare.get_position().y)_=!0;else{e=this.playerBody.velocity;_=Math.sqrt(e.x*e.x+e.y*e.y)<=r}}if(_)this.hare.sit();else{if(null==this.currDir){e=this.route[1],t=this.route[0],a=e.x;null==(d=e.y)&&(d=0),null==a&&(a=0),(l=e={x:a,y:d}).x-=t.x,l.y-=t.y,this.currDir=l;e=this.currDir;this.currDist=Math.sqrt(e.x*e.x+e.y*e.y);e=this.currDir;var l,h=1/this.currDist;a=e.x;null==(d=e.y)&&(d=0),null==a&&(a=0),(l=e={x:a,y:d}).x*=h,l.y*=h,this.currDir=l}this.hare.run(),this.hare.transform.set_rotation(kro13_kk_utils_MathUtils.get_instance().radToDeg(Math.atan(this.currDir.x/this.currDir.y)));var u=this.dataProvider.getLocal().maxSpeed*this.dataProvider.getLocal().getHareSpeedCoef();this.hare.transform.moveBy(this.currDir.x*u*(kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier),this.currDir.y*u*(kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier));var p=this.hare.transform;null==p.get_position()&&haxe_Log.trace(p.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),p.absPosition.x=p.get_position().x,p.absPosition.y=p.get_position().y;for(var c=p.parent;null!=c;)p.absPosition.x+=c.get_position().x,p.absPosition.y+=c.get_position().y,c=c.parent;var d;e=p.absPosition,t=this.route[0],a=e.x;null==(d=e.y)&&(d=0),null==a&&(a=0);var f=a,m=d;f-=t.x,m-=t.y,Math.sqrt(f*f+m*m)>=this.currDist&&(this.route.shift(),this.currDir=null),1==this.route.length&&(this.isSuccess||this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CHASE_FAIL),this.stopChase())}}},prepareChase:function(){var e=this.canyonChain.next,t=(e.ground.blocks[0],e.getEnterPoint()),a=e.get_position(),n=t.x;null==(g=t.y)&&(g=0),null==n&&(n=0);var i=n,s=g;i+=a.x,s+=a.y,this.hare.setEvenPosition(i,s),this.scene.addContainer(this.hare),this.route=[];for(var _=0,r=e.ground.blocks;_<r.length;){var o=r[_];++_;var l=this.route,h=o.transform;null==h.get_position()&&haxe_Log.trace(h.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),h.absPosition.x=h.get_position().x,h.absPosition.y=h.get_position().y;for(var u=h.parent;null!=u;)h.absPosition.x+=u.get_position().x,h.absPosition.y+=u.get_position().y,u=u.parent;n=h.absPosition.x+.5*o.get_size().x;var p=o.transform;null==p.get_position()&&haxe_Log.trace(p.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),p.absPosition.x=p.get_position().x,p.absPosition.y=p.get_position().y;for(var c=p.parent;null!=c;)p.absPosition.x+=c.get_position().x,p.absPosition.y+=c.get_position().y,c=c.parent;null==(g=p.absPosition.y)&&(g=0),null==n&&(n=0);t={x:n,y:g};l.push(t)}var d=e.ground.blocks[e.ground.blocks.length-1],f=this.route[this.route.length-1],m=1;Math.random()>.5&&(m=-1);var g;l=this.route,n=f.x+.5*d.get_size().x*m;null==(g=f.y)&&(g=0),null==n&&(n=0);t={x:n,y:g};l.push(t),this.isChasePrepared=!0},stopChase:function(){this.isChaseStarted=!1,this.isChasePrepared=!1,this.isSuccess=!1,this.chaseStartTimer=0,null!=this.hare&&this.scene.removeContainer(this.hare)},onHit:function(e){if(12==e.type){if(this.isSuccess||this.route.length<=1)return;this.catchSuccess()}},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.triggerCounter=0,this.runAway(),this.stopChase();break;case 1:this.runAway(),this.stopChase();break;case 18:e.target;e.amplitude>=1&&this.runAway();break;case 20:e.jumpTime;this.runAway();break;case 32:this.triggerCounter++,this.isChasePrepared||this.isChaseStarted||this.triggerCounter%2==0||!this.dataProvider.getLocal().checkChaseChance()||this.prepareChase()}},catchSuccess:function(){var e,t;(this.isSuccess=!0,this.hare.sit(),this.hare.transform.set_rotation(0),this.hare.hareSit.transform.get_position().y=-60,this.hare.hareSit.type=0,(e=this.hare.hareSit.renderer).isLayerValid=!1,e._layer=1,this.currDir=null,this.route=[],this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.CHASE_SUCCESS),null==(e=this.hare).componentsMap)?t=null:t=e.componentsMap.h[11];t.bindTo(this.playerTransform),this.playerTransform.onRotationChanged.callbacks.push($bind(this,this.onPlayerRotation))},runAway:function(){if(this.isChaseStarted&&this.isSuccess&&null==this.currDir){var e=this.canyonChain.getCurrentBlock();if(null!=e){var t,a;if(this.hare.hareSit.setEvenPosition(0,0),null==(a=this.hare).componentsMap)t=null;else t=a.componentsMap.h[11];t.unbind(),HxOverrides.remove(this.playerTransform.onRotationChanged.callbacks,$bind(this,this.onPlayerRotation)),this.hare.hareSit.type=12,(a=this.hare.hareSit.renderer).isLayerValid=!1,a._layer=1,this.hare.setEvenPosition(this.playerTransform.get_position().x,this.playerTransform.get_position().y);var n=this.route,i=this.playerTransform.get_position().x;null==(r=this.playerTransform.get_position().y)&&(r=0),null==i&&(i=0);var s={x:i,y:r};n.push(s);var _=1;Math.random()>.5&&(_=-1);var r;n=this.route,i=this.playerTransform.get_position().x+.5*e.get_size().x*_;null==(r=this.playerTransform.get_position().y)&&(r=0),null==i&&(i=0);s={x:i,y:r};n.push(s)}else this.stopChase()}},onPlayerRotation:function(e){var t,a=e%360,n=kro13_kk_utils_MathUtils.get_instance().degToRad(a),i=Math.cos(n),s=Math.round(6*i);a>200&&a<340||a<-20&&a>-160?((t=this.hare.hareSit.renderer).isLayerValid=!1,t._layer=12):((t=this.hare.hareSit.renderer).isLayerValid=!1,t._layer=1,(a<=0&&a>=-20||a>=180&&a<=200||a>=340&&a<=360||a<=-160&&a>=-180)&&(s=i>=0?6:-6));haxepunk_math_Vector2.setTo(this.hare.hareSit.get_position(),-s,this.hare.hareSit.get_position().y)},buildHare:function(){this.hare=new kro13_kk_gameObjects_Hare,this.hare.build()},__class__:kro13_kk_systems_ChaseSystem});var kro13_kk_systems_DTSystem=function(e){kro13_kk_systems_AbstractUpdateSystem.call(this,null,e)};$hxClasses["kro13.kk.systems.DTSystem"]=kro13_kk_systems_DTSystem,kro13_kk_systems_DTSystem.__name__="kro13.kk.systems.DTSystem",kro13_kk_systems_DTSystem.__properties__={get_dt:"get_dt",get_dtMultiplied:"get_dtMultiplied"},kro13_kk_systems_DTSystem.get_dtMultiplied=function(){return kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier},kro13_kk_systems_DTSystem.get_dt=function(){return kro13_kk_systems_DTSystem._dt},kro13_kk_systems_DTSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_DTSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{start:function(){this.ts=(new Date).getTime()/1e3,kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this)},update:function(){kro13_kk_systems_DTSystem._dt=(new Date).getTime()/1e3-this.ts,this.ts=(new Date).getTime()/1e3},__class__:kro13_kk_systems_DTSystem});var kro13_kk_systems_DestroySystem=function(e,t){kro13_kk_systems_AbstractComponentSystem.call(this,e),this.eventDsipatcher=t,haxe_Log.trace("new destroy system",{fileName:"src/kro13/kk/systems/DestroySystem.hx",lineNumber:25,className:"kro13.kk.systems.DestroySystem",methodName:"new"})};$hxClasses["kro13.kk.systems.DestroySystem"]=kro13_kk_systems_DestroySystem,kro13_kk_systems_DestroySystem.__name__="kro13.kk.systems.DestroySystem",kro13_kk_systems_DestroySystem.__super__=kro13_kk_systems_AbstractComponentSystem,kro13_kk_systems_DestroySystem.prototype=$extend(kro13_kk_systems_AbstractComponentSystem.prototype,{addContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[6];if(null!=t){var a;if(kro13_kk_systems_AbstractComponentSystem.prototype.addContainer.call(this,e),null==e.componentsMap)a=null;else a=e.componentsMap.h[6];a.addHandler($bind(this,this.onEvent))}},clear:function(){kro13_kk_systems_AbstractComponentSystem.prototype.clear.call(this)},onEvent:function(e){if(18==e._hx_index){var t=e.amplitude,a=e.target;if(7==a.type&&t>=2){var n,i=a;if(null==i.componentsMap)n=null;else n=i.componentsMap.h[2];var s=n;kro13_kk_utils_FxUtils.addSnowmanDestroyFx(this.scene,s),i.destroy()}}},__class__:kro13_kk_systems_DestroySystem});var kro13_kk_systems_FogSystem=function(e,t,a,n){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.visibilityBuffer=a,this.dataProvider=n};$hxClasses["kro13.kk.systems.FogSystem"]=kro13_kk_systems_FogSystem,kro13_kk_systems_FogSystem.__name__="kro13.kk.systems.FogSystem",kro13_kk_systems_FogSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_FogSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t;if(null==e.componentsMap)t=null;else t=e.componentsMap.h[2];this.playerTransform=t}},update:function(){var e=0;(_=this.visibilityBuffer).typeToVisible.exists(10)||_.typeToVisible.set(10,[]);for(var t=_.typeToVisible.get(10);e<t.length;){var a,n=t[e];if(++e,null==n.componentsMap)a=null;else a=n.componentsMap.h[2];var i=a;null==i.get_position()&&haxe_Log.trace(i.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),i.absPosition.x=i.get_position().x,i.absPosition.y=i.get_position().y;for(var s=i.parent;null!=s;)i.absPosition.x+=s.get_position().x,i.absPosition.y+=s.get_position().y,s=s.parent;var _,r=i.absPosition.y;null==(_=this.playerTransform).get_position()&&haxe_Log.trace(_.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),_.absPosition.x=_.get_position().x,_.absPosition.y=_.get_position().y;for(var o=_.parent;null!=o;)_.absPosition.x+=o.get_position().x,_.absPosition.y+=o.get_position().y,o=o.parent;var l=Math.max(0,(r-_.absPosition.y)/(.5*haxepunk_HXP.height));i.set_alpha(Math.pow(l,this.dataProvider.getLocal().getFogIntensity()))}},__class__:kro13_kk_systems_FogSystem});var kro13_kk_systems_GameEventSystem=function(){kro13_kk_systems_AbstractComponentSystem.call(this,null),haxe_Log.trace("new game event system",{fileName:"src/kro13/kk/systems/GameEventSystem.hx",lineNumber:16,className:"kro13.kk.systems.GameEventSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.GameEventSystem"]=kro13_kk_systems_GameEventSystem,kro13_kk_systems_GameEventSystem.__name__="kro13.kk.systems.GameEventSystem",kro13_kk_systems_GameEventSystem.__interfaces__=[kro13_kk_IEventDispatcher],kro13_kk_systems_GameEventSystem.__super__=kro13_kk_systems_AbstractComponentSystem,kro13_kk_systems_GameEventSystem.prototype=$extend(kro13_kk_systems_AbstractComponentSystem.prototype,{addContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[6];var a,n=t;null==e.componentsMap?a=null:a=e.componentsMap.h[2];var i=a;if(null!=n&&kro13_kk_systems_AbstractComponentSystem.prototype.addContainer.call(this,e),null!=i)for(var s=i.iterator();s.hasNext();){var _=s.next();this.addContainer(_.owner)}},removeContainer:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];var a=t;if(kro13_kk_systems_AbstractComponentSystem.prototype.removeContainer.call(this,e),null!=a)for(var n=a.iterator();n.hasNext();){var i=n.next();this.removeContainer(i.owner)}},dispatchGameEvent:function(e){haxe_Log.trace("dispatch event "+$hxEnums[e.__enum__].__constructs__[e._hx_index],{fileName:"src/kro13/kk/systems/GameEventSystem.hx",lineNumber:52,className:"kro13.kk.systems.GameEventSystem",methodName:"dispatchGameEvent"});for(var t=0,a=this.containers;t<a.length;){var n,i=a[t];if(++t,null==i.componentsMap)n=null;else n=i.componentsMap.h[6];n.sendEvent(e)}},__class__:kro13_kk_systems_GameEventSystem});var kro13_kk_systems_HitSystem=function(e,t,a,n){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.intervalsMap=new haxe_ds_IntMap,this.dataProvider=a;this.prevSpeed={x:0,y:0},this.eventDispatcher=n,haxe_Log.trace("new hit system",{fileName:"src/kro13/kk/systems/HitSystem.hx",lineNumber:30,className:"kro13.kk.systems.HitSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.HitSystem"]=kro13_kk_systems_HitSystem,kro13_kk_systems_HitSystem.__name__="kro13.kk.systems.HitSystem",kro13_kk_systems_HitSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_HitSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[2];this.playerTransform=t,this.playerBody.onCollide.callbacks.push($bind(this,this.onHit))}},update:function(){haxepunk_math_Vector2.setTo(this.prevSpeed,this.playerBody.velocity.x,this.playerBody.velocity.y)},onHit:function(e){var t=0,a=this.prevSpeed,n=this.playerBody.velocity;if(Math.sqrt(a.x*a.x+a.y*a.y)-Math.sqrt(n.x*n.x+n.y*n.y)>=this.dataProvider.getLocal().critSpeed)t=2,7==e.type&&haxepunk_math_Vector2.setTo(this.playerBody.velocity,.8*this.prevSpeed.x,.8*this.prevSpeed.y);else{a=this.prevSpeed,n=this.playerBody.velocity;Math.sqrt(a.x*a.x+a.y*a.y)-Math.sqrt(n.x*n.x+n.y*n.y)>=this.dataProvider.getLocal().minSpeed&&(t=1)}switch(e.type){case 2:case 4:this.dispatchGameEventWithInterval(e.type,kro13_kk_EGameEvent.HIT(e,t));break;case 7:t>1?this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.HIT(e,t)):this.dispatchGameEventWithInterval(e.type,kro13_kk_EGameEvent.HIT(e,t))}},dispatchGameEventWithInterval:function(e,t){this.intervalsMap.exists(e)?(new Date).getTime()/1e3-this.intervalsMap.get(e)>=1&&(this.eventDispatcher.dispatchGameEvent(t),this.intervalsMap.set(e,(new Date).getTime()/1e3)):(this.eventDispatcher.dispatchGameEvent(t),this.intervalsMap.set(e,(new Date).getTime()/1e3))},__class__:kro13_kk_systems_HitSystem});var kro13_kk_systems_InGameMessagesSystem=function(e,t,a){this.msgTimer=0,this.isShown=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.dataProvider=a,this.trampOffMsgs=[kro13_kk_utils_L.get_instance().JUMP_MSG3],this.landMsgs=[kro13_kk_utils_L.get_instance().JUMP_MSG1,kro13_kk_utils_L.get_instance().JUMP_MSG2],this.hitMsgs=[kro13_kk_utils_L.get_instance().HIT_MSG1],this.destroyMsgs=[kro13_kk_utils_L.get_instance().DESTROY_MSG1,kro13_kk_utils_L.get_instance().DESTROY_MSG2],this.avalancheStartMsgs=[kro13_kk_utils_L.get_instance().AVALANCHE_START_MSG1,kro13_kk_utils_L.get_instance().AVALANCHE_START_MSG2],this.avalancheEndMsgs=[kro13_kk_utils_L.get_instance().AVALANCHE_END_MSG1],this.avalancheCatchMsgs=[kro13_kk_utils_L.get_instance().AVALANCHE_CATCH_MSG1],this.stuckMsgs=[kro13_kk_utils_L.get_instance().STUCK_MSG1],this.playMsgs=[kro13_kk_utils_L.get_instance().PLAY_MSG1],this.chaseMsgs=[kro13_kk_utils_L.get_instance().CHASE_MSG1],this.rollbackMsgs=[kro13_kk_utils_L.get_instance().ROLLBACK_MSG1],this.chaseSuccessMsgs=[kro13_kk_utils_L.get_instance().CHASE_SUCCESS_MSG1],this.chaseFailMsgs=[kro13_kk_utils_L.get_instance().CHASE_FAIL_MSG1],this.smallCircleMsgs=[kro13_kk_utils_L.get_instance().SMALL_CIRCLE_MSG],this.bigCircleMsgs=[kro13_kk_utils_L.get_instance().BIG_CIRCLE_MSG];var n=new kro13_kk_gameObjects_Renderable;haxepunk_math_Vector2.setTo(n.transform.get_size(),236,180),n.build();var i=n.transform.get_size();n.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE({source:"images/shaman_head.png",size:i}),n.setEvenPosition(50,170),this.msgPopup=new kro13_kk_guiObjects_popups_Popup(16777215,10066380),haxepunk_math_Vector2.setTo(this.msgPopup.transform.get_size(),120,360),this.msgPopup.setEvenPosition(211,85),this.msgPopup.build(),this.msgTxt=new kro13_kk_guiObjects_TextField(11250647,60,!1);var s,_=this.msgTxt.renderer;(_.isLayerValid=!1,_._layer=1,this.msgTxt.build(),this.msgPopup.transform.addChild(this.msgTxt.transform),this.msgTxt.setEvenPosition(50,34),n.transform.addChild(this.msgPopup.transform),null==e.componentsMap)?s=null:s=e.componentsMap.h[6];s.addHandler($bind(this,this.onEvent))};$hxClasses["kro13.kk.systems.InGameMessagesSystem"]=kro13_kk_systems_InGameMessagesSystem,kro13_kk_systems_InGameMessagesSystem.__name__="kro13.kk.systems.InGameMessagesSystem",kro13_kk_systems_InGameMessagesSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_InGameMessagesSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){},update:function(){this.isShown&&(this.msgTimer+=kro13_kk_systems_DTSystem._dt,this.msgTimer>=2&&this.hideMessage())},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;this.hideMessage();break;case 1:this.hideMessage();break;case 2:this.showMessage(this.pickMessage(this.playMsgs));break;case 18:var t=e.amplitude;7==e.target.type&&t>=2?this.showMessage(this.pickMessage(this.destroyMsgs)):t>0&&this.showMessage(this.pickMessage(this.hitMsgs));break;case 20:e.jumpTime;this.showMessage(this.pickMessage(this.trampOffMsgs));break;case 21:this.dataProvider.getScoreData().totalRotation>=360&&this.showMessage(this.pickMessage(this.landMsgs));break;case 22:e.avalanche;this.showMessage(this.pickMessage(this.stuckMsgs),!0);break;case 25:this.showMessage(this.pickMessage(this.avalancheStartMsgs),!0);break;case 26:var a=e.fade,n=e.escaped;a&&(n?this.showMessage(this.pickMessage(this.avalancheEndMsgs)):this.showMessage(this.pickMessage(this.avalancheCatchMsgs),!0));break;case 30:e.startNew;this.showMessage(this.pickMessage(this.rollbackMsgs),!0);break;case 33:this.showMessage(this.pickMessage(this.chaseMsgs),!0);break;case 34:this.showMessage(this.pickMessage(this.chaseSuccessMsgs),!0);break;case 35:this.showMessage(this.pickMessage(this.chaseFailMsgs));break;case 38:var i=e.message;this.showMessage(i,!0);break;case 40:var s=e.reducer;if(2==s)return void this.showMessage(this.pickMessage(this.bigCircleMsgs),!0);if(1==s)return void this.showMessage(this.pickMessage(this.smallCircleMsgs))}},showMessage:function(e,t){if(null==t&&(t=!1),!this.isShown&&Math.random()>=.5||t){var a=this.msgTxt;a.materialConfig.text=e,a.renderer.isValid=!1;var n=kro13_kk_utils_TextUtils.getTextRect(this.msgTxt);haxepunk_math_Vector2.setTo(this.msgPopup.get_size(),n.x+100,120),this.scene.addContainer(this.msgPopup.transform.parent.owner),this.msgPopup.renderer.isValid=!1,this.isShown=!0,this.msgTimer=0}},hideMessage:function(){this.scene.removeContainer(this.msgPopup.transform.parent.owner),this.isShown=!1,this.msgTimer=0},pickMessage:function(e){return e[kro13_kk_utils_MathUtils.get_instance().randomRange(0,e.length-1)]},__class__:kro13_kk_systems_InGameMessagesSystem});var kro13_kk_systems_RollbackSystem=function(e,t,a){this.isEagleFlying=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.eventDispatcher=a,this.eagle=new kro13_kk_gameObjects_Renderable;var n=210,i=144;null==i&&(i=0),null==n&&(n=0);var s={x:n,y:i};this.eagleMaterialC={source:"images/eagle1.png",size:s},this.eagle.set_size(this.eagleMaterialC.size),this.eagle.renderer.material=kro13_kk_components_renderer_materials_EMaterial.IMAGE(this.eagleMaterialC);var _=this.eagle.renderer;_.isLayerValid=!1,_._layer=-10,haxepunk_math_Vector2.setTo(this.eagle.transform.origin,.5*this.eagle.get_size().x,this.eagle.get_size().y+55)};$hxClasses["kro13.kk.systems.RollbackSystem"]=kro13_kk_systems_RollbackSystem,kro13_kk_systems_RollbackSystem.__name__="kro13.kk.systems.RollbackSystem",kro13_kk_systems_RollbackSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_RollbackSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[6];if(t.addHandler($bind(this,this.onEvent)),null==e.componentsMap)a=null;else a=e.componentsMap.h[2];if(this.playerTransform=a,null==e.componentsMap)a=null;else a=e.componentsMap.h[11];if(this.playerBinder=a,null==e.componentsMap)a=null;else a=e.componentsMap.h[1];if(this.playerRenderer=a,null==e.componentsMap)a=null;else a=e.componentsMap.h[13];this.playerPile=a,this.playerGuy=js_Boot.__cast(e,kro13_kk_gameObjects_Player).guy}},onEvent:function(e){var t=this,a=e;if(30==a._hx_index){var n=a.startNew;haxe_Log.trace("SQUEE! "+(null==n?"null":""+n),{fileName:"src/kro13/kk/systems/RollbackSystem.hx",lineNumber:81,className:"kro13.kk.systems.RollbackSystem",methodName:"onEvent"}),this.eagle.setEvenPosition(this.playerTransform.get_position().x-200,this.playerTransform.get_position().y-.33*haxepunk_HXP.height),this.scene.addContainer(this.eagle),this.eagleMaterialC.source="images/eagle1.png",this.eagle.renderer.isValid=!1,this.eagleScale=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(1.5,this.playerTransform.get_scale(),1),new kro13_kk_tween_FloatTween(this.playerTransform.get_scale(),1.5,1)]),this.eagleX=new kro13_kk_tween_FloatTween(this.playerTransform.get_position().x-200,this.playerTransform.get_position().x+200,2),this.eagleY=new kro13_kk_tween_SequenceTween([new kro13_kk_tween_FloatTween(this.playerTransform.get_position().y-.33*haxepunk_HXP.height,this.playerTransform.get_position().y,1,null,(function(){t.playerBinder.bindTo(t.eagle.transform),(a=t.playerRenderer).isLayerValid=!1,a._layer=0,t.playerGuy.shiftLayer(-10);var e,a=t.playerGuy,n=t.playerTransform.get_rotation()%360,i=n/180,s=Math.cos(i*Math.PI),_=Math.sin(i*Math.PI),r=Math.round(14*s);(haxepunk_math_Vector2.setTo(a.legLeft.get_position(),Math.round(10*_),a.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(a.legRight.get_position(),Math.round(10*-_),a.legLeft.transform.get_position().y),n>200&&n<340||n<-20&&n>-160)?((e=a.headFront.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.headBack.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.bodyFront.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.bodyBack.renderer).isLayerValid=!1,e._layer=7+a.layerShift):((e=a.headFront.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.headBack.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.bodyFront.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.bodyBack.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(n<=0&&n>=-20||n>=180&&n<=200||n>=340&&n<=360||n<=-160&&n>=-180)&&(r=s>=0?14:-14));a.headFront.setEvenPosition(-r,a.headFront.transform.get_position().y),a.headBack.setEvenPosition(r,a.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyFront.get_position(),-r,a.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyBack.get_position(),r,a.bodyBack.transform.get_position().y),t.playerPile.enable(!1),t.eagleMaterialC.source="images/eagle.png",t.eagle.renderer.isValid=!1})),new kro13_kk_tween_FloatTween(this.playerTransform.get_position().y,this.playerTransform.get_position().y-.33*haxepunk_HXP.height,1,null,(function(){t.playerBinder.unbind(),t.doRollback(n),(a=t.playerRenderer).isLayerValid=!1,a._layer=10,t.playerGuy.shiftLayer(0);var e,a=t.playerGuy,i=t.playerTransform.get_rotation()%360,s=i/180,_=Math.cos(s*Math.PI),r=Math.sin(s*Math.PI),o=Math.round(14*_);(haxepunk_math_Vector2.setTo(a.legLeft.get_position(),Math.round(10*r),a.legLeft.transform.get_position().y),haxepunk_math_Vector2.setTo(a.legRight.get_position(),Math.round(10*-r),a.legLeft.transform.get_position().y),i>200&&i<340||i<-20&&i>-160)?((e=a.headFront.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.headBack.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.bodyFront.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.bodyBack.renderer).isLayerValid=!1,e._layer=7+a.layerShift):((e=a.headFront.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.headBack.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(e=a.bodyFront.renderer).isLayerValid=!1,e._layer=7+a.layerShift,(e=a.bodyBack.renderer).isLayerValid=!1,e._layer=9+a.layerShift,(i<=0&&i>=-20||i>=180&&i<=200||i>=340&&i<=360||i<=-160&&i>=-180)&&(o=_>=0?14:-14));a.headFront.setEvenPosition(-o,a.headFront.transform.get_position().y),a.headBack.setEvenPosition(o,a.headFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyFront.get_position(),-o,a.bodyFront.transform.get_position().y),haxepunk_math_Vector2.setTo(a.bodyBack.get_position(),o,a.bodyBack.transform.get_position().y),t.playerTransform.set_scale(1)}))]),this.isEagleFlying=!0}},update:function(){this.isEagleFlying&&(this.eagleX.update(kro13_kk_systems_DTSystem._dt),this.eagleY.update(kro13_kk_systems_DTSystem._dt),this.eagleScale.update(kro13_kk_systems_DTSystem._dt),haxepunk_math_Vector2.setTo(this.eagle.transform.get_position(),this.eagleX.getValue(),this.eagleY.getValue()),this.eagle.transform.set_scale(this.eagleScale.getValue()),0==this.playerRenderer._layer&&this.playerTransform.set_scale(this.eagleScale.getValue()))},doRollback:function(e){this.scene.removeContainer(this.eagle),this.isEagleFlying=!1,e?this.doStartNew():this.doRestart()},doStartNew:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PAUSE),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.START_NEW(!1)),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.MAIN_MENU)},doRestart:function(){this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.RESTART),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.PLAY)},__class__:kro13_kk_systems_RollbackSystem});var kro13_kk_systems_ScoreSystem=function(e,t,a,n){this.comboStarted=!1,this.jumpStartY=0,this.currentCombo=0,this.prevPlayerY=0,this.isJump=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.eventDispatcher=n,this.profile=a.getLocal().getProfile(),this.dataProvider=a,this.restartController=new kro13_kk_RestartController(a,n),haxe_Log.trace("new score system",{fileName:"src/kro13/kk/systems/ScoreSystem.hx",lineNumber:50,className:"kro13.kk.systems.ScoreSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.ScoreSystem"]=kro13_kk_systems_ScoreSystem,kro13_kk_systems_ScoreSystem.__name__="kro13.kk.systems.ScoreSystem",kro13_kk_systems_ScoreSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_ScoreSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[2];if(this.playerTransform=t,null==e.componentsMap)a=null;else a=e.componentsMap.h[6];a.addHandler($bind(this,this.onEvent))}},clear:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.clear.call(this),this.playerTransform=null,this.playerBody=null,this.speedTimer=null},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this),this.lastBonusUpdateTS=(new Date).getTime()/1e3,this.lastDistanceUpdateTS=(new Date).getTime()/1e3,this.lastScoreUpdateTS=(new Date).getTime()/1e3,null==this.speedTimer&&(this.speedTimer=new haxe_Timer(100),this.speedTimer.run=$bind(this,this.updateSpeedRatio))},stop:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.stop.call(this),null!=this.speedTimer&&(this.speedTimer.stop(),this.speedTimer=null)},reset:function(){this.dataProvider.getScoreData().currentScore=0,this.dataProvider.getScoreData().speedBonus=1,this.dataProvider.getScoreData().speedRatio=0,this.dataProvider.getScoreData().bonusCounter=0,this.dataProvider.getScoreData().totalTracks=0,this.dataProvider.getScoreData().totalSatori=0,this.dataProvider.getScoreData().restartUpdatesCount=0,this.dataProvider.getScoreData().adsCounter=0,this.dataProvider.getScoreData().totalDistance=0,this.dataProvider.getScoreData().bestCombo=0,this.dataProvider.getScoreData().totalJumps=0,this.dataProvider.getScoreData().totalSnowmen=0,this.dataProvider.getScoreData().bestJumpLen=0,this.dataProvider.getScoreData().bestRotation=0,this.dataProvider.getScoreData().avalanchesEscaped=0,this.dataProvider.getScoreData().complexity=0,this.updateBonus()},update:function(){Math.floor(Math.max(0,this.dataProvider.getScoreData().currentScore));if((new Date).getTime()/1e3-this.lastBonusUpdateTS>=this.dataProvider.getLocal().getBonusUpdateInterval()&&(this.updateBonus(),this.lastBonusUpdateTS=(new Date).getTime()/1e3),(new Date).getTime()/1e3-this.lastDistanceUpdateTS>=1){var e=Math.floor((this.playerTransform.get_position().y-this.prevPlayerY)/40);e<0&&(e=0),this.dataProvider.getScoreData().totalDistance+=e,this.prevPlayerY=this.playerTransform.get_position().y,this.lastDistanceUpdateTS=(new Date).getTime()/1e3}if(this.comboStarted&&(new Date).getTime()/1e3-this.lastScoreUpdateTS>=2&&(this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.COMBO_STOP),this.currentCombo=0,this.comboStarted=!1,haxe_Log.trace("combo: "+this.dataProvider.getScoreData().bestCombo,{fileName:"src/kro13/kk/systems/ScoreSystem.hx",lineNumber:144,className:"kro13.kk.systems.ScoreSystem",methodName:"update"})),this.isJump&&((new Date).getTime()/1e3-this.jumpTS)*kro13_kk_systems_DTSystem.multiplier<=this.jumpTime){this.dataProvider.getScoreData().totalRotation+=this.playerTransform.get_rotation()-this.rotation,this.rotation=this.playerTransform.get_rotation();var t=Math.abs(this.dataProvider.getScoreData().totalRotation),a=Math.floor(t/180);this.lastScoredRotation<a&&(this.scoreRotation(a%2==0),this.lastScoredRotation=a)}},onEvent:function(e){switch(e._hx_index){case 1:this.dataProvider.getScoreData().bonusCounter=0,this.dataProvider.getScoreData().speedBonus=1;break;case 18:var t=e.amplitude,a=e.target,n=0;2!=a.type&&4!=a.type||(n=this.scoreHit(t)),7==a.type&&(n=this.scoreDestroyable(t)),n<0&&(this.profile.restartHP+=n,this.profile.restartHP<=0&&this.dataProvider.updateRestarts(-1));break;case 20:var i=e.jumpTime;this.jumpTime=i,this.scoreJump(),this.isJump=!0,this.jumpTS=(new Date).getTime()/1e3,this.dataProvider.getScoreData().totalRotation=0,this.rotation=this.playerTransform.get_rotation(),this.lastScoredRotation=0,this.jumpStartY=this.playerTransform.get_position().y;break;case 21:if(this.scoreSatori(),this.dataProvider.getScoreData().totalRotation>this.dataProvider.getScoreData().bestRotation){var s=Math.abs(this.dataProvider.getScoreData().totalRotation);this.dataProvider.getScoreData().bestRotation=Math.floor(s)}this.isJump=!1;var _=(this.playerTransform.get_position().y-this.jumpStartY)/40;_>this.dataProvider.getScoreData().bestJumpLen&&(this.dataProvider.getScoreData().bestJumpLen=_);break;case 26:e.fade;e.escaped&&this.dataProvider.getScoreData().avalanchesEscaped++;break;case 30:0==e.startNew&&(this.dataProvider.getScoreData().complexity=.7*this.dataProvider.getScoreData().complexity,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.COMPLEXITY_REDUCED(0)));break;case 31:(s=this.dataProvider.getLocal().scoreData).totalTracks++,(s=this.dataProvider.getLocal().scoreData).complexity++,this.dataProvider.validateLocal();break;case 34:this.dataProvider.updateRestarts(1)}},scoreSatori:function(){if(this.dataProvider.getLocal().scoreData.speedBonus>=3&&Math.abs(this.dataProvider.getScoreData().totalRotation)>=320){var e=1,t=this.dataProvider.getLocal();t.scoreData.speedBonus+t.scoreData.avalancheBonus>=4&&Math.abs(this.dataProvider.getScoreData().totalRotation)>=720&&(e=2),this.dataProvider.getScoreData().totalSatori++;var a=e>1?.5:.9;this.dataProvider.getScoreData().complexity=this.dataProvider.getScoreData().complexity*a,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.COMPLEXITY_REDUCED(e))}},scoreDestroyable:function(e){var t=0;if(e>=2){var a=this.dataProvider.getLocal();t=30*(a.scoreData.speedBonus+a.scoreData.avalancheBonus),kro13_kk_utils_FxUtils.addBoomFx(this.scene,2*e,16777215,this.playerTransform),this.dataProvider.getScoreData().totalSnowmen++}else 1==e&&(t=-15,kro13_kk_utils_FxUtils.addBoomFx(this.scene,2*e,16777215,this.playerTransform));return e>0&&(this.updateScore(t),t<0&&(this.dataProvider.getScoreData().bonusCounter=0,this.dataProvider.getScoreData().speedBonus=1)),t},scoreJump:function(){var e=this.playerBody.velocity;if(Math.sqrt(e.x*e.x+e.y*e.y)>this.dataProvider.getLocal().minSpeed){var t=this.dataProvider.getLocal();this.updateScore(15*(t.scoreData.speedBonus+t.scoreData.avalancheBonus)),kro13_kk_utils_FxUtils.addBoomFx(this.scene,4,16777215,this.playerTransform),this.dataProvider.getScoreData().totalJumps++}},scoreHit:function(e){var t=0;return e>=2?t=-30:1==e&&(t=-15),e>0&&(this.updateScore(t),this.dataProvider.getScoreData().bonusCounter=0,this.dataProvider.getScoreData().speedBonus=1,kro13_kk_utils_FxUtils.addBoomFx(this.scene,2*e,16777215,this.playerTransform)),t},scoreRotation:function(e){var t=this.dataProvider.getLocal(),a=15*(t.scoreData.speedBonus+t.scoreData.avalancheBonus);this.updateScore(a),e?kro13_kk_utils_FxUtils.addBoomFx(this.scene,7,16777215,this.playerTransform):kro13_kk_utils_FxUtils.addBoomFx(this.scene,5,16777215,this.playerTransform)},updateScore:function(e){this.comboStarted||(this.comboStarted=!0),this.currentCombo+=e,this.currentCombo>this.dataProvider.getScoreData().bestCombo&&(this.dataProvider.getScoreData().bestCombo=this.currentCombo),this.lastScoreUpdateTS=(new Date).getTime()/1e3,this.dataProvider.getScoreData().currentScore+=e,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.EMIT_SCORE(e)),this.updateRestartCount()},updateRestartCount:function(){this.dataProvider.getScoreData().currentScore>=this.dataProvider.getLocal().getNextRestartScore()&&(this.dataProvider.updateRestarts(1),kro13_analytics_Analytics.get_instance().sendEventWithAmount("rollbacks:increase",this.profile.restarts),this.dataProvider.getScoreData().restartUpdatesCount++)},updateSpeedRatio:function(){var e=this.playerBody.velocity,t=Math.sqrt(e.x*e.x+e.y*e.y),a=this.dataProvider.getLocal().maxSpeed;this.dataProvider.getScoreData().speedRatio=t/a},updateBonus:function(){this.dataProvider.getScoreData().speedRatio>=.5&&this.dataProvider.getScoreData().bonusCounter<5?this.dataProvider.getScoreData().bonusCounter++:this.dataProvider.getScoreData().speedRatio<.5&&this.dataProvider.getScoreData().bonusCounter>0&&this.dataProvider.getScoreData().bonusCounter--;var e=0;this.dataProvider.getScoreData().bonusCounter<2?e=1:this.dataProvider.getScoreData().bonusCounter>=2&&this.dataProvider.getScoreData().bonusCounter<5?e=2:this.dataProvider.getScoreData().bonusCounter>=5&&(e=3);var t=this.dataProvider.getScoreData().speedBonus<e;if(this.dataProvider.getScoreData().speedBonus=e,t){var a=this.eventDispatcher,n=this.dataProvider.getLocal();a.dispatchGameEvent(kro13_kk_EGameEvent.BONUS(n.scoreData.speedBonus+n.scoreData.avalancheBonus))}},__class__:kro13_kk_systems_ScoreSystem});var kro13_kk_systems_SimpleUpdateSystem=function(e,t){kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),haxe_Log.trace("new upd system",{fileName:"src/kro13/kk/systems/SimpleUpdateSystem.hx",lineNumber:17,className:"kro13.kk.systems.SimpleUpdateSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.SimpleUpdateSystem"]=kro13_kk_systems_SimpleUpdateSystem,kro13_kk_systems_SimpleUpdateSystem.__name__="kro13.kk.systems.SimpleUpdateSystem",kro13_kk_systems_SimpleUpdateSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_SimpleUpdateSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){var t,a;null==e.componentsMap?t=null:t=e.componentsMap.h[9];(null!=t&&kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)?a=null:a=e.componentsMap.h[2];for(var n=a.iterator();n.hasNext();){var i=n.next();this.addContainer(i.owner)}},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this)},stop:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.stop.call(this)},update:function(){for(var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier,t=this.containers.length-1;t>=0;){var a,n=this.containers[t];if(null==n.componentsMap)a=null;else a=n.componentsMap.h[9];a.owner.update(e),--t}},__class__:kro13_kk_systems_SimpleUpdateSystem});var kro13_kk_systems_SoundControlSystem=function(e,t,a,n,i){this.waitForTap=!0,this.isGameActive=!1,this.isAvalanche=!1,this.isFlying=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.eventDispatcher=a,this.dataProvider=n,this.avalancheSystem=i,this.mainMusicTimer=0};$hxClasses["kro13.kk.systems.SoundControlSystem"]=kro13_kk_systems_SoundControlSystem,kro13_kk_systems_SoundControlSystem.__name__="kro13.kk.systems.SoundControlSystem",kro13_kk_systems_SoundControlSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_SoundControlSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this)},addContainer:function(e){if(1==e.type){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[6];if(t.addHandler($bind(this,this.onEvent)),null==e.componentsMap)a=null;else a=e.componentsMap.h[3];if(this.playerBody=a,null==e.componentsMap)a=null;else a=e.componentsMap.h[12];this.physicalCoeff=a}},update:function(){var e=this.playerBody.velocity,t=Math.sqrt(e.x*e.x+e.y*e.y)/this.dataProvider.getLocal().maxSpeed;null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.setVolume("snow1",.4*t),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.setVolume("wind",.9*Math.pow(t,4)),this.mainMusicTimer+=kro13_kk_systems_DTSystem._dt,this.mainMusicTimer>=180&&this.startMain(),this.waitForTap&&haxepunk_input_Mouse.mouseDown&&(this.waitForTap=!1,this.startMain())},onEvent:function(e){switch(e._hx_index){case 2:haxe_Log.trace("-------------------------\x3e sound manager PLAY",{fileName:"src/kro13/kk/systems/SoundControlSystem.hx",lineNumber:98,className:"kro13.kk.systems.SoundControlSystem",methodName:"onEvent"}),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("wind",!0),this.isFlying||(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("snow1",!0)),this.isGameStarted=!0;break;case 3:haxe_Log.trace("-------------------------\x3e sound manager PAUSE",{fileName:"src/kro13/kk/systems/SoundControlSystem.hx",lineNumber:92,className:"kro13.kk.systems.SoundControlSystem",methodName:"onEvent"}),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.pause("snow1"),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.pause("wind"),this.isGameStarted=!1;break;case 4:haxe_Log.trace("-------------------------\x3e sound manager ACTIVATE",{fileName:"src/kro13/kk/systems/SoundControlSystem.hx",lineNumber:85,className:"kro13.kk.systems.SoundControlSystem",methodName:"onEvent"}),this.waitForTap=!0;break;case 5:haxe_Log.trace("-------------------------\x3e sound manager DEACTIVATE",{fileName:"src/kro13/kk/systems/SoundControlSystem.hx",lineNumber:81,className:"kro13.kk.systems.SoundControlSystem",methodName:"onEvent"}),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.stop("main3");break;case 18:var t=e.amplitude,a=e.target;t>0&&(t>=2&&7==a.type?(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("crash",!1)):(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("hit",!1)));break;case 20:e.jumpTime;null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.pause("snow1"),this.isFlying=!0;break;case 21:this.isFlying&&(null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("snow1",!0),null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play(this.getLandSound(),!1),this.isFlying=!1);break;case 25:null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("avalanche1");break;case 30:e.startNew;null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("eagle");break;case 33:case 34:case 35:null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("hare");break;case 40:var n=e.reducer;if(2==n)return null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),void kro13_kk_sound_SoundManager.instance.play("circle_big1");if(1==n)return null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),void kro13_kk_sound_SoundManager.instance.play("circle_small");break;case 42:this.startMain()}},startMain:function(){this.mainMusicTimer=0,null==kro13_kk_sound_SoundManager.instance&&(kro13_kk_sound_SoundManager.instance=new kro13_kk_sound_SoundManager),kro13_kk_sound_SoundManager.instance.play("main3")},getLandSound:function(){return Math.random()>.5?"land0":"land1"},__class__:kro13_kk_systems_SoundControlSystem});var kro13_kk_systems_StuckSystem=function(e,t,a){this.timer=0,this.currentStuckId=-1,this.pendingStuckId=-1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.eventDispatcher=a,haxe_Log.trace("new stuck system",{fileName:"src/kro13/kk/systems/StuckSystem.hx",lineNumber:29,className:"kro13.kk.systems.StuckSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.StuckSystem"]=kro13_kk_systems_StuckSystem,kro13_kk_systems_StuckSystem.__name__="kro13.kk.systems.StuckSystem",kro13_kk_systems_StuckSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_StuckSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[2];this.playerTransform=t,this.playerBody.onCollide.callbacks.push($bind(this,this.onHint))}},update:function(){var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier;this.pendingStuckId>=0&&this.currentStuckId<0&&(this.currentStuckId=this.pendingStuckId,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.STUCK(!1)),haxe_Log.trace("stuck "+this.pendingStuckId,{fileName:"src/kro13/kk/systems/StuckSystem.hx",lineNumber:51,className:"kro13.kk.systems.StuckSystem",methodName:"update"})),this.pendingStuckId<0&&this.currentStuckId>=0&&this.timer>=1&&(this.currentStuckId=-1,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.RELEASE),haxe_Log.trace("release",{fileName:"src/kro13/kk/systems/StuckSystem.hx",lineNumber:57,className:"kro13.kk.systems.StuckSystem",methodName:"update"})),this.timer+=e,this.pendingStuckId=-1},onHint:function(e){var t;null==e.componentsMap?t=null:t=e.componentsMap.h[2];var a=t;if(null!=a&&4==e.type){var n;if(this.playerTransform.get_position().y<=a.get_position().y+20&&this.playerTransform.get_position().x>=a.get_position().x+40&&this.playerTransform.get_position().x<=a.get_position().x+a.get_size().x-40){var i=this.playerBody.velocity;n=Math.sqrt(i.x*i.x+i.y*i.y)<=50}else n=!1;n&&(this.pendingStuckId=e.id,this.timer=0)}},__class__:kro13_kk_systems_StuckSystem});var kro13_kk_systems_TrampSystem=function(e,t,a,n){this.jumpTimePassed=0,this.isJump=!1,this.lastTrampId=-1,this.pendingTrampId=-1,this.currentTrampId=-1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.eventDispatcher=a,this.dataProvider=n,haxe_Log.trace("new tramp system",{fileName:"src/kro13/kk/systems/TrampSystem.hx",lineNumber:41,className:"kro13.kk.systems.TrampSystem",methodName:"new"})};$hxClasses["kro13.kk.systems.TrampSystem"]=kro13_kk_systems_TrampSystem,kro13_kk_systems_TrampSystem.__name__="kro13.kk.systems.TrampSystem",kro13_kk_systems_TrampSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_TrampSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){if(1==e.type){var t;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[3];if(this.playerBody=t,null==e.componentsMap)t=null;else t=e.componentsMap.h[2];this.playerTransform=t,this.playerBody.onCollide.callbacks.push($bind(this,this.onHit))}},start:function(){kro13_kk_systems_AbstractUpdateSystem.prototype.start.call(this),this.lastTrampId=-1},update:function(){var e=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier,t=this.playerBody.velocity,a=Math.sqrt(t.x*t.x+t.y*t.y)/this.dataProvider.getLocal().maxSpeed;if(!this.isJump&&this.pendingTrampId>=0&&this.currentTrampId<0&&(this.currentTrampId=this.pendingTrampId,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TRAMP_ON)),this.pendingTrampId<0&&this.currentTrampId>=0){this.lastTrampId=this.currentTrampId;var n=this.dataProvider.getLocal();n.scoreData.speedBonus+n.scoreData.avalancheBonus>=3?kro13_kk_systems_DTSystem.multiplier=.3:kro13_kk_systems_DTSystem.multiplier=.5,this.jumpTime=.6*a,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TRAMP_OFF(this.jumpTime)),this.playerBody.disableForceById(0),this.playerBody.disableForceById(1),this.playerBody.disableForceById(2),this.currentTrampId=-1,this.isJump=!0,this.jumpTimePassed=0}this.isJump&&(this.jumpTimePassed+=e,this.jumpTimePassed>=this.jumpTime&&(this.isJump=!1,this.playerBody.enableForceById(0),this.playerBody.enableForceById(1),this.playerBody.enableForceById(2),kro13_kk_systems_DTSystem.multiplier=1,kro13_kk_utils_FxUtils.addJumpLandFx(this.scene,a,this.playerTransform),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TRAMP_LAND))),this.pendingTrampId=-1},onHit:function(e){6==e.type&&e.id!=this.lastTrampId&&(this.pendingTrampId=e.id)},__class__:kro13_kk_systems_TrampSystem});var kro13_kk_systems_TricksSystem=function(e,t,a,n){this.trickStarted=!1,this.trickActivated=!1,kro13_kk_systems_AbstractUpdateSystem.call(this,e,t),this.dataProvider=a,this.eventDispatcher=n};$hxClasses["kro13.kk.systems.TricksSystem"]=kro13_kk_systems_TricksSystem,kro13_kk_systems_TricksSystem.__name__="kro13.kk.systems.TricksSystem",kro13_kk_systems_TricksSystem.__super__=kro13_kk_systems_AbstractUpdateSystem,kro13_kk_systems_TricksSystem.prototype=$extend(kro13_kk_systems_AbstractUpdateSystem.prototype,{addContainer:function(e){null==e.componentsMap?t=null:t=e.componentsMap.h[6];if(null!=t){var t,a;if(kro13_kk_systems_AbstractUpdateSystem.prototype.addContainer.call(this,e),null==e.componentsMap)t=null;else t=e.componentsMap.h[2];if(this.playerTransform=t,null==e.componentsMap)a=null;else a=e.componentsMap.h[6];a.addHandler($bind(this,this.onEvent))}},clear:function(){null!=this.currentTrick&&this.stopTrick()},update:function(){this.trickStarted&&(this.trickTime+=kro13_kk_systems_DTSystem._dt*kro13_kk_systems_DTSystem.multiplier,this.trickTime>=.1&&null==this.currentTrick&&this.startTrick(),this.trickTime>=this.jumpTime-.1&&null!=this.currentTrick&&(this.stopTrick(),this.trickStarted=!1))},onEvent:function(e){switch(e._hx_index){case 0:e.firstStart;null!=this.currentTrick&&(this.stopTrick(),this.trickStarted=!1);break;case 20:var t=e.jumpTime,a=this.dataProvider.getLocal();a.scoreData.speedBonus+a.scoreData.avalancheBonus>=3&&t>=.3&&(this.trickTime=0,this.trickStarted=!0,this.jumpTime=t);break;case 30:e.startNew;null!=this.currentTrick&&(this.stopTrick(),this.trickStarted=!1)}},startTrick:function(){this.currentTrick=new kro13_kk_gameObjects_tricks_Trick(this.getTrickConf()),this.currentTrick.build();var e,t=this.currentTrick;null==t.componentsMap?e=null:e=t.componentsMap.h[11];e.bindTo(this.playerTransform),this.playerTransform.set_visible(!1),this.scene.addContainer(this.currentTrick),this.currentTrick.start(),this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TRICK_START)},stopTrick:function(){this.currentTrick.stop(),this.currentTrick.destroy(),this.playerTransform.set_visible(!0),this.currentTrick=null,this.eventDispatcher.dispatchGameEvent(kro13_kk_EGameEvent.TRICK_STOP)},getTrickConf:function(){var e=Math.random();return e<=.333?{source:"images/t1.png",originY:.75}:e<=.666?{source:"images/t2.png",originY:.25}:{source:"images/t3.png",originY:.75}},__class__:kro13_kk_systems_TricksSystem});var kro13_kk_systems_VisibilityBuffer=function(){this.visible=[],this.typeToVisible=new haxe_ds_IntMap};$hxClasses["kro13.kk.systems.VisibilityBuffer"]=kro13_kk_systems_VisibilityBuffer,kro13_kk_systems_VisibilityBuffer.__name__="kro13.kk.systems.VisibilityBuffer",kro13_kk_systems_VisibilityBuffer.prototype={get:function(){return this.visible},getByType:function(e){return this.typeToVisible.exists(e)||this.typeToVisible.set(e,[]),this.typeToVisible.get(e)},add:function(e){this.visible.push(e),this.typeToVisible.exists(e.type)||this.typeToVisible.set(e.type,[]),this.typeToVisible.get(e.type).push(e)},remove:function(e){HxOverrides.remove(this.visible,e),this.typeToVisible.exists(e.type)&&HxOverrides.remove(this.typeToVisible.get(e.type),e)},clear:function(){this.visible=[],this.typeToVisible=new haxe_ds_IntMap},length:function(){return this.visible.length},__class__:kro13_kk_systems_VisibilityBuffer};var kro13_kk_threading_ThreadingManager=function(){};$hxClasses["kro13.kk.threading.ThreadingManager"]=kro13_kk_threading_ThreadingManager,kro13_kk_threading_ThreadingManager.__name__="kro13.kk.threading.ThreadingManager",kro13_kk_threading_ThreadingManager.__properties__={get_instance:"get_instance"},kro13_kk_threading_ThreadingManager.get_instance=function(){return null==kro13_kk_threading_ThreadingManager.instance&&(kro13_kk_threading_ThreadingManager.instance=new kro13_kk_threading_ThreadingManager),kro13_kk_threading_ThreadingManager.instance},kro13_kk_threading_ThreadingManager.prototype={run:function(e,t,a){e(),t()},__class__:kro13_kk_threading_ThreadingManager};var kro13_kk_tween_AbstractTween=function(){};$hxClasses["kro13.kk.tween.AbstractTween"]=kro13_kk_tween_AbstractTween,kro13_kk_tween_AbstractTween.__name__="kro13.kk.tween.AbstractTween",kro13_kk_tween_AbstractTween.__interfaces__=[kro13_kk_IUpdatable],kro13_kk_tween_AbstractTween.prototype={update:function(e){},isRunning:function(){return!1},reset:function(){},getValue:function(){return 0},__class__:kro13_kk_tween_AbstractTween};var kro13_kk_tween_FloatTween=function(e,t,a,n,i){kro13_kk_tween_AbstractTween.call(this),this.ease=n,null==this.ease&&(this.ease=haxepunk_utils_Ease.linear),this.from=e,this.to=t,this.duration=a,this.range=t-e,this.onComplete=i,this.reset()};$hxClasses["kro13.kk.tween.FloatTween"]=kro13_kk_tween_FloatTween,kro13_kk_tween_FloatTween.__name__="kro13.kk.tween.FloatTween",kro13_kk_tween_FloatTween.__super__=kro13_kk_tween_AbstractTween,kro13_kk_tween_FloatTween.prototype=$extend(kro13_kk_tween_AbstractTween.prototype,{reset:function(){this.val=this.from,this.elapsed=0,this.ratio=0,this.isComplete=!1},update:function(e){var t=this.elapsed<=this.duration||this.ratio<1;t||null==this.onComplete||this.isComplete||(this.onComplete(),this.isComplete=!0),t&&(this.ratio=this.elapsed/this.duration,this.ratio>1&&(this.ratio=1),this.ratio=this.ease(this.ratio),this.val=this.from+this.range*this.ratio),this.elapsed+=e},isRunning:function(){var e=this.elapsed<=this.duration||this.ratio<1;return e||null==this.onComplete||this.isComplete||(this.onComplete(),this.isComplete=!0),e},getValue:function(){return this.val},__class__:kro13_kk_tween_FloatTween});var kro13_kk_tween_RepeatTween=function(e){kro13_kk_tween_AbstractTween.call(this),this.tween=e};$hxClasses["kro13.kk.tween.RepeatTween"]=kro13_kk_tween_RepeatTween,kro13_kk_tween_RepeatTween.__name__="kro13.kk.tween.RepeatTween",kro13_kk_tween_RepeatTween.__super__=kro13_kk_tween_AbstractTween,kro13_kk_tween_RepeatTween.prototype=$extend(kro13_kk_tween_AbstractTween.prototype,{reset:function(){this.tween.reset()},update:function(e){this.isRunning()?this.tween.update(e):this.reset()},isRunning:function(){return this.tween.isRunning()},getValue:function(){return this.tween.getValue()},__class__:kro13_kk_tween_RepeatTween});var kro13_kk_tween_SequenceTween=function(e){kro13_kk_tween_AbstractTween.call(this),this.seq=e,this.reset()};$hxClasses["kro13.kk.tween.SequenceTween"]=kro13_kk_tween_SequenceTween,kro13_kk_tween_SequenceTween.__name__="kro13.kk.tween.SequenceTween",kro13_kk_tween_SequenceTween.__super__=kro13_kk_tween_AbstractTween,kro13_kk_tween_SequenceTween.prototype=$extend(kro13_kk_tween_AbstractTween.prototype,{reset:function(){this.currIdx=0;for(var e=0,t=this.seq;e<t.length;){var a=t[e];++e,a.reset()}},update:function(e){this.isRunning()&&(this.seq[this.currIdx].isRunning()?this.seq[this.currIdx].update(e):this.currIdx<this.seq.length-1&&this.currIdx++)},isRunning:function(){return!(this.currIdx>=this.seq.length-1)||this.seq[this.currIdx].isRunning()},getValue:function(){return this.seq[this.currIdx].getValue()},getCurrIdx:function(){return this.currIdx},__class__:kro13_kk_tween_SequenceTween});var kro13_kk_utils_CollisionUtils=function(){};$hxClasses["kro13.kk.utils.CollisionUtils"]=kro13_kk_utils_CollisionUtils,kro13_kk_utils_CollisionUtils.__name__="kro13.kk.utils.CollisionUtils",kro13_kk_utils_CollisionUtils.__properties__={get_instance:"get_instance"},kro13_kk_utils_CollisionUtils.get_instance=function(){return null==kro13_kk_utils_CollisionUtils.instance&&(kro13_kk_utils_CollisionUtils.instance=new kro13_kk_utils_CollisionUtils),kro13_kk_utils_CollisionUtils.instance},kro13_kk_utils_CollisionUtils.prototype={getMinTranslationVector:function(e,t){for(var a=this.getPerpendicularAxes(e,t),n=1/0,i=null,s=0;s<a.length;){var _=a[s];++s;var r=this.projectOnAxis(e,_),o=this.projectOnAxis(t,_),l=this.getOverapLength(r,o);if(0==l)return null==(m=0)&&(m=0),null==(f=0)&&(f=0),i=c={x:f,y:m};if(l<n){n=l;var h=_.x*n,u=_.y*n;null==u&&(u=0),null==h&&(h=0),i=p={x:h,y:u}}}var p,c=this.getCenter(e),d=this.getCenter(t),f=c.x;if(null==(m=c.y)&&(m=0),null==f&&(f=0),(p=c={x:f,y:m}).x-=d.x,p.y-=d.y,this.scalarProduct(p,i)>0){var m;f=-i.x;null==(m=-i.y)&&(m=0),null==f&&(f=0),i=c={x:f,y:m}}return i},getPerpendicularAxes:function(e,t){var a=[];return a[0]=this.getPerpendicularAxis(e,0),a[1]=this.getPerpendicularAxis(e,1),a[2]=this.getPerpendicularAxis(t,0),a[3]=this.getPerpendicularAxis(t,1),a},getOverapLength:function(e,t){return this.areOverlapping(e,t)?Math.min(e.y,t.y)-Math.max(e.x,t.x):0},areOverlapping:function(e,t){return e.x<t.y&&e.y>t.x},projectOnAxis:function(e,t){for(var a=1/0,n=-1/0,i=0;i<e.length;){var s=e[i];++i;var _=this.scalarProduct(s,t);_<a&&(a=_),_>n&&(n=_)}var r=a,o=n;return null==o&&(o=0),null==r&&(r=0),{x:r,y:o}},scalarProduct:function(e,t){return e.x*t.x+e.y*t.y},getPerpendicularAxis:function(e,t){if(t<0&&t>=4)throw haxe_Exception.thrown("Index ont of bounds!");var a=e[t+1],n=e[t],i=a.x,s=a.y;null==s&&(s=0),null==i&&(i=0);var _=a={x:i,y:s};return _.x-=n.x,_.y-=n.y,this.getNormal(this.getNormalized(_))},getNormal:function(e){var t=-e.y,a=e.x;return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}},getNormalized:function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y),a=e.x/t,n=e.y/t;return null==n&&(n=0),null==a&&(a=0),{x:a,y:n}},getCenter:function(e){var t=e[0],a=e[2],n=t.x;null==(i=t.y)&&(i=0),null==n&&(n=0);var i,s=n,_=i;return s+=a.x,null==(i=.5*(_+=a.y))&&(i=0),null==(n=.5*s)&&(n=0),t={x:n,y:i}},__class__:kro13_kk_utils_CollisionUtils};var kro13_kk_utils_FxUtils=function(){};$hxClasses["kro13.kk.utils.FxUtils"]=kro13_kk_utils_FxUtils,kro13_kk_utils_FxUtils.__name__="kro13.kk.utils.FxUtils",kro13_kk_utils_FxUtils.addBoomFx=function(e,t,a,n){var i,s=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildCircularBoom(t,a);null==s.componentsMap?i=null:i=s.componentsMap.h[11];i.bindTo(n),s.start(),e.addContainer(s)},kro13_kk_utils_FxUtils.addSnowmanDestroyFx=function(e,t){var a=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildSnowBlow({distance:60,duration:.3,eminCount:10,emitFrequency:.002}),n=a;null==t.get_position()&&haxe_Log.trace(t.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),t.absPosition.x=t.get_position().x,t.absPosition.y=t.get_position().y;for(var i=t.parent;null!=i;)t.absPosition.x+=i.get_position().x,t.absPosition.y+=i.get_position().y,i=i.parent;var s=t.absPosition.x+23;null==t.get_position()&&haxe_Log.trace(t.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),t.absPosition.x=t.get_position().x,t.absPosition.y=t.get_position().y;for(i=t.parent;null!=i;)t.absPosition.x+=i.get_position().x,t.absPosition.y+=i.get_position().y,i=i.parent;var _=t.absPosition.y-23;null==_&&(_=0),null==s&&(s=0);var r={x:s,y:_};n.set_position(r),e.addContainer(a),haxe_Timer.delay((function(){a.destroy()}),1e3)},kro13_kk_utils_FxUtils.addJumpLandFx=function(e,t,a){var n=kro13_kk_gameObjects_GameObjectsFactory.get_instance().buildSnowBlow({distance:150*t,duration:.6,eminCount:5,emitFrequency:.002}),i=n;null==a.get_position()&&haxe_Log.trace(a.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),a.absPosition.x=a.get_position().x,a.absPosition.y=a.get_position().y;for(var s=a.parent;null!=s;)a.absPosition.x+=s.get_position().x,a.absPosition.y+=s.get_position().y,s=s.parent;var _=a.absPosition.x;null==a.get_position()&&haxe_Log.trace(a.owner.name,{fileName:"src/kro13/kk/components/Transform.hx",lineNumber:115,className:"kro13.kk.components.Transform",methodName:"getAbsPosition"}),a.absPosition.x=a.get_position().x,a.absPosition.y=a.get_position().y;for(s=a.parent;null!=s;)a.absPosition.x+=s.get_position().x,a.absPosition.y+=s.get_position().y,s=s.parent;var r=a.absPosition.y;null==r&&(r=0),null==_&&(_=0);var o={x:_,y:r};i.set_position(o),e.addContainer(n),haxe_Timer.delay((function(){n.destroy()}),1e3)};var kro13_kk_utils_GameObjetIds=function(){};$hxClasses["kro13.kk.utils.GameObjetIds"]=kro13_kk_utils_GameObjetIds,kro13_kk_utils_GameObjetIds.__name__="kro13.kk.utils.GameObjetIds",kro13_kk_utils_GameObjetIds.getNext=function(){return kro13_kk_utils_GameObjetIds.id++};var kro13_kk_utils_IntVector2={_new:function(e,t){return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},setTo:function(e,t,a){e.x=t,e.y=a},plus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x+=t.x,i.y+=t.y,i},minus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x-=t.x,i.y-=t.y,i},mult:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x=Math.round(i.x*t),i.y=Math.round(i.y*t),i},div:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n},s=1/t;return i.x=Math.round(i.x*s),i.y=Math.round(i.y*s),i},scale:function(e,t){return e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e},add:function(e,t){return e.x+=t.x,e.y+=t.y,e},subtract:function(e,t){return e.x-=t.x,e.y-=t.y,e},clone:function(e){var t=e.x,a=e.y;return null==a&&(a=0),null==t&&(t=0),e={x:t,y:a}}},kro13_kk_utils_KKVector2={_new:function(e,t){return null==t&&(t=0),null==e&&(e=0),{x:e,y:t}},setTo:function(e,t,a){return e.x=t,e.y=a,e},fromVector2:function(e){var t=e.x,a=e.y;return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}},toVector2:function(e){var t=e.x,a=e.y;return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}},plus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x+=t.x,i.y+=t.y,i},minus:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x-=t.x,i.y-=t.y,i},neg:function(e){var t=e.x,a=e.y;null==a&&(a=0),null==t&&(t=0);var n=e={x:t,y:a};return n.x=-n.x,n.y=-n.y,n},mult:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n};return i.x*=t,i.y*=t,i},div:function(e,t){var a=e.x,n=e.y;null==n&&(n=0),null==a&&(a=0);var i=e={x:a,y:n},s=1/t;return i.x*=s,i.y*=s,i}},kro13_kk_utils_L=function(){this.PRIVACY_MESSAGE="PRIVACY_MESSAGE",this.PRIVACY_BTN="PRIVACY_BTN",this.TUTOR_END="TUTOR_END",this.TUTOR_RUN="TUTOR_RUN",this.AUDIO_CREDITS="Music: Gjallar by Alexander Nakarada\n(www.serpentsoundstudios.com)\nLicensed under Creative Commons BY Attribution 4.0 License\nhttp://creativecommons.org/licenses/by/4.0/",this.TUTOR_WELCOME="TUTOR_WELCOME",this.METER="METER",this.BIG_CIRCLE_MSG="BIG_CIRCLE_MSG",this.SMALL_CIRCLE_MSG="SMALL_CIRCLE_MSG",this.CHASE_FAIL_MSG1="CHASE_FAIL_MSG1",this.CHASE_SUCCESS_MSG1="CHASE_SUCCESS_MSG1",this.ROLLBACK_MSG1="ROLLBACK_MSG1",this.CHASE_MSG1="CHASE_MSG1",this.PLAY_MSG1="PLAY_MSG1",this.STUCK_MSG1="STUCK_MSG1",this.AVALANCHE_CATCH_MSG1="AVALANCHE_CATCH_MSG1",this.AVALANCHE_END_MSG1="AVALANCHE_END_MSG1",this.AVALANCHE_START_MSG2="AVALANCHE_START_MSG2",this.AVALANCHE_START_MSG1="AVALANCHE_START_MSG1",this.DESTROY_MSG2="DESTROY_MSG2",this.DESTROY_MSG1="DESTROY_MSG1",this.HIT_MSG1="HIT_MSG1",this.JUMP_MSG3="JUMP_MSG3",this.JUMP_MSG2="JUMP_MSG2",this.JUMP_MSG1="JUMP_MSG1",this.NOTIF_COME_BACK="NOTIF_COME_BACK",this.HELP_ABOUT_MANDALA="HELP_ABOUT_MANDALA",this.HELP_ABOUT_FAUNA="HELP_ABOUT_FAUNA",this.HELP_ABOUT_AVALANCHE="HELP_ABOUT_AVALANCHE",this.HELP_ABOUT_MAIN="HELP_ABOUT_MAIN",this.HELP_ABOUT_SNOWMEN="HELP_ABOUT_SNOWMEN",this.ERROR_ADS="ERROR_ADS",this.ERROR_DEFAULT="ERROR_DEFAULT",this.HELP9="HELP9",this.HELP8="HELP8",this.HELP7="HELP7",this.HELP6="HELP6",this.HELP5="HELP5",this.HELP4="HELP4",this.HELP3="HELP3",this.HELP2="HELP2",this.HELP1_D="HELP1_D",this.HELP1="HELP1",this.MUSIC_SETTING="MUSIC_SETTING",this.SETTING_OFF="SETTING_OFF",this.SETTING_ON="SETTING_ON",this.SOUND_FX_SETTING="SOUND_FX_SETTING",this.MENU_LOCALE="MENU_LOCALE",this.MENU_POS_RIGHT="MENU_POS_RIGHT",this.MENU_POS_LEFT="MENU_POS_LEFT",this.MENU_POS="MENU_POS",this.SENSITIVITY="SENSITIVITY",this.BTN_INVITE="BTN_INVITE",this.NO_RESTART_NO_ADS="NO_RESTART_NO_ADS",this.NO_RESTART="NO_RESTART",this.RESTART="RESTART",this.BTN_CREDITS="BTN_CREDITS",this.BTN_GLOBAL_ALL="BTN_GLOBAL_ALL",this.BTN_GLOBAL_FRIENDS="BTN_GLOBAL_FRIENDS",this.BTN_SOCIAL="BTN_SOCIAL",this.BTN_SETTINGS="BTN_SETTINGS",this.BTN_QUIT="BTN_QUIT",this.BTN_HELP="BTN_HELP",this.BTN_RESET="BTN_RESET",this.BTN_STATS="BTN_STATS",this.BTN_PREMIUM="BTN_PREMIUM",this.BTN_TUTOR="BTN_TUTOR",this.BTN_PLAY="BTN_PLAY",this.DESKTOP_NOTE="DESKTOP_NOTE",this.HELP_AVALANCHE="HELP_AVALANCHE",this.HELP_SNOWMEN="HELP_SNOWMEN",this.HELP="HELP",this.RESET="RESET",this.NAME="NAME",this.TOP_SCORE="TOP_SCORE",this.LOADING="LOADING",this.SPEED_BONUS="SPEED_BONUS",this.ERROR_SERVER="ERROR_SERVER",this.TOTAL_SCORE="TOTAL_SCORE",this.FINISH_TXT="FINISH_TXT",this.AVALANCHES_ESCAPED="AVALANCHES_ESCAPED",this.SNOWMEN_DESTROYED="SNOWMEN_DESTROYED",this.TOTAL_JUMPS="TOTAL_JUMPS",this.TOTAL_DISTANCE="TOTAL_DISTANCE",this.BEST_ROTATION="BEST_ROTATION",this.BEST_JUMP="BEST_JUMP",this.BEST_COMBO="BEST_COMBO",this.FINISH_BAD="FINISH_BAD",this.FINISH_GOOD="FINISH_GOOD",this.FINISH_NEW_RECORD="FINISH_NEW_RECORD",this.FINISH_TUTOR="FINISH_TUTOR",this.PAUSE="PAUSE"};$hxClasses["kro13.kk.utils.L"]=kro13_kk_utils_L,kro13_kk_utils_L.__name__="kro13.kk.utils.L",kro13_kk_utils_L.__properties__={get_instance:"get_instance"},kro13_kk_utils_L.get_instance=function(){return null==kro13_kk_utils_L.instance&&(kro13_kk_utils_L.instance=new kro13_kk_utils_L),kro13_kk_utils_L.instance},kro13_kk_utils_L.prototype={init:function(e){for(var t=JSON.parse(openfl_utils_Assets.getText(e)),a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,this[i]=t[i]}},__class__:kro13_kk_utils_L};var kro13_kk_utils__$L_LL={add:function(e,t){return new haxe_Template(e).execute(t)}},kro13_kk_utils_MathUtils=function(){};$hxClasses["kro13.kk.utils.MathUtils"]=kro13_kk_utils_MathUtils,kro13_kk_utils_MathUtils.__name__="kro13.kk.utils.MathUtils",kro13_kk_utils_MathUtils.__properties__={get_instance:"get_instance"},kro13_kk_utils_MathUtils.get_instance=function(){return null==kro13_kk_utils_MathUtils.instance&&(kro13_kk_utils_MathUtils.instance=new kro13_kk_utils_MathUtils,kro13_kk_utils_MathUtils.instance.initRandom(Math.random)),kro13_kk_utils_MathUtils.instance},kro13_kk_utils_MathUtils.prototype={roundWithPrec:function(e,t){var a=""+e,n=a.indexOf(".");return n<0&&(n=a.length,t=0),n+t>a.length&&(n=a.length,t=0),a.substring(0,n+t)},degToRad:function(e){return e*Math.PI/180},radToDeg:function(e){return e/Math.PI*180},randomRange:function(e,t){return Math.round(this.random()*(t-e))+e},randomArray:function(e,t){if(e>=t.length)return t;for(var a=[t],n=[];n.length<e;){var i=a[Math.round(this.random()*(a.length-1))],s=Math.round(Math.random()*(i.length-1)),_=i[s];n.push(_);var r=i.slice(0,s),o=i.slice(s+1,i.length);HxOverrides.remove(a,i),r.length>0&&a.push(r),o.length>0&&a.push(o)}return n},initRandom:function(e){this.random=e},__class__:kro13_kk_utils_MathUtils};var kro13_kk_utils_TextUtils=function(){};$hxClasses["kro13.kk.utils.TextUtils"]=kro13_kk_utils_TextUtils,kro13_kk_utils_TextUtils.__name__="kro13.kk.utils.TextUtils",kro13_kk_utils_TextUtils.getTextRect=function(e){var t=e.materialConfig,a=t.options,n=new haxepunk_graphics_text_BitmapText(t.text,0,0,Math.floor(t.width),Math.floor(t.height),a);n._dirty&&n.parseText();var i=n.textWidth;n._dirty&&n.parseText();var s=n.textHeight;return null==s&&(s=0),null==i&&(i=0),{x:i,y:s}},kro13_kk_utils_TextUtils.getColoredString=function(e,t){null==t&&(t=!1);var a=e>=0?kro13_kk_utils_TextUtils.pinkTag:kro13_kk_utils_TextUtils.guiTag;return"<"+a+">"+(t&&e>=0?kro13_kk_utils_TextUtils.plusSign:"")+e+"</"+a+">"};var kro13_kk_utils_VectorUtils=function(){};$hxClasses["kro13.kk.utils.VectorUtils"]=kro13_kk_utils_VectorUtils,kro13_kk_utils_VectorUtils.__name__="kro13.kk.utils.VectorUtils",kro13_kk_utils_VectorUtils.evenify=function(e){e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.x%2!=0&&(e.x+=1),e.y%2!=0&&(e.y+=1)},kro13_kk_utils_VectorUtils.evenifyKK=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y),e.x%2!=0&&(e.x+=1),e.y%2!=0&&(e.y+=1)};var kro13_kk_utils_macro_AbstractEnumTools=function(){};$hxClasses["kro13.kk.utils.macro.AbstractEnumTools"]=kro13_kk_utils_macro_AbstractEnumTools,kro13_kk_utils_macro_AbstractEnumTools.__name__="kro13.kk.utils.macro.AbstractEnumTools";var kro13_kk_utils_macro_Macro=function(){};$hxClasses["kro13.kk.utils.macro.Macro"]=kro13_kk_utils_macro_Macro,kro13_kk_utils_macro_Macro.__name__="kro13.kk.utils.macro.Macro";var kro13_parse_Parse=function(){this.authenticated=!1};$hxClasses["kro13.parse.Parse"]=kro13_parse_Parse,kro13_parse_Parse.__name__="kro13.parse.Parse",kro13_parse_Parse.__properties__={get_instance:"get_instance"},kro13_parse_Parse.get_instance=function(){return null==kro13_parse_Parse.instance&&(kro13_parse_Parse.instance=new kro13_parse_Parse),kro13_parse_Parse.instance},kro13_parse_Parse.prototype={init:function(){Parse.serverURL="https://parseapi.back4app.com",Parse.initialize("4J6bwG1YSzVacs4VRT8XVYvdlzv0P5YVTkWJeTlL","faEHsxRk9Izl7zy5ETtwbkIHVQ4qWPkhsocqYROt")},getVKProfiles:function(e,t,a){},getOrCreateVKProfile:function(e,t,a){Parse.Cloud.run("getVKProfile",{remoteId:e}).then(e=>{t(e)}).catch(e=>{console.log(e),a(e)})},updateVKProfile:function(e,t,a){Parse.Cloud.run("updateVKProfile",e).then(e=>{t(e)}).catch(e=>{console.log(JSON.stringify(e)),a(e)})},updateVKScore:function(e,t,a,n){Parse.Cloud.run("updateVKScore",{remoteId:e,totalScore:t}).then(e=>{a(e)}).catch(e=>{console.log(JSON.stringify(e)),n(e)})},getRemoteProfile:function(e,t,a,n){Parse.Cloud.run("getProfile",{remoteId:e,userName:t}).then(e=>{a(e)}).catch(e=>{console.log(e),n(e)})},updateProfile:function(e,t,a){Parse.Cloud.run("updateProfile",e).then(e=>{t(e)}).catch(e=>{a(e)})},getTopScores:function(e,t,a){Parse.Cloud.run("getTopScores",{count:e}).then(e=>{t(e)}).catch(e=>{a(e)})},__class__:kro13_parse_Parse};var kro13_vk_VK=function(){this.excludedFromTop=["140553","6093861"],this.reanimate=!1,this.addVisibilityHandler()};$hxClasses["kro13.vk.VK"]=kro13_vk_VK,kro13_vk_VK.__name__="kro13.vk.VK",kro13_vk_VK.__properties__={get_instance:"get_instance"},kro13_vk_VK.get_instance=function(){return null==kro13_vk_VK.instance&&(kro13_vk_VK.instance=new kro13_vk_VK),kro13_vk_VK.instance},kro13_vk_VK.prototype={addVisibilityHandler:function(){window.addEventListener("visibilitychange",$bind(this,this.onVisibilityChange),!1)},prepareReanimation:function(){this.reanimate=!0},init:function(e,t){var a=this,n=new URL($global.location.href);this.accessToken=n.searchParams.get("access_token"),this.viewerId=n.searchParams.get("viewer_id");"140553"==this.viewerId||this.viewerId;this.language=n.searchParams.get("language"),this.platform=n.searchParams.get("platform"),this.appId=n.searchParams.get("api_id");try{vkBridge.send("VKWebAppInit").then((function(t){a.onSDKInitSuccess(e)})).catch((function(e){a.onSDKInitFailed(t)}))}catch(e){haxe_NativeStackTrace.lastError=e;var i=haxe_Exception.caught(e).unwrap(),s="sdk init error: "+Std.string(i);window.alert(Std.string(s)),this.onSDKInitFailed(t)}},getUserId:function(){return this.viewerId},getAppId:function(){return this.appId},getUserName:function(e){var t=$bind(this,this.onGetUser),a=e;this.sdkCall("users.get",{user_ids:this.viewerId,test_mode:0,v:"5.95"},(function(e){t(a,e)}))},showLeaderboardBox:function(e){haxe_Log.trace("not implemented!",{fileName:"src/kro13/vk/VK.hx",lineNumber:97,className:"kro13.vk.VK",methodName:"showLeaderboardBox"})},showInviteBox:function(){vkBridge.send("VKWebAppShowInviteBox").then((function(e){haxe_Log.trace(e,{fileName:"src/kro13/vk/VK.hx",lineNumber:106,className:"kro13.vk.VK",methodName:"showInviteBox"})})).catch((function(e){haxe_Log.trace(e,{fileName:"src/kro13/vk/VK.hx",lineNumber:112,className:"kro13.vk.VK",methodName:"showInviteBox"})}))},getLeaderboard:function(e,t){var a=$bind(this,this.onGetLeaderboard),n=t;this.sdkCall("apps.getLeaderboard",{type:"score",global:e,extended:1,test_mode:0,v:"5.95"},(function(e){a(n,e)}))},getScore:function(e,t){var a=$bind(this,this.onGetScore),n=t;this.sdkCall("apps.getScore",{user_id:e,test_mode:0,v:"5.95"},(function(e){a(n,e)}))},getIsMember:function(e,t){var a=$bind(this,this.onIsMember),n=t;this.sdkCall("groups.isMember",{user_id:e,group_id:"168383584",test_mode:0,v:"5.95"},(function(e){a(n,e)}))},onIsMember:function(e,t){1==t.response?e(!0):e(!1)},getAreMembers:function(e,t){var a=$bind(this,this.onAreMembers),n=t;this.sdkCall("groups.isMember",{user_ids:e.join(","),group_id:"168383584",test_mode:0,v:"5.95"},(function(e){a(n,e)}))},onAreMembers:function(e,t){for(var a=new haxe_ds_StringMap,n=t.response,i=0;i<n.length;){var s=n[i];++i,a.h[s.user_id]=1==s.member}e(a)},onSDKInitSuccess:function(e){haxe_Log.trace("sdk init success",{fileName:"src/kro13/vk/VK.hx",lineNumber:162,className:"kro13.vk.VK",methodName:"onSDKInitSuccess"});"140553"==this.viewerId||this.viewerId;null!=e&&e()},onSDKInitFailed:function(e){haxe_Log.trace("sdk init failed",{fileName:"src/kro13/vk/VK.hx",lineNumber:174,className:"kro13.vk.VK",methodName:"onSDKInitFailed"}),window.alert("sdk init failed"),kro13_analytics_Analytics.get_instance().sendEventError("sdk init failed"),null!=e&&e()},onSettingsSet:function(e){null!=e&&e()},onGetLeaderboard:function(e,t){for(var a=t.response.items,n=t.response.profiles,i=[],s=0;s<a.length;){var _=a[s];++s;for(var r={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},o=0;o<n.length;){var l=n[o];++o,_.user_id==l.id&&(r.userName=Std.string(l.first_name)+" "+Std.string(l.last_name),r.remoteId=""+Std.string(l.id),r.totalScore=0|_.score)}this.excludedFromTop.indexOf(r.remoteId)<0&&i.push(r)}e(i)},onGetUser:function(e,t){this.firstName=t.response[0].first_name,this.lastName=t.response[0].last_name,e(this.firstName+" "+this.lastName)},onGetScore:function(e,t){e(Type.typeof(t.response)!=ValueType.TInt?Std.parseInt(t.response):t.response)},onVisibilityChange:function(e){!window.document.hidden&&this.reanimate&&($global.location.reload(),this.reanimate=!1)},sdkCall:function(e,t,a){t.access_token=this.accessToken;var n=""+(new Date).getTime()/1e3;vkBridge.send("VKWebAppCallAPIMethod",{method:e,request_id:n,params:t}).then((function(e){a(e)})).catch((function(e){haxe_Log.trace(e,{fileName:"src/kro13/vk/VK.hx",lineNumber:279,className:"kro13.vk.VK",methodName:"sdkCall"})}))},__class__:kro13_vk_VK};var kro13_vk_VKRemoteDataProvider=function(){this.remoteVKProfileEnabled=!1,this.parse=kro13_parse_Parse.get_instance(),this.parse.init()};$hxClasses["kro13.vk.VKRemoteDataProvider"]=kro13_vk_VKRemoteDataProvider,kro13_vk_VKRemoteDataProvider.__name__="kro13.vk.VKRemoteDataProvider",kro13_vk_VKRemoteDataProvider.__interfaces__=[kro13_kk_data_IRemoteDataProvider],kro13_vk_VKRemoteDataProvider.prototype={loadProfile:function(e,t,a){var n={remoteId:"",userName:"Kanyon Karver",totalScore:0,tags:[]},i=$bind(this,this.onInitSuccess),s=n,_=t,r=a;kro13_vk_VK.get_instance().init((function(){i(s,_,r)})),this.remoteVKProfileEnabled&&this.parse.getOrCreateVKProfile(n.remoteId,(function(e){n.tags=e.tags}),(function(e){haxe_Log.trace("get or create remote profile error "+Std.string(e),{fileName:"src/kro13/vk/VKRemoteDataProvider.hx",lineNumber:38,className:"kro13.vk.VKRemoteDataProvider",methodName:"loadProfile"})}))},updateProfile:function(e,t,a){this.remoteVKProfileEnabled?this.parse.updateVKProfile(e,t,(function(e){haxe_Log.trace("update remote profile error "+Std.string(e),{fileName:"src/kro13/vk/VKRemoteDataProvider.hx",lineNumber:50,className:"kro13.vk.VKRemoteDataProvider",methodName:"updateProfile"})})):t("OK")},updateProfileProp:function(e,t,a,n,i){if("totalScore"!=t)throw haxe_Exception.thrown("update "+t+" prop not implemented!");this.parse.updateVKScore(e,a,n,i)},getTopScores:function(e,t,a,n){var i=this;kro13_vk_VK.get_instance().getLeaderboard(t?1:0,(function(t){t.sort($bind(i,i.sortByScore));var n=t.splice(0,e);a(n),i.getAreMembers(n,a)}))},getAreMembers:function(e,t){for(var a=[],n=0;n<e.length;){var i=e[n];++n,a.push(i.remoteId)}var s=a;kro13_vk_VK.get_instance().getAreMembers(s,(function(a){for(var n=0;n<e.length;){var i=e[n];++n,a.h[i.remoteId]&&kro13_kk_data_EProfileTag.tag(1,i)}t(e)}))},onInitSuccess:function(e,t,a){e.remoteId=kro13_vk_VK.get_instance().getUserId();"140553"==e.remoteId||e.remoteId;var n=$bind(this,this.onUserNameGot),i=e,s=t,_=a;kro13_vk_VK.get_instance().getUserName((function(e){n(i,s,_,e)}))},onUserNameGot:function(e,t,a,n){e.userName=n;"140553"==e.remoteId||e.remoteId;var i=$bind(this,this.onScoreGot),s=e,_=t,r=a;kro13_vk_VK.get_instance().getScore(e.remoteId,(function(e){i(s,_,r,e)}))},onScoreGot:function(e,t,a,n){e.totalScore=n;"140553"==e.remoteId||e.remoteId;var i=$bind(this,this.onIsMemberGot),s=e,_=t,r=a;kro13_vk_VK.get_instance().getIsMember(e.remoteId,(function(e){i(s,_,r,e)}))},onIsMemberGot:function(e,t,a,n){n?kro13_kk_data_EProfileTag.tag(1,e):kro13_kk_data_EProfileTag.untag(1,e);"140553"==e.remoteId||e.remoteId;t(e)},sortByScore:function(e,t){return e.totalScore<t.totalScore?1:e.totalScore>t.totalScore?-1:0},__class__:kro13_vk_VKRemoteDataProvider};var kro13_vk_ads_VKAds=function(){};$hxClasses["kro13.vk.ads.VKAds"]=kro13_vk_ads_VKAds,kro13_vk_ads_VKAds.__name__="kro13.vk.ads.VKAds",kro13_vk_ads_VKAds.__interfaces__=[kro13_ads_IAdsManager],kro13_vk_ads_VKAds.prototype={showAds:function(e,t,a){this.showAdsVKBridge("interstitial",e,a)},showVideoAds:function(e,t,a){this.showAdsVKBridge("reward",e,a)},showAdsAdman:function(e,t,a){var n=window;if(null==n.admanInit)return haxe_Log.trace("no adman",{fileName:"src/kro13/vk/ads/VKAds.hx",lineNumber:46,className:"kro13.vk.ads.VKAds",methodName:"showAdsAdman"}),void a("ads error no adman");n.admanInit({user_id:kro13_vk_VK.get_instance().getUserId(),app_id:kro13_vk_VK.get_instance().getAppId(),type:"rewarded"},(function(a){a.start("preroll"),a.onCompleted((function(t){e()})),a.onSkipped((function(e){haxe_Log.trace(e,{fileName:"src/kro13/vk/ads/VKAds.hx",lineNumber:69,className:"kro13.vk.ads.VKAds",methodName:"showAdsAdman"}),t()}))}),(function(){a("admain init error "+Std.string(null!=n.AdmanHTML))}))},showAdsVKBridge:function(e,t,a){vkBridge.send("VKWebAppInit").then((function(n){vkBridge.send("VKWebAppShowNativeAds",{ad_format:e}).then((function(e){t()})).catch((function(e){a("ads show native error: "+JSON.stringify(e))}))})).catch((function(e){a("ads init error: "+e)}))},__class__:kro13_vk_ads_VKAds};var lime__$internal_backend_html5_GameDeviceData=function(){this.connected=!0,this.buttons=[],this.axes=[]};$hxClasses["lime._internal.backend.html5.GameDeviceData"]=lime__$internal_backend_html5_GameDeviceData,lime__$internal_backend_html5_GameDeviceData.__name__="lime._internal.backend.html5.GameDeviceData",lime__$internal_backend_html5_GameDeviceData.prototype={__class__:lime__$internal_backend_html5_GameDeviceData};var lime__$internal_backend_html5_HTML5AudioSource=function(e){this.parent=e,this.id=-1,this.gain=1,this.position=new lime_math_Vector4};$hxClasses["lime._internal.backend.html5.HTML5AudioSource"]=lime__$internal_backend_html5_HTML5AudioSource,lime__$internal_backend_html5_HTML5AudioSource.__name__="lime._internal.backend.html5.HTML5AudioSource",lime__$internal_backend_html5_HTML5AudioSource.prototype={dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){this.playing=!0;var e=this.getCurrentTime();this.completed=!1;var t=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain(),this.id=this.parent.buffer.__srcHowl.play(),this.parent.buffer.__srcHowl._volume=t,this.setPosition(this.parent.get_position()),this.parent.buffer.__srcHowl.on("end",$bind(this,this.howl_onEnd),this.id),this.setCurrentTime(e)}},pause:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",$bind(this,this.howl_onEnd),this.id))},howl_onEnd:function(){if(this.playing=!1,this.loops>0)return this.loops--,this.stop(),void this.play();null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",$bind(this,this.howl_onEnd),this.id)),this.completed=!0,this.parent.onComplete.dispatch()},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var e=(1e3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return e<0?0:e}return 0},setCurrentTime:function(e){if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var t=(e+this.parent.offset)/1e3;t<0&&(t=0),this.parent.buffer.__srcHowl.seek(t,this.id)}return e},getGain:function(){return this.gain},setGain:function(e){return null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&-1!=this.id&&this.parent.buffer.__srcHowl.volume(e,this.id),this.gain=e},getLength:function(){return 0!=this.length?this.length:null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl?1e3*this.parent.buffer.__srcHowl.duration()|0:0},setLength:function(e){return this.length=e},getLoops:function(){return this.loops},setLoops:function(e){return this.loops=e},getPosition:function(){return this.position},setPosition:function(e){return this.position.x=e.x,this.position.y=e.y,this.position.z=e.z,this.position.w=e.w,null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.pos&&this.parent.buffer.__srcHowl.pos(this.position.x,this.position.y,this.position.z,this.id),this.position},__class__:lime__$internal_backend_html5_HTML5AudioSource};var lime__$internal_backend_html5_HTML5HTTPRequest=function(){this.validStatus0=new EReg("Tizen","gi").match(window.navigator.userAgent)};$hxClasses["lime._internal.backend.html5.HTML5HTTPRequest"]=lime__$internal_backend_html5_HTML5HTTPRequest,lime__$internal_backend_html5_HTML5HTTPRequest.__name__="lime._internal.backend.html5.HTML5HTTPRequest",lime__$internal_backend_html5_HTML5HTTPRequest.loadImage=function(e){var t=new lime_app_Promise;return lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests<lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit?(lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests++,lime__$internal_backend_html5_HTML5HTTPRequest.__loadImage(e,t,0)):lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.add({instance:null,uri:e,promise:t,type:"IMAGE",options:0}),t.future},lime__$internal_backend_html5_HTML5HTTPRequest.loadImageFromBytes=function(e,t){var a=URL.createObjectURL(new Blob([e.b.bufferValue],{type:t}));if(null!=a){var n=new lime_app_Promise;return lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests<lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit?(lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests++,lime__$internal_backend_html5_HTML5HTTPRequest.__loadImage(a,n,1)):lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.add({instance:null,uri:a,promise:n,type:"IMAGE",options:1}),n.future}return lime__$internal_backend_html5_HTML5HTTPRequest.loadImage("data:"+t+";base64,"+lime__$internal_format_Base64.encode(e))},lime__$internal_backend_html5_HTML5HTTPRequest.processQueue=function(){if(lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests<lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit&&lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.length>0){lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests++;var e=lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.pop();switch(e.type){case"BINARY":e.instance.__loadData(e.uri,e.promise);break;case"IMAGE":lime__$internal_backend_html5_HTML5HTTPRequest.__loadImage(e.uri,e.promise,e.options);break;case"TEXT":e.instance.__loadText(e.uri,e.promise);break;default:lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--}}},lime__$internal_backend_html5_HTML5HTTPRequest.__createBlobURIFromBytes=function(e,t){return URL.createObjectURL(new Blob([e.b.bufferValue],{type:t}))},lime__$internal_backend_html5_HTML5HTTPRequest.__fixHostname=function(e){return null==e?"":e},lime__$internal_backend_html5_HTML5HTTPRequest.__fixPort=function(e,t){if(null==e||""==e)switch(t){case"ftp:":return"21";case"gopher:":return"70";case"http:":return"80";case"https:":return"443";case"ws:":return"80";case"wss:":return"443";default:return""}return e},lime__$internal_backend_html5_HTML5HTTPRequest.__fixProtocol=function(e){return null==e||""==e?"http:":e},lime__$internal_backend_html5_HTML5HTTPRequest.__isInMemoryURI=function(e){return!!StringTools.startsWith(e,"data:")||StringTools.startsWith(e,"blob:")},lime__$internal_backend_html5_HTML5HTTPRequest.__isSameOrigin=function(e){if(null==e||""==e)return!0;if(lime__$internal_backend_html5_HTML5HTTPRequest.__isInMemoryURI(e))return!0;null==lime__$internal_backend_html5_HTML5HTTPRequest.originElement&&(lime__$internal_backend_html5_HTML5HTTPRequest.originElement=window.document.createElement("a"),lime__$internal_backend_html5_HTML5HTTPRequest.originHostname=lime__$internal_backend_html5_HTML5HTTPRequest.__fixHostname($global.location.hostname),lime__$internal_backend_html5_HTML5HTTPRequest.originProtocol=lime__$internal_backend_html5_HTML5HTTPRequest.__fixProtocol($global.location.protocol),lime__$internal_backend_html5_HTML5HTTPRequest.originPort=lime__$internal_backend_html5_HTML5HTTPRequest.__fixPort($global.location.port,lime__$internal_backend_html5_HTML5HTTPRequest.originProtocol));var t=lime__$internal_backend_html5_HTML5HTTPRequest.originElement;t.href=e,""==t.hostname&&(t.href=t.href);var a=lime__$internal_backend_html5_HTML5HTTPRequest.__fixHostname(t.hostname),n=lime__$internal_backend_html5_HTML5HTTPRequest.__fixProtocol(t.protocol),i=lime__$internal_backend_html5_HTML5HTTPRequest.__fixPort(t.port,n),s=""==a||a==lime__$internal_backend_html5_HTML5HTTPRequest.originHostname,_=""==i||i==lime__$internal_backend_html5_HTML5HTTPRequest.originPort;return!("file:"==n||!s)&&_},lime__$internal_backend_html5_HTML5HTTPRequest.__loadImage=function(e,t,a){var n=new Image;if(lime__$internal_backend_html5_HTML5HTTPRequest.__isSameOrigin(e)||(n.crossOrigin="Anonymous"),null==lime__$internal_backend_html5_HTML5HTTPRequest.supportsImageProgress&&(lime__$internal_backend_html5_HTML5HTTPRequest.supportsImageProgress="onprogress"in n),lime__$internal_backend_html5_HTML5HTTPRequest.supportsImageProgress||lime__$internal_backend_html5_HTML5HTTPRequest.__isInMemoryURI(e))n.addEventListener("load",(function(i){lime__$internal_backend_html5_HTML5HTTPRequest.__revokeBlobURI(e,a);var s=new lime_graphics_ImageBuffer(null,n.width,n.height);s.__srcImage=n,lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--,lime__$internal_backend_html5_HTML5HTTPRequest.processQueue(),t.complete(new lime_graphics_Image(s))}),!1),n.addEventListener("progress",(function(e){t.progress(e.loaded,e.total)}),!1),n.addEventListener("error",(function(n){lime__$internal_backend_html5_HTML5HTTPRequest.__revokeBlobURI(e,a),lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--,lime__$internal_backend_html5_HTML5HTTPRequest.processQueue(),t.error(n.detail)}),!1),n.src=e;else{var i=new XMLHttpRequest;i.onload=function(e){lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--,lime__$internal_backend_html5_HTML5HTTPRequest.processQueue(),(new lime_graphics_Image).__fromBytes(haxe_io_Bytes.ofData(i.response),(function(e){t.complete(e)}))},i.onerror=function(e){t.error(e.message)},i.onprogress=function(e){e.lengthComputable&&t.progress(e.loaded,e.total)},i.open("GET",e,!0),i.responseType="arraybuffer",i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null)}},lime__$internal_backend_html5_HTML5HTTPRequest.__revokeBlobURI=function(e,t){0!=(1&t)&&URL.revokeObjectURL(e)},lime__$internal_backend_html5_HTML5HTTPRequest.prototype={cancel:function(){null!=this.request&&this.request.abort()},init:function(e){this.parent=e},load:function(e,t,a){this.request=new XMLHttpRequest,"POST"==this.parent.method?this.request.upload.addEventListener("progress",t,!1):this.request.addEventListener("progress",t,!1),this.request.onreadystatechange=a;var n="";if(null==this.parent.data){for(var i=haxe_ds_StringMap.keysIterator(this.parent.formData.h);i.hasNext();){var s=i.next();n.length>0&&(n+="&");var _=this.parent.formData.h[s];if(s.indexOf("[]")>-1&&_ instanceof Array){for(var r=[],o=$getIterator(_);o.hasNext();){var l=o.next();r.push(encodeURIComponent(l))}var h=r.join("&amp;"+s+"=");n+=encodeURIComponent(s)+"="+h}else{var u=encodeURIComponent(s)+"=",p=Std.string(_);n+=u+encodeURIComponent(p)}}"GET"==this.parent.method&&""!=n&&(e.indexOf("?")>-1?e+="&"+n:e+="?"+n,n="")}this.request.open(Std.string(this.parent.method),e,!0),this.parent.timeout>0&&(this.request.timeout=this.parent.timeout),this.binary&&(this.request.responseType="arraybuffer");for(var c=null,d=(r=0,this.parent.headers);r<d.length;){var f=d[r];++r,"Content-Type"==f.name?c=f.value:this.request.setRequestHeader(f.name,f.value)}null!=this.parent.contentType&&(c=this.parent.contentType),null==c&&(null!=this.parent.data?c="application/octet-stream":""!=n&&(c="application/x-www-form-urlencoded")),null!=c&&this.request.setRequestHeader("Content-Type",c),this.parent.withCredentials&&(this.request.withCredentials=!0),null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(n)},loadData:function(e){var t=new lime_app_Promise;return lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests<lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit?(lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests++,this.__loadData(e,t)):lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.add({instance:this,uri:e,promise:t,type:"BINARY",options:0}),t.future},loadText:function(e){var t=new lime_app_Promise;return lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests<lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit?(lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests++,this.__loadText(e,t)):lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue.add({instance:this,uri:e,promise:t,type:"TEXT",options:0}),t.future},processResponse:function(){if(this.parent.enableResponseHeaders){var e,t;this.parent.responseHeaders=[];for(var a=0,n=this.request.getAllResponseHeaders().split("\n");a<n.length;){var i=n[a];++a,e=StringTools.trim(HxOverrides.substr(i,0,i.indexOf(":"))),t=StringTools.trim(HxOverrides.substr(i,i.indexOf(":")+1,null)),""!=e&&this.parent.responseHeaders.push(new lime_net_HTTPRequestHeader(e,t))}}this.parent.responseStatus=this.request.status},__loadData:function(e,t){var a=this;this.binary=!0,this.load(e,(function(e){t.progress(e.loaded,e.total)}),(function(e){if(4==a.request.readyState){if(null!=a.request.status&&(a.request.status>=200&&a.request.status<400||a.validStatus0&&0==a.request.status)){var n=null;""==a.request.responseType?null!=a.request.responseText&&(n=haxe_io_Bytes.ofString(a.request.responseText)):null!=a.request.response&&(n=haxe_io_Bytes.ofData(a.request.response)),a.processResponse(),t.complete(n)}else a.processResponse(),t.error(a.request.status);a.request=null,lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--,lime__$internal_backend_html5_HTML5HTTPRequest.processQueue()}}))},__loadText:function(e,t){var a=this;this.binary=!1,this.load(e,(function(e){t.progress(e.loaded,e.total)}),(function(e){4==a.request.readyState&&(null!=a.request.status&&(a.request.status>=200&&a.request.status<=400||a.validStatus0&&0==a.request.status)?(a.processResponse(),t.complete(a.request.responseText)):(a.processResponse(),t.error(a.request.status)),a.request=null,lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests--,lime__$internal_backend_html5_HTML5HTTPRequest.processQueue())}))},__class__:lime__$internal_backend_html5_HTML5HTTPRequest};var lime__$internal_backend_html5_HTML5Window=function(e){this.unusedTouchesPool=new haxe_ds_List,this.scale=1,this.currentTouches=new haxe_ds_IntMap,this.parent=e,this.cursor=lime_ui_MouseCursor.DEFAULT,this.cacheMouseX=0,this.cacheMouseY=0;var t=e.__attributes;Object.prototype.hasOwnProperty.call(t,"context")||(t.context={}),this.renderType=t.context.type,Object.prototype.hasOwnProperty.call(t,"element")&&(e.element=t.element);var a=e.element;if(Object.prototype.hasOwnProperty.call(t,"allowHighDPI")&&t.allowHighDPI&&"dom"!=this.renderType&&(this.scale=window.devicePixelRatio),e.__scale=this.scale,this.setWidth=Object.prototype.hasOwnProperty.call(t,"width")?t.width:0,this.setHeight=Object.prototype.hasOwnProperty.call(t,"height")?t.height:0,e.__width=this.setWidth,e.__height=this.setHeight,e.id=lime__$internal_backend_html5_HTML5Window.windowID++,a instanceof HTMLCanvasElement?this.canvas=a:"dom"==this.renderType?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas"),null!=this.canvas)(n=this.canvas.style).setProperty("-webkit-transform","translateZ(0)",null),n.setProperty("transform","translateZ(0)",null);else if(null!=this.div){var n;(n=this.div.style).setProperty("-webkit-transform","translate3D(0,0,0)",null),n.setProperty("transform","translate3D(0,0,0)",null),n.position="relative",n.overflow="hidden",n.setProperty("-webkit-user-select","none",null),n.setProperty("-moz-user-select","none",null),n.setProperty("-ms-user-select","none",null),n.setProperty("-o-user-select","none",null)}if(0==e.__width&&0==e.__height&&(null!=a?(e.__width=a.clientWidth,e.__height=a.clientHeight):(e.__width=window.innerWidth,e.__height=window.innerHeight),this.cacheElementWidth=e.__width,this.cacheElementHeight=e.__height,this.resizeElement=!0),null!=this.canvas?(this.canvas.width=Math.round(e.__width*this.scale),this.canvas.height=Math.round(e.__height*this.scale),this.canvas.style.width=e.__width+"px",this.canvas.style.height=e.__height+"px"):(this.div.style.width=e.__width+"px",this.div.style.height=e.__height+"px"),(Object.prototype.hasOwnProperty.call(t,"resizable")&&t.resizable||!Object.prototype.hasOwnProperty.call(t,"width")&&0==this.setWidth&&0==this.setHeight)&&(e.__resizable=!0),this.updateSize(),null!=a){null!=this.canvas?a!=this.canvas&&a.appendChild(this.canvas):a.appendChild(this.div);for(var i=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],s=0;s<i.length;){var _=i[s];++s,a.addEventListener(_,$bind(this,this.handleMouseEvent),!0)}a.addEventListener("contextmenu",$bind(this,this.handleContextMenuEvent),!0),a.addEventListener("dragstart",$bind(this,this.handleDragEvent),!0),a.addEventListener("dragover",$bind(this,this.handleDragEvent),!0),a.addEventListener("drop",$bind(this,this.handleDragEvent),!0),a.addEventListener("touchstart",$bind(this,this.handleTouchEvent),!0),a.addEventListener("touchmove",$bind(this,this.handleTouchEvent),!0),a.addEventListener("touchend",$bind(this,this.handleTouchEvent),!0),a.addEventListener("touchcancel",$bind(this,this.handleTouchEvent),!0),a.addEventListener("gamepadconnected",$bind(this,this.handleGamepadEvent),!0),a.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadEvent),!0)}this.createContext(),"webgl"==e.context.type&&(this.canvas.addEventListener("webglcontextlost",$bind(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",$bind(this,this.handleContextEvent),!1))};$hxClasses["lime._internal.backend.html5.HTML5Window"]=lime__$internal_backend_html5_HTML5Window,lime__$internal_backend_html5_HTML5Window.__name__="lime._internal.backend.html5.HTML5Window",lime__$internal_backend_html5_HTML5Window.prototype={alert:function(e,t){null!=e&&window.alert(Std.string(e))},close:function(){this.parent.application.__removeWindow(this.parent)},createContext:function(){var e=new lime_graphics_RenderContext,t=this.parent.__attributes.context;if(e.window=this.parent,e.attributes=t,null!=this.div)e.dom=this.div,e.type="dom",e.version="";else if(null!=this.canvas){var a=null,n=(this.renderType,!Object.prototype.hasOwnProperty.call(t,"version")||"1"!=t.version),i=!1,s=Object.prototype.hasOwnProperty.call(t,"background")&&null==t.background,_=Object.prototype.hasOwnProperty.call(t,"colorDepth")?t.colorDepth:16,r={alpha:s||_>16,antialias:Object.prototype.hasOwnProperty.call(t,"antialiasing")&&t.antialiasing>0,depth:!Object.prototype.hasOwnProperty.call(t,"depth")||t.depth,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(t,"stencil")&&t.stencil,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0},o=["webgl","experimental-webgl"];n&&o.unshift("webgl2");for(var l=0;l<o.length;){var h=o[l];if(++l,null!=(a=this.canvas.getContext(h,r))&&"webgl2"==h&&(i=!0),null!=a)break}null==a?(e.canvas2D=this.canvas.getContext("2d"),e.type="canvas",e.version=""):(e.webgl=lime_graphics_WebGLRenderContext.fromWebGL2RenderContext(a),i&&(e.webgl2=a),null==lime_graphics_opengl_GL.context&&(lime_graphics_opengl_GL.context=a,lime_graphics_opengl_GL.type="webgl",lime_graphics_opengl_GL.version=i?2:1),e.type="webgl",e.version=i?"2":"1")}this.parent.context=e},focus:function(){},getCursor:function(){return this.cursor},getDisplay:function(){return lime_system_System.getDisplay(0)},getDisplayMode:function(){return lime_system_System.getDisplay(0).currentMode},getFrameRate:function(){return null==this.parent.application?0:this.parent.application.__backend.framePeriod<0?60:1e3==this.parent.application.__backend.framePeriod?0:1e3/this.parent.application.__backend.framePeriod},getMouseLock:function(){return!1},getTextInputEnabled:function(){return this.textInputEnabled},handleContextEvent:function(e){switch(e.type){case"webglcontextlost":e.cancelable&&e.preventDefault();lime_graphics_opengl_GL.context;this.parent.context=null,this.parent.onRenderContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context)}},handleContextMenuEvent:function(e){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&e.cancelable&&e.preventDefault()},handleCutOrCopyEvent:function(e){e.clipboardData.setData("text/plain",lime_system_Clipboard.get_text()),e.cancelable&&e.preventDefault()},handleDragEvent:function(e){switch(e.type){case"dragover":return e.preventDefault(),!1;case"dragstart":if("img"==js_Boot.__cast(e.target,HTMLElement).nodeName.toLowerCase()&&e.cancelable)return e.preventDefault(),!1;break;case"drop":if(null!=e.dataTransfer&&e.dataTransfer.files.length>0)return this.parent.onDropFile.dispatch(e.dataTransfer.files),e.preventDefault(),!1}return!0},handleFocusEvent:function(e){var t=this;this.textInputEnabled&&(null==e.relatedTarget||this.isDescendent(e.relatedTarget))&&haxe_Timer.delay((function(){t.textInputEnabled&&lime__$internal_backend_html5_HTML5Window.textInput.focus()}),20)},handleFullscreenEvent:function(e){if(null!=(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))this.isFullscreen=!0,this.parent.__fullscreen=!0,this.requestedFullscreen&&(this.requestedFullscreen=!1,this.parent.onFullscreen.dispatch());else{this.isFullscreen=!1,this.parent.__fullscreen=!1,this.parent.onRestore.dispatch();for(var t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],a=["fullscreenerror","mozfullscreenerror","webkitfullscreenerror","MSFullscreenError"],n=0,i=t.length;n<i;){var s=n++;window.document.removeEventListener(t[s],$bind(this,this.handleFullscreenEvent),!1),window.document.removeEventListener(a[s],$bind(this,this.handleFullscreenEvent),!1)}}},handleGamepadEvent:function(e){switch(e.type){case"gamepadconnected":lime_ui_Joystick.__connect(e.gamepad.index),"standard"==e.gamepad.mapping&&lime_ui_Gamepad.__connect(e.gamepad.index);break;case"gamepaddisconnected":lime_ui_Joystick.__disconnect(e.gamepad.index),lime_ui_Gamepad.__disconnect(e.gamepad.index)}},handleInputEvent:function(e){if(lime__$internal_backend_html5_HTML5Window.textInput.value!=lime__$internal_backend_html5_HTML5Window.dummyCharacter){var t=StringTools.replace(lime__$internal_backend_html5_HTML5Window.textInput.value,lime__$internal_backend_html5_HTML5Window.dummyCharacter,"");t.length>0&&this.parent.onTextInput.dispatch(t),lime__$internal_backend_html5_HTML5Window.textInput.value=lime__$internal_backend_html5_HTML5Window.dummyCharacter}},handleMouseEvent:function(e){var t=0,a=0;if("wheel"!=e.type){if(null!=this.parent.element)if(null!=this.canvas){var n=this.canvas.getBoundingClientRect();t=(e.clientX-n.left)*(this.parent.__width/n.width),a=(e.clientY-n.top)*(this.parent.__height/n.height)}else if(null!=this.div){n=this.div.getBoundingClientRect();t=e.clientX-n.left,a=e.clientY-n.top}else{n=this.parent.element.getBoundingClientRect();t=(e.clientX-n.left)*(this.parent.__width/n.width),a=(e.clientY-n.top)*(this.parent.__height/n.height)}else t=e.clientX,a=e.clientY;switch(e.type){case"mousedown":e.currentTarget==this.parent.element&&window.addEventListener("mouseup",$bind(this,this.handleMouseEvent)),this.parent.onMouseDown.dispatch(t,a,e.button),this.parent.onMouseDown.canceled&&e.cancelable&&e.preventDefault();break;case"mouseenter":e.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&e.cancelable&&e.preventDefault());break;case"mouseleave":e.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&e.cancelable&&e.preventDefault());break;case"mousemove":t==this.cacheMouseX&&a==this.cacheMouseY||(this.parent.onMouseMove.dispatch(t,a),this.parent.onMouseMoveRelative.dispatch(t-this.cacheMouseX,a-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&e.cancelable&&e.preventDefault());break;case"mouseup":window.removeEventListener("mouseup",$bind(this,this.handleMouseEvent)),e.currentTarget==this.parent.element&&e.stopPropagation(),this.parent.onMouseUp.dispatch(t,a,e.button),this.parent.onMouseUp.canceled&&e.cancelable&&e.preventDefault()}this.cacheMouseX=t,this.cacheMouseY=a}else{var i;switch(e.deltaMode){case 0:i=lime_ui_MouseWheelMode.PIXELS;break;case 1:i=lime_ui_MouseWheelMode.LINES;break;case 2:i=lime_ui_MouseWheelMode.PAGES;break;default:i=lime_ui_MouseWheelMode.UNKNOWN}this.parent.onMouseWheel.dispatch(e.deltaX,-e.deltaY,i),this.parent.onMouseWheel.canceled&&e.cancelable&&e.preventDefault()}},handlePasteEvent:function(e){if(e.clipboardData.types.indexOf("text/plain")>-1){var t=e.clipboardData.getData("text/plain");lime_system_Clipboard.set_text(t),this.textInputEnabled&&this.parent.onTextInput.dispatch(t),e.cancelable&&e.preventDefault()}},handleResizeEvent:function(e){this.primaryTouch=null,this.updateSize()},handleTouchEvent:function(e){e.cancelable&&e.preventDefault();var t=null;null!=this.parent.element&&(t=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.parent.element.getBoundingClientRect());var a,n,i,s,_,r=this.setWidth,o=this.setHeight;0!=r&&0!=o||(null!=t?(r=t.width,o=t.height):(r=1,o=1));for(var l=0,h=e.changedTouches;l<h.length;){var u=h[l];if(++l,n=0,i=0,null!=t?(n=(u.clientX-t.left)*(r/t.width),i=(u.clientY-t.top)*(o/t.height)):(n=u.clientX,i=u.clientY),"touchstart"==e.type)null==(a=this.unusedTouchesPool.pop())?a=new lime_ui_Touch(n/r,i/o,u.identifier,0,0,u.force,this.parent.id):(a.x=n/r,a.y=i/o,a.id=u.identifier,a.dx=0,a.dy=0,a.pressure=u.force,a.device=this.parent.id),this.currentTouches.h[u.identifier]=a,lime_ui_Touch.onStart.dispatch(a),null==this.primaryTouch&&(this.primaryTouch=a),a==this.primaryTouch&&this.parent.onMouseDown.dispatch(n,i,0);else if(null!=(a=this.currentTouches.h[u.identifier]))switch(s=a.x,_=a.y,a.x=n/r,a.y=i/o,a.dx=a.x-s,a.dy=a.y-_,a.pressure=u.force,e.type){case"touchcancel":lime_ui_Touch.onCancel.dispatch(a),this.currentTouches.remove(u.identifier),this.unusedTouchesPool.add(a),a==this.primaryTouch&&(this.primaryTouch=null);break;case"touchend":lime_ui_Touch.onEnd.dispatch(a),this.currentTouches.remove(u.identifier),this.unusedTouchesPool.add(a),a==this.primaryTouch&&(this.parent.onMouseUp.dispatch(n,i,0),this.primaryTouch=null);break;case"touchmove":lime_ui_Touch.onMove.dispatch(a),a==this.primaryTouch&&this.parent.onMouseMove.dispatch(n,i)}}},isDescendent:function(e){if(e==this.parent.element)return!0;for(;null!=e;){if(e.parentNode==this.parent.element)return!0;e=e.parentNode}return!1},move:function(e,t){},readPixels:function(e){if(null!=this.canvas){var t=new lime_math_Rectangle(0,0,this.canvas.width,this.canvas.height);if(null==e?e=t:e.intersection(t,e),e.width>0&&e.height>0){var a=window.document.createElement("canvas");return a.width=0|e.width,a.height=0|e.height,a.getContext("2d").drawImage(this.canvas,-e.x,-e.y),lime_graphics_Image.fromCanvas(a)}}return null},resize:function(e,t){},setBorderless:function(e){return e},setClipboard:function(e){null==lime__$internal_backend_html5_HTML5Window.textArea&&(lime__$internal_backend_html5_HTML5Window.textArea=window.document.createElement("textarea"),lime__$internal_backend_html5_HTML5Window.textArea.style.height="0px",lime__$internal_backend_html5_HTML5Window.textArea.style.left="-100px",lime__$internal_backend_html5_HTML5Window.textArea.style.opacity="0",lime__$internal_backend_html5_HTML5Window.textArea.style.position="fixed",lime__$internal_backend_html5_HTML5Window.textArea.style.top="-100px",lime__$internal_backend_html5_HTML5Window.textArea.style.width="0px",window.document.body.appendChild(lime__$internal_backend_html5_HTML5Window.textArea)),lime__$internal_backend_html5_HTML5Window.textArea.value=e,lime__$internal_backend_html5_HTML5Window.textArea.focus(),lime__$internal_backend_html5_HTML5Window.textArea.select(),window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy")},setCursor:function(e){if(this.cursor!=e){if(null==e)this.parent.element.style.cursor="none";else{var t;switch(e._hx_index){case 0:t="default";break;case 1:t="crosshair";break;case 3:t="move";break;case 4:t="pointer";break;case 5:t="nesw-resize";break;case 6:t="ns-resize";break;case 7:t="nwse-resize";break;case 8:t="ew-resize";break;case 9:t="text";break;case 10:case 11:t="wait";break;default:t="auto"}this.parent.element.style.cursor=t}this.cursor=e}return this.cursor},setDisplayMode:function(e){return e},setFrameRate:function(e){return null!=this.parent.application&&(e>=60?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=-1):e>0?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3/e):this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3)),e},setFullscreen:function(e){return e?this.requestedFullscreen||this.isFullscreen||(this.requestedFullscreen=!0,$bind($_=this.parent.element,$_.requestFullscreen)?(document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenEvent),!1),document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenEvent),!1),this.parent.element.requestFullscreen()):this.parent.element.mozRequestFullScreen?(document.addEventListener("mozfullscreenchange",$bind(this,this.handleFullscreenEvent),!1),document.addEventListener("mozfullscreenerror",$bind(this,this.handleFullscreenEvent),!1),this.parent.element.mozRequestFullScreen()):this.parent.element.webkitRequestFullscreen?(document.addEventListener("webkitfullscreenchange",$bind(this,this.handleFullscreenEvent),!1),document.addEventListener("webkitfullscreenerror",$bind(this,this.handleFullscreenEvent),!1),this.parent.element.webkitRequestFullscreen()):this.parent.element.msRequestFullscreen&&(document.addEventListener("MSFullscreenChange",$bind(this,this.handleFullscreenEvent),!1),document.addEventListener("MSFullscreenError",$bind(this,this.handleFullscreenEvent),!1),this.parent.element.msRequestFullscreen())):this.isFullscreen&&(this.requestedFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),e},setIcon:function(e){lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e);var t=window.document.querySelector("link[rel*='icon']");null==t&&(t=window.document.createElement("link")),t.type="image/x-icon",t.rel="shortcut icon",t.href=e.buffer.get_src().toDataURL("image/x-icon"),window.document.getElementsByTagName("head")[0].appendChild(t)},setMaximized:function(e){return!1},setMinimized:function(e){return!1},setMouseLock:function(e){},setResizable:function(e){return e},setTextInputEnabled:function(e){return e?(null==lime__$internal_backend_html5_HTML5Window.textInput&&(lime__$internal_backend_html5_HTML5Window.textInput=window.document.createElement("input"),lime__$internal_backend_html5_HTML5Window.textInput.type="text",lime__$internal_backend_html5_HTML5Window.textInput.style.position="absolute",lime__$internal_backend_html5_HTML5Window.textInput.style.opacity="0",lime__$internal_backend_html5_HTML5Window.textInput.style.color="transparent",lime__$internal_backend_html5_HTML5Window.textInput.value=lime__$internal_backend_html5_HTML5Window.dummyCharacter,lime__$internal_backend_html5_HTML5Window.textInput.autocapitalize="off",lime__$internal_backend_html5_HTML5Window.textInput.autocorrect="off",lime__$internal_backend_html5_HTML5Window.textInput.autocomplete="off",lime__$internal_backend_html5_HTML5Window.textInput.style.left="0px",lime__$internal_backend_html5_HTML5Window.textInput.style.top="50%",new EReg("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(lime__$internal_backend_html5_HTML5Window.textInput.style.fontSize="0px",lime__$internal_backend_html5_HTML5Window.textInput.style.width="0px",lime__$internal_backend_html5_HTML5Window.textInput.style.height="0px"):(lime__$internal_backend_html5_HTML5Window.textInput.style.width="1px",lime__$internal_backend_html5_HTML5Window.textInput.style.height="1px"),lime__$internal_backend_html5_HTML5Window.textInput.style.pointerEvents="none",lime__$internal_backend_html5_HTML5Window.textInput.style.zIndex="-10000000"),null==lime__$internal_backend_html5_HTML5Window.textInput.parentNode&&this.parent.element.appendChild(lime__$internal_backend_html5_HTML5Window.textInput),this.textInputEnabled||(lime__$internal_backend_html5_HTML5Window.textInput.addEventListener("input",$bind(this,this.handleInputEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.addEventListener("blur",$bind(this,this.handleFocusEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.addEventListener("cut",$bind(this,this.handleCutOrCopyEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.addEventListener("copy",$bind(this,this.handleCutOrCopyEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.addEventListener("paste",$bind(this,this.handlePasteEvent),!0)),lime__$internal_backend_html5_HTML5Window.textInput.focus(),lime__$internal_backend_html5_HTML5Window.textInput.select()):null!=lime__$internal_backend_html5_HTML5Window.textInput&&(lime__$internal_backend_html5_HTML5Window.textInput.removeEventListener("input",$bind(this,this.handleInputEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.removeEventListener("blur",$bind(this,this.handleFocusEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.removeEventListener("cut",$bind(this,this.handleCutOrCopyEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.removeEventListener("copy",$bind(this,this.handleCutOrCopyEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.removeEventListener("paste",$bind(this,this.handlePasteEvent),!0),lime__$internal_backend_html5_HTML5Window.textInput.blur()),this.textInputEnabled=e},setTitle:function(e){return null!=e&&(window.document.title=e),e},updateSize:function(){var e,t;if(this.parent.__resizable&&(null!=this.parent.element?(e=this.parent.element.clientWidth,t=this.parent.element.clientHeight):(e=window.innerWidth,t=window.innerHeight),e!=this.cacheElementWidth||t!=this.cacheElementHeight)){this.cacheElementWidth=e,this.cacheElementHeight=t;var a=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.parent.element&&(null==this.div||null!=this.div&&a))if(a)this.parent.__width==e&&this.parent.__height==t||(this.parent.__width=e,this.parent.__height=t,null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(e*this.scale),this.canvas.height=Math.round(t*this.scale),this.canvas.style.width=e+"px",this.canvas.style.height=t+"px"):(this.div.style.width=e+"px",this.div.style.height=t+"px"),this.parent.onResize.dispatch(e,t));else{var n=0!=this.setWidth?e/this.setWidth:1,i=0!=this.setHeight?t/this.setHeight:1,s=e,_=t,r=0,o=0;n<i?(_=Math.floor(this.setHeight*n),o=Math.floor((t-_)/2)):(s=Math.floor(this.setWidth*i),r=Math.floor((e-s)/2)),null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.style.width=s+"px",this.canvas.style.height=_+"px",this.canvas.style.marginLeft=r+"px",this.canvas.style.marginTop=o+"px"):(this.div.style.width=s+"px",this.div.style.height=_+"px",this.div.style.marginLeft=r+"px",this.div.style.marginTop=o+"px")}}},warpMouse:function(e,t){},__class__:lime__$internal_backend_html5_HTML5Window};var lime__$internal_backend_native_NativeCFFI=function(){};$hxClasses["lime._internal.backend.native.NativeCFFI"]=lime__$internal_backend_native_NativeCFFI,lime__$internal_backend_native_NativeCFFI.__name__="lime._internal.backend.native.NativeCFFI";var lime__$internal_format_BMP=function(){};$hxClasses["lime._internal.format.BMP"]=lime__$internal_format_BMP,lime__$internal_format_BMP.__name__="lime._internal.format.BMP",lime__$internal_format_BMP.encode=function(e,t){(e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),null==t&&(t=lime__$internal_format_BMPType.RGB);var a=14,n=40,i=e.width*e.height*4;if(null!=t)switch(t._hx_index){case 0:i=(3*e.width+3*e.width%4)*e.height;break;case 1:n=108;break;case 2:a=0,i+=e.width*e.height}var s=new haxe_io_Bytes(new ArrayBuffer(a+n+i)),_=0;if(a>0&&(s.b[_++]=66,s.b[_++]=77,s.setInt32(_,s.length),_+=4,s.setUInt16(_,0),_+=2,s.setUInt16(_,0),_+=2,s.setInt32(_,a+n),_+=4),s.setInt32(_,n),_+=4,s.setInt32(_,e.width),_+=4,s.setInt32(_,t==lime__$internal_format_BMPType.ICO?2*e.height:e.height),_+=4,s.setUInt16(_,1),_+=2,s.setUInt16(_,t==lime__$internal_format_BMPType.RGB?24:32),_+=2,s.setInt32(_,t==lime__$internal_format_BMPType.BITFIELD?3:0),_+=4,s.setInt32(_,i),_+=4,s.setInt32(_,11824),_+=4,s.setInt32(_,11824),_+=4,s.setInt32(_,0),_+=4,s.setInt32(_,0),_+=4,t==lime__$internal_format_BMPType.BITFIELD){s.setInt32(_,16711680),_+=4,s.setInt32(_,65280),_+=4,s.setInt32(_,255),_+=4,s.setInt32(_,-16777216),_+=4,s.b[_++]=32,s.b[_++]=110,s.b[_++]=105,s.b[_++]=87;for(var r=0;r<48;){r++;s.b[_++]=0}}var o,l,h,u,p=e.getPixels(new lime_math_Rectangle(0,0,e.width,e.height),1),c=0;if(null!=t)switch(t._hx_index){case 0:r=0;for(var d=e.height;r<d;){var f=r++;c=4*(e.height-1-f)*e.width;for(var m=0,g=e.width;m<g;){m++;o=p.b[c++],l=p.b[c++],h=p.b[c++],u=p.b[c++],s.b[_++]=255&u,s.b[_++]=255&h,s.b[_++]=255&l}for(var x=0,k=3*e.width%4;x<k;){x++;s.b[_++]=0}}break;case 1:for(r=0,d=e.height;r<d;){f=r++;c=4*(e.height-1-f)*e.width;for(m=0,g=e.width;m<g;){m++;o=p.b[c++],l=p.b[c++],h=p.b[c++],u=p.b[c++],s.b[_++]=255&u,s.b[_++]=255&h,s.b[_++]=255&l,s.b[_++]=255&o}}break;case 2:var y=new haxe_io_Bytes(new ArrayBuffer(e.width*e.height)),b=0;for(r=0,d=e.height;r<d;){f=r++;c=4*(e.height-1-f)*e.width;for(m=0,g=e.width;m<g;){m++;o=p.b[c++],l=p.b[c++],h=p.b[c++],u=p.b[c++],s.b[_++]=255&u,s.b[_++]=255&h,s.b[_++]=255&l,s.b[_++]=255&o,y.b[b++]=0}}s.blit(_,y,0,e.width*e.height)}return s};var lime__$internal_format_BMPType=$hxEnums["lime._internal.format.BMPType"]={__ename__:"lime._internal.format.BMPType",__constructs__:["RGB","BITFIELD","ICO"],RGB:{_hx_index:0,__enum__:"lime._internal.format.BMPType",toString:$estr},BITFIELD:{_hx_index:1,__enum__:"lime._internal.format.BMPType",toString:$estr},ICO:{_hx_index:2,__enum__:"lime._internal.format.BMPType",toString:$estr}},lime__$internal_format_Base64=function(){};$hxClasses["lime._internal.format.Base64"]=lime__$internal_format_Base64,lime__$internal_format_Base64.__name__="lime._internal.format.Base64",lime__$internal_format_Base64.decode=function(e){return haxe_crypto_Base64.decode(e)},lime__$internal_format_Base64.encode=function(e){var t=[],a=lime__$internal_format_Base64.DICTIONARY,n=lime__$internal_format_Base64.EXTENDED_DICTIONARY,i=e.length,s=Math.floor(i/3),_=2*s;t.length=2*Math.ceil(i/3);for(var r,o=0,l=0;l<_;)r=e.b[o]<<16|e.b[o+1]<<8|e.b[o+2],t[l]=n[r>>12&4095],t[l+1]=n[4095&r],o+=3,l+=2;switch(i-3*s){case 1:r=e.b[o]<<16,t[l]=n[r>>12&4095],t[l+1]="==";break;case 2:r=e.b[o]<<16|e.b[o+1]<<8,t[l]=n[r>>12&4095],t[l+1]=a[r>>6&63]+"="}return t.join("")};var lime__$internal_format_Deflate=function(){};$hxClasses["lime._internal.format.Deflate"]=lime__$internal_format_Deflate,lime__$internal_format_Deflate.__name__="lime._internal.format.Deflate",lime__$internal_format_Deflate.compress=function(e){var t=pako.deflateRaw(e.b.bufferValue);return haxe_io_Bytes.ofData(t)},lime__$internal_format_Deflate.decompress=function(e){var t=pako.inflateRaw(e.b.bufferValue);return haxe_io_Bytes.ofData(t)};var lime__$internal_format_GZip=function(){};$hxClasses["lime._internal.format.GZip"]=lime__$internal_format_GZip,lime__$internal_format_GZip.__name__="lime._internal.format.GZip",lime__$internal_format_GZip.compress=function(e){var t=pako.gzip(e.b.bufferValue);return haxe_io_Bytes.ofData(t)},lime__$internal_format_GZip.decompress=function(e){var t=pako.ungzip(e.b.bufferValue);return haxe_io_Bytes.ofData(t)};var lime__$internal_format_JPEG=function(){};$hxClasses["lime._internal.format.JPEG"]=lime__$internal_format_JPEG,lime__$internal_format_JPEG.__name__="lime._internal.format.JPEG",lime__$internal_format_JPEG.decodeBytes=function(e,t){return null==t&&(t=!0),null},lime__$internal_format_JPEG.decodeFile=function(e,t){return null==t&&(t=!0),null},lime__$internal_format_JPEG.encode=function(e,t){if((e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,!1),null!=e.buffer.__srcCanvas){for(var a=e.buffer.__srcCanvas.toDataURL("image/jpeg",t/100),n=window.atob(a.split(";base64,")[1]),i=new haxe_io_Bytes(new ArrayBuffer(n.length)),s=0,_=n.length;s<_;){var r=s++;i.b[r]=255&HxOverrides.cca(n,r)}return i}return null};var lime__$internal_format_LZMA=function(){};$hxClasses["lime._internal.format.LZMA"]=lime__$internal_format_LZMA,lime__$internal_format_LZMA.__name__="lime._internal.format.LZMA",lime__$internal_format_LZMA.compress=function(e){return null},lime__$internal_format_LZMA.decompress=function(e){return null};var lime__$internal_format_PNG=function(){};$hxClasses["lime._internal.format.PNG"]=lime__$internal_format_PNG,lime__$internal_format_PNG.__name__="lime._internal.format.PNG",lime__$internal_format_PNG.decodeBytes=function(e,t){return null==t&&(t=!0),null},lime__$internal_format_PNG.decodeFile=function(e,t){return null==t&&(t=!0),null},lime__$internal_format_PNG.encode=function(e){if((e.get_premultiplied()||0!=e.get_format())&&((e=e.clone()).set_premultiplied(!1),e.set_format(0)),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,!1),null!=e.buffer.__srcCanvas){for(var t=e.buffer.__srcCanvas.toDataURL("image/png"),a=window.atob(t.split(";base64,")[1]),n=new haxe_io_Bytes(new ArrayBuffer(a.length)),i=0,s=a.length;i<s;){var _=i++;n.b[_]=255&HxOverrides.cca(a,_)}return n}return null};var lime__$internal_format_Zlib=function(){};$hxClasses["lime._internal.format.Zlib"]=lime__$internal_format_Zlib,lime__$internal_format_Zlib.__name__="lime._internal.format.Zlib",lime__$internal_format_Zlib.compress=function(e){var t=pako.deflate(e.b.bufferValue);return haxe_io_Bytes.ofData(t)},lime__$internal_format_Zlib.decompress=function(e){var t=pako.inflate(e.b.bufferValue);return haxe_io_Bytes.ofData(t)};var lime__$internal_graphics_ImageCanvasUtil=function(){};$hxClasses["lime._internal.graphics.ImageCanvasUtil"]=lime__$internal_graphics_ImageCanvasUtil,lime__$internal_graphics_ImageCanvasUtil.__name__="lime._internal.graphics.ImageCanvasUtil",lime__$internal_graphics_ImageCanvasUtil.colorTransform=function(e,t,a){lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.colorTransform(e,t,a)},lime__$internal_graphics_ImageCanvasUtil.convertToCanvas=function(e,t){null==t&&(t=!1);var a=e.buffer;null!=a.__srcImage?(null==a.__srcCanvas&&(lime__$internal_graphics_ImageCanvasUtil.createCanvas(e,a.__srcImage.width,a.__srcImage.height),a.__srcContext.drawImage(a.__srcImage,0,0)),a.__srcImage=null):null==a.__srcCanvas&&null!=a.data?(e.set_transparent(!0),lime__$internal_graphics_ImageCanvasUtil.createCanvas(e,a.width,a.height),lime__$internal_graphics_ImageCanvasUtil.createImageData(e),a.__srcContext.putImageData(a.__srcImageData,0,0)):e.type==lime_graphics_ImageType.DATA&&null!=a.__srcImageData&&e.dirty&&(a.__srcContext.putImageData(a.__srcImageData,0,0),e.dirty=!1),t?(a.data=null,a.__srcImageData=null):null==a.data&&null!=a.__srcImageData&&(a.data=a.__srcImageData.data),e.type=lime_graphics_ImageType.CANVAS},lime__$internal_graphics_ImageCanvasUtil.convertToData=function(e,t){null==t&&(t=!1);var a=e.buffer;if(null!=a.__srcImage&&lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e),null!=a.__srcCanvas&&null==a.data)lime__$internal_graphics_ImageCanvasUtil.createImageData(e),e.type==lime_graphics_ImageType.CANVAS&&(e.dirty=!1);else if(e.type==lime_graphics_ImageType.CANVAS&&null!=a.__srcCanvas&&e.dirty){if(null==a.__srcImageData)lime__$internal_graphics_ImageCanvasUtil.createImageData(e);else{a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height);var n,i=a.__srcImageData.data.buffer;n=null!=i?new Uint8Array(i):null,a.data=n}e.dirty=!1}t&&(e.buffer.__srcCanvas=null,e.buffer.__srcContext=null),e.type=lime_graphics_ImageType.DATA},lime__$internal_graphics_ImageCanvasUtil.copyChannel=function(e,t,a,n,i,s){lime__$internal_graphics_ImageCanvasUtil.convertToData(t),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.copyChannel(e,t,a,n,i,s)},lime__$internal_graphics_ImageCanvasUtil.copyPixels=function(e,t,a,n,i,s,_){if(null==_&&(_=!1),!(null==n||n.x>=e.width||n.y>=e.height||null==a||a.width<1||a.height<1)){if(null!=i&&i.get_transparent()){null==s&&(s=new lime_math_Vector2);var r=t.clone();r.copyChannel(i,new lime_math_Rectangle(a.x+s.x,a.y+s.y,a.width,a.height),new lime_math_Vector2(a.x,a.y),lime_graphics_ImageChannel.ALPHA,lime_graphics_ImageChannel.ALPHA),t=r}lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,!0),_||e.get_transparent()&&t.get_transparent()&&e.buffer.__srcContext.clearRect(n.x+e.offsetX,n.y+e.offsetY,a.width+e.offsetX,a.height+e.offsetY),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(t),null!=t.buffer.get_src()&&(e.buffer.__srcContext.globalCompositeOperation="source-over",e.buffer.__srcContext.drawImage(t.buffer.get_src(),a.x+t.offsetX|0,a.y+t.offsetY|0,0|a.width,0|a.height,n.x+e.offsetX|0,n.y+e.offsetY|0,0|a.width,0|a.height)),e.dirty=!0,e.version++}},lime__$internal_graphics_ImageCanvasUtil.createCanvas=function(e,t,a){var n=e.buffer;null==n.__srcCanvas&&(n.__srcCanvas=window.document.createElement("canvas"),n.__srcCanvas.width=t,n.__srcCanvas.height=a,e.get_transparent()?n.__srcContext=n.__srcCanvas.getContext("2d"):(e.get_transparent()||n.__srcCanvas.setAttribute("moz-opaque","true"),n.__srcContext=n.__srcCanvas.getContext("2d",{alpha:!1})))},lime__$internal_graphics_ImageCanvasUtil.createImageData=function(e){var t=e.buffer;if(null==t.__srcImageData){null==t.data?t.__srcImageData=t.__srcContext.getImageData(0,0,t.width,t.height):(t.__srcImageData=t.__srcContext.createImageData(t.width,t.height),t.__srcImageData.data.set(t.data));var a,n=t.__srcImageData.data.buffer;a=null!=n?new Uint8Array(n):null,t.data=a}},lime__$internal_graphics_ImageCanvasUtil.fillRect=function(e,t,a,n){var i,s,_,r;lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e),1==n?(i=a>>16&255,s=a>>8&255,_=255&a,r=e.get_transparent()?a>>24&255:255):(i=a>>24&255,s=a>>16&255,_=a>>8&255,r=e.get_transparent()?255&a:255),0==t.x&&0==t.y&&t.width==e.width&&t.height==e.height&&e.get_transparent()&&0==r?e.buffer.__srcCanvas.width=e.buffer.width:(r<255&&e.buffer.__srcContext.clearRect(t.x+e.offsetX,t.y+e.offsetY,t.width+e.offsetX,t.height+e.offsetY),r>0&&(e.buffer.__srcContext.fillStyle="rgba("+i+", "+s+", "+_+", "+r/255+")",e.buffer.__srcContext.fillRect(t.x+e.offsetX,t.y+e.offsetY,t.width+e.offsetX,t.height+e.offsetY)),e.dirty=!0,e.version++)},lime__$internal_graphics_ImageCanvasUtil.floodFill=function(e,t,a,n,i){lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.floodFill(e,t,a,n,i)},lime__$internal_graphics_ImageCanvasUtil.getPixel=function(e,t,a,n){return lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.getPixel(e,t,a,n)},lime__$internal_graphics_ImageCanvasUtil.getPixel32=function(e,t,a,n){return lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.getPixel32(e,t,a,n)},lime__$internal_graphics_ImageCanvasUtil.getPixels=function(e,t,a){return lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.getPixels(e,t,a)},lime__$internal_graphics_ImageCanvasUtil.merge=function(e,t,a,n,i,s,_,r){lime__$internal_graphics_ImageCanvasUtil.convertToData(t),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.merge(e,t,a,n,i,s,_,r)},lime__$internal_graphics_ImageCanvasUtil.resize=function(e,t,a){var n=e.buffer;if(null==n.__srcCanvas)lime__$internal_graphics_ImageCanvasUtil.createCanvas(e,t,a),n.__srcContext.drawImage(n.get_src(),0,0,t,a);else{lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,!0);var i=n.__srcCanvas;n.__srcCanvas=null,lime__$internal_graphics_ImageCanvasUtil.createCanvas(e,t,a),n.__srcContext.drawImage(i,0,0,t,a)}n.__srcImageData=null,n.data=null,e.dirty=!0,e.version++},lime__$internal_graphics_ImageCanvasUtil.scroll=function(e,t,a){if(t%e.width!=0||a%e.height!=0){var n=e.clone();lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,!0),e.buffer.__srcContext.clearRect(t,a,e.width,e.height),e.buffer.__srcContext.drawImage(n.get_src(),t,a),e.dirty=!0,e.version++}},lime__$internal_graphics_ImageCanvasUtil.setPixel=function(e,t,a,n,i){lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.setPixel(e,t,a,n,i)},lime__$internal_graphics_ImageCanvasUtil.setPixel32=function(e,t,a,n,i){lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.setPixel32(e,t,a,n,i)},lime__$internal_graphics_ImageCanvasUtil.setPixels=function(e,t,a,n,i){lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.setPixels(e,t,a,n,i)},lime__$internal_graphics_ImageCanvasUtil.sync=function(e,t){null!=e&&(e.type!=lime_graphics_ImageType.CANVAS||null==e.buffer.__srcCanvas&&null==e.buffer.data?e.type==lime_graphics_ImageType.DATA&&lime__$internal_graphics_ImageCanvasUtil.convertToData(e,t):lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e,t))};var lime__$internal_graphics_ImageDataUtil=function(){};$hxClasses["lime._internal.graphics.ImageDataUtil"]=lime__$internal_graphics_ImageDataUtil,lime__$internal_graphics_ImageDataUtil.__name__="lime._internal.graphics.ImageDataUtil",lime__$internal_graphics_ImageDataUtil.displaceMap=function(e,t,a,n,i,s,_){for(var r,o,l,h,u,p,c,d,f,m,g,x,k,y,b,v,P,w=e.buffer.data,T=t.buffer.data,C=a.buffer.data,S=e.buffer.format,A=t.buffer.format,E=a.buffer.format,D=e.get_premultiplied(),M=t.get_premultiplied(),R=a.get_premultiplied(),L=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(t),I=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(a),$=0,B=L.height;$<B;){var O=$++;r=L.byteOffset+L.stride*O;for(var G=0,F=L.width;G<F;){var N=G++;if(o=r+4*N,x=0|n.x,k=0|n.y,_){var H=L.byteOffset+L.stride*(O-k+1)+4*(N-x),U=E,X=R;switch(null==X&&(X=!1),null==U&&(U=0),U){case 0:d=(255&C[H])<<24|(255&C[H+1])<<16|(255&C[H+2])<<8|255&C[H+3];break;case 1:d=(255&C[H+1])<<24|(255&C[H+2])<<16|(255&C[H+3])<<8|255&C[H];break;case 2:d=(255&C[H+2])<<24|(255&C[H+1])<<16|(255&C[H])<<8|255&C[H+3]}X&&0!=(255&d)&&255!=(255&d)&&(lime_math_RGBA.unmult=255/(255&d),d=(255&lime_math_RGBA.__clamp[Math.round((d>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((d>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((d>>>8&255)*lime_math_RGBA.unmult)])<<8|255&d);var V=L.byteOffset+L.stride*(O-k)+4*(N-x+1),j=E,z=R;switch(null==z&&(z=!1),null==j&&(j=0),j){case 0:f=(255&C[V])<<24|(255&C[V+1])<<16|(255&C[V+2])<<8|255&C[V+3];break;case 1:f=(255&C[V+1])<<24|(255&C[V+2])<<16|(255&C[V+3])<<8|255&C[V];break;case 2:f=(255&C[V+2])<<24|(255&C[V+1])<<16|(255&C[V])<<8|255&C[V+3]}z&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f);var W=L.byteOffset+L.stride*(O-k+1)+4*(N-x+1),Y=E,K=R;switch(null==K&&(K=!1),null==Y&&(Y=0),Y){case 0:m=(255&C[W])<<24|(255&C[W+1])<<16|(255&C[W+2])<<8|255&C[W+3];break;case 1:m=(255&C[W+1])<<24|(255&C[W+2])<<16|(255&C[W+3])<<8|255&C[W];break;case 2:m=(255&C[W+2])<<24|(255&C[W+1])<<16|(255&C[W])<<8|255&C[W+3]}K&&0!=(255&m)&&255!=(255&m)&&(lime_math_RGBA.unmult=255/(255&m),m=(255&lime_math_RGBA.__clamp[Math.round((m>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((m>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((m>>>8&255)*lime_math_RGBA.unmult)])<<8|255&m);var q=L.byteOffset+L.stride*(O-k)+4*(N-x),J=E,Z=R;switch(null==Z&&(Z=!1),null==J&&(J=0),J){case 0:g=(255&C[q])<<24|(255&C[q+1])<<16|(255&C[q+2])<<8|255&C[q+3];break;case 1:g=(255&C[q+1])<<24|(255&C[q+2])<<16|(255&C[q+3])<<8|255&C[q];break;case 2:g=(255&C[q+2])<<24|(255&C[q+1])<<16|(255&C[q])<<8|255&C[q+3]}Z&&0!=(255&g)&&255!=(255&g)&&(lime_math_RGBA.unmult=255/(255&g),g=(255&lime_math_RGBA.__clamp[Math.round((g>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((g>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((g>>>8&255)*lime_math_RGBA.unmult)])<<8|255&g),h=lime__$internal_graphics_ImageDataUtil.bilinear(d,f,m,g,n.x-x,n.y-k)}else{var Q=I.byteOffset+I.stride*(O-k)+4*(N-x),ee=E,te=R;switch(null==te&&(te=!1),null==ee&&(ee=0),ee){case 0:h=(255&C[Q])<<24|(255&C[Q+1])<<16|(255&C[Q+2])<<8|255&C[Q+3];break;case 1:h=(255&C[Q+1])<<24|(255&C[Q+2])<<16|(255&C[Q+3])<<8|255&C[Q];break;case 2:h=(255&C[Q+2])<<24|(255&C[Q+1])<<16|(255&C[Q])<<8|255&C[Q+3]}te&&0!=(255&h)&&255!=(255&h)&&(lime_math_RGBA.unmult=255/(255&h),h=(255&lime_math_RGBA.__clamp[Math.round((h>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((h>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((h>>>8&255)*lime_math_RGBA.unmult)])<<8|255&h)}if(p=((h>>>16&255)-128)/255*(c=(255&h)/255),v=(u=((h>>>24&255)-128)/255*c)*i.x+p*s.x,P=u*i.y+p*s.y,y=Math.floor(v*L.width),b=Math.floor(P*L.height),_){var ae=L.byteOffset+L.stride*(O+b+1)+4*(N+y),ne=A,ie=M;switch(null==ie&&(ie=!1),null==ne&&(ne=0),ne){case 0:d=(255&T[ae])<<24|(255&T[ae+1])<<16|(255&T[ae+2])<<8|255&T[ae+3];break;case 1:d=(255&T[ae+1])<<24|(255&T[ae+2])<<16|(255&T[ae+3])<<8|255&T[ae];break;case 2:d=(255&T[ae+2])<<24|(255&T[ae+1])<<16|(255&T[ae])<<8|255&T[ae+3]}ie&&0!=(255&d)&&255!=(255&d)&&(lime_math_RGBA.unmult=255/(255&d),d=(255&lime_math_RGBA.__clamp[Math.round((d>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((d>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((d>>>8&255)*lime_math_RGBA.unmult)])<<8|255&d);var se=L.byteOffset+L.stride*(O+b)+4*(N+y+1),_e=A,re=M;switch(null==re&&(re=!1),null==_e&&(_e=0),_e){case 0:f=(255&T[se])<<24|(255&T[se+1])<<16|(255&T[se+2])<<8|255&T[se+3];break;case 1:f=(255&T[se+1])<<24|(255&T[se+2])<<16|(255&T[se+3])<<8|255&T[se];break;case 2:f=(255&T[se+2])<<24|(255&T[se+1])<<16|(255&T[se])<<8|255&T[se+3]}re&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f);var oe=L.byteOffset+L.stride*(O+b+1)+4*(N+y+1),le=A,he=M;switch(null==he&&(he=!1),null==le&&(le=0),le){case 0:m=(255&T[oe])<<24|(255&T[oe+1])<<16|(255&T[oe+2])<<8|255&T[oe+3];break;case 1:m=(255&T[oe+1])<<24|(255&T[oe+2])<<16|(255&T[oe+3])<<8|255&T[oe];break;case 2:m=(255&T[oe+2])<<24|(255&T[oe+1])<<16|(255&T[oe])<<8|255&T[oe+3]}he&&0!=(255&m)&&255!=(255&m)&&(lime_math_RGBA.unmult=255/(255&m),m=(255&lime_math_RGBA.__clamp[Math.round((m>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((m>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((m>>>8&255)*lime_math_RGBA.unmult)])<<8|255&m);var ue=L.byteOffset+L.stride*(O+b)+4*(N+y),pe=A,ce=M;switch(null==ce&&(ce=!1),null==pe&&(pe=0),pe){case 0:g=(255&T[ue])<<24|(255&T[ue+1])<<16|(255&T[ue+2])<<8|255&T[ue+3];break;case 1:g=(255&T[ue+1])<<24|(255&T[ue+2])<<16|(255&T[ue+3])<<8|255&T[ue];break;case 2:g=(255&T[ue+2])<<24|(255&T[ue+1])<<16|(255&T[ue])<<8|255&T[ue+3]}ce&&0!=(255&g)&&255!=(255&g)&&(lime_math_RGBA.unmult=255/(255&g),g=(255&lime_math_RGBA.__clamp[Math.round((g>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((g>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((g>>>8&255)*lime_math_RGBA.unmult)])<<8|255&g),l=lime__$internal_graphics_ImageDataUtil.bilinear(d,f,m,g,v*L.width-y,P*L.height-b)}else{var de=L.byteOffset+L.stride*(O+b)+4*(N+y),fe=A,me=M;switch(null==me&&(me=!1),null==fe&&(fe=0),fe){case 0:l=(255&T[de])<<24|(255&T[de+1])<<16|(255&T[de+2])<<8|255&T[de+3];break;case 1:l=(255&T[de+1])<<24|(255&T[de+2])<<16|(255&T[de+3])<<8|255&T[de];break;case 2:l=(255&T[de+2])<<24|(255&T[de+1])<<16|(255&T[de])<<8|255&T[de+3]}me&&0!=(255&l)&&255!=(255&l)&&(lime_math_RGBA.unmult=255/(255&l),l=(255&lime_math_RGBA.__clamp[Math.round((l>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((l>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((l>>>8&255)*lime_math_RGBA.unmult)])<<8|255&l)}var ge=S,xe=D;switch(null==xe&&(xe=!1),null==ge&&(ge=0),xe&&(0==(255&l)?0!=l&&(l=0):255!=(255&l)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&l],l=((l>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((l>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((l>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&l)),ge){case 0:w[o]=l>>>24&255,w[o+1]=l>>>16&255,w[o+2]=l>>>8&255,w[o+3]=255&l;break;case 1:w[o]=255&l,w[o+1]=l>>>24&255,w[o+2]=l>>>16&255,w[o+3]=l>>>8&255;break;case 2:w[o]=l>>>8&255,w[o+1]=l>>>16&255,w[o+2]=l>>>24&255,w[o+3]=255&l}}}e.dirty=!0,e.version++},lime__$internal_graphics_ImageDataUtil.bilinear=function(e,t,a,n,i,s){return lime__$internal_graphics_ImageDataUtil.lerpRGBA(lime__$internal_graphics_ImageDataUtil.lerpRGBA(n,t,i),lime__$internal_graphics_ImageDataUtil.lerpRGBA(e,a,i),s)},lime__$internal_graphics_ImageDataUtil.lerpRGBA=function(e,t,a){var n=0;return n=(255&(n=(255&(n=(255&(n=(255&Math.floor(lime__$internal_graphics_ImageDataUtil.lerp(e>>>24&255,t>>>24&255,a)))<<24|(255&n>>>16)<<16|(255&n>>>8)<<8|255&n)>>>24)<<24|(255&Math.floor(lime__$internal_graphics_ImageDataUtil.lerp(e>>>16&255,t>>>16&255,a)))<<16|(255&n>>>8)<<8|255&n)>>>24)<<24|(255&n>>>16)<<16|(255&Math.floor(lime__$internal_graphics_ImageDataUtil.lerp(e>>>8&255,t>>>8&255,a)))<<8|255&n)>>>24)<<24|(255&n>>>16)<<16|(255&n>>>8)<<8|255&Math.floor(lime__$internal_graphics_ImageDataUtil.lerp(255&e,255&t,a))},lime__$internal_graphics_ImageDataUtil.lerp4f=function(e,t,a){return new lime_math_Vector4(lime__$internal_graphics_ImageDataUtil.lerp(e.x,t.x,a),lime__$internal_graphics_ImageDataUtil.lerp(e.y,t.y,a),lime__$internal_graphics_ImageDataUtil.lerp(e.z,t.z,a),lime__$internal_graphics_ImageDataUtil.lerp(e.w,t.w,a))},lime__$internal_graphics_ImageDataUtil.lerp=function(e,t,a){return(1-a)*e+a*t},lime__$internal_graphics_ImageDataUtil.colorTransform=function(e,t,a){var n=e.buffer.data;if(null!=n){for(var i,s,_,r=e.buffer.format,o=e.buffer.premultiplied,l=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,t),h=lime_math_ColorMatrix.getAlphaTable(a),u=lime_math_ColorMatrix.getRedTable(a),p=lime_math_ColorMatrix.getGreenTable(a),c=lime_math_ColorMatrix.getBlueTable(a),d=0,f=l.height;d<f;){var m=d++;i=l.byteOffset+l.stride*m;for(var g=0,x=l.width;g<x;){s=i+4*g++;var k=r,y=o;switch(null==y&&(y=!1),null==k&&(k=0),k){case 0:_=(255&n[s])<<24|(255&n[s+1])<<16|(255&n[s+2])<<8|255&n[s+3];break;case 1:_=(255&n[s+1])<<24|(255&n[s+2])<<16|(255&n[s+3])<<8|255&n[s];break;case 2:_=(255&n[s+2])<<24|(255&n[s+1])<<16|(255&n[s])<<8|255&n[s+3]}y&&0!=(255&_)&&255!=(255&_)&&(lime_math_RGBA.unmult=255/(255&_),_=(255&lime_math_RGBA.__clamp[Math.round((_>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((_>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((_>>>8&255)*lime_math_RGBA.unmult)])<<8|255&_),_=(255&u[_>>>24&255])<<24|(255&p[_>>>16&255])<<16|(255&c[_>>>8&255])<<8|255&h[255&_];var b=r,v=o;switch(null==v&&(v=!1),null==b&&(b=0),v&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&_],_=((_>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((_>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((_>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&_)),b){case 0:n[s]=_>>>24&255,n[s+1]=_>>>16&255,n[s+2]=_>>>8&255,n[s+3]=255&_;break;case 1:n[s]=255&_,n[s+1]=_>>>24&255,n[s+2]=_>>>16&255,n[s+3]=_>>>8&255;break;case 2:n[s]=_>>>8&255,n[s+1]=_>>>16&255,n[s+2]=_>>>24&255,n[s+3]=255&_}}}e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.copyChannel=function(e,t,a,n,i,s){var _,r;switch(s._hx_index){case 0:_=0;break;case 1:_=1;break;case 2:_=2;break;case 3:_=3}switch(i._hx_index){case 0:r=0;break;case 1:r=1;break;case 2:r=2;break;case 3:r=3}var o=t.buffer.data,l=e.buffer.data;if(null!=o&&null!=l){for(var h,u,p,c,d=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(t,a),f=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,new lime_math_Rectangle(n.x,n.y,d.width,d.height)),m=t.buffer.format,g=e.buffer.format,x=t.buffer.premultiplied,k=e.buffer.premultiplied,y=0,b=0,v=f.height;b<v;){var P=b++;h=d.byteOffset+d.stride*P,u=f.byteOffset+f.stride*P;for(var w=0,T=f.width;w<T;){w++;var C=m,S=x;switch(null==S&&(S=!1),null==C&&(C=0),C){case 0:p=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:p=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:p=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}S&&0!=(255&p)&&255!=(255&p)&&(lime_math_RGBA.unmult=255/(255&p),p=(255&lime_math_RGBA.__clamp[Math.round((p>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((p>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((p>>>8&255)*lime_math_RGBA.unmult)])<<8|255&p);var A=g,E=k;switch(null==E&&(E=!1),null==A&&(A=0),A){case 0:c=(255&l[u])<<24|(255&l[u+1])<<16|(255&l[u+2])<<8|255&l[u+3];break;case 1:c=(255&l[u+1])<<24|(255&l[u+2])<<16|(255&l[u+3])<<8|255&l[u];break;case 2:c=(255&l[u+2])<<24|(255&l[u+1])<<16|(255&l[u])<<8|255&l[u+3]}switch(E&&0!=(255&c)&&255!=(255&c)&&(lime_math_RGBA.unmult=255/(255&c),c=(255&lime_math_RGBA.__clamp[Math.round((c>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((c>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((c>>>8&255)*lime_math_RGBA.unmult)])<<8|255&c),r){case 0:y=p>>>24&255;break;case 1:y=p>>>16&255;break;case 2:y=p>>>8&255;break;case 3:y=255&p}switch(_){case 0:c=(255&y)<<24|(255&c>>>16)<<16|(255&c>>>8)<<8|255&c;break;case 1:c=(255&c>>>24)<<24|(255&y)<<16|(255&c>>>8)<<8|255&c;break;case 2:c=(255&c>>>24)<<24|(255&c>>>16)<<16|(255&y)<<8|255&c;break;case 3:c=(255&c>>>24)<<24|(255&c>>>16)<<16|(255&c>>>8)<<8|255&y}var D=g,M=k;switch(null==M&&(M=!1),null==D&&(D=0),M&&(0==(255&c)?0!=c&&(c=0):255!=(255&c)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&c],c=((c>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((c>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((c>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&c)),D){case 0:l[u]=c>>>24&255,l[u+1]=c>>>16&255,l[u+2]=c>>>8&255,l[u+3]=255&c;break;case 1:l[u]=255&c,l[u+1]=c>>>24&255,l[u+2]=c>>>16&255,l[u+3]=c>>>8&255;break;case 2:l[u]=c>>>8&255,l[u+1]=c>>>16&255,l[u+2]=c>>>24&255,l[u+3]=255&c}h+=4,u+=4}}e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.copyPixels=function(e,t,a,n,i,s,_){if(null==_&&(_=!1),e.width==t.width&&e.height==t.height&&a.width==t.width&&a.height==t.height&&0==a.x&&0==a.y&&0==n.x&&0==n.y&&null==i&&null==s&&0==_&&e.get_format()==t.get_format())e.buffer.data.set(t.buffer.data);else{var r=t.buffer.data,o=e.buffer.data;if(null==r||null==o)return;var l,h,u,p,c,d,f,m,g=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(t,a),x=new lime_math_Rectangle(n.x,n.y,g.width,g.height),k=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,x),y=t.buffer.format,b=e.buffer.format,v=t.buffer.premultiplied,P=e.buffer.premultiplied,w=t.buffer.bitsPerPixel/8|0,T=e.buffer.bitsPerPixel/8|0,C=null!=i&&i.get_transparent(),S=_||C&&!e.get_transparent()||!_&&!e.get_transparent()&&t.get_transparent();if(C){var A,E,D=i.buffer.data,M=i.buffer.format,R=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(i,new lime_math_Rectangle(g.x+(null==s?0:s.x),g.y+(null==s?0:s.y),g.width,g.height));if(k.clip(0|n.x,0|n.y,R.width,R.height),S)for($=0,B=k.height;$<B;){O=$++;l=g.byteOffset+g.stride*O,h=k.byteOffset+k.stride*O,A=R.byteOffset+R.stride*O;for(G=0,F=k.width;G<F;){G++;switch(null==(X=v)&&(X=!1),null==(U=y)&&(U=0),U){case 0:f=(255&r[l])<<24|(255&r[l+1])<<16|(255&r[l+2])<<8|255&r[l+3];break;case 1:f=(255&r[l+1])<<24|(255&r[l+2])<<16|(255&r[l+3])<<8|255&r[l];break;case 2:f=(255&r[l+2])<<24|(255&r[l+1])<<16|(255&r[l])<<8|255&r[l+3]}switch(X&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f),null==(j=P)&&(j=!1),null==(V=b)&&(V=0),V){case 0:m=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:m=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:m=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(j&&0!=(255&m)&&255!=(255&m)&&(lime_math_RGBA.unmult=255/(255&m),m=(255&lime_math_RGBA.__clamp[Math.round((m>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((m>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((m>>>8&255)*lime_math_RGBA.unmult)])<<8|255&m),null==(H=!1)&&(H=!1),null==(N=M)&&(N=0),N){case 0:E=(255&D[A])<<24|(255&D[A+1])<<16|(255&D[A+2])<<8|255&D[A+3];break;case 1:E=(255&D[A+1])<<24|(255&D[A+2])<<16|(255&D[A+3])<<8|255&D[A];break;case 2:E=(255&D[A+2])<<24|(255&D[A+1])<<16|(255&D[A])<<8|255&D[A+3]}if(H&&0!=(255&E)&&255!=(255&E)&&(lime_math_RGBA.unmult=255/(255&E),E=(255&lime_math_RGBA.__clamp[Math.round((E>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((E>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((E>>>8&255)*lime_math_RGBA.unmult)])<<8|255&E),(u=(255&E)/255*((255&f)/255))>0){d=u+(p=(255&m)/255)*(c=1-u),m=(255&(m=(255&(m=(255&(m=(255&lime_math_RGBA.__clamp[Math.round(((f>>>24&255)*u+(m>>>24&255)*p*c)/d)])<<24|(255&m>>>16)<<16|(255&m>>>8)<<8|255&m)>>>24)<<24|(255&lime_math_RGBA.__clamp[Math.round(((f>>>16&255)*u+(m>>>16&255)*p*c)/d)])<<16|(255&m>>>8)<<8|255&m)>>>24)<<24|(255&m>>>16)<<16|(255&lime_math_RGBA.__clamp[Math.round(((f>>>8&255)*u+(m>>>8&255)*p*c)/d)])<<8|255&m)>>>24)<<24|(255&m>>>16)<<16|(255&m>>>8)<<8|255&lime_math_RGBA.__clamp[Math.round(255*d)];var L=b,I=P;switch(null==I&&(I=!1),null==L&&(L=0),I&&(0==(255&m)?0!=m&&(m=0):255!=(255&m)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&m],m=((m>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((m>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((m>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&m)),L){case 0:o[h]=m>>>24&255,o[h+1]=m>>>16&255,o[h+2]=m>>>8&255,o[h+3]=255&m;break;case 1:o[h]=255&m,o[h+1]=m>>>24&255,o[h+2]=m>>>16&255,o[h+3]=m>>>8&255;break;case 2:o[h]=m>>>8&255,o[h+1]=m>>>16&255,o[h+2]=m>>>24&255,o[h+3]=255&m}}l+=4,h+=4,A+=4}}else for($=0,B=k.height;$<B;){O=$++;l=g.byteOffset+g.stride*O,h=k.byteOffset+k.stride*O,A=R.byteOffset+R.stride*O;for(G=0,F=k.width;G<F;){G++;switch(null==(X=v)&&(X=!1),null==(U=y)&&(U=0),U){case 0:f=(255&r[l])<<24|(255&r[l+1])<<16|(255&r[l+2])<<8|255&r[l+3];break;case 1:f=(255&r[l+1])<<24|(255&r[l+2])<<16|(255&r[l+3])<<8|255&r[l];break;case 2:f=(255&r[l+2])<<24|(255&r[l+1])<<16|(255&r[l])<<8|255&r[l+3]}switch(X&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f),null==(j=!1)&&(j=!1),null==(V=M)&&(V=0),V){case 0:E=(255&D[A])<<24|(255&D[A+1])<<16|(255&D[A+2])<<8|255&D[A+3];break;case 1:E=(255&D[A+1])<<24|(255&D[A+2])<<16|(255&D[A+3])<<8|255&D[A];break;case 2:E=(255&D[A+2])<<24|(255&D[A+1])<<16|(255&D[A])<<8|255&D[A+3]}switch(j&&0!=(255&E)&&255!=(255&E)&&(lime_math_RGBA.unmult=255/(255&E),E=(255&lime_math_RGBA.__clamp[Math.round((E>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((E>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((E>>>8&255)*lime_math_RGBA.unmult)])<<8|255&E),f=(255&f>>>24)<<24|(255&f>>>16)<<16|(255&f>>>8)<<8|255&Math.round((255&E)/255*(255&f)),null==(H=P)&&(H=!1),null==(N=b)&&(N=0),H&&(0==(255&f)?0!=f&&(f=0):255!=(255&f)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&f],f=((f>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((f>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((f>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&f)),N){case 0:o[h]=f>>>24&255,o[h+1]=f>>>16&255,o[h+2]=f>>>8&255,o[h+3]=255&f;break;case 1:o[h]=255&f,o[h+1]=f>>>24&255,o[h+2]=f>>>16&255,o[h+3]=f>>>8&255;break;case 2:o[h]=f>>>8&255,o[h+1]=f>>>16&255,o[h+2]=f>>>24&255,o[h+3]=255&f}l+=4,h+=4,A+=4}}}else if(S)for(var $=0,B=k.height;$<B;){var O=$++;l=g.byteOffset+g.stride*O,h=k.byteOffset+k.stride*O;for(var G=0,F=k.width;G<F;){var N,H;G++;switch(null==(X=v)&&(X=!1),null==(U=y)&&(U=0),U){case 0:f=(255&r[l])<<24|(255&r[l+1])<<16|(255&r[l+2])<<8|255&r[l+3];break;case 1:f=(255&r[l+1])<<24|(255&r[l+2])<<16|(255&r[l+3])<<8|255&r[l];break;case 2:f=(255&r[l+2])<<24|(255&r[l+1])<<16|(255&r[l])<<8|255&r[l+3]}switch(X&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f),null==(j=P)&&(j=!1),null==(V=b)&&(V=0),V){case 0:m=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:m=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:m=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}if(j&&0!=(255&m)&&255!=(255&m)&&(lime_math_RGBA.unmult=255/(255&m),m=(255&lime_math_RGBA.__clamp[Math.round((m>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((m>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((m>>>8&255)*lime_math_RGBA.unmult)])<<8|255&m),0==(d=(u=(255&f)/255)+(p=(255&m)/255)*(c=1-u)))m=0;else m=(255&(m=(255&(m=(255&(m=(255&lime_math_RGBA.__clamp[Math.round(((f>>>24&255)*u+(m>>>24&255)*p*c)/d)])<<24|(255&m>>>16)<<16|(255&m>>>8)<<8|255&m)>>>24)<<24|(255&lime_math_RGBA.__clamp[Math.round(((f>>>16&255)*u+(m>>>16&255)*p*c)/d)])<<16|(255&m>>>8)<<8|255&m)>>>24)<<24|(255&m>>>16)<<16|(255&lime_math_RGBA.__clamp[Math.round(((f>>>8&255)*u+(m>>>8&255)*p*c)/d)])<<8|255&m)>>>24)<<24|(255&m>>>16)<<16|(255&m>>>8)<<8|255&lime_math_RGBA.__clamp[Math.round(255*d)];switch(null==(H=P)&&(H=!1),null==(N=b)&&(N=0),H&&(0==(255&m)?0!=m&&(m=0):255!=(255&m)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&m],m=((m>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((m>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((m>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&m)),N){case 0:o[h]=m>>>24&255,o[h+1]=m>>>16&255,o[h+2]=m>>>8&255,o[h+3]=255&m;break;case 1:o[h]=255&m,o[h+1]=m>>>24&255,o[h+2]=m>>>16&255,o[h+3]=m>>>8&255;break;case 2:o[h]=m>>>8&255,o[h+1]=m>>>16&255,o[h+2]=m>>>24&255,o[h+3]=255&m}l+=4,h+=4}}else if(y==b&&v==P&&w==T)for(var $=0,B=k.height;$<B;){var O=$++;l=g.byteOffset+g.stride*O,h=k.byteOffset+k.stride*O,o.set(r.subarray(l,l+k.width*T),h)}else for(var $=0,B=k.height;$<B;){var O=$++;l=g.byteOffset+g.stride*O,h=k.byteOffset+k.stride*O;for(var G=0,F=k.width;G<F;){var U,X,V,j;G++;switch(null==(X=v)&&(X=!1),null==(U=y)&&(U=0),U){case 0:f=(255&r[l])<<24|(255&r[l+1])<<16|(255&r[l+2])<<8|255&r[l+3];break;case 1:f=(255&r[l+1])<<24|(255&r[l+2])<<16|(255&r[l+3])<<8|255&r[l];break;case 2:f=(255&r[l+2])<<24|(255&r[l+1])<<16|(255&r[l])<<8|255&r[l+3]}switch(X&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f),null==(j=P)&&(j=!1),null==(V=b)&&(V=0),j&&(0==(255&f)?0!=f&&(f=0):255!=(255&f)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&f],f=((f>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((f>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((f>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&f)),V){case 0:o[h]=f>>>24&255,o[h+1]=f>>>16&255,o[h+2]=f>>>8&255,o[h+3]=255&f;break;case 1:o[h]=255&f,o[h+1]=f>>>24&255,o[h+2]=f>>>16&255,o[h+3]=f>>>8&255;break;case 2:o[h]=f>>>8&255,o[h+1]=f>>>16&255,o[h+2]=f>>>24&255,o[h+3]=255&f}l+=4,h+=4}}}e.dirty=!0,e.version++},lime__$internal_graphics_ImageDataUtil.fillRect=function(e,t,a,n){var i;switch(n){case 1:i=(255&a>>>16)<<24|(255&a>>>8)<<16|(255&a)<<8|255&a>>>24;break;case 2:i=(255&a>>>8)<<24|(255&a>>>16)<<16|(255&a>>>24)<<8|255&a;break;default:i=a}e.get_transparent()||(i=(255&i>>>24)<<24|(255&i>>>16)<<16|(255&i>>>8)<<8|255);var s=e.buffer.data;if(null!=s){n=e.buffer.format;(c=e.buffer.premultiplied)&&(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&i],i=((i>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((i>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((i>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&i));for(var _,r=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,t),o=0,l=r.height;o<l;){var h=o++;_=r.byteOffset+r.stride*h;for(var u=0,p=r.width;u<p;){var c,d=_+4*u++,f=n;switch(null==(c=!1)&&(c=!1),null==f&&(f=0),c&&(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&i],i=((i>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((i>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((i>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&i)),f){case 0:s[d]=i>>>24&255,s[d+1]=i>>>16&255,s[d+2]=i>>>8&255,s[d+3]=255&i;break;case 1:s[d]=255&i,s[d+1]=i>>>24&255,s[d+2]=i>>>16&255,s[d+3]=i>>>8&255;break;case 2:s[d]=i>>>8&255,s[d+1]=i>>>16&255,s[d+2]=i>>>24&255,s[d+3]=255&i}}}e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.floodFill=function(e,t,a,n,i){var s=e.buffer.data;if(null!=s){1==i&&(n=(16777215&n)<<8|n>>24&255);i=e.buffer.format;var _,r=e.buffer.premultiplied,o=n,l=(a+e.offsetY)*(4*e.buffer.width)+4*(t+e.offsetX);switch(null==(C=r)&&(C=!1),null==(T=i)&&(T=0),T){case 0:_=(255&s[l])<<24|(255&s[l+1])<<16|(255&s[l+2])<<8|255&s[l+3];break;case 1:_=(255&s[l+1])<<24|(255&s[l+2])<<16|(255&s[l+3])<<8|255&s[l];break;case 2:_=(255&s[l+2])<<24|(255&s[l+1])<<16|(255&s[l])<<8|255&s[l+3]}if(C&&0!=(255&_)&&255!=(255&_)&&(lime_math_RGBA.unmult=255/(255&_),_=(255&lime_math_RGBA.__clamp[Math.round((_>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((_>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((_>>>8&255)*lime_math_RGBA.unmult)])<<8|255&_),e.get_transparent()||(o=(255&o>>>24)<<24|(255&o>>>16)<<16|(255&o>>>8)<<8|255,_=(255&_>>>24)<<24|(255&_>>>16)<<16|(255&_>>>8)<<8|255),o!=_){r&&(0==(255&o)?0!=o&&(o=0):255!=(255&o)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&o],o=((o>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((o>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((o>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&o));var h,u,p,c,d,f,m=[0,-1,1,0],g=[-1,0,0,1],x=-e.offsetX,k=-e.offsetY,y=x+e.width,b=k+e.height,v=[];for(v.push(t),v.push(a);v.length>0;){u=v.pop(),h=v.pop();for(var P=0;P<4;){var w=P++;if(c=u+g[w],!((p=h+m[w])<x||c<k||p>=y||c>=b)){var T,C;switch(d=4*(c*e.width+p),null==(C=r)&&(C=!1),null==(T=i)&&(T=0),T){case 0:f=(255&s[d])<<24|(255&s[d+1])<<16|(255&s[d+2])<<8|255&s[d+3];break;case 1:f=(255&s[d+1])<<24|(255&s[d+2])<<16|(255&s[d+3])<<8|255&s[d];break;case 2:f=(255&s[d+2])<<24|(255&s[d+1])<<16|(255&s[d])<<8|255&s[d+3]}if(C&&0!=(255&f)&&255!=(255&f)&&(lime_math_RGBA.unmult=255/(255&f),f=(255&lime_math_RGBA.__clamp[Math.round((f>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((f>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((f>>>8&255)*lime_math_RGBA.unmult)])<<8|255&f),f==_){var S=i,A=!1;switch(null==A&&(A=!1),null==S&&(S=0),A&&(0==(255&o)?0!=o&&(o=0):255!=(255&o)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&o],o=((o>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((o>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((o>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&o)),S){case 0:s[d]=o>>>24&255,s[d+1]=o>>>16&255,s[d+2]=o>>>8&255,s[d+3]=255&o;break;case 1:s[d]=255&o,s[d+1]=o>>>24&255,s[d+2]=o>>>16&255,s[d+3]=o>>>8&255;break;case 2:s[d]=o>>>8&255,s[d+1]=o>>>16&255,s[d+2]=o>>>24&255,s[d+3]=255&o}v.push(p),v.push(c)}}}}e.dirty=!0,e.version++}}},lime__$internal_graphics_ImageDataUtil.gaussianBlur=function(e,t,a,n,i,s,_,r,o){null==r&&(r=1),null==_&&(_=1),null==s&&(s=4),null==i&&(i=4);var l=e.get_premultiplied();return l&&e.set_premultiplied(!1),lime__$internal_graphics_StackBlur.blur(e,t,a,n,i,s,_),e.dirty=!0,e.version++,l&&e.set_premultiplied(!0),e},lime__$internal_graphics_ImageDataUtil.getColorBoundsRect=function(e,t,a,n,i){var s,_,r,o,l=e.width+1,h=0,u=e.height+1,p=0;switch(i){case 1:s=(255&(c=a)>>>16)<<24|(255&c>>>8)<<16|(255&c)<<8|255&c>>>24;var c;_=(255&(c=t)>>>16)<<24|(255&c>>>8)<<16|(255&c)<<8|255&c>>>24;break;case 2:s=(255&(d=a)>>>8)<<24|(255&d>>>16)<<16|(255&d>>>24)<<8|255&d;var d;_=(255&(d=t)>>>8)<<24|(255&d>>>16)<<16|(255&d>>>24)<<8|255&d;break;default:s=a,_=t}e.get_transparent()||(s=(255&s>>>24)<<24|(255&s>>>16)<<16|(255&s>>>8)<<8|255,_=(255&_>>>24)<<24|(255&_>>>16)<<16|(255&_>>>8)<<8|255);for(var f,m=0,g=e.width;m<g;){var x=m++;o=!1;for(var k=0,y=e.height;k<y;){var b=k++;if(r=e.getPixel32(x,b,0),o=n?(r&_)==s:(r&_)!=s){x<l&&(l=x);break}}if(o)break}for(m=0,g=e.width;m<g;){x=m++;f=e.width-1-x,o=!1;for(k=0,y=e.height;k<y;){b=k++;if(r=e.getPixel32(f,b,0),o=n?(r&_)==s:(r&_)!=s){f>h&&(h=f);break}}if(o)break}var v;for(m=0,g=e.height;m<g;){b=m++;o=!1;for(k=0,y=e.width;k<y;){x=k++;if(r=e.getPixel32(x,b,0),o=n?(r&_)==s:(r&_)!=s){b<u&&(u=b);break}}if(o)break}for(m=0,g=e.height;m<g;){b=m++;v=e.height-1-b,o=!1;for(k=0,y=e.width;k<y;){x=k++;if(r=e.getPixel32(x,v,0),o=n?(r&_)==s:(r&_)!=s){v>p&&(p=v);break}}if(o)break}var P=h-l,w=p-u;return P>0&&++P,w>0&&++w,P<0&&(P=0),w<0&&(w=0),l==h&&(P=1),u==p&&(w=1),l>e.width&&(l=0),u>e.height&&(u=0),new lime_math_Rectangle(l,u,P,w)},lime__$internal_graphics_ImageDataUtil.getPixel=function(e,t,a,n){var i,s=e.buffer.data,_=4*(a+e.offsetY)*e.buffer.width+4*(t+e.offsetX),r=e.buffer.format,o=e.buffer.premultiplied;switch(null==o&&(o=!1),null==r&&(r=0),r){case 0:i=(255&s[_])<<24|(255&s[_+1])<<16|(255&s[_+2])<<8|255&s[_+3];break;case 1:i=(255&s[_+1])<<24|(255&s[_+2])<<16|(255&s[_+3])<<8|255&s[_];break;case 2:i=(255&s[_+2])<<24|(255&s[_+1])<<16|(255&s[_])<<8|255&s[_+3]}switch(o&&0!=(255&i)&&255!=(255&i)&&(lime_math_RGBA.unmult=255/(255&i),i=(255&lime_math_RGBA.__clamp[Math.round((i>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((i>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((i>>>8&255)*lime_math_RGBA.unmult)])<<8|255&i),i=(255&i>>>24)<<24|(255&i>>>16)<<16|(255&i>>>8)<<8|0,n){case 1:return(255&i)<<24|(255&i>>>24)<<16|(255&i>>>16)<<8|255&i>>>8;case 2:return(255&i>>>8)<<24|(255&i>>>16)<<16|(255&i>>>24)<<8|255&i;default:return i}},lime__$internal_graphics_ImageDataUtil.getPixel32=function(e,t,a,n){var i,s=e.buffer.data,_=4*(a+e.offsetY)*e.buffer.width+4*(t+e.offsetX),r=e.buffer.format,o=e.buffer.premultiplied;switch(null==o&&(o=!1),null==r&&(r=0),r){case 0:i=(255&s[_])<<24|(255&s[_+1])<<16|(255&s[_+2])<<8|255&s[_+3];break;case 1:i=(255&s[_+1])<<24|(255&s[_+2])<<16|(255&s[_+3])<<8|255&s[_];break;case 2:i=(255&s[_+2])<<24|(255&s[_+1])<<16|(255&s[_])<<8|255&s[_+3]}switch(o&&0!=(255&i)&&255!=(255&i)&&(lime_math_RGBA.unmult=255/(255&i),i=(255&lime_math_RGBA.__clamp[Math.round((i>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((i>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((i>>>8&255)*lime_math_RGBA.unmult)])<<8|255&i),n){case 1:return(255&i)<<24|(255&i>>>24)<<16|(255&i>>>16)<<8|255&i>>>8;case 2:return(255&i>>>8)<<24|(255&i>>>16)<<16|(255&i>>>24)<<8|255&i;default:return i}},lime__$internal_graphics_ImageDataUtil.getPixels=function(e,t,a){if(null==e.buffer.data)return null;for(var n,i,s=t.width*t.height|0,_=new haxe_io_Bytes(new ArrayBuffer(4*s)),r=e.buffer.data,o=e.buffer.format,l=e.buffer.premultiplied,h=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,t),u=0,p=0,c=h.height;p<c;){var d=p++;n=h.byteOffset+h.stride*d;for(var f=0,m=h.width;f<m;){f++;var g=o,x=l;switch(null==x&&(x=!1),null==g&&(g=0),g){case 0:i=(255&r[n])<<24|(255&r[n+1])<<16|(255&r[n+2])<<8|255&r[n+3];break;case 1:i=(255&r[n+1])<<24|(255&r[n+2])<<16|(255&r[n+3])<<8|255&r[n];break;case 2:i=(255&r[n+2])<<24|(255&r[n+1])<<16|(255&r[n])<<8|255&r[n+3]}switch(x&&0!=(255&i)&&255!=(255&i)&&(lime_math_RGBA.unmult=255/(255&i),i=(255&lime_math_RGBA.__clamp[Math.round((i>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((i>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((i>>>8&255)*lime_math_RGBA.unmult)])<<8|255&i),a){case 1:i=(255&i)<<24|(255&i>>>24)<<16|(255&i>>>16)<<8|255&i>>>8;break;case 2:i=(255&i>>>8)<<24|(255&i>>>16)<<16|(255&i>>>24)<<8|255&i}_.b[u++]=255&i>>>24,_.b[u++]=255&i>>>16,_.b[u++]=255&i>>>8,_.b[u++]=255&i,n+=4}}return _},lime__$internal_graphics_ImageDataUtil.merge=function(e,t,a,n,i,s,_,r){if(null!=e.buffer.data&&null!=t.buffer.data){for(var o,l,h,u,p=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(t,a),c=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,new lime_math_Rectangle(n.x,n.y,p.width,p.height)),d=t.buffer.data,f=e.buffer.data,m=t.buffer.format,g=e.buffer.format,x=t.buffer.premultiplied,k=e.buffer.premultiplied,y=0,b=c.height;y<b;){var v=y++;o=p.byteOffset+p.stride*v,l=c.byteOffset+c.stride*v;for(var P=0,w=c.width;P<w;){P++;var T=m,C=x;switch(null==C&&(C=!1),null==T&&(T=0),T){case 0:h=(255&d[o])<<24|(255&d[o+1])<<16|(255&d[o+2])<<8|255&d[o+3];break;case 1:h=(255&d[o+1])<<24|(255&d[o+2])<<16|(255&d[o+3])<<8|255&d[o];break;case 2:h=(255&d[o+2])<<24|(255&d[o+1])<<16|(255&d[o])<<8|255&d[o+3]}C&&0!=(255&h)&&255!=(255&h)&&(lime_math_RGBA.unmult=255/(255&h),h=(255&lime_math_RGBA.__clamp[Math.round((h>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((h>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((h>>>8&255)*lime_math_RGBA.unmult)])<<8|255&h);var S=g,A=k;switch(null==A&&(A=!1),null==S&&(S=0),S){case 0:u=(255&f[l])<<24|(255&f[l+1])<<16|(255&f[l+2])<<8|255&f[l+3];break;case 1:u=(255&f[l+1])<<24|(255&f[l+2])<<16|(255&f[l+3])<<8|255&f[l];break;case 2:u=(255&f[l+2])<<24|(255&f[l+1])<<16|(255&f[l])<<8|255&f[l+3]}A&&0!=(255&u)&&255!=(255&u)&&(lime_math_RGBA.unmult=255/(255&u),u=(255&lime_math_RGBA.__clamp[Math.round((u>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((u>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((u>>>8&255)*lime_math_RGBA.unmult)])<<8|255&u),u=(255&(u=(255&(u=(255&(u=(255&(((h>>>24&255)*i+(u>>>24&255)*(256-i))/256|0))<<24|(255&u>>>16)<<16|(255&u>>>8)<<8|255&u)>>>24)<<24|(255&(((h>>>16&255)*s+(u>>>16&255)*(256-s))/256|0))<<16|(255&u>>>8)<<8|255&u)>>>24)<<24|(255&u>>>16)<<16|(255&(((h>>>8&255)*_+(u>>>8&255)*(256-_))/256|0))<<8|255&u)>>>24)<<24|(255&u>>>16)<<16|(255&u>>>8)<<8|255&(((255&h)*r+(255&u)*(256-r))/256|0);var E=g,D=k;switch(null==D&&(D=!1),null==E&&(E=0),D&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&u],u=((u>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((u>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((u>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&u)),E){case 0:f[l]=u>>>24&255,f[l+1]=u>>>16&255,f[l+2]=u>>>8&255,f[l+3]=255&u;break;case 1:f[l]=255&u,f[l+1]=u>>>24&255,f[l+2]=u>>>16&255,f[l+3]=u>>>8&255;break;case 2:f[l]=u>>>8&255,f[l+1]=u>>>16&255,f[l+2]=u>>>24&255,f[l+3]=255&u}o+=4,l+=4}}e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.multiplyAlpha=function(e){var t=e.buffer.data;if(null!=t&&e.buffer.transparent){for(var a,n=e.buffer.format,i=0,s=t.length/4|0;i<s;){var _=i++,r=4*_,o=n,l=!1;switch(null==l&&(l=!1),null==o&&(o=0),o){case 0:a=(255&t[r])<<24|(255&t[r+1])<<16|(255&t[r+2])<<8|255&t[r+3];break;case 1:a=(255&t[r+1])<<24|(255&t[r+2])<<16|(255&t[r+3])<<8|255&t[r];break;case 2:a=(255&t[r+2])<<24|(255&t[r+1])<<16|(255&t[r])<<8|255&t[r+3]}l&&0!=(255&a)&&255!=(255&a)&&(lime_math_RGBA.unmult=255/(255&a),a=(255&lime_math_RGBA.__clamp[Math.round((a>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((a>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((a>>>8&255)*lime_math_RGBA.unmult)])<<8|255&a);var h=4*_,u=n,p=!0;switch(null==p&&(p=!1),null==u&&(u=0),p&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&a],a=((a>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((a>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((a>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&a)),u){case 0:t[h]=a>>>24&255,t[h+1]=a>>>16&255,t[h+2]=a>>>8&255,t[h+3]=255&a;break;case 1:t[h]=255&a,t[h+1]=a>>>24&255,t[h+2]=a>>>16&255,t[h+3]=a>>>8&255;break;case 2:t[h]=a>>>8&255,t[h+1]=a>>>16&255,t[h+2]=a>>>24&255,t[h+3]=255&a}}e.buffer.premultiplied=!0,e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.resize=function(e,t,a){var n=e.buffer;if(n.width!=t||n.height!=a){var i,s=t*a*4;i=null!=s?new Uint8Array(s):null;for(var _,r,o,l,h,u,p,c,d,f,m,g,x,k=new lime_graphics_ImageBuffer(i,t,a),y=e.width,b=e.height,v=e.get_data(),P=k.data,w=0,T=a;w<T;)for(var C=w++,S=0,A=t;S<A;){var E=S++;_=4*((p=0|(d=(C+.5)/a*b-.5))*y+(u=0|(c=(E+.5)/t*y-.5))),o=p<b-1?_+4*y:_,l=(r=u<y-1?_+4:_)!=_?o+4:o,g=1-(f=c-u),x=1-(m=d-p),P[h=4*(C*t+E)]=(UInt.toFloat(v[_])*g+UInt.toFloat(v[r])*f)*x+(UInt.toFloat(v[o])*g+UInt.toFloat(v[l])*f)*m|0,P[h+1]=(UInt.toFloat(v[_+1])*g+UInt.toFloat(v[r+1])*f)*x+(UInt.toFloat(v[o+1])*g+UInt.toFloat(v[l+1])*f)*m|0,P[h+2]=(UInt.toFloat(v[_+2])*g+UInt.toFloat(v[r+2])*f)*x+(UInt.toFloat(v[o+2])*g+UInt.toFloat(v[l+2])*f)*m|0,0==v[r+3]||0==v[o+3]||0==v[l+3]?P[h+3]=0:P[h+3]=v[_+3]}n.data=k.data,n.width=t,n.height=a,n.__srcImage=null,n.__srcImageData=null,n.__srcCanvas=null,n.__srcContext=null,e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.resizeBuffer=function(e,t,a){for(var n,i,s=e.buffer,_=e.get_data(),r=t*a*4,o=null!=r?new Uint8Array(r):null,l=0,h=s.height;l<h;)for(var u=l++,p=0,c=s.width;p<c;){var d=p++;n=4*(u*s.width+d),o[i=4*(u*t+d)]=_[n],o[i+1]=_[n+1],o[i+2]=_[n+2],o[i+3]=_[n+3]}s.data=o,s.width=t,s.height=a,s.__srcImage=null,s.__srcImageData=null,s.__srcCanvas=null,s.__srcContext=null,e.dirty=!0,e.version++},lime__$internal_graphics_ImageDataUtil.setFormat=function(e,t){var a=e.buffer.data;if(null!=a){var n,i,s,_,r,o,l,h,u,p,c,d,f,m=a.length/4|0;switch(e.get_format()){case 0:i=0,s=1,_=2,r=3;break;case 1:i=1,s=2,_=3,r=0;break;case 2:i=2,s=1,_=0,r=3}switch(t){case 0:o=0,l=1,h=2,u=3;break;case 1:o=1,l=2,h=3,u=0;break;case 2:o=2,l=1,h=0,u=3}for(var g=0,x=m;g<x;){p=a[(n=4*g++)+i],c=a[n+s],d=a[n+_],f=a[n+r],a[n+o]=p,a[n+l]=c,a[n+h]=d,a[n+u]=f}e.buffer.format=t,e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.setPixel=function(e,t,a,n,i){var s;switch(i){case 1:s=(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24;break;case 2:s=(255&n>>>8)<<24|(255&n>>>16)<<16|(255&n>>>24)<<8|255&n;break;default:s=n}var _=0,r=e.buffer.data,o=4*(a+e.offsetY)*e.buffer.width+4*(t+e.offsetX);i=e.buffer.format;switch(null==(l=e.buffer.premultiplied)&&(l=!1),null==i&&(i=0),i){case 0:_=(255&r[o])<<24|(255&r[o+1])<<16|(255&r[o+2])<<8|255&r[o+3];break;case 1:_=(255&r[o+1])<<24|(255&r[o+2])<<16|(255&r[o+3])<<8|255&r[o];break;case 2:_=(255&r[o+2])<<24|(255&r[o+1])<<16|(255&r[o])<<8|255&r[o+3]}l&&0!=(255&_)&&255!=(255&_)&&(lime_math_RGBA.unmult=255/(255&_),_=(255&lime_math_RGBA.__clamp[Math.round((_>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((_>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((_>>>8&255)*lime_math_RGBA.unmult)])<<8|255&_),s=(255&s>>>24)<<24|(255&s>>>16)<<16|(255&s>>>8)<<8|255&(255&_);var l;r=e.buffer.data,o=4*(a+e.offsetY)*e.buffer.width+4*(t+e.offsetX),i=e.buffer.format;switch(null==(l=e.buffer.premultiplied)&&(l=!1),null==i&&(i=0),l&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&s],s=((s>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((s>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((s>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&s)),i){case 0:r[o]=s>>>24&255,r[o+1]=s>>>16&255,r[o+2]=s>>>8&255,r[o+3]=255&s;break;case 1:r[o]=255&s,r[o+1]=s>>>24&255,r[o+2]=s>>>16&255,r[o+3]=s>>>8&255;break;case 2:r[o]=s>>>8&255,r[o+1]=s>>>16&255,r[o+2]=s>>>24&255,r[o+3]=255&s}e.dirty=!0,e.version++},lime__$internal_graphics_ImageDataUtil.setPixel32=function(e,t,a,n,i){var s;switch(i){case 1:s=(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24;break;case 2:s=(255&n>>>8)<<24|(255&n>>>16)<<16|(255&n>>>24)<<8|255&n;break;default:s=n}e.get_transparent()||(s=(255&s>>>24)<<24|(255&s>>>16)<<16|(255&s>>>8)<<8|255);var _=e.buffer.data,r=4*(a+e.offsetY)*e.buffer.width+4*(t+e.offsetX),o=(i=e.buffer.format,e.buffer.premultiplied);switch(null==o&&(o=!1),null==i&&(i=0),o&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&s],s=((s>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((s>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((s>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&s)),i){case 0:_[r]=s>>>24&255,_[r+1]=s>>>16&255,_[r+2]=s>>>8&255,_[r+3]=255&s;break;case 1:_[r]=255&s,_[r+1]=s>>>24&255,_[r+2]=s>>>16&255,_[r+3]=s>>>8&255;break;case 2:_[r]=s>>>8&255,_[r+1]=s>>>16&255,_[r+2]=s>>>24&255,_[r+3]=255&s}e.dirty=!0,e.version++},lime__$internal_graphics_ImageDataUtil.setPixels=function(e,t,a,n,i){if(null!=e.buffer.data){for(var s,_,r,o=e.buffer.data,l=e.buffer.format,h=e.buffer.premultiplied,u=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,t),p=e.get_transparent(),c=a.bytes,d=a.offset,f=i!=lime_system_Endian.BIG_ENDIAN,m=0,g=u.height;m<g;){var x=m++;s=u.byteOffset+u.stride*x;for(var k=0,y=u.width;k<y;){var b=k++;switch(_=f?c.getInt32(d):c.b[d+3]|c.b[d+2]<<8|c.b[d+1]<<16|c.b[d]<<24,d+=4,n){case 1:r=(255&_>>>16)<<24|(255&_>>>8)<<16|(255&_)<<8|255&_>>>24;break;case 2:r=(255&_>>>8)<<24|(255&_>>>16)<<16|(255&_>>>24)<<8|255&_;break;default:r=_}p||(r=(255&r>>>24)<<24|(255&r>>>16)<<16|(255&r>>>8)<<8|255);var v=s+4*b,P=l,w=h;switch(null==w&&(w=!1),null==P&&(P=0),w&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&r],r=((r>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((r>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((r>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&r)),P){case 0:o[v]=r>>>24&255,o[v+1]=r>>>16&255,o[v+2]=r>>>8&255,o[v+3]=255&r;break;case 1:o[v]=255&r,o[v+1]=r>>>24&255,o[v+2]=r>>>16&255,o[v+3]=r>>>8&255;break;case 2:o[v]=r>>>8&255,o[v+1]=r>>>16&255,o[v+2]=r>>>24&255,o[v+3]=255&r}}}e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.threshold=function(e,t,a,n,i,s,_,r,o,l){var h,u,p,c;switch(l){case 1:h=(255&(d=_)>>>16)<<24|(255&d>>>8)<<16|(255&d)<<8|255&d>>>24;u=(255&(d=r)>>>16)<<24|(255&d>>>8)<<16|(255&d)<<8|255&d>>>24;var d;p=(255&(d=s)>>>16)<<24|(255&d>>>8)<<16|(255&d)<<8|255&d>>>24;break;case 2:h=(255&(f=_)>>>8)<<24|(255&f>>>16)<<16|(255&f>>>24)<<8|255&f;u=(255&(f=r)>>>8)<<24|(255&f>>>16)<<16|(255&f>>>24)<<8|255&f;var f;p=(255&(f=s)>>>8)<<24|(255&f>>>16)<<16|(255&f>>>24)<<8|255&f;break;default:h=_,u=r,p=s}switch(i){case"!=":c=0;break;case"<":c=2;break;case"<=":c=3;break;case"==":c=1;break;case">":c=4;break;case">=":c=5;break;default:c=-1}if(-1==c)return 0;var m=t.buffer.data,g=e.buffer.data;if(null==m||null==g)return 0;for(var x,k,y,b,v,P,w=0,T=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(t,a),C=new lime__$internal_graphics__$ImageDataUtil_ImageDataView(e,new lime_math_Rectangle(n.x,n.y,T.width,T.height)),S=t.buffer.format,A=e.buffer.format,E=t.buffer.premultiplied,D=e.buffer.premultiplied,M=0,R=C.height;M<R;){var L=M++;x=T.byteOffset+T.stride*L,k=C.byteOffset+C.stride*L;for(var I=0,$=C.width;I<$;){I++;var B=E;switch(null==B&&(B=!1),null==(l=S)&&(l=0),l){case 0:y=(255&m[x])<<24|(255&m[x+1])<<16|(255&m[x+2])<<8|255&m[x+3];break;case 1:y=(255&m[x+1])<<24|(255&m[x+2])<<16|(255&m[x+3])<<8|255&m[x];break;case 2:y=(255&m[x+2])<<24|(255&m[x+1])<<16|(255&m[x])<<8|255&m[x+3]}B&&0!=(255&y)&&255!=(255&y)&&(lime_math_RGBA.unmult=255/(255&y),y=(255&lime_math_RGBA.__clamp[Math.round((y>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((y>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((y>>>8&255)*lime_math_RGBA.unmult)])<<8|255&y);var O=(b=y&u)>>>24&255,G=p>>>24&255;switch(P=O!=G||(O=b>>>16&255)!=(G=p>>>16&255)||(O=b>>>8&255)!=(G=p>>>8&255)||(O=255&b)!=(G=255&p)?UInt.gt(O,G)?1:-1:0,c){case 0:v=0!=P;break;case 1:v=0==P;break;case 2:v=-1==P;break;case 3:v=0==P||-1==P;break;case 4:v=1==P;break;case 5:v=0==P||1==P;break;default:v=!1}if(v){var F=A,N=D;switch(null==N&&(N=!1),null==F&&(F=0),N&&(0==(255&h)?0!=h&&(h=0):255!=(255&h)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&h],h=((h>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((h>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((h>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&h)),F){case 0:g[k]=h>>>24&255,g[k+1]=h>>>16&255,g[k+2]=h>>>8&255,g[k+3]=255&h;break;case 1:g[k]=255&h,g[k+1]=h>>>24&255,g[k+2]=h>>>16&255,g[k+3]=h>>>8&255;break;case 2:g[k]=h>>>8&255,g[k+1]=h>>>16&255,g[k+2]=h>>>24&255,g[k+3]=255&h}++w}else if(o){var H=A,U=D;switch(null==U&&(U=!1),null==H&&(H=0),U&&(0==(255&y)?0!=y&&(y=0):255!=(255&y)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&y],y=((y>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((y>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((y>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&y)),H){case 0:g[k]=y>>>24&255,g[k+1]=y>>>16&255,g[k+2]=y>>>8&255,g[k+3]=255&y;break;case 1:g[k]=255&y,g[k+1]=y>>>24&255,g[k+2]=y>>>16&255,g[k+3]=y>>>8&255;break;case 2:g[k]=y>>>8&255,g[k+1]=y>>>16&255,g[k+2]=y>>>24&255,g[k+3]=255&y}}x+=4,k+=4}}return w>0&&(e.dirty=!0,e.version++),w},lime__$internal_graphics_ImageDataUtil.unmultiplyAlpha=function(e){var t=e.buffer.data;if(null!=t){for(var a,n=e.buffer.format,i=0,s=t.length/4|0;i<s;){var _=i++,r=4*_,o=n,l=!0;switch(null==l&&(l=!1),null==o&&(o=0),o){case 0:a=(255&t[r])<<24|(255&t[r+1])<<16|(255&t[r+2])<<8|255&t[r+3];break;case 1:a=(255&t[r+1])<<24|(255&t[r+2])<<16|(255&t[r+3])<<8|255&t[r];break;case 2:a=(255&t[r+2])<<24|(255&t[r+1])<<16|(255&t[r])<<8|255&t[r+3]}l&&0!=(255&a)&&255!=(255&a)&&(lime_math_RGBA.unmult=255/(255&a),a=(255&lime_math_RGBA.__clamp[Math.round((a>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((a>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((a>>>8&255)*lime_math_RGBA.unmult)])<<8|255&a);var h=4*_,u=n,p=!1;switch(null==p&&(p=!1),null==u&&(u=0),p&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&a],a=((a>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((a>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((a>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&a)),u){case 0:t[h]=a>>>24&255,t[h+1]=a>>>16&255,t[h+2]=a>>>8&255,t[h+3]=255&a;break;case 1:t[h]=255&a,t[h+1]=a>>>24&255,t[h+2]=a>>>16&255,t[h+3]=a>>>8&255;break;case 2:t[h]=a>>>8&255,t[h+1]=a>>>16&255,t[h+2]=a>>>24&255,t[h+3]=255&a}}e.buffer.premultiplied=!1,e.dirty=!0,e.version++}},lime__$internal_graphics_ImageDataUtil.__boxBlur=function(e,t,a,n,i,s){t.set(e);var _=0|i,r=0|s;lime__$internal_graphics_ImageDataUtil.__boxBlurH(t,e,a,n,_,0),lime__$internal_graphics_ImageDataUtil.__boxBlurH(t,e,a,n,_,1),lime__$internal_graphics_ImageDataUtil.__boxBlurH(t,e,a,n,_,2),lime__$internal_graphics_ImageDataUtil.__boxBlurH(t,e,a,n,_,3);for(var o=1/(r+r+1),l=4*a,h=0,u=a;h<u;){b=y=4*h++,v=y+r*l,P=e[y],w=e[y+l*(n-1)],T=(r+1)*P;for(var p=0,c=r;p<c;){T+=e[y+p++*l]}for(var d=0,f=r+1;d<f;){d++;T+=e[v]-P,t[y]=Math.round(UInt.toFloat(T)*o),v+=l,y+=l}for(var m=r+1,g=n-r;m<g;){m++;T+=e[v]-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,v+=l,y+=l}for(var x=n-r,k=n;x<k;){x++;T+=w-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,y+=l}}for(o=1/(r+r+1),l=4*a,h=0,u=a;h<u;){b=y=4*h+++1,v=y+r*l,P=e[y],w=e[y+l*(n-1)],T=(r+1)*P;for(p=0,c=r;p<c;){T+=e[y+p++*l]}for(d=0,f=r+1;d<f;){d++;T+=e[v]-P,t[y]=Math.round(UInt.toFloat(T)*o),v+=l,y+=l}for(m=r+1,g=n-r;m<g;){m++;T+=e[v]-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,v+=l,y+=l}for(x=n-r,k=n;x<k;){x++;T+=w-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,y+=l}}for(o=1/(r+r+1),l=4*a,h=0,u=a;h<u;){b=y=4*h+++2,v=y+r*l,P=e[y],w=e[y+l*(n-1)],T=(r+1)*P;for(p=0,c=r;p<c;){T+=e[y+p++*l]}for(d=0,f=r+1;d<f;){d++;T+=e[v]-P,t[y]=Math.round(UInt.toFloat(T)*o),v+=l,y+=l}for(m=r+1,g=n-r;m<g;){m++;T+=e[v]-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,v+=l,y+=l}for(x=n-r,k=n;x<k;){x++;T+=w-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,y+=l}}var y,b,v,P,w,T;for(o=1/(r+r+1),l=4*a,h=0,u=a;h<u;){b=y=4*h+++3,v=y+r*l,P=e[y],w=e[y+l*(n-1)],T=(r+1)*P;for(p=0,c=r;p<c;){T+=e[y+p++*l]}for(d=0,f=r+1;d<f;){d++;T+=e[v]-P,t[y]=Math.round(UInt.toFloat(T)*o),v+=l,y+=l}for(m=r+1,g=n-r;m<g;){m++;T+=e[v]-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,v+=l,y+=l}for(x=n-r,k=n;x<k;){x++;T+=w-e[b],t[y]=Math.round(UInt.toFloat(T)*o),b+=l,y+=l}}},lime__$internal_graphics_ImageDataUtil.__boxBlurH=function(e,t,a,n,i,s){for(var _,r,o,l,h,u,p=1/(i+i+1),c=0,d=n;c<d;){r=_=c++*a,o=_+i,l=e[4*_+s],h=e[4*(_+a-1)+s],u=(i+1)*l;for(var f=0,m=i;f<m;){u+=e[4*(_+f++)+s]}for(var g=0,x=i+1;g<x;){g++;u+=e[4*o+s]-l,t[4*_+s]=Math.round(UInt.toFloat(u)*p),++o,++_}for(var k=i+1,y=a-i;k<y;){k++;u+=e[4*o+s]-e[4*r+s],t[4*_+s]=Math.round(UInt.toFloat(u)*p),++o,++r,++_}for(var b=a-i,v=a;b<v;){b++;u+=h-e[4*r+s],t[4*_+s]=Math.round(UInt.toFloat(u)*p),++r,++_}}},lime__$internal_graphics_ImageDataUtil.__boxBlurT=function(e,t,a,n,i,s){for(var _,r,o,l,h,u,p=1/(i+i+1),c=4*a,d=0,f=a;d<f;){r=_=4*d+++s,o=_+i*c,l=e[_],h=e[_+c*(n-1)],u=(i+1)*l;for(var m=0,g=i;m<g;){u+=e[_+m++*c]}for(var x=0,k=i+1;x<k;){x++;u+=e[o]-l,t[_]=Math.round(UInt.toFloat(u)*p),o+=c,_+=c}for(var y=i+1,b=n-i;y<b;){y++;u+=e[o]-e[r],t[_]=Math.round(UInt.toFloat(u)*p),r+=c,o+=c,_+=c}for(var v=n-i,P=n;v<P;){v++;u+=h-e[r],t[_]=Math.round(UInt.toFloat(u)*p),r+=c,_+=c}}},lime__$internal_graphics_ImageDataUtil.__calculateSourceOffset=function(e,t,a,n){var i=a-(0|t.x),s=n-(0|t.y);return i<0||s<0||i>=e.width||s>=e.height?-1:4*(s*(0|e.width)+i)},lime__$internal_graphics_ImageDataUtil.__getBoxesForGaussianBlur=function(e,t){var a=Math.sqrt(12*e*e/t+1),n=Math.floor(a);n%2==0&&--n;for(var i=n+2,s=(12*e*e-t*n*n-4*t*n-3*t)/(-4*n-4),_=Math.round(s),r=[],o=0,l=t;o<l;){var h=o++;r.push(h<_?n:i)}return r},lime__$internal_graphics_ImageDataUtil.__pixelCompare=function(e,t){var a=e>>>24&255,n=t>>>24&255;return a!=n||(a=e>>>16&255)!=(n=t>>>16&255)||(a=e>>>8&255)!=(n=t>>>8&255)||(a=255&e)!=(n=255&t)?UInt.gt(a,n)?1:-1:0},lime__$internal_graphics_ImageDataUtil.__translatePixel=function(e,t,a,n,i,s,_){var r=4*(s*(0|a.width)+i),o=lime__$internal_graphics_ImageDataUtil.__calculateSourceOffset(t,n,i,s);if(o<0)e[r]=e[r+1]=e[r+2]=e[r+3]=0;else{e[r]=e[o],e[r+1]=e[o+1],e[r+2]=e[o+2];var l=UInt.toFloat(e[o+3])*_|0;e[r+3]=l<0?0:l>255?255:l}};var lime__$internal_graphics__$ImageDataUtil_ImageDataView=function(e,t){this.image=e,null==t?this.rect=e.get_rect():(t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y),t.width<0&&(t.width=0),t.height<0&&(t.height=0),this.rect=t),this.stride=e.buffer.get_stride(),this.__update()};$hxClasses["lime._internal.graphics._ImageDataUtil.ImageDataView"]=lime__$internal_graphics__$ImageDataUtil_ImageDataView,lime__$internal_graphics__$ImageDataUtil_ImageDataView.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView",lime__$internal_graphics__$ImageDataUtil_ImageDataView.prototype={clip:function(e,t,a,n){null==this.tempRect&&(this.tempRect=new lime_math_Rectangle),this.tempRect.setTo(e,t,a,n),this.rect.intersection(this.tempRect,this.rect),this.__update()},hasRow:function(e){return e>=0&&e<this.height},offset:function(e,t){e<0?(this.rect.x+=e,this.rect.x<0&&(this.rect.x=0)):(this.rect.x+=e,this.rect.width-=e),t<0?(this.rect.y+=t,this.rect.y<0&&(this.rect.y=0)):(this.rect.y+=t,this.rect.height-=t),this.__update()},row:function(e){return this.byteOffset+this.stride*e},__update:function(){this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:lime__$internal_graphics__$ImageDataUtil_ImageDataView};var lime__$internal_graphics_StackBlur=function(){};$hxClasses["lime._internal.graphics.StackBlur"]=lime__$internal_graphics_StackBlur,lime__$internal_graphics_StackBlur.__name__="lime._internal.graphics.StackBlur",lime__$internal_graphics_StackBlur.blur=function(e,t,a,n,i,s,_){e.copyPixels(t,a,n),lime__$internal_graphics_StackBlur.__stackBlurCanvasRGBA(e,0|a.width,0|a.height,i,s,_)},lime__$internal_graphics_StackBlur.__stackBlurCanvasRGBA=function(e,t,a,n,i,s){var _=Math.round(n)>>1,r=Math.round(i)>>1;if(null!=lime__$internal_graphics_StackBlur.MUL_TABLE&&(_>=lime__$internal_graphics_StackBlur.MUL_TABLE.length&&(_=lime__$internal_graphics_StackBlur.MUL_TABLE.length-1),r>=lime__$internal_graphics_StackBlur.MUL_TABLE.length&&(r=lime__$internal_graphics_StackBlur.MUL_TABLE.length-1),!(_<0||r<0))){var o=s;o<1&&(o=1),o>3&&(o=3);for(var l,h,u,p,c,d,f,m,g,x,k,y,b,v,P,w=e.get_data(),T=_+_+1,C=r+r+1,S=t,A=a,E=S-1,D=A-1,M=_+1,R=r+1,L=new lime__$internal_graphics_BlurStack,I=L,$=1,B=T;$<B;){var O=$++;I=I.n=new lime__$internal_graphics_BlurStack}I.n=L;var G=new lime__$internal_graphics_BlurStack,F=G;for($=1,B=C;$<B;){O=$++;F=F.n=new lime__$internal_graphics_BlurStack}F.n=G;for(var N=null,H=lime__$internal_graphics_StackBlur.MUL_TABLE[_],U=lime__$internal_graphics_StackBlur.SHG_TABLE[_],X=lime__$internal_graphics_StackBlur.MUL_TABLE[r],V=lime__$internal_graphics_StackBlur.SHG_TABLE[r];o>0;){--o,d=c=0;var j=H,z=U;for(l=A;;){for(f=M*(k=w[c]),m=M*(y=w[c+1]),g=M*(b=w[c+2]),x=M*(v=w[c+3]),I=L,h=M;I.r=k,I.g=y,I.b=b,I.a=v,I=I.n,--h>-1;);for($=1,B=M;$<B;){u=c+((E<(O=$++)?E:O)<<2),f+=I.r=w[u],m+=I.g=w[u+1],g+=I.b=w[u+2],x+=I.a=w[u+3],I=I.n}N=L;for(var W=0,Y=S;W<Y;){var K=W++;w[c++]=f*j>>>z,w[c++]=m*j>>>z,w[c++]=g*j>>>z,w[c++]=x*j>>>z,u=d+((u=K+_+1)<E?u:E)<<2,f-=N.r-(N.r=w[u]),m-=N.g-(N.g=w[u+1]),g-=N.b-(N.b=w[u+2]),x-=N.a-(N.a=w[u+3]),N=N.n}if(d+=S,!(--l>0))break}j=X,z=V;for(var q=0,J=S;q<J;){var Z=q++;f=R*(k=w[c=Z<<2]),m=R*(y=w[c+1]),g=R*(b=w[c+2]),x=R*(v=w[c+3]),F=G;for(var Q=0,ee=R;Q<ee;){Q++;F.r=k,F.g=y,F.b=b,F.a=v,F=F.n}p=S;for(var te=1,ae=r+1;te<ae;){var ne=te++;c=p+Z<<2,f+=F.r=w[c],m+=F.g=w[c+1],g+=F.b=w[c+2],x+=F.a=w[c+3],F=F.n,ne<D&&(p+=S)}if(c=Z,N=G,o>0)for(var ie=0,se=A;ie<se;){var _e=ie++;v=x*j>>>z,w[(u=c<<2)+3]=v,v>0?(w[u]=f*j>>>z,w[u+1]=m*j>>>z,w[u+2]=g*j>>>z):w[u]=w[u+1]=w[u+2]=0,u=Z+((u=_e+R)<D?u:D)*S<<2,f-=N.r-(N.r=w[u]),m-=N.g-(N.g=w[u+1]),g-=N.b-(N.b=w[u+2]),x-=N.a-(N.a=w[u+3]),N=N.n,c+=S}else for(var re=0,oe=A;re<oe;){var le=re++;v=x*j>>>z,w[(u=c<<2)+3]=v,v>0?(k=(f*j>>>z)*(P=255/v)|0,y=(m*j>>>z)*P|0,b=(g*j>>>z)*P|0,w[u]=k>255?255:k,w[u+1]=y>255?255:y,w[u+2]=b>255?255:b):w[u]=w[u+1]=w[u+2]=0,u=Z+((u=le+R)<D?u:D)*S<<2,f-=N.r-(N.r=w[u]),m-=N.g-(N.g=w[u+1]),g-=N.b-(N.b=w[u+2]),x-=N.a-(N.a=w[u+3]),N=N.n,c+=S}}}}};var lime__$internal_graphics_BlurStack=function(){this.r=0,this.g=0,this.b=0,this.a=0,this.n=null};$hxClasses["lime._internal.graphics.BlurStack"]=lime__$internal_graphics_BlurStack,lime__$internal_graphics_BlurStack.__name__="lime._internal.graphics.BlurStack",lime__$internal_graphics_BlurStack.prototype={__class__:lime__$internal_graphics_BlurStack};var lime__$internal_macros_AssetsMacro=function(){};$hxClasses["lime._internal.macros.AssetsMacro"]=lime__$internal_macros_AssetsMacro,lime__$internal_macros_AssetsMacro.__name__="lime._internal.macros.AssetsMacro";var lime_app_Event=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app.Event"]=lime_app_Event,lime_app_Event.__name__="lime.app.Event",lime_app_Event.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},__class__:lime_app_Event};var lime_app_Future=function(e,t){if(null==t&&(t=!1),null!=e)if(t){var a=new lime_app_Promise;a.future=this,lime_app__$Future_FutureWork.queue({promise:a,work:e})}else try{this.value=e(),this.isComplete=!0}catch(e){haxe_NativeStackTrace.lastError=e;var n=haxe_Exception.caught(e).unwrap();this.error=n,this.isError=!0}};$hxClasses["lime.app.Future"]=lime_app_Future,lime_app_Future.__name__="lime.app.Future",lime_app_Future.ofEvents=function(e,t,a){var n=new lime_app_Promise;return e.add((function(e){n.complete(e)}),!0),null!=t&&t.add((function(e){n.error(e)}),!0),null!=a&&a.add((function(e,t){n.progress(e,t)}),!0),n.future},lime_app_Future.withError=function(e){var t=new lime_app_Future;return t.isError=!0,t.error=e,t},lime_app_Future.withValue=function(e){var t=new lime_app_Future;return t.isComplete=!0,t.value=e,t},lime_app_Future.prototype={onComplete:function(e){return null!=e&&(this.isComplete?e(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(e))),this},onError:function(e){return null!=e&&(this.isError?e(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(e))),this},onProgress:function(e){return null!=e&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(e)),this},ready:function(e){return null==e&&(e=-1),this.isComplete||this.isError||lime_utils_Log.warn("Cannot block thread in JavaScript",{fileName:"lime/app/Future.hx",lineNumber:209,className:"lime.app.Future",methodName:"ready"}),this},result:function(e){return null==e&&(e=-1),this.ready(e),this.isComplete?this.value:null},then:function(e){if(this.isComplete)return e(this.value);if(this.isError){var t=new lime_app_Future;return t.isError=!0,t.error=this.error,t}var a=new lime_app_Promise;return this.onError($bind(a,a.error)),this.onProgress($bind(a,a.progress)),this.onComplete((function(t){var n=e(t);n.onError($bind(a,a.error)),n.onComplete($bind(a,a.complete))})),a.future},__class__:lime_app_Future};var lime_app__$Future_FutureWork=function(){};$hxClasses["lime.app._Future.FutureWork"]=lime_app__$Future_FutureWork,lime_app__$Future_FutureWork.__name__="lime.app._Future.FutureWork",lime_app__$Future_FutureWork.queue=function(e){null==lime_app__$Future_FutureWork.threadPool&&(lime_app__$Future_FutureWork.threadPool=new lime_system_ThreadPool,lime_app__$Future_FutureWork.threadPool.doWork.add(lime_app__$Future_FutureWork.threadPool_doWork),lime_app__$Future_FutureWork.threadPool.onComplete.add(lime_app__$Future_FutureWork.threadPool_onComplete),lime_app__$Future_FutureWork.threadPool.onError.add(lime_app__$Future_FutureWork.threadPool_onError)),lime_app__$Future_FutureWork.threadPool.queue(e)},lime_app__$Future_FutureWork.threadPool_doWork=function(e){try{var t=e.work();lime_app__$Future_FutureWork.threadPool.sendComplete({promise:e.promise,result:t})}catch(t){haxe_NativeStackTrace.lastError=t;var a=haxe_Exception.caught(t).unwrap();lime_app__$Future_FutureWork.threadPool.sendError({promise:e.promise,error:a})}},lime_app__$Future_FutureWork.threadPool_onComplete=function(e){e.promise.complete(e.result)},lime_app__$Future_FutureWork.threadPool_onError=function(e){e.promise.error(e.error)};var lime_app_Promise=function(){this.future=new lime_app_Future};$hxClasses["lime.app.Promise"]=lime_app_Promise,lime_app_Promise.__name__="lime.app.Promise",lime_app_Promise.prototype={complete:function(e){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=e,null!=this.future.__completeListeners)){for(var t=0,a=this.future.__completeListeners;t<a.length;){var n=a[t];++t,n(e)}this.future.__completeListeners=null}return this},completeWith:function(e){return e.onComplete($bind(this,this.complete)),e.onError($bind(this,this.error)),e.onProgress($bind(this,this.progress)),this},error:function(e){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=e,null!=this.future.__errorListeners)){for(var t=0,a=this.future.__errorListeners;t<a.length;){var n=a[t];++t,n(e)}this.future.__errorListeners=null}return this},progress:function(e,t){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var a=0,n=this.future.__progressListeners;a<n.length;){var i=n[a];++a,i(e,t)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError},__class__:lime_app_Promise,__properties__:{get_isError:"get_isError",get_isComplete:"get_isComplete"}};var lime_app__$Event_$Dynamic_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Dynamic_Void"]=lime_app__$Event_$Dynamic_$Void,lime_app__$Event_$Dynamic_$Void.__name__="lime.app._Event_Dynamic_Void",lime_app__$Event_$Dynamic_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$Dynamic_$Void};var lime_app__$Event_$Float_$Float_$Float_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Float_Float_Float_Void"]=lime_app__$Event_$Float_$Float_$Float_$Void,lime_app__$Event_$Float_$Float_$Float_$Void.__name__="lime.app._Event_Float_Float_Float_Void",lime_app__$Event_$Float_$Float_$Float_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$Float_$Float_$Float_$Void};var lime_app__$Event_$Float_$Float_$Int_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Float_Float_Int_Void"]=lime_app__$Event_$Float_$Float_$Int_$Void,lime_app__$Event_$Float_$Float_$Int_$Void.__name__="lime.app._Event_Float_Float_Int_Void",lime_app__$Event_$Float_$Float_$Int_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$Float_$Float_$Int_$Void};var lime_app__$Event_$Float_$Float_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Float_Float_Void"]=lime_app__$Event_$Float_$Float_$Void,lime_app__$Event_$Float_$Float_$Void.__name__="lime.app._Event_Float_Float_Void",lime_app__$Event_$Float_$Float_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$Float_$Float_$Void};var lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void,lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void",lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void};var lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void,lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void",lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void};var lime_app__$Event_$Int_$Float_$Float_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Int_Float_Float_Void"]=lime_app__$Event_$Int_$Float_$Float_$Void,lime_app__$Event_$Int_$Float_$Float_$Void.__name__="lime.app._Event_Int_Float_Float_Void",lime_app__$Event_$Int_$Float_$Float_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$Int_$Float_$Float_$Void};var lime_app__$Event_$Int_$Float_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Int_Float_Void"]=lime_app__$Event_$Int_$Float_$Void,lime_app__$Event_$Int_$Float_$Void.__name__="lime.app._Event_Int_Float_Void",lime_app__$Event_$Int_$Float_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$Int_$Float_$Void};var lime_app__$Event_$Int_$Int_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Int_Int_Void"]=lime_app__$Event_$Int_$Int_$Void,lime_app__$Event_$Int_$Int_$Void.__name__="lime.app._Event_Int_Int_Void",lime_app__$Event_$Int_$Int_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$Int_$Int_$Void};var lime_app__$Event_$Int_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Int_Void"]=lime_app__$Event_$Int_$Void,lime_app__$Event_$Int_$Void.__name__="lime.app._Event_Int_Void",lime_app__$Event_$Int_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$Int_$Void};var lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void,lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void",lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void};var lime_app__$Event_$String_$Int_$Int_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_String_Int_Int_Void"]=lime_app__$Event_$String_$Int_$Int_$Void,lime_app__$Event_$String_$Int_$Int_$Void.__name__="lime.app._Event_String_Int_Int_Void",lime_app__$Event_$String_$Int_$Int_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t,a){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,s=0;s<n.length&&(n[s](e,t,a),i[s]?++s:this.remove(n[s]),!this.canceled););},__class__:lime_app__$Event_$String_$Int_$Int_$Void};var lime_app__$Event_$String_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_String_Void"]=lime_app__$Event_$String_$Void,lime_app__$Event_$String_$Void.__name__="lime.app._Event_String_Void",lime_app__$Event_$String_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$String_$Void};var lime_app__$Event_$Void_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_Void_Void"]=lime_app__$Event_$Void_$Void,lime_app__$Event_$Void_$Void.__name__="lime.app._Event_Void_Void",lime_app__$Event_$Void_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(){this.canceled=!1;for(var e=this.__listeners,t=this.__repeat,a=0;a<e.length&&(e[a](),t[a]?++a:this.remove(e[a]),!this.canceled););},__class__:lime_app__$Event_$Void_$Void};var lime_app__$Event_$lime_$graphics_$RenderContext_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_graphics_RenderContext_Void"]=lime_app__$Event_$lime_$graphics_$RenderContext_$Void,lime_app__$Event_$lime_$graphics_$RenderContext_$Void.__name__="lime.app._Event_lime_graphics_RenderContext_Void",lime_app__$Event_$lime_$graphics_$RenderContext_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$graphics_$RenderContext_$Void};var lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void,lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void",lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void};var lime_app__$Event_$lime_$ui_$GamepadButton_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_GamepadButton_Void"]=lime_app__$Event_$lime_$ui_$GamepadButton_$Void,lime_app__$Event_$lime_$ui_$GamepadButton_$Void.__name__="lime.app._Event_lime_ui_GamepadButton_Void",lime_app__$Event_$lime_$ui_$GamepadButton_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$GamepadButton_$Void};var lime_app__$Event_$lime_$ui_$Gamepad_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_Gamepad_Void"]=lime_app__$Event_$lime_$ui_$Gamepad_$Void,lime_app__$Event_$lime_$ui_$Gamepad_$Void.__name__="lime.app._Event_lime_ui_Gamepad_Void",lime_app__$Event_$lime_$ui_$Gamepad_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$Gamepad_$Void};var lime_app__$Event_$lime_$ui_$Joystick_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_Joystick_Void"]=lime_app__$Event_$lime_$ui_$Joystick_$Void,lime_app__$Event_$lime_$ui_$Joystick_$Void.__name__="lime.app._Event_lime_ui_Joystick_Void",lime_app__$Event_$lime_$ui_$Joystick_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$Joystick_$Void};var lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void,lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void",lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e,t){this.canceled=!1;for(var a=this.__listeners,n=this.__repeat,i=0;i<a.length&&(a[i](e,t),n[i]?++i:this.remove(a[i]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void};var lime_app__$Event_$lime_$ui_$Touch_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_Touch_Void"]=lime_app__$Event_$lime_$ui_$Touch_$Void,lime_app__$Event_$lime_$ui_$Touch_$Void.__name__="lime.app._Event_lime_ui_Touch_Void",lime_app__$Event_$lime_$ui_$Touch_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$Touch_$Void};var lime_app__$Event_$lime_$ui_$Window_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_lime_ui_Window_Void"]=lime_app__$Event_$lime_$ui_$Window_$Void,lime_app__$Event_$lime_$ui_$Window_$Void.__name__="lime.app._Event_lime_ui_Window_Void",lime_app__$Event_$lime_$ui_$Window_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$lime_$ui_$Window_$Void};var lime_app__$Event_$ofEvents_$T_$Void=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};$hxClasses["lime.app._Event_ofEvents_T_Void"]=lime_app__$Event_$ofEvents_$T_$Void,lime_app__$Event_$ofEvents_$T_$Void.__name__="lime.app._Event_ofEvents_T_Void",lime_app__$Event_$ofEvents_$T_$Void.prototype={add:function(e,t,a){null==a&&(a=0),null==t&&(t=!1);for(var n=0,i=this.__priorities.length;n<i;){var s=n++;if(a>this.__priorities[s])return this.__listeners.splice(s,0,e),this.__priorities.splice(s,0,a),void this.__repeat.splice(s,0,!t)}this.__listeners.push(e),this.__priorities.push(a),this.__repeat.push(!t)},cancel:function(){this.canceled=!0},has:function(e){for(var t=0,a=this.__listeners;t<a.length;){var n=a[t];if(++t,Reflect.compareMethods(n,e))return!0}return!1},remove:function(e){for(var t=this.__listeners.length;--t>=0;)Reflect.compareMethods(this.__listeners[t],e)&&(this.__listeners.splice(t,1),this.__priorities.splice(t,1),this.__repeat.splice(t,1))},dispatch:function(e){this.canceled=!1;for(var t=this.__listeners,a=this.__repeat,n=0;n<t.length&&(t[n](e),a[n]?++n:this.remove(t[n]),!this.canceled););},__class__:lime_app__$Event_$ofEvents_$T_$Void};var lime_graphics_CairoRenderContext={fromRenderContext:function(e){return e.cairo}},lime_graphics_Canvas2DRenderContext={fromRenderContext:function(e){return e.canvas2D}},lime_graphics_DOMRenderContext={fromRenderContext:function(e){return e.dom}},lime_graphics_FlashRenderContext={fromRenderContext:function(e){return null}},lime_graphics_Image=function(e,t,a,n,i,s,_){if(null==i&&(i=-1),null==n&&(n=-1),null==a&&(a=0),null==t&&(t=0),this.offsetX=t,this.offsetY=a,this.width=n,this.height=i,this.version=0,null==_&&(_=lime_graphics_ImageType.CANVAS),this.type=_,null==e){if(n>0&&i>0)switch(this.type._hx_index){case 0:this.buffer=new lime_graphics_ImageBuffer(null,n,i),lime__$internal_graphics_ImageCanvasUtil.createCanvas(this,n,i),null!=s&&0!=s&&this.fillRect(new lime_math_Rectangle(0,0,n,i),s);break;case 1:var r,o=n*i*4;r=null!=o?new Uint8Array(o):null,this.buffer=new lime_graphics_ImageBuffer(r,n,i),null!=s&&0!=s&&this.fillRect(new lime_math_Rectangle(0,0,n,i),s)}}else this.__fromImageBuffer(e)};$hxClasses["lime.graphics.Image"]=lime_graphics_Image,lime_graphics_Image.__name__="lime.graphics.Image",lime_graphics_Image.fromBase64=function(e,t){if(null==e)return null;var a=new lime_graphics_Image;return a.__fromBase64(e,t),a},lime_graphics_Image.fromBitmapData=function(e){return null==e?null:e.image},lime_graphics_Image.fromBytes=function(e){if(null==e)return null;var t=new lime_graphics_Image;return t.__fromBytes(e)?t:null},lime_graphics_Image.fromCanvas=function(e){if(null==e)return null;var t=new lime_graphics_ImageBuffer(null,e.width,e.height);t.set_src(e);var a=new lime_graphics_Image(t);return a.type=lime_graphics_ImageType.CANVAS,a},lime_graphics_Image.fromFile=function(e){if(null==e)return null;var t=new lime_graphics_Image;return t.__fromFile(e)?t:null},lime_graphics_Image.fromImageElement=function(e){if(null==e)return null;var t=new lime_graphics_ImageBuffer(null,e.width,e.height);t.set_src(e);var a=new lime_graphics_Image(t);return a.type=lime_graphics_ImageType.CANVAS,a},lime_graphics_Image.loadFromBase64=function(e,t){return null==e||null==t?lime_app_Future.withValue(null):lime__$internal_backend_html5_HTML5HTTPRequest.loadImage("data:"+t+";base64,"+e)},lime_graphics_Image.loadFromBytes=function(e){if(null==e)return lime_app_Future.withValue(null);var t="";if(lime_graphics_Image.__isPNG(e))t="image/png";else if(lime_graphics_Image.__isJPG(e))t="image/jpeg";else if(lime_graphics_Image.__isGIF(e))t="image/gif";else{if(!lime_graphics_Image.__isWebP(e))return lime_app_Future.withValue(null);t="image/webp"}return lime__$internal_backend_html5_HTML5HTTPRequest.loadImageFromBytes(e,t)},lime_graphics_Image.loadFromFile=function(e){return null==e?lime_app_Future.withValue(null):lime__$internal_backend_html5_HTML5HTTPRequest.loadImage(e)},lime_graphics_Image.__isGIF=function(e){if(null==e||e.length<6)return!1;var t=e.getString(0,6);return"GIF87a"==t||"GIF89a"==t},lime_graphics_Image.__isJPG=function(e){return!(null==e||e.length<4)&&(255==e.b[0]&&216==e.b[1]&&255==e.b[e.length-2]&&217==e.b[e.length-1])},lime_graphics_Image.__isPNG=function(e){return!(null==e||e.length<8)&&(137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7])},lime_graphics_Image.__isWebP=function(e){return!(null==e||e.length<16)&&("RIFF"==e.getString(0,4)&&"WEBP"==e.getString(8,4))},lime_graphics_Image.prototype={clone:function(){if(null!=this.buffer){this.type==lime_graphics_ImageType.CANVAS?lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this):lime__$internal_graphics_ImageCanvasUtil.convertToData(this);var e=new lime_graphics_Image(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return e.version=this.version,e}return new lime_graphics_Image(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(e,t){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.colorTransform(this,e,t);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.colorTransform(this,e,t);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(e.__toFlashRectangle(),lime_math_ColorMatrix.__toFlashColorTransform(t))}},copyChannel:function(e,t,a,n,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t&&(i!=lime_graphics_ImageChannel.ALPHA||this.get_transparent())&&!(t.width<=0||t.height<=0))switch(t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y),this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.copyChannel(this,e,t,a,n,i);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.copyChannel(this,e,t,a,n,i);break;case 2:var s,_;switch(n._hx_index){case 0:s=1;break;case 1:s=2;break;case 2:s=4;break;case 3:s=8}switch(i._hx_index){case 0:_=1;break;case 1:_=2;break;case 2:_=4;break;case 3:_=8}t.offset(e.offsetX,e.offsetY),a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(e.buffer.get_src(),t.__toFlashRectangle(),a.__toFlashPoint(),s,_)}},copyPixels:function(e,t,a,n,i,s){if(null==s&&(s=!1),null!=this.buffer&&null!=e&&!(t.width<=0||t.height<=0||this.width<=0||this.height<=0))switch(t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y),t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),a.x+t.width>this.width&&(t.width=this.width-a.x),a.y+t.height>this.height&&(t.height=this.height-a.y),a.x<0&&(t.width+=a.x,t.x-=a.x,a.x=0),a.y<0&&(t.height+=a.y,t.y-=a.y,a.y=0),e==this&&a.x<t.get_right()&&a.y<t.get_bottom()&&(e=this.clone()),n==e&&(null==i||0==i.x&&0==i.y)&&(n=null,i=null),this.type._hx_index){case 0:null!=n?(lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),null!=n&&lime__$internal_graphics_ImageCanvasUtil.convertToData(n),lime__$internal_graphics_ImageDataUtil.copyPixels(this,e,t,a,n,i,s)):(lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e),lime__$internal_graphics_ImageCanvasUtil.copyPixels(this,e,t,a,n,i,s));break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),null!=n&&lime__$internal_graphics_ImageCanvasUtil.convertToData(n),lime__$internal_graphics_ImageDataUtil.copyPixels(this,e,t,a,n,i,s);break;case 2:t.offset(e.offsetX,e.offsetY),a.offset(this.offsetX,this.offsetY),null!=n&&null!=i&&i.offset(n.offsetX,n.offsetY),this.buffer.__srcBitmapData.copyPixels(e.buffer.__srcBitmapData,t.__toFlashRectangle(),a.__toFlashPoint(),null!=n?n.buffer.get_src():null,null!=i?i.__toFlashPoint():null,s)}},encode:function(e,t){if(null==t&&(t=90),null==e)return lime__$internal_format_PNG.encode(this);switch(e._hx_index){case 0:return lime__$internal_format_BMP.encode(this);case 1:return lime__$internal_format_JPEG.encode(this,t);case 2:return lime__$internal_format_PNG.encode(this)}},fillRect:function(e,t,a){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.fillRect(this,e,t,a);break;case 1:if(lime__$internal_graphics_ImageCanvasUtil.convertToData(this),0==this.buffer.data.length)return;lime__$internal_graphics_ImageDataUtil.fillRect(this,e,t,a);break;case 2:var n;if(e.offset(this.offsetX,this.offsetY),null==a){n=(255&(i=t))<<24|(255&i>>>24)<<16|(255&i>>>16)<<8|255&i>>>8}else switch(a){case 1:n=t;break;case 2:n=(255&t)<<24|(255&t>>>8)<<16|(255&t>>>16)<<8|255&t>>>24;break;default:var i;n=(255&(i=t))<<24|(255&i>>>24)<<16|(255&i>>>16)<<8|255&i>>>8}this.buffer.__srcBitmapData.fillRect(e.__toFlashRectangle(),n)}},floodFill:function(e,t,a,n){if(null!=this.buffer)switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.floodFill(this,e,t,a,n);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.floodFill(this,e,t,a,n);break;case 2:var i;if(null==n){i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}else switch(n){case 1:i=a;break;case 2:i=(255&a)<<24|(255&a>>>8)<<16|(255&a>>>16)<<8|255&a>>>24;break;default:var s;i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}this.buffer.__srcBitmapData.floodFill(e+this.offsetX,t+this.offsetY,i)}},getColorBoundsRect:function(e,t,a,n){if(null==a&&(a=!0),null==this.buffer)return null;switch(this.type._hx_index){case 0:return lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.getColorBoundsRect(this,e,t,a,n);case 1:return lime__$internal_graphics_ImageDataUtil.getColorBoundsRect(this,e,t,a,n);case 2:var i=this.buffer.__srcBitmapData.getColorBoundsRect(e,t,a);return new lime_math_Rectangle(i.x,i.y,i.width,i.height);default:return null}},getPixel:function(e,t,a){if(null==this.buffer||e<0||t<0||e>=this.width||t>=this.height)return 0;switch(this.type._hx_index){case 0:return lime__$internal_graphics_ImageCanvasUtil.getPixel(this,e,t,a);case 1:return lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.getPixel(this,e,t,a);case 2:var n=this.buffer.__srcBitmapData.getPixel(e+this.offsetX,t+this.offsetY);if(null==a){return(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24}switch(a){case 1:return n;case 2:return(255&n)<<24|(255&n>>>8)<<16|(255&n>>>16)<<8|255&n>>>24;default:return(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24}break;default:return 0}},getPixel32:function(e,t,a){if(null==this.buffer||e<0||t<0||e>=this.width||t>=this.height)return 0;switch(this.type._hx_index){case 0:return lime__$internal_graphics_ImageCanvasUtil.getPixel32(this,e,t,a);case 1:return lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.getPixel32(this,e,t,a);case 2:var n=this.buffer.__srcBitmapData.getPixel32(e+this.offsetX,t+this.offsetY);if(null==a){return(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24}switch(a){case 1:return n;case 2:return(255&n)<<24|(255&n>>>8)<<16|(255&n>>>16)<<8|255&n>>>24;default:return(255&n>>>16)<<24|(255&n>>>8)<<16|(255&n)<<8|255&n>>>24}break;default:return 0}},getPixels:function(e,t){if(null==this.buffer)return null;switch(this.type._hx_index){case 0:return lime__$internal_graphics_ImageCanvasUtil.getPixels(this,e,t);case 1:return lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.getPixels(this,e,t);case 2:default:return null}},merge:function(e,t,a,n,i,s,_){if(null!=this.buffer&&null!=e)switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this),lime__$internal_graphics_ImageCanvasUtil.merge(this,e,t,a,n,i,s,_);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.merge(this,e,t,a,n,i,s,_);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(e.buffer.__srcBitmapData,t.__toFlashRectangle(),a.__toFlashPoint(),n,i,s,_);break;default:return}},resize:function(e,t){switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.resize(this,e,t);break;case 1:lime__$internal_graphics_ImageDataUtil.resize(this,e,t)}this.buffer.width=e,this.buffer.height=t,this.offsetX=0,this.offsetY=0,this.width=e,this.height=t},scroll:function(e,t){if(null!=this.buffer)switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.scroll(this,e,t);break;case 1:this.copyPixels(this,this.get_rect(),new lime_math_Vector2(e,t));break;case 2:this.buffer.__srcBitmapData.scroll(e+this.offsetX,t+this.offsetX)}},setPixel:function(e,t,a,n){if(!(null==this.buffer||e<0||t<0||e>=this.width||t>=this.height))switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.setPixel(this,e,t,a,n);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.setPixel(this,e,t,a,n);break;case 2:var i;if(null==n){i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}else switch(n){case 1:i=a;break;case 2:i=(255&a)<<24|(255&a>>>8)<<16|(255&a>>>16)<<8|255&a>>>24;break;default:var s;i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}this.buffer.__srcBitmapData.setPixel(e+this.offsetX,t+this.offsetX,i)}},setPixel32:function(e,t,a,n){if(!(null==this.buffer||e<0||t<0||e>=this.width||t>=this.height))switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.setPixel32(this,e,t,a,n);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.setPixel32(this,e,t,a,n);break;case 2:var i;if(null==n){i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}else switch(n){case 1:i=a;break;case 2:i=(255&a)<<24|(255&a>>>8)<<16|(255&a>>>16)<<8|255&a>>>24;break;default:var s;i=(255&(s=a))<<24|(255&s>>>24)<<16|(255&s>>>16)<<8|255&s>>>8}this.buffer.__srcBitmapData.setPixel32(e+this.offsetX,t+this.offsetY,i)}},setPixels:function(e,t,a,n){if(e=this.__clipRect(e),null!=this.buffer&&null!=e)switch(null==n&&(n=lime_system_Endian.BIG_ENDIAN),this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.setPixels(this,e,t,a,n);break;case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.setPixels(this,e,t,a,n)}},threshold:function(e,t,a,n,i,s,_,r,o){if(null==r&&(r=!1),null==_&&(_=-1),null==s&&(s=0),null==this.buffer||null==e||null==t)return 0;switch(this.type._hx_index){case 0:case 1:return lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageCanvasUtil.convertToData(e),lime__$internal_graphics_ImageDataUtil.threshold(this,e,t,a,n,i,s,_,r,o);case 2:var l,h;if(null==o){l=(255&(p=s))<<24|(255&p>>>24)<<16|(255&p>>>16)<<8|255&p>>>8}else switch(o){case 1:l=s;break;case 2:l=(255&(u=s))<<24|(255&u>>>8)<<16|(255&u>>>16)<<8|255&u>>>24;break;default:l=(255&(p=s))<<24|(255&p>>>24)<<16|(255&p>>>16)<<8|255&p>>>8}if(null==o){h=(255&(p=_))<<24|(255&p>>>24)<<16|(255&p>>>16)<<8|255&p>>>8}else switch(o){case 1:h=_;break;case 2:var u;h=(255&(u=_))<<24|(255&u>>>8)<<16|(255&u>>>16)<<8|255&u>>>24;break;default:var p;h=(255&(p=_))<<24|(255&p>>>24)<<16|(255&p>>>16)<<8|255&p>>>8}return t.offset(e.offsetX,e.offsetY),a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(e.buffer.get_src(),t.__toFlashRectangle(),a.__toFlashPoint(),n,i,l,h,r)}return 0},__clipRect:function(e){return null==e||e.x<0&&(e.width-=-e.x,e.x=0,e.x+e.width<=0)||e.y<0&&(e.height-=-e.y,e.y=0,e.y+e.height<=0)||e.x+e.width>=this.width&&(e.width-=e.x+e.width-this.width,e.width<=0)||e.y+e.height>=this.height&&(e.height-=e.y+e.height-this.height,e.height<=0)?null:e},__fromBase64:function(e,t,a){var n=this,i=new Image;i.addEventListener("load",(function(e){n.buffer=new lime_graphics_ImageBuffer(null,i.width,i.height),n.buffer.__srcImage=i,n.offsetX=0,n.offsetY=0,n.width=n.buffer.width,n.height=n.buffer.height,null!=a&&a(n)}),!1),i.src="data:"+t+";base64,"+e},__fromBytes:function(e,t){var a="";if(lime_graphics_Image.__isPNG(e))a="image/png";else if(lime_graphics_Image.__isJPG(e))a="image/jpeg";else{if(!lime_graphics_Image.__isGIF(e))return!1;a="image/gif"}return this.__fromBase64(lime__$internal_format_Base64.encode(e),a,t),!0},__fromFile:function(e,t,a){var n=this,i=new Image;lime__$internal_backend_html5_HTML5HTTPRequest.__isSameOrigin(e)||(i.crossOrigin="Anonymous"),i.onload=function(e){n.buffer=new lime_graphics_ImageBuffer(null,i.width,i.height),n.buffer.__srcImage=i,n.width=i.width,n.height=i.height,null!=t&&t(n)},i.onerror=function(e){null!=a&&a()},i.src=e;i.complete;return!0},__fromImageBuffer:function(e){this.buffer=e,null!=e&&(-1==this.width&&(this.width=e.width),-1==this.height&&(this.height=e.height))},get_data:function(){return null==this.buffer.data&&this.buffer.width>0&&this.buffer.height>0&&lime__$internal_graphics_ImageCanvasUtil.convertToData(this),this.buffer.data},set_data:function(e){return this.buffer.data=e},get_format:function(){return this.buffer.format},set_format:function(e){return this.buffer.format!=e&&1==this.type._hx_index&&lime__$internal_graphics_ImageDataUtil.setFormat(this,e),this.buffer.format=e},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&(0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height)},set_powerOfTwo:function(e){if(e!=this.get_powerOfTwo()){for(var t=1,a=1;t<this.buffer.width;)t<<=1;for(;a<this.buffer.height;)a<<=1;if(t==this.buffer.width&&a==this.buffer.height)return e;switch(this.type._hx_index){case 0:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.resizeBuffer(this,t,a);break;case 1:lime__$internal_graphics_ImageDataUtil.resizeBuffer(this,t,a)}}return e},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(e){if(e&&!this.buffer.premultiplied)switch(this.type._hx_index){case 0:case 1:lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.multiplyAlpha(this)}else!e&&this.buffer.premultiplied&&1==this.type._hx_index&&(lime__$internal_graphics_ImageCanvasUtil.convertToData(this),lime__$internal_graphics_ImageDataUtil.unmultiplyAlpha(this));return e},get_rect:function(){return new lime_math_Rectangle(0,0,this.width,this.height)},get_src:function(){return null!=this.buffer.__srcCanvas||null==this.buffer.data&&this.type!=lime_graphics_ImageType.DATA||lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this),this.buffer.get_src()},set_src:function(e){return this.buffer.set_src(e)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(e){return null!=this.buffer&&(this.buffer.transparent=e)},__class__:lime_graphics_Image,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var lime_graphics_ImageBuffer=function(e,t,a,n,i){null==n&&(n=32),null==a&&(a=0),null==t&&(t=0),this.data=e,this.width=t,this.height=a,this.bitsPerPixel=n,this.format=null==i?0:i,this.premultiplied=!1,this.transparent=!0};$hxClasses["lime.graphics.ImageBuffer"]=lime_graphics_ImageBuffer,lime_graphics_ImageBuffer.__name__="lime.graphics.ImageBuffer",lime_graphics_ImageBuffer.prototype={clone:function(){var e=new lime_graphics_ImageBuffer(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var t=null,a=null,n=null,i=null,s=null;_=null!=(r=this.data.byteLength)?new Uint8Array(r):null!=t?new Uint8Array(t):null!=a?new Uint8Array(a.__array):null!=n?new Uint8Array(n):null!=i?null==s?new Uint8Array(i,0):new Uint8Array(i,0,s):null,e.data=_;var _,r=null,o=(t=null,a=null,n=this.data,i=null,s=null,_=null!=r?new Uint8Array(r):null!=t?new Uint8Array(t):null!=a?new Uint8Array(a.__array):null!=n?new Uint8Array(n):null!=i?null==s?new Uint8Array(i,0):new Uint8Array(i,0,s):null);e.data.set(o)}else if(null!=this.__srcImageData){e.__srcCanvas=window.document.createElement("canvas"),e.__srcContext=e.__srcCanvas.getContext("2d"),e.__srcCanvas.width=this.__srcImageData.width,e.__srcCanvas.height=this.__srcImageData.height,e.__srcImageData=e.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);o=new Uint8ClampedArray(this.__srcImageData.data);e.__srcImageData.data.set(o)}else null!=this.__srcCanvas?(e.__srcCanvas=window.document.createElement("canvas"),e.__srcContext=e.__srcCanvas.getContext("2d"),e.__srcCanvas.width=this.__srcCanvas.width,e.__srcCanvas.height=this.__srcCanvas.height,e.__srcContext.drawImage(this.__srcCanvas,0,0)):e.__srcImage=this.__srcImage;return e.bitsPerPixel=this.bitsPerPixel,e.format=this.format,e.premultiplied=this.premultiplied,e.transparent=this.transparent,e},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(e){return e instanceof Image?this.__srcImage=e:e instanceof HTMLCanvasElement&&(this.__srcCanvas=e,this.__srcContext=this.__srcCanvas.getContext("2d")),e},get_stride:function(){return this.width*(this.bitsPerPixel/8|0)},__class__:lime_graphics_ImageBuffer,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var lime_graphics_ImageChannel=$hxEnums["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:["RED","GREEN","BLUE","ALPHA"],RED:{_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:$estr},GREEN:{_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:$estr},BLUE:{_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:$estr},ALPHA:{_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:$estr}},lime_graphics_ImageFileFormat=$hxEnums["lime.graphics.ImageFileFormat"]={__ename__:"lime.graphics.ImageFileFormat",__constructs__:["BMP","JPEG","PNG"],BMP:{_hx_index:0,__enum__:"lime.graphics.ImageFileFormat",toString:$estr},JPEG:{_hx_index:1,__enum__:"lime.graphics.ImageFileFormat",toString:$estr},PNG:{_hx_index:2,__enum__:"lime.graphics.ImageFileFormat",toString:$estr}},lime_graphics_ImageType=$hxEnums["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:["CANVAS","DATA","FLASH","CUSTOM"],CANVAS:{_hx_index:0,__enum__:"lime.graphics.ImageType",toString:$estr},DATA:{_hx_index:1,__enum__:"lime.graphics.ImageType",toString:$estr},FLASH:{_hx_index:2,__enum__:"lime.graphics.ImageType",toString:$estr},CUSTOM:{_hx_index:3,__enum__:"lime.graphics.ImageType",toString:$estr}},lime_graphics_OpenGLES2RenderContext={fromGL:function(e){return null},fromOpenGLES3RenderContext:function(e){return null},fromRenderContext:function(e){return null},fromWebGLRenderContext:function(e){return null}},lime_graphics_OpenGLES3RenderContext={fromRenderContext:function(e){return null},fromGL:function(e){return null},fromOpenGLES2RenderContext:function(e){return null},fromWebGLRenderContext:function(e){return null},fromWebGL2RenderContext:function(e){return null}},lime_graphics_OpenGLRenderContext={fromRenderContext:function(e){return null}},lime_graphics_RenderContext=function(){};$hxClasses["lime.graphics.RenderContext"]=lime_graphics_RenderContext,lime_graphics_RenderContext.__name__="lime.graphics.RenderContext",lime_graphics_RenderContext.prototype={__class__:lime_graphics_RenderContext};var lime_graphics_WebGL2RenderContext={bufferData:function(e,t,a,n,i,s){null!=i?e.bufferData(t,a,n,i,s):e.bufferData(t,a,n)},bufferSubData:function(e,t,a,n,i,s){null!=i?e.bufferSubData(t,a,n,i,s):e.bufferSubData(t,a,n)},compressedTexImage2D:function(e,t,a,n,i,s,_,r,o,l){null!=o?e.compressedTexImage2D(t,a,n,i,s,_,r,o,l):e.compressedTexImage2D(t,a,n,i,s,_,r)},compressedTexSubImage2D:function(e,t,a,n,i,s,_,r,o,l,h){null!=l?e.compressedTexSubImage2D(t,a,n,i,s,_,r,o,l,h):e.compressedTexSubImage2D(t,a,n,i,s,_,r,o)},getBufferSubData:function(e,t,a,n,i,s){null!=i?e.getBufferSubData(t,a,n,i,s):e.getBufferSubData(t,a,n)},readPixels:function(e,t,a,n,i,s,_,r,o){null!=o?e.readPixels(t,a,n,i,s,_,r,o):e.readPixels(t,a,n,i,s,_,r)},texImage2D:function(e,t,a,n,i,s,_,r,o,l,h){null!=h?e.texImage2D(t,a,n,i,s,_,r,o,l,h):null!=r?e.texImage2D(t,a,n,i,s,_,r,o,l):e.texImage2D(t,a,n,i,s,_)},texSubImage2D:function(e,t,a,n,i,s,_,r,o,l,h){null!=h?e.texSubImage2D(t,a,n,i,s,_,r,o,l,h):null!=o?e.texSubImage2D(t,a,n,i,s,_,r,o,l):e.texSubImage2D(t,a,n,i,s,_,r)},uniform1fv:function(e,t,a,n,i){null!=n?e.uniform1fv(t,a,n,i):e.uniform1fv(t,a)},uniform1iv:function(e,t,a,n,i){null!=n?e.uniform1iv(t,a,n,i):e.uniform1iv(t,a)},uniform2fv:function(e,t,a,n,i){null!=n?e.uniform2fv(t,a,n,i):e.uniform2fv(t,a)},uniform2iv:function(e,t,a,n,i){null!=n?e.uniform2iv(t,a,n,i):e.uniform2iv(t,a)},uniform3fv:function(e,t,a,n,i){null!=n?e.uniform3fv(t,a,n,i):e.uniform3fv(t,a)},uniform3iv:function(e,t,a,n,i){null!=n?e.uniform3iv(t,a,n,i):e.uniform3iv(t,a)},uniform4fv:function(e,t,a,n,i){null!=n?e.uniform4fv(t,a,n,i):e.uniform4fv(t,a)},uniform4iv:function(e,t,a,n,i){null!=n?e.uniform4iv(t,a,n,i):e.uniform4iv(t,a)},uniformMatrix2fv:function(e,t,a,n,i,s){null!=i?e.uniformMatrix2fv(t,a,n,i,s):e.uniformMatrix2fv(t,a,n)},uniformMatrix3fv:function(e,t,a,n,i,s){null!=i?e.uniformMatrix3fv(t,a,n,i,s):e.uniformMatrix3fv(t,a,n)},uniformMatrix4fv:function(e,t,a,n,i,s){null!=i?e.uniformMatrix4fv(t,a,n,i,s):e.uniformMatrix4fv(t,a,n)},fromGL:function(e){return null},fromRenderContext:function(e){return e.webgl2},toWebGLRenderContext:function(e){return e}},lime_graphics_WebGLRenderContext={bufferData:function(e,t,a,n){e.bufferData(t,a,n)},bufferSubData:function(e,t,a,n){e.bufferSubData(t,a,n)},compressedTexImage2D:function(e,t,a,n,i,s,_,r){e.compressedTexImage2D(t,a,n,i,s,_,r)},compressedTexSubImage2D:function(e,t,a,n,i,s,_,r,o){e.compressedTexSubImage2D(t,a,n,i,s,_,r,o)},readPixels:function(e,t,a,n,i,s,_,r){e.readPixels(t,a,n,i,s,_,r)},texImage2D:function(e,t,a,n,i,s,_,r,o,l){null!=r?e.texImage2D(t,a,n,i,s,_,r,o,l):e.texImage2D(t,a,n,i,s,_)},texSubImage2D:function(e,t,a,n,i,s,_,r,o,l){null!=o?e.texSubImage2D(t,a,n,i,s,_,r,o,l):e.texSubImage2D(t,a,n,i,s,_,r)},uniformMatrix2fv:function(e,t,a,n){var i=n;e.uniformMatrix2fv(t,a,i)},uniformMatrix3fv:function(e,t,a,n){var i=n;e.uniformMatrix3fv(t,a,i)},uniformMatrix4fv:function(e,t,a,n){var i=n;e.uniformMatrix4fv(t,a,i)},fromWebGL2RenderContext:function(e){return e},fromRenderContext:function(e){return e.webgl},fromGL:function(e){return lime_graphics_opengl_GL.context}},lime_graphics_cairo_Cairo=function(e){};$hxClasses["lime.graphics.cairo.Cairo"]=lime_graphics_cairo_Cairo,lime_graphics_cairo_Cairo.__name__="lime.graphics.cairo.Cairo",lime_graphics_cairo_Cairo.__properties__={get_versionString:"get_versionString",get_version:"get_version"},lime_graphics_cairo_Cairo.get_version=function(){return 0},lime_graphics_cairo_Cairo.get_versionString=function(){return""},lime_graphics_cairo_Cairo.prototype={arc:function(e,t,a,n,i){},arcNegative:function(e,t,a,n,i){},clip:function(){},clipExtents:function(e,t,a,n){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(e,t,a,n,i,s){},fill:function(){},fillExtents:function(e,t,a,n){},fillPreserve:function(){},getOperator:function(){return 0},identityMatrix:function(){},inClip:function(e,t){return!1},inFill:function(e,t){return!1},inStroke:function(e,t){return!1},lineTo:function(e,t){},mask:function(e){},maskSurface:function(e,t,a){},moveTo:function(e,t){},newPath:function(){},paint:function(){},paintWithAlpha:function(e){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(e){},recreate:function(e){},rectangle:function(e,t,a,n){},relCurveTo:function(e,t,a,n,i,s){},relLineTo:function(e,t){},relMoveTo:function(e,t){},resetClip:function(){},restore:function(){},rotate:function(e){},save:function(){},scale:function(e,t){},setFontSize:function(e){},setOperator:function(e){return e},setSourceRGB:function(e,t,a){},setSourceRGBA:function(e,t,a,n){},setSourceSurface:function(e,t,a){},showGlyphs:function(e){},showPage:function(){},showText:function(e){},status:function(){return 0},stroke:function(){},strokeExtents:function(e,t,a,n){},strokePreserve:function(){},textPath:function(e){},transform:function(e){},translate:function(e,t){},get_antialias:function(){return 0},set_antialias:function(e){return e},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(e){return e},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(e){return e},get_fontFace:function(){return 0},set_fontFace:function(e){return e},get_fontOptions:function(){return null},set_fontOptions:function(e){return e},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(e){return e},get_lineJoin:function(){return 0},set_lineJoin:function(e){return e},get_lineWidth:function(){return 0},set_lineWidth:function(e){return e},get_matrix:function(){return null},set_matrix:function(e){return e},get_miterLimit:function(){return 0},set_miterLimit:function(e){return e},get_source:function(){return 0},set_source:function(e){return e},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(e){return e},__class__:lime_graphics_cairo_Cairo,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var lime_graphics_cairo_CairoFTFontFace={_new:function(){return 0},create:function(e,t){return 0}},lime_graphics_cairo_CairoFontFace={_new:function(){return null},status:function(e){return 0}},lime_graphics_cairo_CairoFontOptions={__properties__:{set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",get_antialias:"get_antialias"},_new:function(){return null},get_antialias:function(e){return 0},set_antialias:function(e,t){return t},get_hintMetrics:function(e){return 0},set_hintMetrics:function(e,t){return t},get_hintStyle:function(e){return 0},set_hintStyle:function(e,t){return t},get_subpixelOrder:function(e){return 0},set_subpixelOrder:function(e,t){return t}},lime_graphics_cairo_CairoGlyph=function(e,t,a){null==a&&(a=0),null==t&&(t=0),this.index=e,this.x=t,this.y=a};$hxClasses["lime.graphics.cairo.CairoGlyph"]=lime_graphics_cairo_CairoGlyph,lime_graphics_cairo_CairoGlyph.__name__="lime.graphics.cairo.CairoGlyph",lime_graphics_cairo_CairoGlyph.prototype={__class__:lime_graphics_cairo_CairoGlyph};var lime_graphics_cairo_CairoImageSurface={__properties__:{get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"},_new:function(e,t,a){return 0},create:function(e,t,a,n,i){return 0},fromImage:function(e){return null},get_data:function(e){return lime_utils_DataPointer.fromFloat(0)},get_format:function(e){return 0},get_height:function(e){return 0},get_stride:function(e){return 0},get_width:function(e){return 0}},lime_graphics_cairo_CairoPattern={__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"},_new:function(e){return e},addColorStopRGB:function(e,t,a,n,i){},addColorStopRGBA:function(e,t,a,n,i,s){},createForSurface:function(e){return 0},createLinear:function(e,t,a,n){return 0},createRadial:function(e,t,a,n,i,s){return 0},createRGB:function(e,t,a){return 0},createRGBA:function(e,t,a,n){return 0},get_colorStopCount:function(e){return 0},get_extend:function(e){return 0},set_extend:function(e,t){return t},get_filter:function(e){return 0},set_filter:function(e,t){return t},get_matrix:function(e){return null},set_matrix:function(e,t){return t}},lime_graphics_cairo_CairoSurface={flush:function(e){}},lime_graphics_opengl_GL=function(){};$hxClasses["lime.graphics.opengl.GL"]=lime_graphics_opengl_GL,lime_graphics_opengl_GL.__name__="lime.graphics.opengl.GL",lime_graphics_opengl_GL.activeTexture=function(e){lime_graphics_opengl_GL.context.activeTexture(e)},lime_graphics_opengl_GL.attachShader=function(e,t){lime_graphics_opengl_GL.context.attachShader(e,t)},lime_graphics_opengl_GL.beginQuery=function(e,t){lime_graphics_opengl_GL.context.beginQuery(e,t)},lime_graphics_opengl_GL.beginTransformFeedback=function(e){lime_graphics_opengl_GL.context.beginTransformFeedback(e)},lime_graphics_opengl_GL.bindAttribLocation=function(e,t,a){lime_graphics_opengl_GL.context.bindAttribLocation(e,t,a)},lime_graphics_opengl_GL.bindBuffer=function(e,t){lime_graphics_opengl_GL.context.bindBuffer(e,t)},lime_graphics_opengl_GL.bindBufferBase=function(e,t,a){lime_graphics_opengl_GL.context.bindBufferBase(e,t,a)},lime_graphics_opengl_GL.bindBufferRange=function(e,t,a,n,i){lime_graphics_opengl_GL.context.bindBufferRange(e,t,a,n,lime_utils_DataPointer.fromFloat(i))},lime_graphics_opengl_GL.bindFramebuffer=function(e,t){lime_graphics_opengl_GL.context.bindFramebuffer(e,t)},lime_graphics_opengl_GL.bindRenderbuffer=function(e,t){lime_graphics_opengl_GL.context.bindRenderbuffer(e,t)},lime_graphics_opengl_GL.bindSampler=function(e,t){lime_graphics_opengl_GL.context.bindSampler(e,t)},lime_graphics_opengl_GL.bindTexture=function(e,t){lime_graphics_opengl_GL.context.bindTexture(e,t)},lime_graphics_opengl_GL.bindTransformFeedback=function(e,t){lime_graphics_opengl_GL.context.bindTransformFeedback(e,t)},lime_graphics_opengl_GL.bindVertexArray=function(e){lime_graphics_opengl_GL.context.bindVertexArray(e)},lime_graphics_opengl_GL.blitFramebuffer=function(e,t,a,n,i,s,_,r,o,l){lime_graphics_opengl_GL.context.blitFramebuffer(e,t,a,n,i,s,_,r,o,l)},lime_graphics_opengl_GL.blendColor=function(e,t,a,n){lime_graphics_opengl_GL.context.blendColor(e,t,a,n)},lime_graphics_opengl_GL.blendEquation=function(e){lime_graphics_opengl_GL.context.blendEquation(e)},lime_graphics_opengl_GL.blendEquationSeparate=function(e,t){lime_graphics_opengl_GL.context.blendEquationSeparate(e,t)},lime_graphics_opengl_GL.blendFunc=function(e,t){lime_graphics_opengl_GL.context.blendFunc(e,t)},lime_graphics_opengl_GL.blendFuncSeparate=function(e,t,a,n){lime_graphics_opengl_GL.context.blendFuncSeparate(e,t,a,n)},lime_graphics_opengl_GL.bufferDataWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.bufferData(e,t,a,n,i):s.bufferData(e,t,a)},lime_graphics_opengl_GL.bufferSubDataWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.bufferSubData(e,t,a,n,i):s.bufferSubData(e,t,a)},lime_graphics_opengl_GL.checkFramebufferStatus=function(e){return lime_graphics_opengl_GL.context.checkFramebufferStatus(e)},lime_graphics_opengl_GL.clear=function(e){lime_graphics_opengl_GL.context.clear(e)},lime_graphics_opengl_GL.clearBufferfi=function(e,t,a,n){lime_graphics_opengl_GL.context.clearBufferfi(e,t,a,n)},lime_graphics_opengl_GL.clearBufferfvWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.clearBufferfv(e,t,a,n)},lime_graphics_opengl_GL.clearBufferivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.clearBufferiv(e,t,a,n)},lime_graphics_opengl_GL.clearBufferuivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.clearBufferuiv(e,t,a,n)},lime_graphics_opengl_GL.clearColor=function(e,t,a,n){lime_graphics_opengl_GL.context.clearColor(e,t,a,n)},lime_graphics_opengl_GL.clearDepth=function(e){lime_graphics_opengl_GL.context.clearDepth(e)},lime_graphics_opengl_GL.clearStencil=function(e){lime_graphics_opengl_GL.context.clearStencil(e)},lime_graphics_opengl_GL.clientWaitSync=function(e,t,a){return lime_graphics_opengl_GL.context.clientWaitSync(e,t,a)},lime_graphics_opengl_GL.colorMask=function(e,t,a,n){lime_graphics_opengl_GL.context.colorMask(e,t,a,n)},lime_graphics_opengl_GL.compileShader=function(e){lime_graphics_opengl_GL.context.compileShader(e)},lime_graphics_opengl_GL.compressedTexImage2DWEBGL=function(e,t,a,n,i,s,_,r,o){var l=lime_graphics_opengl_GL.context;null!=r?l.compressedTexImage2D(e,t,a,n,i,s,_,r,o):l.compressedTexImage2D(e,t,a,n,i,s,_)},lime_graphics_opengl_GL.compressedTexImage3DWEBGL=function(e,t,a,n,i,s,_,r,o,l){lime_graphics_opengl_GL.context.compressedTexImage3D(e,t,a,n,i,s,_,r,o,l)},lime_graphics_opengl_GL.compressedTexSubImage2DWEBGL=function(e,t,a,n,i,s,_,r,o,l){var h=lime_graphics_opengl_GL.context;null!=o?h.compressedTexSubImage2D(e,t,a,n,i,s,_,r,o,l):h.compressedTexSubImage2D(e,t,a,n,i,s,_,r)},lime_graphics_opengl_GL.compressedTexSubImage3DWEBGL=function(e,t,a,n,i,s,_,r,o,l,h,u){lime_graphics_opengl_GL.context.compressedTexSubImage3D(e,t,a,n,i,s,_,r,o,l,h,u)},lime_graphics_opengl_GL.copyTexImage2D=function(e,t,a,n,i,s,_,r){lime_graphics_opengl_GL.context.copyTexImage2D(e,t,a,n,i,s,_,r)},lime_graphics_opengl_GL.copyTexSubImage2D=function(e,t,a,n,i,s,_,r){lime_graphics_opengl_GL.context.copyTexSubImage2D(e,t,a,n,i,s,_,r)},lime_graphics_opengl_GL.copyTexSubImage3D=function(e,t,a,n,i,s,_,r,o){lime_graphics_opengl_GL.context.copyTexSubImage3D(e,t,a,n,i,s,_,r,o)},lime_graphics_opengl_GL.createBuffer=function(){return lime_graphics_opengl_GL.context.createBuffer()},lime_graphics_opengl_GL.createFramebuffer=function(){return lime_graphics_opengl_GL.context.createFramebuffer()},lime_graphics_opengl_GL.createProgram=function(){return lime_graphics_opengl_GL.context.createProgram()},lime_graphics_opengl_GL.createQuery=function(){return lime_graphics_opengl_GL.context.createQuery()},lime_graphics_opengl_GL.createRenderbuffer=function(){return lime_graphics_opengl_GL.context.createRenderbuffer()},lime_graphics_opengl_GL.createSampler=function(){return lime_graphics_opengl_GL.context.createSampler()},lime_graphics_opengl_GL.createShader=function(e){return lime_graphics_opengl_GL.context.createShader(e)},lime_graphics_opengl_GL.createTexture=function(){return lime_graphics_opengl_GL.context.createTexture()},lime_graphics_opengl_GL.createTransformFeedback=function(){return lime_graphics_opengl_GL.context.createTransformFeedback()},lime_graphics_opengl_GL.createVertexArray=function(){return lime_graphics_opengl_GL.context.createVertexArray()},lime_graphics_opengl_GL.cullFace=function(e){lime_graphics_opengl_GL.context.cullFace(e)},lime_graphics_opengl_GL.deleteBuffer=function(e){lime_graphics_opengl_GL.context.deleteBuffer(e)},lime_graphics_opengl_GL.deleteFramebuffer=function(e){lime_graphics_opengl_GL.context.deleteFramebuffer(e)},lime_graphics_opengl_GL.deleteProgram=function(e){lime_graphics_opengl_GL.context.deleteProgram(e)},lime_graphics_opengl_GL.deleteQuery=function(e){lime_graphics_opengl_GL.context.deleteQuery(e)},lime_graphics_opengl_GL.deleteRenderbuffer=function(e){lime_graphics_opengl_GL.context.deleteRenderbuffer(e)},lime_graphics_opengl_GL.deleteSampler=function(e){lime_graphics_opengl_GL.context.deleteSampler(e)},lime_graphics_opengl_GL.deleteShader=function(e){lime_graphics_opengl_GL.context.deleteShader(e)},lime_graphics_opengl_GL.deleteSync=function(e){lime_graphics_opengl_GL.context.deleteSync(e)},lime_graphics_opengl_GL.deleteTexture=function(e){lime_graphics_opengl_GL.context.deleteTexture(e)},lime_graphics_opengl_GL.deleteTransformFeedback=function(e){lime_graphics_opengl_GL.context.deleteTransformFeedback(e)},lime_graphics_opengl_GL.deleteVertexArray=function(e){lime_graphics_opengl_GL.context.deleteVertexArray(e)},lime_graphics_opengl_GL.depthFunc=function(e){lime_graphics_opengl_GL.context.depthFunc(e)},lime_graphics_opengl_GL.depthMask=function(e){lime_graphics_opengl_GL.context.depthMask(e)},lime_graphics_opengl_GL.depthRange=function(e,t){lime_graphics_opengl_GL.context.depthRange(e,t)},lime_graphics_opengl_GL.detachShader=function(e,t){lime_graphics_opengl_GL.context.detachShader(e,t)},lime_graphics_opengl_GL.disable=function(e){lime_graphics_opengl_GL.context.disable(e)},lime_graphics_opengl_GL.disableVertexAttribArray=function(e){lime_graphics_opengl_GL.context.disableVertexAttribArray(e)},lime_graphics_opengl_GL.drawArrays=function(e,t,a){lime_graphics_opengl_GL.context.drawArrays(e,t,a)},lime_graphics_opengl_GL.drawArraysInstanced=function(e,t,a,n){lime_graphics_opengl_GL.context.drawArraysInstanced(e,t,a,n)},lime_graphics_opengl_GL.drawBuffers=function(e){lime_graphics_opengl_GL.context.drawBuffers(e)},lime_graphics_opengl_GL.drawElements=function(e,t,a,n){lime_graphics_opengl_GL.context.drawElements(e,t,a,n)},lime_graphics_opengl_GL.drawElementsInstanced=function(e,t,a,n,i){lime_graphics_opengl_GL.context.drawElementsInstanced(e,t,a,n,i)},lime_graphics_opengl_GL.drawRangeElements=function(e,t,a,n,i,s){lime_graphics_opengl_GL.context.drawRangeElements(e,t,a,n,i,s)},lime_graphics_opengl_GL.enable=function(e){lime_graphics_opengl_GL.context.enable(e)},lime_graphics_opengl_GL.enableVertexAttribArray=function(e){lime_graphics_opengl_GL.context.enableVertexAttribArray(e)},lime_graphics_opengl_GL.endQuery=function(e){lime_graphics_opengl_GL.context.endQuery(e)},lime_graphics_opengl_GL.endTransformFeedback=function(){lime_graphics_opengl_GL.context.endTransformFeedback()},lime_graphics_opengl_GL.fenceSync=function(e,t){return lime_graphics_opengl_GL.context.fenceSync(e,t)},lime_graphics_opengl_GL.finish=function(){lime_graphics_opengl_GL.context.finish()},lime_graphics_opengl_GL.flush=function(){lime_graphics_opengl_GL.context.flush()},lime_graphics_opengl_GL.framebufferRenderbuffer=function(e,t,a,n){lime_graphics_opengl_GL.context.framebufferRenderbuffer(e,t,a,n)},lime_graphics_opengl_GL.framebufferTexture2D=function(e,t,a,n,i){lime_graphics_opengl_GL.context.framebufferTexture2D(e,t,a,n,i)},lime_graphics_opengl_GL.framebufferTextureLayer=function(e,t,a,n,i){lime_graphics_opengl_GL.context.framebufferTextureLayer(e,t,a,n,i)},lime_graphics_opengl_GL.frontFace=function(e){lime_graphics_opengl_GL.context.frontFace(e)},lime_graphics_opengl_GL.generateMipmap=function(e){lime_graphics_opengl_GL.context.generateMipmap(e)},lime_graphics_opengl_GL.getActiveAttrib=function(e,t){return lime_graphics_opengl_GL.context.getActiveAttrib(e,t)},lime_graphics_opengl_GL.getActiveUniform=function(e,t){return lime_graphics_opengl_GL.context.getActiveUniform(e,t)},lime_graphics_opengl_GL.getActiveUniformBlockName=function(e,t){return lime_graphics_opengl_GL.context.getActiveUniformBlockName(e,t)},lime_graphics_opengl_GL.getActiveUniformBlockParameter=function(e,t,a){return lime_graphics_opengl_GL.context.getActiveUniformBlockParameter(e,t,a)},lime_graphics_opengl_GL.getActiveUniforms=function(e,t,a){return lime_graphics_opengl_GL.context.getActiveUniforms(e,t,a)},lime_graphics_opengl_GL.getAttachedShaders=function(e){return lime_graphics_opengl_GL.context.getAttachedShaders(e)},lime_graphics_opengl_GL.getAttribLocation=function(e,t){return lime_graphics_opengl_GL.context.getAttribLocation(e,t)},lime_graphics_opengl_GL.getBufferParameter=function(e,t){return lime_graphics_opengl_GL.context.getBufferParameter(e,t)},lime_graphics_opengl_GL.getBufferSubDataWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.getBufferSubData(e,t,a,n,i):s.getBufferSubData(e,t,a)},lime_graphics_opengl_GL.getContextAttributes=function(){return lime_graphics_opengl_GL.context.getContextAttributes()},lime_graphics_opengl_GL.getError=function(){return lime_graphics_opengl_GL.context.getError()},lime_graphics_opengl_GL.getExtension=function(e){return lime_graphics_opengl_GL.context.getExtension(e)},lime_graphics_opengl_GL.getFragDataLocation=function(e,t){return lime_graphics_opengl_GL.context.getFragDataLocation(e,t)},lime_graphics_opengl_GL.getFramebufferAttachmentParameter=function(e,t,a){return lime_graphics_opengl_GL.context.getFramebufferAttachmentParameter(e,t,a)},lime_graphics_opengl_GL.getIndexedParameter=function(e,t){return lime_graphics_opengl_GL.context.getIndexedParameter(e,t)},lime_graphics_opengl_GL.getInternalformatParameter=function(e,t,a){return lime_graphics_opengl_GL.context.getInternalformatParameter(e,t,a)},lime_graphics_opengl_GL.getParameter=function(e){return lime_graphics_opengl_GL.context.getParameter(e)},lime_graphics_opengl_GL.getProgramInfoLog=function(e){return lime_graphics_opengl_GL.context.getProgramInfoLog(e)},lime_graphics_opengl_GL.getProgramParameter=function(e,t){return lime_graphics_opengl_GL.context.getProgramParameter(e,t)},lime_graphics_opengl_GL.getQuery=function(e,t){return lime_graphics_opengl_GL.context.getQuery(e,t)},lime_graphics_opengl_GL.getQueryParameter=function(e,t){return lime_graphics_opengl_GL.context.getQueryParameter(e,t)},lime_graphics_opengl_GL.getRenderbufferParameter=function(e,t){return lime_graphics_opengl_GL.context.getRenderbufferParameter(e,t)},lime_graphics_opengl_GL.getSamplerParameter=function(e,t){return lime_graphics_opengl_GL.context.getSamplerParameter(e,t)},lime_graphics_opengl_GL.getShaderInfoLog=function(e){return lime_graphics_opengl_GL.context.getShaderInfoLog(e)},lime_graphics_opengl_GL.getShaderParameter=function(e,t){return lime_graphics_opengl_GL.context.getShaderParameter(e,t)},lime_graphics_opengl_GL.getShaderPrecisionFormat=function(e,t){return lime_graphics_opengl_GL.context.getShaderPrecisionFormat(e,t)},lime_graphics_opengl_GL.getShaderSource=function(e){return lime_graphics_opengl_GL.context.getShaderSource(e)},lime_graphics_opengl_GL.getSupportedExtensions=function(){return lime_graphics_opengl_GL.context.getSupportedExtensions()},lime_graphics_opengl_GL.getSyncParameter=function(e,t){return lime_graphics_opengl_GL.context.getSyncParameter(e,t)},lime_graphics_opengl_GL.getTexParameter=function(e,t){return lime_graphics_opengl_GL.context.getTexParameter(e,t)},lime_graphics_opengl_GL.getTransformFeedbackVarying=function(e,t){return lime_graphics_opengl_GL.context.getTransformFeedbackVarying(e,t)},lime_graphics_opengl_GL.getUniform=function(e,t){return lime_graphics_opengl_GL.context.getUniform(e,t)},lime_graphics_opengl_GL.getUniformBlockIndex=function(e,t){return lime_graphics_opengl_GL.context.getUniformBlockIndex(e,t)},lime_graphics_opengl_GL.getUniformIndices=function(e,t){return lime_graphics_opengl_GL.context.getUniformIndices(e,t)},lime_graphics_opengl_GL.getUniformLocation=function(e,t){return lime_graphics_opengl_GL.context.getUniformLocation(e,t)},lime_graphics_opengl_GL.getVertexAttrib=function(e,t){return lime_graphics_opengl_GL.context.getVertexAttrib(e,t)},lime_graphics_opengl_GL.getVertexAttribOffset=function(e,t){return lime_utils_DataPointer.fromFloat(lime_graphics_opengl_GL.context.getVertexAttribOffset(e,t))},lime_graphics_opengl_GL.hint=function(e,t){lime_graphics_opengl_GL.context.hint(e,t)},lime_graphics_opengl_GL.invalidateFramebuffer=function(e,t){lime_graphics_opengl_GL.context.invalidateFramebuffer(e,t)},lime_graphics_opengl_GL.invalidateSubFramebuffer=function(e,t,a,n,i,s){lime_graphics_opengl_GL.context.invalidateSubFramebuffer(e,t,a,n,i,s)},lime_graphics_opengl_GL.isBuffer=function(e){return lime_graphics_opengl_GL.context.isBuffer(e)},lime_graphics_opengl_GL.isContextLost=function(){return lime_graphics_opengl_GL.context.isContextLost()},lime_graphics_opengl_GL.isEnabled=function(e){return lime_graphics_opengl_GL.context.isEnabled(e)},lime_graphics_opengl_GL.isFramebuffer=function(e){return lime_graphics_opengl_GL.context.isFramebuffer(e)},lime_graphics_opengl_GL.isProgram=function(e){return lime_graphics_opengl_GL.context.isProgram(e)},lime_graphics_opengl_GL.isQuery=function(e){return lime_graphics_opengl_GL.context.isQuery(e)},lime_graphics_opengl_GL.isRenderbuffer=function(e){return lime_graphics_opengl_GL.context.isRenderbuffer(e)},lime_graphics_opengl_GL.isSampler=function(e){return lime_graphics_opengl_GL.context.isSampler(e)},lime_graphics_opengl_GL.isShader=function(e){return lime_graphics_opengl_GL.context.isShader(e)},lime_graphics_opengl_GL.isSync=function(e){return lime_graphics_opengl_GL.context.isSync(e)},lime_graphics_opengl_GL.isTexture=function(e){return lime_graphics_opengl_GL.context.isTexture(e)},lime_graphics_opengl_GL.isTransformFeedback=function(e){return lime_graphics_opengl_GL.context.isTransformFeedback(e)},lime_graphics_opengl_GL.isVertexArray=function(e){return lime_graphics_opengl_GL.context.isVertexArray(e)},lime_graphics_opengl_GL.lineWidth=function(e){lime_graphics_opengl_GL.context.lineWidth(e)},lime_graphics_opengl_GL.linkProgram=function(e){lime_graphics_opengl_GL.context.linkProgram(e)},lime_graphics_opengl_GL.pauseTransformFeedback=function(){lime_graphics_opengl_GL.context.pauseTransformFeedback()},lime_graphics_opengl_GL.pixelStorei=function(e,t){lime_graphics_opengl_GL.context.pixelStorei(e,t)},lime_graphics_opengl_GL.polygonOffset=function(e,t){lime_graphics_opengl_GL.context.polygonOffset(e,t)},lime_graphics_opengl_GL.readBuffer=function(e){lime_graphics_opengl_GL.context.readBuffer(e)},lime_graphics_opengl_GL.readPixelsWEBGL=function(e,t,a,n,i,s,_,r){var o=lime_graphics_opengl_GL.context;null!=r?o.readPixels(e,t,a,n,i,s,_,r):o.readPixels(e,t,a,n,i,s,_)},lime_graphics_opengl_GL.renderbufferStorage=function(e,t,a,n){lime_graphics_opengl_GL.context.renderbufferStorage(e,t,a,n)},lime_graphics_opengl_GL.renderbufferStorageMultisample=function(e,t,a,n,i){lime_graphics_opengl_GL.context.renderbufferStorageMultisample(e,t,a,n,i)},lime_graphics_opengl_GL.resumeTransformFeedback=function(){lime_graphics_opengl_GL.context.resumeTransformFeedback()},lime_graphics_opengl_GL.sampleCoverage=function(e,t){lime_graphics_opengl_GL.context.sampleCoverage(e,t)},lime_graphics_opengl_GL.samplerParameterf=function(e,t,a){lime_graphics_opengl_GL.context.samplerParameterf(e,t,a)},lime_graphics_opengl_GL.samplerParameteri=function(e,t,a){lime_graphics_opengl_GL.context.samplerParameteri(e,t,a)},lime_graphics_opengl_GL.scissor=function(e,t,a,n){lime_graphics_opengl_GL.context.scissor(e,t,a,n)},lime_graphics_opengl_GL.shaderSource=function(e,t){lime_graphics_opengl_GL.context.shaderSource(e,t)},lime_graphics_opengl_GL.stencilFunc=function(e,t,a){lime_graphics_opengl_GL.context.stencilFunc(e,t,a)},lime_graphics_opengl_GL.stencilFuncSeparate=function(e,t,a,n){lime_graphics_opengl_GL.context.stencilFuncSeparate(e,t,a,n)},lime_graphics_opengl_GL.stencilMask=function(e){lime_graphics_opengl_GL.context.stencilMask(e)},lime_graphics_opengl_GL.stencilMaskSeparate=function(e,t){lime_graphics_opengl_GL.context.stencilMaskSeparate(e,t)},lime_graphics_opengl_GL.stencilOp=function(e,t,a){lime_graphics_opengl_GL.context.stencilOp(e,t,a)},lime_graphics_opengl_GL.stencilOpSeparate=function(e,t,a,n){lime_graphics_opengl_GL.context.stencilOpSeparate(e,t,a,n)},lime_graphics_opengl_GL.texImage2DWEBGL=function(e,t,a,n,i,s,_,r,o,l){var h=lime_graphics_opengl_GL.context;null!=l?h.texImage2D(e,t,a,n,i,s,_,r,o,l):null!=_?h.texImage2D(e,t,a,n,i,s,_,r,o):h.texImage2D(e,t,a,n,i,s)},lime_graphics_opengl_GL.texImage3DWEBGL=function(e,t,a,n,i,s,_,r,o,l,h){lime_graphics_opengl_GL.context.texImage3D(e,t,a,n,i,s,_,r,o,l,h)},lime_graphics_opengl_GL.texStorage2D=function(e,t,a,n,i){lime_graphics_opengl_GL.context.texStorage2D(e,t,a,n,i)},lime_graphics_opengl_GL.texStorage3D=function(e,t,a,n,i,s){lime_graphics_opengl_GL.context.texStorage3D(e,t,a,n,i,s)},lime_graphics_opengl_GL.texParameterf=function(e,t,a){lime_graphics_opengl_GL.context.texParameterf(e,t,a)},lime_graphics_opengl_GL.texParameteri=function(e,t,a){lime_graphics_opengl_GL.context.texParameteri(e,t,a)},lime_graphics_opengl_GL.texSubImage2DWEBGL=function(e,t,a,n,i,s,_,r,o,l){var h=lime_graphics_opengl_GL.context;null!=l?h.texSubImage2D(e,t,a,n,i,s,_,r,o,l):null!=r?h.texSubImage2D(e,t,a,n,i,s,_,r,o):h.texSubImage2D(e,t,a,n,i,s,_)},lime_graphics_opengl_GL.texSubImage3DWEBGL=function(e,t,a,n,i,s,_,r,o,l,h,u){lime_graphics_opengl_GL.context.texSubImage3D(e,t,a,n,i,s,_,r,o,l,h,u)},lime_graphics_opengl_GL.transformFeedbackVaryings=function(e,t,a){lime_graphics_opengl_GL.context.transformFeedbackVaryings(e,t,a)},lime_graphics_opengl_GL.uniform1f=function(e,t){lime_graphics_opengl_GL.context.uniform1f(e,t)},lime_graphics_opengl_GL.uniform1fvWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform1fv(e,t,a,n):i.uniform1fv(e,t)},lime_graphics_opengl_GL.uniform1i=function(e,t){lime_graphics_opengl_GL.context.uniform1i(e,t)},lime_graphics_opengl_GL.uniform1ivWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform1iv(e,t,a,n):i.uniform1iv(e,t)},lime_graphics_opengl_GL.uniform1ui=function(e,t){lime_graphics_opengl_GL.context.uniform1ui(e,t)},lime_graphics_opengl_GL.uniform1uivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform1uiv(e,t,a,n)},lime_graphics_opengl_GL.uniform2f=function(e,t,a){lime_graphics_opengl_GL.context.uniform2f(e,t,a)},lime_graphics_opengl_GL.uniform2fvWEBGL=function(e,t,a,n){lime_graphics_WebGL2RenderContext.uniform2fv(lime_graphics_opengl_GL.context,e,t,a,n)},lime_graphics_opengl_GL.uniform2i=function(e,t,a){lime_graphics_opengl_GL.context.uniform2i(e,t,a)},lime_graphics_opengl_GL.uniform2ivWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform2iv(e,t,a,n):i.uniform2iv(e,t)},lime_graphics_opengl_GL.uniform2ui=function(e,t,a){lime_graphics_opengl_GL.context.uniform2ui(e,t,a)},lime_graphics_opengl_GL.uniform2uivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform2uiv(e,t,a,n)},lime_graphics_opengl_GL.uniform3f=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform3f(e,t,a,n)},lime_graphics_opengl_GL.uniform3fvWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform3fv(e,t,a,n):i.uniform3fv(e,t)},lime_graphics_opengl_GL.uniform3i=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform3i(e,t,a,n)},lime_graphics_opengl_GL.uniform3ivWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform3iv(e,t,a,n):i.uniform3iv(e,t)},lime_graphics_opengl_GL.uniform3ui=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform3ui(e,t,a,n)},lime_graphics_opengl_GL.uniform3uivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform3uiv(e,t,a,n)},lime_graphics_opengl_GL.uniform4f=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniform4f(e,t,a,n,i)},lime_graphics_opengl_GL.uniform4fvWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform4fv(e,t,a,n):i.uniform4fv(e,t)},lime_graphics_opengl_GL.uniform4i=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniform4i(e,t,a,n,i)},lime_graphics_opengl_GL.uniform4ivWEBGL=function(e,t,a,n){var i=lime_graphics_opengl_GL.context;null!=a?i.uniform4iv(e,t,a,n):i.uniform4iv(e,t)},lime_graphics_opengl_GL.uniform4ui=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniform4ui(e,t,a,n,i)},lime_graphics_opengl_GL.uniform4uivWEBGL=function(e,t,a,n){lime_graphics_opengl_GL.context.uniform4uiv(e,t,a,n)},lime_graphics_opengl_GL.uniformBlockBinding=function(e,t,a){lime_graphics_opengl_GL.context.uniformBlockBinding(e,t,a)},lime_graphics_opengl_GL.uniformMatrix2fvWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.uniformMatrix2fv(e,t,a,n,i):s.uniformMatrix2fv(e,t,a)},lime_graphics_opengl_GL.uniformMatrix2x3fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix2x3fv(e,t,a,n,i)},lime_graphics_opengl_GL.uniformMatrix2x4fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix2x4fv(e,t,a,n,i)},lime_graphics_opengl_GL.uniformMatrix3fvWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.uniformMatrix3fv(e,t,a,n,i):s.uniformMatrix3fv(e,t,a)},lime_graphics_opengl_GL.uniformMatrix3x2fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix3x2fv(e,t,a,n,i)},lime_graphics_opengl_GL.uniformMatrix3x4fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix3x4fv(e,t,a,n,i)},lime_graphics_opengl_GL.uniformMatrix4fvWEBGL=function(e,t,a,n,i){var s=lime_graphics_opengl_GL.context;null!=n?s.uniformMatrix4fv(e,t,a,n,i):s.uniformMatrix4fv(e,t,a)},lime_graphics_opengl_GL.uniformMatrix4x2fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix4x2fv(e,t,a,n,i)},lime_graphics_opengl_GL.uniformMatrix4x3fvWEBGL=function(e,t,a,n,i){lime_graphics_opengl_GL.context.uniformMatrix4x3fv(e,t,a,n,i)},lime_graphics_opengl_GL.useProgram=function(e){lime_graphics_opengl_GL.context.useProgram(e)},lime_graphics_opengl_GL.validateProgram=function(e){lime_graphics_opengl_GL.context.validateProgram(e)},lime_graphics_opengl_GL.vertexAttrib1f=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib1f(e,t)},lime_graphics_opengl_GL.vertexAttrib1fv=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib1fv(e,t)},lime_graphics_opengl_GL.vertexAttrib1fvWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib1fv(e,t)},lime_graphics_opengl_GL.vertexAttrib2f=function(e,t,a){lime_graphics_opengl_GL.context.vertexAttrib2f(e,t,a)},lime_graphics_opengl_GL.vertexAttrib2fv=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib2fv(e,t)},lime_graphics_opengl_GL.vertexAttrib2fvWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib2fv(e,t)},lime_graphics_opengl_GL.vertexAttrib3f=function(e,t,a,n){lime_graphics_opengl_GL.context.vertexAttrib3f(e,t,a,n)},lime_graphics_opengl_GL.vertexAttrib3fv=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib3fv(e,t)},lime_graphics_opengl_GL.vertexAttrib3fvWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib3fv(e,t)},lime_graphics_opengl_GL.vertexAttrib4f=function(e,t,a,n,i){lime_graphics_opengl_GL.context.vertexAttrib4f(e,t,a,n,i)},lime_graphics_opengl_GL.vertexAttrib4fv=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib4fv(e,t)},lime_graphics_opengl_GL.vertexAttrib4fvWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttrib4fv(e,t)},lime_graphics_opengl_GL.vertexAttribDivisor=function(e,t){lime_graphics_opengl_GL.context.vertexAttribDivisor(e,t)},lime_graphics_opengl_GL.vertexAttribI4i=function(e,t,a,n,i){lime_graphics_opengl_GL.context.vertexAttribI4i(e,t,a,n,i)},lime_graphics_opengl_GL.vertexAttribI4iv=function(e,t){lime_graphics_opengl_GL.context.vertexAttribI4iv(e,t)},lime_graphics_opengl_GL.vertexAttribI4ivWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttribI4iv(e,t)},lime_graphics_opengl_GL.vertexAttribI4ui=function(e,t,a,n,i){lime_graphics_opengl_GL.context.vertexAttribI4ui(e,t,a,n,i)},lime_graphics_opengl_GL.vertexAttribI4uiv=function(e,t){lime_graphics_opengl_GL.context.vertexAttribI4uiv(e,t)},lime_graphics_opengl_GL.vertexAttribI4uivWEBGL=function(e,t){lime_graphics_opengl_GL.context.vertexAttribI4uiv(e,t)},lime_graphics_opengl_GL.vertexAttribIPointer=function(e,t,a,n,i){lime_graphics_opengl_GL.context.vertexAttribIPointer(e,t,a,n,i)},lime_graphics_opengl_GL.vertexAttribPointer=function(e,t,a,n,i,s){lime_graphics_opengl_GL.context.vertexAttribPointer(e,t,a,n,i,s)},lime_graphics_opengl_GL.viewport=function(e,t,a,n){lime_graphics_opengl_GL.context.viewport(e,t,a,n)},lime_graphics_opengl_GL.waitSync=function(e,t,a){lime_graphics_opengl_GL.context.waitSync(e,t,a)},lime_graphics_opengl_GL.__getObjectID=function(e){return null==e?0:e.id};var lime_graphics_opengl_GLProgram={fromSources:function(e,t,a){var n=lime_graphics_opengl_GLShader.fromSource(e,t,e.VERTEX_SHADER),i=lime_graphics_opengl_GLShader.fromSource(e,a,e.FRAGMENT_SHADER),s=e.createProgram();if(e.attachShader(s,n),e.attachShader(s,i),e.linkProgram(s),0==e.getProgramParameter(s,35714)){var _="Unable to initialize the shader program";_+="\n"+lime_graphics_opengl_GL.context.getProgramInfoLog(s),lime_utils_Log.error(_,{fileName:"lime/graphics/opengl/GLProgram.hx",lineNumber:39,className:"lime.graphics.opengl._GLProgram.GLProgram_Impl_",methodName:"fromSources"})}return s}},lime_graphics_opengl_GLShader={fromSource:function(e,t,a){var n,i=e.createShader(a);(e.shaderSource(i,t),e.compileShader(i),0==e.getShaderParameter(i,e.COMPILE_STATUS))&&(n=a==e.VERTEX_SHADER?"Error compiling vertex shader":a==e.FRAGMENT_SHADER?"Error compiling fragment shader":"Error compiling unknown shader type",n+="\n"+e.getShaderInfoLog(i),lime_utils_Log.error(n,{fileName:"lime/graphics/opengl/GLShader.hx",lineNumber:40,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"}));return i}},lime_graphics_opengl_ext_KHR_$debug=function(){this.STACK_UNDERFLOW=1284,this.STACK_OVERFLOW=1283,this.CONTEXT_FLAG_DEBUG_BIT=2,this.DEBUG_OUTPUT=37600,this.DEBUG_SEVERITY_LOW=37192,this.DEBUG_SEVERITY_MEDIUM=37191,this.DEBUG_SEVERITY_HIGH=37190,this.DEBUG_LOGGED_MESSAGES=37189,this.MAX_DEBUG_LOGGED_MESSAGES=37188,this.MAX_DEBUG_MESSAGE_LENGTH=37187,this.MAX_LABEL_LENGTH=33512,this.SAMPLER=33510,this.QUERY=33507,this.PROGRAM=33506,this.SHADER=33505,this.BUFFER=33504,this.DEBUG_GROUP_STACK_DEPTH=33389,this.MAX_DEBUG_GROUP_STACK_DEPTH=33388,this.DEBUG_SEVERITY_NOTIFICATION=33387,this.DEBUG_TYPE_POP_GROUP=33386,this.DEBUG_TYPE_PUSH_GROUP=33385,this.DEBUG_TYPE_MARKER=33384,this.DEBUG_TYPE_OTHER=33361,this.DEBUG_TYPE_PERFORMANCE=33360,this.DEBUG_TYPE_PORTABILITY=33359,this.DEBUG_TYPE_UNDEFINED_BEHAVIOR=33358,this.DEBUG_TYPE_DEPRECATED_BEHAVIOR=33357,this.DEBUG_TYPE_ERROR=33356,this.DEBUG_SOURCE_OTHER=33355,this.DEBUG_SOURCE_APPLICATION=33354,this.DEBUG_SOURCE_THIRD_PARTY=33353,this.DEBUG_SOURCE_SHADER_COMPILER=33352,this.DEBUG_SOURCE_WINDOW_SYSTEM=33351,this.DEBUG_SOURCE_API=33350,this.DEBUG_CALLBACK_USER_PARAM=33349,this.DEBUG_CALLBACK_FUNCTION=33348,this.DEBUG_NEXT_LOGGED_MESSAGE_LENGTH=33347,this.DEBUG_OUTPUT_SYNCHRONOUS=33346};$hxClasses["lime.graphics.opengl.ext.KHR_debug"]=lime_graphics_opengl_ext_KHR_$debug,lime_graphics_opengl_ext_KHR_$debug.__name__="lime.graphics.opengl.ext.KHR_debug",lime_graphics_opengl_ext_KHR_$debug.prototype={__class__:lime_graphics_opengl_ext_KHR_$debug};var lime_math_ARGB={__properties__:{set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},_new:function(e){return null==e&&(e=0),e},create:function(e,t,a,n){return(255&e)<<24|(255&t)<<16|(255&a)<<8|255&n},multiplyAlpha:function(e){0==(e>>>24&255)?e=0:255!=(e>>>24&255)&&(lime_math_ARGB.a16=lime_math_RGBA.__alpha16[e>>>24&255],e=(255&e>>>24)<<24|((e>>>16&255)*lime_math_ARGB.a16>>16&255)<<16|((e>>>8&255)*lime_math_ARGB.a16>>16&255)<<8|(255&e)*lime_math_ARGB.a16>>16&255)},readUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),n){case 0:e=(255&t[a+1])<<24|(255&t[a+2])<<16|(255&t[a+3])<<8|255&t[a];break;case 1:e=(255&t[a+2])<<24|(255&t[a+3])<<16|(255&t[a])<<8|255&t[a+1];break;case 2:e=(255&t[a+1])<<24|(255&t[a])<<16|(255&t[a+3])<<8|255&t[a+2]}i&&0!=(e>>>24&255)&&255!=(e>>>24&255)&&(lime_math_ARGB.unmult=255/(e>>>24&255),e=(255&e>>>24)<<24|(255&lime_math_RGBA.__clamp[Math.floor((e>>>16&255)*lime_math_ARGB.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.floor((e>>>8&255)*lime_math_ARGB.unmult)])<<8|255&lime_math_RGBA.__clamp[Math.floor((255&e)*lime_math_ARGB.unmult)])},set:function(e,t,a,n,i){(255&t)<<24|(255&a)<<16|(255&n)<<8|255&i},unmultiplyAlpha:function(e){0!=(e>>>24&255)&&255!=(e>>>24&255)&&(lime_math_ARGB.unmult=255/(e>>>24&255),e=(255&e>>>24)<<24|(255&lime_math_RGBA.__clamp[Math.floor((e>>>16&255)*lime_math_ARGB.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.floor((e>>>8&255)*lime_math_ARGB.unmult)])<<8|255&lime_math_RGBA.__clamp[Math.floor((255&e)*lime_math_ARGB.unmult)])},writeUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),i&&(0==(e>>>24&255)?e=0:255!=(e>>>24&255)&&(lime_math_ARGB.a16=lime_math_RGBA.__alpha16[e>>>24&255],e=(255&e>>>24)<<24|((e>>>16&255)*lime_math_ARGB.a16>>16&255)<<16|((e>>>8&255)*lime_math_ARGB.a16>>16&255)<<8|(255&e)*lime_math_ARGB.a16>>16&255)),n){case 0:t[a]=e>>>16&255,t[a+1]=e>>>8&255,t[a+2]=255&e,t[a+3]=e>>>24&255;break;case 1:t[a]=e>>>24&255,t[a+1]=e>>>16&255,t[a+2]=e>>>8&255,t[a+3]=255&e;break;case 2:t[a]=255&e,t[a+1]=e>>>8&255,t[a+2]=e>>>16&255,t[a+3]=e>>>24&255}},__fromBGRA:function(e){return(255&e)<<24|(255&e>>>8)<<16|(255&e>>>16)<<8|255&e>>>24},__fromRGBA:function(e){return(255&e)<<24|(255&e>>>24)<<16|(255&e>>>16)<<8|255&e>>>8},get_a:function(e){return e>>>24&255},set_a:function(e,t){return e=(255&t)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&e,t},get_b:function(e){return 255&e},set_b:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&t,t},get_g:function(e){return e>>>8&255},set_g:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&t)<<8|255&e,t},get_r:function(e){return e>>>16&255},set_r:function(e,t){return e=(255&e>>>24)<<24|(255&t)<<16|(255&e>>>8)<<8|255&e,t}},lime_math_BGRA={__properties__:{set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},_new:function(e){return null==e&&(e=0),e},create:function(e,t,a,n){return(255&e)<<24|(255&t)<<16|(255&a)<<8|255&n},multiplyAlpha:function(e){0==(255&e)?e=0:255!=(255&e)&&(lime_math_BGRA.a16=lime_math_RGBA.__alpha16[255&e],e=((e>>>24&255)*lime_math_BGRA.a16>>16&255)<<24|((e>>>16&255)*lime_math_BGRA.a16>>16&255)<<16|((e>>>8&255)*lime_math_BGRA.a16>>16&255)<<8|255&e)},readUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),n){case 0:e=(255&t[a+2])<<24|(255&t[a+1])<<16|(255&t[a])<<8|255&t[a+3];break;case 1:e=(255&t[a+3])<<24|(255&t[a+2])<<16|(255&t[a+1])<<8|255&t[a];break;case 2:e=(255&t[a])<<24|(255&t[a+1])<<16|(255&t[a+2])<<8|255&t[a+3]}i&&0!=(255&e)&&255!=(255&e)&&(lime_math_BGRA.unmult=255/(255&e),e=(255&lime_math_RGBA.__clamp[Math.floor((e>>>24&255)*lime_math_BGRA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.floor((e>>>16&255)*lime_math_BGRA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.floor((e>>>8&255)*lime_math_BGRA.unmult)])<<8|255&e)},set:function(e,t,a,n,i){(255&t)<<24|(255&a)<<16|(255&n)<<8|255&i},unmultiplyAlpha:function(e){0!=(255&e)&&255!=(255&e)&&(lime_math_BGRA.unmult=255/(255&e),e=(255&lime_math_RGBA.__clamp[Math.floor((e>>>24&255)*lime_math_BGRA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.floor((e>>>16&255)*lime_math_BGRA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.floor((e>>>8&255)*lime_math_BGRA.unmult)])<<8|255&e)},writeUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),i&&(0==(255&e)?e=0:255!=(255&e)&&(lime_math_BGRA.a16=lime_math_RGBA.__alpha16[255&e],e=((e>>>24&255)*lime_math_BGRA.a16>>16&255)<<24|((e>>>16&255)*lime_math_BGRA.a16>>16&255)<<16|((e>>>8&255)*lime_math_BGRA.a16>>16&255)<<8|255&e)),n){case 0:t[a]=e>>>8&255,t[a+1]=e>>>16&255,t[a+2]=e>>>24&255,t[a+3]=255&e;break;case 1:t[a]=255&e,t[a+1]=e>>>8&255,t[a+2]=e>>>16&255,t[a+3]=e>>>24&255;break;case 2:t[a]=e>>>24&255,t[a+1]=e>>>16&255,t[a+2]=e>>>8&255,t[a+3]=255&e}},__fromARGB:function(e){return(255&e)<<24|(255&e>>>8)<<16|(255&e>>>16)<<8|255&e>>>24},__fromRGBA:function(e){return(255&e>>>8)<<24|(255&e>>>16)<<16|(255&e>>>24)<<8|255&e},get_a:function(e){return 255&e},set_a:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&t,t},get_b:function(e){return e>>>24&255},set_b:function(e,t){return e=(255&t)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&e,t},get_g:function(e){return e>>>16&255},set_g:function(e,t){return e=(255&e>>>24)<<24|(255&t)<<16|(255&e>>>8)<<8|255&e,t},get_r:function(e){return e>>>8&255},set_r:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&t)<<8|255&e,t}},lime_math_ColorMatrix={__properties__:{set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},_new:function(e){var t;if(null!=e&&20==e.length)t=e;else{var a=lime_math_ColorMatrix.__identity;t=null!=a?new Float32Array(a):null}return t},clone:function(e){var t=lime_utils_Float32Array.toArrayBufferView(e);return e=null!=t?new Float32Array(t):null,lime_math_ColorMatrix._new(e)},concat:function(e,t){e[0]+=t[0],e[6]+=t[6],e[12]+=t[12],e[18]+=t[18]},copyFrom:function(e,t){e.set(t)},identity:function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=1,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=1,e[13]=0,e[14]=0,e[15]=0,e[16]=0,e[17]=0,e[18]=1,e[19]=0},getAlphaTable:function(e){if(null==lime_math_ColorMatrix.__alphaTable){var t=new Uint8Array(256);lime_math_ColorMatrix.__alphaTable=t}var a;lime_math_ColorMatrix.__alphaTable[0]=0;for(var n=1;n<256;){var i=n++;(a=Math.floor(i*e[18]+255*e[19]))>255&&(a=255),a<0&&(a=0),lime_math_ColorMatrix.__alphaTable[i]=a}return lime_math_ColorMatrix.__alphaTable},getBlueTable:function(e){if(null==lime_math_ColorMatrix.__blueTable){var t=new Uint8Array(256);lime_math_ColorMatrix.__blueTable=t}for(var a,n=0;n<256;){var i=n++;(a=Math.floor(i*e[12]+255*e[14]))>255&&(a=255),a<0&&(a=0),lime_math_ColorMatrix.__blueTable[i]=a}return lime_math_ColorMatrix.__blueTable},getGreenTable:function(e){if(null==lime_math_ColorMatrix.__greenTable){var t=new Uint8Array(256);lime_math_ColorMatrix.__greenTable=t}for(var a,n=0;n<256;){var i=n++;(a=Math.floor(i*e[6]+255*e[9]))>255&&(a=255),a<0&&(a=0),lime_math_ColorMatrix.__greenTable[i]=a}return lime_math_ColorMatrix.__greenTable},getRedTable:function(e){if(null==lime_math_ColorMatrix.__redTable){var t=new Uint8Array(256);lime_math_ColorMatrix.__redTable=t}for(var a,n=0;n<256;){var i=n++;(a=Math.floor(i*e[0]+255*e[4]))>255&&(a=255),a<0&&(a=0),lime_math_ColorMatrix.__redTable[i]=a}return lime_math_ColorMatrix.__redTable},__toFlashColorTransform:function(e){return null},get_alphaMultiplier:function(e){return e[18]},set_alphaMultiplier:function(e,t){return e[18]=t},get_alphaOffset:function(e){return 255*e[19]},set_alphaOffset:function(e,t){return e[19]=t/255},get_blueMultiplier:function(e){return e[12]},set_blueMultiplier:function(e,t){return e[12]=t},get_blueOffset:function(e){return 255*e[14]},set_blueOffset:function(e,t){return e[14]=t/255},get_color:function(e){return(255*e[4]|0)<<16|(255*e[9]|0)<<8|255*e[14]|0},set_color:function(e,t){return e[4]=(t>>16&255)/255,e[9]=(t>>8&255)/255,e[14]=(255&t)/255,e[0]=0,e[6]=0,e[12]=0,lime_math_ColorMatrix.get_color(e)},get_greenMultiplier:function(e){return e[6]},set_greenMultiplier:function(e,t){return e[6]=t},get_greenOffset:function(e){return 255*e[9]},set_greenOffset:function(e,t){return e[9]=t/255},get_redMultiplier:function(e){return e[0]},set_redMultiplier:function(e,t){return e[0]=t},get_redOffset:function(e){return 255*e[4]},set_redOffset:function(e,t){return e[4]=t/255},get:function(e,t){return e[t]},set:function(e,t,a){return e[t]=a}},lime_math_Matrix3=function(e,t,a,n,i,s){null==s&&(s=0),null==i&&(i=0),null==n&&(n=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=1),this.a=e,this.b=t,this.c=a,this.d=n,this.tx=i,this.ty=s};$hxClasses["lime.math.Matrix3"]=lime_math_Matrix3,lime_math_Matrix3.__name__="lime.math.Matrix3",lime_math_Matrix3.prototype={clone:function(){return new lime_math_Matrix3(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var t=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=t;var a=this.c*e.a+this.d*e.c;this.d=this.c*e.b+this.d*e.d,this.c=a;var n=this.tx*e.a+this.ty*e.c+e.tx;this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=n},copyColumnFrom:function(e,t){if(e>2)throw haxe_Exception.thrown("Column "+e+" out of bounds (2)");0==e?(this.a=t.x,this.b=t.y):1==e?(this.c=t.x,this.d=t.y):(this.tx=t.x,this.ty=t.y)},copyColumnTo:function(e,t){if(e>2)throw haxe_Exception.thrown("Column "+e+" out of bounds (2)");0==e?(t.x=this.a,t.y=this.b,t.z=0):1==e?(t.x=this.c,t.y=this.d,t.z=0):(t.x=this.tx,t.y=this.ty,t.z=1)},copyFrom:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty},copyRowFrom:function(e,t){if(e>2)throw haxe_Exception.thrown("Row "+e+" out of bounds (2)");0==e?(this.a=t.x,this.c=t.y,this.tx=t.z):1==e&&(this.b=t.x,this.d=t.y,this.ty=t.z)},copyRowTo:function(e,t){if(e>2)throw haxe_Exception.thrown("Row "+e+" out of bounds (2)");0==e?(t.x=this.a,t.y=this.c,t.z=this.tx):1==e?(t.x=this.b,t.y=this.d,t.z=this.ty):(t.x=0,t.y=0,t.z=1)},createBox:function(e,t,a,n,i){if(null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),0!=a){var s=Math.cos(a),_=Math.sin(a);this.a=s*e,this.b=_*t,this.c=-_*e,this.d=s*t}else this.a=e,this.b=0,this.c=0,this.d=t;this.tx=n,this.ty=i},createGradientBox:function(e,t,a,n,i){if(null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),this.a=e/1638.4,this.d=t/1638.4,0!=a){var s=Math.cos(a),_=Math.sin(a);this.b=_*this.d,this.c=-_*this.a,this.a*=s,this.d*=s}else this.b=0,this.c=0;this.tx=n+e/2,this.ty=i+t/2},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},deltaTransformVector:function(e,t){return null==t&&(t=new lime_math_Vector2),t.x=e.x*this.a+e.y*this.c,t.y=e.x*this.b+e.y*this.d,t},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{e=1/e;var t=this.d*e;this.d=this.a*e,this.a=t,this.b*=-e,this.c*=-e;var a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=a}return this},rotate:function(e){var t=Math.cos(e),a=Math.sin(e),n=this.a*t-this.b*a;this.b=this.a*a+this.b*t,this.a=n;var i=this.c*t-this.d*a;this.d=this.c*a+this.d*t,this.c=i;var s=this.tx*t-this.ty*a;this.ty=this.tx*a+this.ty*t,this.tx=s},scale:function(e,t){this.a*=e,this.b*=t,this.c*=e,this.d*=t,this.tx*=e,this.ty*=t},setRotation:function(e,t){null==t&&(t=1),this.a=Math.cos(e)*t,this.c=Math.sin(e)*t,this.b=-this.c,this.d=this.a},setTo:function(e,t,a,n,i,s){this.a=e,this.b=t,this.c=a,this.d=n,this.tx=i,this.ty=s},to3DString:function(e){return null==e&&(e=!1),e?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformRect:function(e,t){null==t&&(t=new lime_math_Rectangle);var a=this.a*e.x+this.c*e.y,n=a,i=this.b*e.x+this.d*e.y,s=i,_=this.a*(e.x+e.width)+this.c*e.y,r=this.b*(e.x+e.width)+this.d*e.y;return _<a&&(a=_),r<i&&(i=r),_>n&&(n=_),r>s&&(s=r),(_=this.a*(e.x+e.width)+this.c*(e.y+e.height))<a&&(a=_),(r=this.b*(e.x+e.width)+this.d*(e.y+e.height))<i&&(i=r),_>n&&(n=_),r>s&&(s=r),(_=this.a*e.x+this.c*(e.y+e.height))<a&&(a=_),(r=this.b*e.x+this.d*(e.y+e.height))<i&&(i=r),_>n&&(n=_),r>s&&(s=r),t.setTo(a+_,i+r,n-a,s-i),t},transformVector:function(e,t){return null==t&&(t=new lime_math_Vector2),t.x=e.x*this.a+e.y*this.c+this.tx,t.y=e.x*this.b+e.y*this.d+this.ty,t},translate:function(e,t){this.tx+=e,this.ty+=t},__class__:lime_math_Matrix3};var lime_math_Matrix4={__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},_new:function(e){var t;if(null!=e&&16==e.length)t=e;else{var a=lime_math_Matrix4.__identity;t=null!=a?new Float32Array(a):null}return t},append:function(e,t){var a=e[0],n=e[4],i=e[8],s=e[12],_=e[1],r=e[5],o=e[9],l=e[13],h=e[2],u=e[6],p=e[10],c=e[14],d=e[3],f=e[7],m=e[11],g=e[15],x=lime_math_Matrix4.get(t,0),k=lime_math_Matrix4.get(t,4),y=lime_math_Matrix4.get(t,8),b=lime_math_Matrix4.get(t,12),v=lime_math_Matrix4.get(t,1),P=lime_math_Matrix4.get(t,5),w=lime_math_Matrix4.get(t,9),T=lime_math_Matrix4.get(t,13),C=lime_math_Matrix4.get(t,2),S=lime_math_Matrix4.get(t,6),A=lime_math_Matrix4.get(t,10),E=lime_math_Matrix4.get(t,14),D=lime_math_Matrix4.get(t,3),M=lime_math_Matrix4.get(t,7),R=lime_math_Matrix4.get(t,11),L=lime_math_Matrix4.get(t,15);e[0]=a*x+_*k+h*y+d*b,e[1]=a*v+_*P+h*w+d*T,e[2]=a*C+_*S+h*A+d*E,e[3]=a*D+_*M+h*R+d*L,e[4]=n*x+r*k+u*y+f*b,e[5]=n*v+r*P+u*w+f*T,e[6]=n*C+r*S+u*A+f*E,e[7]=n*D+r*M+u*R+f*L,e[8]=i*x+o*k+p*y+m*b,e[9]=i*v+o*P+p*w+m*T,e[10]=i*C+o*S+p*A+m*E,e[11]=i*D+o*M+p*R+m*L,e[12]=s*x+l*k+c*y+g*b,e[13]=s*v+l*P+c*w+g*T,e[14]=s*C+l*S+c*A+g*E,e[15]=s*D+l*M+c*R+g*L},appendRotation:function(e,t,a,n){var i=lime_math_Matrix4.__getAxisRotation(e,a.x,a.y,a.z,t);if(null!=n){var s=n;lime_math_Matrix4.appendTranslation(i,s.x,s.y,s.z)}lime_math_Matrix4.append(e,i)},appendScale:function(e,t,a,n){var i,s=[t,0,0,0,0,a,0,0,0,0,n,0,0,0,0,1];i=null!=s?new Float32Array(s):null,lime_math_Matrix4.append(e,lime_math_Matrix4._new(i))},appendTranslation:function(e,t,a,n){e[12]+=t,e[13]+=a,e[14]+=n},clone:function(e){var t=lime_utils_Float32Array.toArrayBufferView(e);return e=null!=t?new Float32Array(t):null,lime_math_Matrix4._new(e)},copyColumnFrom:function(e,t,a){switch(t){case 0:e[0]=a.x,e[1]=a.y,e[2]=a.z,e[3]=a.w;break;case 1:e[4]=a.x,e[5]=a.y,e[6]=a.z,e[7]=a.w;break;case 2:e[8]=a.x,e[9]=a.y,e[10]=a.z,e[11]=a.w;break;case 3:e[12]=a.x,e[13]=a.y,e[14]=a.z,e[15]=a.w;break;default:lime_utils_Log.error("Column "+t+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:187,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnFrom"})}},copyColumnTo:function(e,t,a){switch(t){case 0:a.x=e[0],a.y=e[1],a.z=e[2],a.w=e[3];break;case 1:a.x=e[4],a.y=e[5],a.z=e[6],a.w=e[7];break;case 2:a.x=e[8],a.y=e[9],a.z=e[10],a.w=e[11];break;case 3:a.x=e[12],a.y=e[13],a.z=e[14],a.w=e[15];break;default:lime_utils_Log.error("Column "+t+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:225,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnTo"})}},copyFrom:function(e,t){e.set(t)},copyRowFrom:function(e,t,a){switch(t){case 0:e[0]=a.x,e[4]=a.y,e[8]=a.z,e[12]=a.w;break;case 1:e[1]=a.x,e[5]=a.y,e[9]=a.z,e[13]=a.w;break;case 2:e[2]=a.x,e[6]=a.y,e[10]=a.z,e[14]=a.w;break;case 3:e[3]=a.x,e[7]=a.y,e[11]=a.z,e[15]=a.w;break;default:lime_utils_Log.error("Row "+t+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:272,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowFrom"})}},copyRowTo:function(e,t,a){switch(t){case 0:a.x=e[0],a.y=e[4],a.z=e[8],a.w=e[12];break;case 1:a.x=e[1],a.y=e[5],a.z=e[9],a.w=e[13];break;case 2:a.x=e[2],a.y=e[6],a.z=e[10],a.w=e[14];break;case 3:a.x=e[3],a.y=e[7],a.z=e[11],a.w=e[15];break;default:lime_utils_Log.error("Row "+t+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:310,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowTo"})}},create2D:function(e,t,a,n,i,s,_){null==_&&(_=0),null==s&&(s=0),e[0]=t,e[1]=a,e[2]=0,e[3]=0,e[4]=n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=s,e[13]=_,e[14]=0,e[15]=1},createOrtho:function(e,t,a,n,i,s,_){var r=1/(a-t),o=1/(i-n),l=1/(_-s);e[0]=2*r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-2*l,e[11]=0,e[12]=-(t+a)*r,e[13]=-(n+i)*o,e[14]=-(s+_)*l,e[15]=1},deltaTransformVector:function(e,t,a){null==a&&(a=new lime_math_Vector4);var n=t.x,i=t.y,s=t.z;return a.x=n*e[0]+i*e[4]+s*e[8]+e[3],a.y=n*e[1]+i*e[5]+s*e[9]+e[7],a.z=n*e[2]+i*e[6]+s*e[10]+e[11],a},fromMatrix3:function(e){var t=lime_math_Matrix4._new();return lime_math_Matrix4.create2D(t,e.a,e.b,e.c,e.d,e.tx,e.ty),t},identity:function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},interpolate:function(e,t,a,n){null==n&&(n=lime_math_Matrix4._new());for(var i=0;i<16;){var s=i++;lime_math_Matrix4.set(n,s,lime_math_Matrix4.get(e,s)+(lime_math_Matrix4.get(t,s)-lime_math_Matrix4.get(e,s))*a)}return n},interpolateTo:function(e,t,a){for(var n=0;n<16;){var i=n++;e[i]+=(lime_math_Matrix4.get(t,i)-e[i])*a}},invert:function(e){var t=lime_math_Matrix4.get_determinant(e),a=Math.abs(t)>1e-11;if(a){t=1/t;var n=e[0],i=e[4],s=e[8],_=e[12],r=e[1],o=e[5],l=e[9],h=e[13],u=e[2],p=e[6],c=e[10],d=e[14],f=e[3],m=e[7],g=e[11],x=e[15];e[0]=t*(o*(c*x-d*g)-l*(p*x-d*m)+h*(p*g-c*m)),e[1]=-t*(r*(c*x-d*g)-l*(u*x-d*f)+h*(u*g-c*f)),e[2]=t*(r*(p*x-d*m)-o*(u*x-d*f)+h*(u*m-p*f)),e[3]=-t*(r*(p*g-c*m)-o*(u*g-c*f)+l*(u*m-p*f)),e[4]=-t*(i*(c*x-d*g)-s*(p*x-d*m)+_*(p*g-c*m)),e[5]=t*(n*(c*x-d*g)-s*(u*x-d*f)+_*(u*g-c*f)),e[6]=-t*(n*(p*x-d*m)-i*(u*x-d*f)+_*(u*m-p*f)),e[7]=t*(n*(p*g-c*m)-i*(u*g-c*f)+s*(u*m-p*f)),e[8]=t*(i*(l*x-h*g)-s*(o*x-h*m)+_*(o*g-l*m)),e[9]=-t*(n*(l*x-h*g)-s*(r*x-h*f)+_*(r*g-l*f)),e[10]=t*(n*(o*x-h*m)-i*(r*x-h*f)+_*(r*m-o*f)),e[11]=-t*(n*(o*g-l*m)-i*(r*g-l*f)+s*(r*m-o*f)),e[12]=-t*(i*(l*d-h*c)-s*(o*d-h*p)+_*(o*c-l*p)),e[13]=t*(n*(l*d-h*c)-s*(r*d-h*u)+_*(r*c-l*u)),e[14]=-t*(n*(o*d-h*p)-i*(r*d-h*u)+_*(r*p-o*u)),e[15]=t*(n*(o*c-l*p)-i*(r*c-l*u)+s*(r*p-o*u))}return a},pointAt:function(e,t,a,n){null==a&&(a=new lime_math_Vector4(0,0,1)),null==n&&(n=new lime_math_Vector4(0,1,0)),null==(_=null)&&(_=new lime_math_Vector4),_.x=t.x-a.x,_.y=t.y-a.y,_.z=t.z-a.z;var i=_,s=new lime_math_Vector4(n.x,n.y,n.z,n.w);0!=(u=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z))&&(i.x/=u,i.y/=u,i.z/=u),0!=(u=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))&&(s.x/=u,s.y/=u,s.z/=u);var _,r=new lime_math_Vector4(i.x,i.y,i.z,i.w),o=s.x*i.x+s.y*i.y+s.z*i.z;(r.x*=o,r.y*=o,r.z*=o,null==(_=null)&&(_=new lime_math_Vector4),_.x=s.x-r.x,_.y=s.y-r.y,_.z=s.z-r.z,s=_,Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z)>0)?0!=(u=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))&&(s.x/=u,s.y/=u,s.z/=u):s=0!=i.x?new lime_math_Vector4(-i.y,i.x,0):new lime_math_Vector4(1,0,0);null==(_=null)&&(_=new lime_math_Vector4);var l=s.z*i.x-s.x*i.z,h=s.x*i.y-s.y*i.x;_.x=s.y*i.z-s.z*i.y,_.y=l,_.z=h,_.w=1;var u,p=_;0!=(u=Math.sqrt(p.x*p.x+p.y*p.y+p.z*p.z))&&(p.x/=u,p.y/=u,p.z/=u),e[0]=p.x,e[4]=p.y,e[8]=p.z,e[12]=0,e[1]=s.x,e[5]=s.y,e[9]=s.z,e[13]=0,e[2]=i.x,e[6]=i.y,e[10]=i.z,e[14]=0,e[3]=t.x,e[7]=t.y,e[11]=t.z,e[15]=1},prepend:function(e,t){var a=lime_math_Matrix4.get(t,0),n=lime_math_Matrix4.get(t,4),i=lime_math_Matrix4.get(t,8),s=lime_math_Matrix4.get(t,12),_=lime_math_Matrix4.get(t,1),r=lime_math_Matrix4.get(t,5),o=lime_math_Matrix4.get(t,9),l=lime_math_Matrix4.get(t,13),h=lime_math_Matrix4.get(t,2),u=lime_math_Matrix4.get(t,6),p=lime_math_Matrix4.get(t,10),c=lime_math_Matrix4.get(t,14),d=lime_math_Matrix4.get(t,3),f=lime_math_Matrix4.get(t,7),m=lime_math_Matrix4.get(t,11),g=lime_math_Matrix4.get(t,15),x=e[0],k=e[4],y=e[8],b=e[12],v=e[1],P=e[5],w=e[9],T=e[13],C=e[2],S=e[6],A=e[10],E=e[14],D=e[3],M=e[7],R=e[11],L=e[15];e[0]=a*x+_*k+h*y+d*b,e[1]=a*v+_*P+h*w+d*T,e[2]=a*C+_*S+h*A+d*E,e[3]=a*D+_*M+h*R+d*L,e[4]=n*x+r*k+u*y+f*b,e[5]=n*v+r*P+u*w+f*T,e[6]=n*C+r*S+u*A+f*E,e[7]=n*D+r*M+u*R+f*L,e[8]=i*x+o*k+p*y+m*b,e[9]=i*v+o*P+p*w+m*T,e[10]=i*C+o*S+p*A+m*E,e[11]=i*D+o*M+p*R+m*L,e[12]=s*x+l*k+c*y+g*b,e[13]=s*v+l*P+c*w+g*T,e[14]=s*C+l*S+c*A+g*E,e[15]=s*D+l*M+c*R+g*L},prependRotation:function(e,t,a,n){var i=lime_math_Matrix4.__getAxisRotation(e,a.x,a.y,a.z,t);if(null!=n){var s=n;lime_math_Matrix4.appendTranslation(i,s.x,s.y,s.z)}lime_math_Matrix4.prepend(e,i)},prependScale:function(e,t,a,n){var i,s=[t,0,0,0,0,a,0,0,0,0,n,0,0,0,0,1];i=null!=s?new Float32Array(s):null,lime_math_Matrix4.prepend(e,lime_math_Matrix4._new(i))},prependTranslation:function(e,t,a,n){var i=lime_math_Matrix4._new();lime_math_Matrix4.set_position(i,new lime_math_Vector4(t,a,n)),lime_math_Matrix4.prepend(e,i)},transformVector:function(e,t,a){null==a&&(a=new lime_math_Vector4);var n=t.x,i=t.y,s=t.z;return a.x=n*e[0]+i*e[4]+s*e[8]+e[12],a.y=n*e[1]+i*e[5]+s*e[9]+e[13],a.z=n*e[2]+i*e[6]+s*e[10]+e[14],a.w=n*e[3]+i*e[7]+s*e[11]+e[15],a},transformVectors:function(e,t,a){for(var n,i,s,_=0;_+3<=t.length;)n=t[_],i=t[_+1],s=t[_+2],a[_]=n*e[0]+i*e[4]+s*e[8]+e[12],a[_+1]=n*e[1]+i*e[5]+s*e[9]+e[13],a[_+2]=n*e[2]+i*e[6]+s*e[10]+e[14],_+=3},transpose:function(e){var t=e[1];e[1]=e[4],e[4]=t;t=e[2];e[2]=e[8],e[8]=t;t=e[3];e[3]=e[12],e[12]=t;t=e[6];e[6]=e[9],e[9]=t;t=e[7];e[7]=e[13],e[13]=t;t=e[11];e[11]=e[14],e[14]=t},__getAxisRotation:function(e,t,a,n,i){var s=lime_math_Matrix4._new(),_=new lime_math_Vector4(t,a,n),r=-i*(Math.PI/180),o=Math.cos(r),l=Math.sin(r),h=1-o;lime_math_Matrix4.set(s,0,o+_.x*_.x*h),lime_math_Matrix4.set(s,5,o+_.y*_.y*h),lime_math_Matrix4.set(s,10,o+_.z*_.z*h);var u=_.x*_.y*h,p=_.z*l;return lime_math_Matrix4.set(s,4,u+p),lime_math_Matrix4.set(s,1,u-p),u=_.x*_.z*h,p=_.y*l,lime_math_Matrix4.set(s,8,u-p),lime_math_Matrix4.set(s,2,u+p),u=_.y*_.z*h,p=_.x*l,lime_math_Matrix4.set(s,9,u+p),lime_math_Matrix4.set(s,6,u-p),s},__swap:function(e,t,a){var n=e[t];e[t]=e[a],e[a]=n},get_determinant:function(e){return(e[0]*e[5]-e[4]*e[1])*(e[10]*e[15]-e[14]*e[11])-(e[0]*e[9]-e[8]*e[1])*(e[6]*e[15]-e[14]*e[7])+(e[0]*e[13]-e[12]*e[1])*(e[6]*e[11]-e[10]*e[7])+(e[4]*e[9]-e[8]*e[5])*(e[2]*e[15]-e[14]*e[3])-(e[4]*e[13]-e[12]*e[5])*(e[2]*e[11]-e[10]*e[3])+(e[8]*e[13]-e[12]*e[9])*(e[2]*e[7]-e[6]*e[3])},get_position:function(e){return new lime_math_Vector4(e[12],e[13],e[14])},set_position:function(e,t){return e[12]=t.x,e[13]=t.y,e[14]=t.z,t},get:function(e,t){return e[t]},set:function(e,t,a){return e[t]=a,a}},lime_math_RGBA={__properties__:{set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},_new:function(e){return null==e&&(e=0),e},create:function(e,t,a,n){return(255&e)<<24|(255&t)<<16|(255&a)<<8|255&n},multiplyAlpha:function(e){0==(255&e)?0!=e&&(e=0):255!=(255&e)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&e],e=((e>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((e>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((e>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&e)},readUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),n){case 0:e=(255&t[a])<<24|(255&t[a+1])<<16|(255&t[a+2])<<8|255&t[a+3];break;case 1:e=(255&t[a+1])<<24|(255&t[a+2])<<16|(255&t[a+3])<<8|255&t[a];break;case 2:e=(255&t[a+2])<<24|(255&t[a+1])<<16|(255&t[a])<<8|255&t[a+3]}i&&0!=(255&e)&&255!=(255&e)&&(lime_math_RGBA.unmult=255/(255&e),e=(255&lime_math_RGBA.__clamp[Math.round((e>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((e>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((e>>>8&255)*lime_math_RGBA.unmult)])<<8|255&e)},set:function(e,t,a,n,i){(255&t)<<24|(255&a)<<16|(255&n)<<8|255&i},unmultiplyAlpha:function(e){0!=(255&e)&&255!=(255&e)&&(lime_math_RGBA.unmult=255/(255&e),e=(255&lime_math_RGBA.__clamp[Math.round((e>>>24&255)*lime_math_RGBA.unmult)])<<24|(255&lime_math_RGBA.__clamp[Math.round((e>>>16&255)*lime_math_RGBA.unmult)])<<16|(255&lime_math_RGBA.__clamp[Math.round((e>>>8&255)*lime_math_RGBA.unmult)])<<8|255&e)},writeUInt8:function(e,t,a,n,i){switch(null==i&&(i=!1),null==n&&(n=0),i&&(0==(255&e)?0!=e&&(e=0):255!=(255&e)&&(lime_math_RGBA.a16=lime_math_RGBA.__alpha16[255&e],e=((e>>>24&255)*lime_math_RGBA.a16>>16&255)<<24|((e>>>16&255)*lime_math_RGBA.a16>>16&255)<<16|((e>>>8&255)*lime_math_RGBA.a16>>16&255)<<8|255&e)),n){case 0:t[a]=e>>>24&255,t[a+1]=e>>>16&255,t[a+2]=e>>>8&255,t[a+3]=255&e;break;case 1:t[a]=255&e,t[a+1]=e>>>24&255,t[a+2]=e>>>16&255,t[a+3]=e>>>8&255;break;case 2:t[a]=e>>>8&255,t[a+1]=e>>>16&255,t[a+2]=e>>>24&255,t[a+3]=255&e}},__fromARGB:function(e){return(255&e>>>16)<<24|(255&e>>>8)<<16|(255&e)<<8|255&e>>>24},__fromBGRA:function(e){return(255&e>>>8)<<24|(255&e>>>16)<<16|(255&e>>>24)<<8|255&e},get_a:function(e){return 255&e},set_a:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&t,t},get_b:function(e){return e>>>8&255},set_b:function(e,t){return e=(255&e>>>24)<<24|(255&e>>>16)<<16|(255&t)<<8|255&e,t},get_g:function(e){return e>>>16&255},set_g:function(e,t){return e=(255&e>>>24)<<24|(255&t)<<16|(255&e>>>8)<<8|255&e,t},get_r:function(e){return e>>>24&255},set_r:function(e,t){return e=(255&t)<<24|(255&e>>>16)<<16|(255&e>>>8)<<8|255&e,t}},lime_math_Rectangle=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.width=a,this.height=n};$hxClasses["lime.math.Rectangle"]=lime_math_Rectangle,lime_math_Rectangle.__name__="lime.math.Rectangle",lime_math_Rectangle.prototype={clone:function(){return new lime_math_Rectangle(this.x,this.y,this.width,this.height)},contains:function(e,t){return e>=this.x&&t>=this.y&&e<this.get_right()&&t<this.get_bottom()},containsPoint:function(e){return this.containsVector(e)},containsRect:function(e){return e.width<=0||e.height<=0?e.x>this.x&&e.y>this.y&&e.get_right()<this.get_right()&&e.get_bottom()<this.get_bottom():e.x>=this.x&&e.y>=this.y&&e.get_right()<=this.get_right()&&e.get_bottom()<=this.get_bottom()},containsVector:function(e){return this.contains(e.x,e.y)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},equals:function(e){return null!=e&&this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},inflate:function(e,t){this.x-=e,this.width+=2*e,this.y-=t,this.height+=2*t},inflateVector:function(e){this.inflate(e.x,e.y)},intersection:function(e,t){null==t&&(t=new lime_math_Rectangle);var a=this.x<e.x?e.x:this.x,n=this.get_right()>e.get_right()?e.get_right():this.get_right();if(n<=a)return t.setEmpty(),t;var i=this.y<e.y?e.y:this.y,s=this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom();return s<=i?(t.setEmpty(),t):(t.x=a,t.y=i,t.width=n-a,t.height=s-i,t)},intersects:function(e){var t=this.x<e.x?e.x:this.x;if((this.get_right()>e.get_right()?e.get_right():this.get_right())<=t)return!1;var a=this.y<e.y?e.y:this.y;return(this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())>a},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(e,t){this.x+=e,this.y+=t},offsetVector:function(e){this.x+=e.x,this.y+=e.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(e,t,a,n){this.x=e,this.y=t,this.width=a,this.height=n},union:function(e,t){if(null==t&&(t=new lime_math_Rectangle),0==this.width||0==this.height)t.copyFrom(e);else if(0==e.width||0==e.height)t.copyFrom(this);else{var a=this.x>e.x?e.x:this.x,n=this.get_right()<e.get_right()?e.get_right():this.get_right(),i=this.y>e.y?e.y:this.y,s=this.get_bottom()<e.get_bottom()?e.get_bottom():this.get_bottom();t.setTo(a,i,n-a,s-i)}return t},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(e){return this.height=e-this.y,e},get_bottomRight:function(){return new lime_math_Vector2(this.x+this.width,this.y+this.height)},set_bottomRight:function(e){return this.width=e.x-this.x,this.height=e.y-this.y,e.clone()},get_left:function(){return this.x},set_left:function(e){return this.width-=e-this.x,this.x=e,e},get_right:function(){return this.x+this.width},set_right:function(e){return this.width=e-this.x,e},get_size:function(){return new lime_math_Vector2(this.width,this.height)},set_size:function(e){return this.width=e.x,this.height=e.y,e.clone()},get_top:function(){return this.y},set_top:function(e){return this.height-=e-this.y,this.y=e,e},get_topLeft:function(){return new lime_math_Vector2(this.x,this.y)},set_topLeft:function(e){return this.x=e.x,this.y=e.y,e.clone()},__class__:lime_math_Rectangle,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var lime_math_Vector2=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};$hxClasses["lime.math.Vector2"]=lime_math_Vector2,lime_math_Vector2.__name__="lime.math.Vector2",lime_math_Vector2.distance=function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)},lime_math_Vector2.interpolate=function(e,t,a,n){return null==n&&(n=new lime_math_Vector2),n.x=t.x+a*(e.x-t.x),n.y=t.y+a*(e.y-t.y),n},lime_math_Vector2.polar=function(e,t,a){null==a&&(a=new lime_math_Vector2);var n=e*Math.sin(t);return a.x=e*Math.cos(t),a.y=n,a},lime_math_Vector2.prototype={add:function(e,t){return null==t&&(t=new lime_math_Vector2),t.x=e.x+this.x,t.y=e.y+this.y,t},clone:function(){return new lime_math_Vector2(this.x,this.y)},equals:function(e){return null!=e&&e.x==this.x&&e.y==this.y},normalize:function(e){if(0!=this.x||0!=this.y){var t=e/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=t,this.y*=t}},offset:function(e,t){this.x+=e,this.y+=t},setTo:function(e,t){this.x=e,this.y=t},subtract:function(e,t){return null==t&&(t=new lime_math_Vector2),t.x=this.x-e.x,t.y=this.y-e.y,t},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y},__class__:lime_math_Vector2,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var lime_math_Vector4=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.w=n,this.x=e,this.y=t,this.z=a};$hxClasses["lime.math.Vector4"]=lime_math_Vector4,lime_math_Vector4.__name__="lime.math.Vector4",lime_math_Vector4.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},lime_math_Vector4.angleBetween=function(e,t){var a=new lime_math_Vector4(e.x,e.y,e.z,e.w);0!=(n=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z))&&(a.x/=n,a.y/=n,a.z/=n);var n,i=new lime_math_Vector4(t.x,t.y,t.z,t.w);return 0!=(n=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z))&&(i.x/=n,i.y/=n,i.z/=n),Math.acos(a.x*i.x+a.y*i.y+a.z*i.z)},lime_math_Vector4.distance=function(e,t){var a=t.x-e.x,n=t.y-e.y,i=t.z-e.z;return Math.sqrt(a*a+n*n+i*i)},lime_math_Vector4.distanceSquared=function(e,t){var a=t.x-e.x,n=t.y-e.y,i=t.z-e.z;return a*a+n*n+i*i},lime_math_Vector4.get_X_AXIS=function(){return new lime_math_Vector4(1,0,0)},lime_math_Vector4.get_Y_AXIS=function(){return new lime_math_Vector4(0,1,0)},lime_math_Vector4.get_Z_AXIS=function(){return new lime_math_Vector4(0,0,1)},lime_math_Vector4.prototype={add:function(e,t){return null==t&&(t=new lime_math_Vector4),t.x=this.x+e.x,t.y=this.y+e.y,t.z=this.z+e.z,t},clone:function(){return new lime_math_Vector4(this.x,this.y,this.z,this.w)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z},crossProduct:function(e,t){null==t&&(t=new lime_math_Vector4);var a=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return t.x=this.y*e.z-this.z*e.y,t.y=a,t.z=n,t.w=1,t},decrementBy:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},dotProduct:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},equals:function(e,t){return null==t&&(t=!1),this.x==e.x&&this.y==e.y&&this.z==e.z&&(!t||this.w==e.w)},incrementBy:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},nearEquals:function(e,t,a){return null==a&&(a=!1),Math.abs(this.x-e.x)<t&&Math.abs(this.y-e.y)<t&&Math.abs(this.z-e.z)<t&&(!a||Math.abs(this.w-e.w)<t)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=e&&(this.x/=e,this.y/=e,this.z/=e),e},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(e){this.x*=e,this.y*=e,this.z*=e},setTo:function(e,t,a){this.x=e,this.y=t,this.z=a},subtract:function(e,t){return null==t&&(t=new lime_math_Vector4),t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z,t},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:lime_math_Vector4,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var lime_media_AudioBuffer=function(){};$hxClasses["lime.media.AudioBuffer"]=lime_media_AudioBuffer,lime_media_AudioBuffer.__name__="lime.media.AudioBuffer",lime_media_AudioBuffer.fromBase64=function(e){if(null==e)return null;-1==e.indexOf(",")&&(e="data:"+lime_media_AudioBuffer.__getCodec(lime__$internal_format_Base64.decode(e))+";base64,"+e);var t=new lime_media_AudioBuffer;return t.set_src(new Howl({src:[e],html5:!0,preload:!1})),t},lime_media_AudioBuffer.fromBytes=function(e){if(null==e)return null;var t=new lime_media_AudioBuffer;return t.set_src(new Howl({src:["data:"+lime_media_AudioBuffer.__getCodec(e)+";base64,"+lime__$internal_format_Base64.encode(e)],html5:!0,preload:!1})),t},lime_media_AudioBuffer.fromFile=function(e){if(null==e)return null;var t=new lime_media_AudioBuffer;return t.__srcHowl=new Howl({src:[e],preload:!1}),t},lime_media_AudioBuffer.fromFiles=function(e){var t=new lime_media_AudioBuffer;return t.__srcHowl=new Howl({src:e,preload:!1}),t},lime_media_AudioBuffer.fromVorbisFile=function(e){return null},lime_media_AudioBuffer.loadFromFile=function(e){var t=new lime_app_Promise,a=lime_media_AudioBuffer.fromFile(e);return null!=a?null!=a&&(a.__srcHowl.on("load",(function(){t.complete(a)})),a.__srcHowl.on("loaderror",(function(e,a){t.error(a)})),a.__srcHowl.load()):t.error(null),t.future},lime_media_AudioBuffer.loadFromFiles=function(e){var t=new lime_app_Promise,a=lime_media_AudioBuffer.fromFiles(e);return null!=a?(a.__srcHowl.on("load",(function(){t.complete(a)})),a.__srcHowl.on("loaderror",(function(){t.error(null)})),a.__srcHowl.load()):t.error(null),t.future},lime_media_AudioBuffer.__getCodec=function(e){switch(e.getString(0,4)){case"OggS":return"audio/ogg";case"RIFF":if("WAVE"==e.getString(8,4))return"audio/wav";var t=e.b[2],a=e.b[1];switch(e.b[0]){case 73:if(68==a&&51==t)return"audio/mp3";break;case 255:switch(a){case 243:case 250:case 251:return"audio/mp3"}}break;case"fLaC":return"audio/flac";default:t=e.b[2],a=e.b[1];switch(e.b[0]){case 73:if(68==a&&51==t)return"audio/mp3";break;case 255:switch(a){case 243:case 250:case 251:return"audio/mp3"}}}return lime_utils_Log.error("Unsupported sound format",{fileName:"lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",methodName:"__getCodec"}),null},lime_media_AudioBuffer.prototype={dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},set_src:function(e){return this.__srcHowl=e},__class__:lime_media_AudioBuffer,__properties__:{set_src:"set_src",get_src:"get_src"}};var lime_media_AudioContext=function(e){if("custom"!=e){if(null==e||"web"==e)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(e){haxe_NativeStackTrace.lastError=e}null==this.web&&"web"!=e&&(this.html5=new lime_media_HTML5AudioContext,this.type="html5")}else this.type="custom"};$hxClasses["lime.media.AudioContext"]=lime_media_AudioContext,lime_media_AudioContext.__name__="lime.media.AudioContext",lime_media_AudioContext.prototype={__class__:lime_media_AudioContext};var lime_media_AudioManager=function(){};$hxClasses["lime.media.AudioManager"]=lime_media_AudioManager,lime_media_AudioManager.__name__="lime.media.AudioManager",lime_media_AudioManager.init=function(e){if(null==lime_media_AudioManager.context){if(null==e&&(lime_media_AudioManager.context=new lime_media_AudioContext,"openal"==(e=lime_media_AudioManager.context).type)){var t=e.openal,a=t.openDevice(),n=t.createContext(a);t.makeContextCurrent(n),t.processContext(n)}lime_media_AudioManager.context=e}},lime_media_AudioManager.resume=function(){if(null!=lime_media_AudioManager.context&&"openal"==lime_media_AudioManager.context.type){var e=lime_media_AudioManager.context.openal,t=e.getCurrentContext();if(null!=t){var a=e.getContextsDevice(t);e.resumeDevice(a),e.processContext(t)}}},lime_media_AudioManager.shutdown=function(){if(null!=lime_media_AudioManager.context&&"openal"==lime_media_AudioManager.context.type){var e=lime_media_AudioManager.context.openal,t=e.getCurrentContext();if(null!=t){var a=e.getContextsDevice(t);e.makeContextCurrent(null),e.destroyContext(t),null!=a&&e.closeDevice(a)}}lime_media_AudioManager.context=null},lime_media_AudioManager.suspend=function(){if(null!=lime_media_AudioManager.context&&"openal"==lime_media_AudioManager.context.type){var e=lime_media_AudioManager.context.openal,t=e.getCurrentContext();if(null!=t){e.suspendContext(t);var a=e.getContextsDevice(t);null!=a&&e.pauseDevice(a)}}};var lime_media_AudioSource=function(e,t,a,n){null==n&&(n=0),null==t&&(t=0),this.onComplete=new lime_app__$Event_$Void_$Void,this.buffer=e,this.offset=t,this.__backend=new lime__$internal_backend_html5_HTML5AudioSource(this),null!=a&&0!=a&&this.set_length(a),this.set_loops(n),null!=e&&this.init()};$hxClasses["lime.media.AudioSource"]=lime_media_AudioSource,lime_media_AudioSource.__name__="lime.media.AudioSource",lime_media_AudioSource.prototype={dispose:function(){this.__backend.dispose()},init:function(){this.__backend.init()},play:function(){this.__backend.play()},pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},get_currentTime:function(){return this.__backend.getCurrentTime()},set_currentTime:function(e){return this.__backend.setCurrentTime(e)},get_gain:function(){return this.__backend.getGain()},set_gain:function(e){return this.__backend.setGain(e)},get_length:function(){return this.__backend.getLength()},set_length:function(e){return this.__backend.setLength(e)},get_loops:function(){return this.__backend.getLoops()},set_loops:function(e){return this.__backend.setLoops(e)},get_position:function(){return this.__backend.getPosition()},set_position:function(e){return this.__backend.setPosition(e)},__class__:lime_media_AudioSource,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var lime_media_FlashAudioContext=function(){};$hxClasses["lime.media.FlashAudioContext"]=lime_media_FlashAudioContext,lime_media_FlashAudioContext.__name__="lime.media.FlashAudioContext",lime_media_FlashAudioContext.prototype={createBuffer:function(e,t){return null},getBytesLoaded:function(e){return 0},getBytesTotal:function(e){return 0},getID3:function(e){return null},getIsBuffering:function(e){return!1},getIsURLInaccessible:function(e){return!1},getLength:function(e){return 0},getURL:function(e){return null},close:function(e){},extract:function(e,t,a,n){return null==n&&(n=-1),0},load:function(e,t,a){},loadCompressedDataFromByteArray:function(e,t,a){},loadPCMFromByteArray:function(e,t,a,n,i,s){null==s&&(s=44100),null==i&&(i=!0)},play:function(e,t,a,n){return null==a&&(a=0),null==t&&(t=0),null},__class__:lime_media_FlashAudioContext};var lime_media_HTML5AudioContext=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};$hxClasses["lime.media.HTML5AudioContext"]=lime_media_HTML5AudioContext,lime_media_HTML5AudioContext.__name__="lime.media.HTML5AudioContext",lime_media_HTML5AudioContext.prototype={canPlayType:function(e,t){return null!=e.__srcAudio?e.__srcAudio.canPlayType(t):null},createBuffer:function(e){var t=new lime_media_AudioBuffer;return t.__srcAudio=new Audio,t.__srcAudio.src=e,t},getAutoplay:function(e){return null!=e.__srcAudio&&e.__srcAudio.autoplay},getBuffered:function(e){return null!=e.__srcAudio?e.__srcAudio.buffered:null},getCurrentSrc:function(e){return null!=e.__srcAudio?e.__srcAudio.currentSrc:null},getCurrentTime:function(e){return null!=e.__srcAudio?e.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(e){return null!=e.__srcAudio?e.__srcAudio.defaultPlaybackRate:1},getDuration:function(e){return null!=e.__srcAudio?e.__srcAudio.duration:0},getEnded:function(e){return null!=e.__srcAudio&&e.__srcAudio.ended},getError:function(e){return null!=e.__srcAudio?e.__srcAudio.error:null},getLoop:function(e){return null!=e.__srcAudio&&e.__srcAudio.loop},getMuted:function(e){return null!=e.__srcAudio&&e.__srcAudio.muted},getNetworkState:function(e){return null!=e.__srcAudio?e.__srcAudio.networkState:0},getPaused:function(e){return null!=e.__srcAudio&&e.__srcAudio.paused},getPlaybackRate:function(e){return null!=e.__srcAudio?e.__srcAudio.playbackRate:1},getPlayed:function(e){return null!=e.__srcAudio?e.__srcAudio.played:null},getPreload:function(e){return null!=e.__srcAudio?e.__srcAudio.preload:null},getReadyState:function(e){return null!=e.__srcAudio?e.__srcAudio.readyState:0},getSeekable:function(e){return null!=e.__srcAudio?e.__srcAudio.seekable:null},getSeeking:function(e){return null!=e.__srcAudio&&e.__srcAudio.seeking},getSrc:function(e){return null!=e.__srcAudio?e.__srcAudio.src:null},getStartTime:function(e){return null!=e.__srcAudio?e.__srcAudio.playbackRate:0},getVolume:function(e){return null!=e.__srcAudio?e.__srcAudio.volume:1},load:function(e){null!=e.__srcAudio&&e.__srcAudio.load()},pause:function(e){null!=e.__srcAudio&&e.__srcAudio.pause()},play:function(e){null!=e.__srcAudio&&e.__srcAudio.play()},setAutoplay:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.autoplay=t)},setCurrentTime:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.currentTime=t)},setDefaultPlaybackRate:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.defaultPlaybackRate=t)},setLoop:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.loop=t)},setMuted:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.muted=t)},setPlaybackRate:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.playbackRate=t)},setPreload:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.preload=t)},setSrc:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.src=t)},setVolume:function(e,t){null!=e.__srcAudio&&(e.__srcAudio.volume=t)},__class__:lime_media_HTML5AudioContext};var lime_media_OpenALAudioContext=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0};$hxClasses["lime.media.OpenALAudioContext"]=lime_media_OpenALAudioContext,lime_media_OpenALAudioContext.__name__="lime.media.OpenALAudioContext",lime_media_OpenALAudioContext.prototype={bufferData:function(e,t,a,n,i){lime_media_openal_AL.bufferData(e,t,a,n,i)},buffer3f:function(e,t,a,n,i){lime_media_openal_AL.buffer3f(e,t,a,n,i)},buffer3i:function(e,t,a,n,i){lime_media_openal_AL.buffer3i(e,t,a,n,i)},bufferf:function(e,t,a){lime_media_openal_AL.bufferf(e,t,a)},bufferfv:function(e,t,a){lime_media_openal_AL.bufferfv(e,t,a)},bufferi:function(e,t,a){lime_media_openal_AL.bufferi(e,t,a)},bufferiv:function(e,t,a){lime_media_openal_AL.bufferiv(e,t,a)},closeDevice:function(e){return lime_media_openal_ALC.closeDevice(e)},createContext:function(e,t){return lime_media_openal_ALC.createContext(e,t)},createBuffer:function(){return lime_media_openal_AL.createBuffer()},createSource:function(){return lime_media_openal_AL.createSource()},deleteBuffer:function(e){lime_media_openal_AL.deleteBuffer(e)},deleteBuffers:function(e){lime_media_openal_AL.deleteBuffers(e)},deleteSource:function(e){lime_media_openal_AL.deleteSource(e)},deleteSources:function(e){lime_media_openal_AL.deleteSources(e)},destroyContext:function(e){null!=e&&lime_media_openal_ALC.destroyContext(e)},disable:function(e){lime_media_openal_AL.disable(e)},distanceModel:function(e){lime_media_openal_AL.distanceModel(e)},dopplerFactor:function(e){lime_media_openal_AL.dopplerFactor(e)},dopplerVelocity:function(e){lime_media_openal_AL.dopplerVelocity(e)},enable:function(e){lime_media_openal_AL.enable(e)},genSource:function(){return this.createSource()},genSources:function(e){return lime_media_openal_AL.genSources(e)},genBuffer:function(){return this.createBuffer()},genBuffers:function(e){return lime_media_openal_AL.genBuffers(e)},getBoolean:function(e){return lime_media_openal_AL.getBoolean(e)},getBooleanv:function(e,t){return null==t&&(t=1),lime_media_openal_AL.getBooleanv(e,t)},getBuffer3f:function(e,t){return lime_media_openal_AL.getBuffer3f(e,t)},getBuffer3i:function(e,t){return lime_media_openal_AL.getBuffer3i(e,t)},getBufferf:function(e,t){return lime_media_openal_AL.getBufferf(e,t)},getBufferfv:function(e,t,a){return null==a&&(a=1),lime_media_openal_AL.getBufferfv(e,t,a)},getBufferi:function(e,t){return lime_media_openal_AL.getBufferi(e,t)},getBufferiv:function(e,t,a){return null==a&&(a=1),lime_media_openal_AL.getBufferiv(e,t,a)},getContextsDevice:function(e){return null==e?null:lime_media_openal_ALC.getContextsDevice(e)},getCurrentContext:function(){return lime_media_openal_ALC.getCurrentContext()},getDouble:function(e){return lime_media_openal_AL.getDouble(e)},getDoublev:function(e,t){return null==t&&(t=1),lime_media_openal_AL.getDoublev(e,t)},getEnumValue:function(e){return lime_media_openal_AL.getEnumValue(e)},getError:function(e){return null==e?lime_media_openal_AL.getError():lime_media_openal_ALC.getError(e)},getErrorString:function(e){return null==e?lime_media_openal_AL.getErrorString():lime_media_openal_ALC.getErrorString(e)},getFloat:function(e){return lime_media_openal_AL.getFloat(e)},getFloatv:function(e,t){return null==t&&(t=1),lime_media_openal_AL.getFloatv(e,t)},getInteger:function(e){return lime_media_openal_AL.getInteger(e)},getIntegerv:function(e,t,a){return null==t&&(t=1),null==a?lime_media_openal_AL.getIntegerv(e,t):lime_media_openal_ALC.getIntegerv(a,e,t)},getListener3f:function(e){return lime_media_openal_AL.getListener3f(e)},getListener3i:function(e){return lime_media_openal_AL.getListener3i(e)},getListenerf:function(e){return lime_media_openal_AL.getListenerf(e)},getListenerfv:function(e,t){return null==t&&(t=1),lime_media_openal_AL.getListenerfv(e,t)},getListeneri:function(e){return lime_media_openal_AL.getListeneri(e)},getListeneriv:function(e,t){return null==t&&(t=1),lime_media_openal_AL.getListeneriv(e,t)},getProcAddress:function(e){return lime_media_openal_AL.getProcAddress(e)},getSource3f:function(e,t){return lime_media_openal_AL.getSource3f(e,t)},getSourcef:function(e,t){return lime_media_openal_AL.getSourcef(e,t)},getSource3i:function(e,t){return lime_media_openal_AL.getSource3i(e,t)},getSourcefv:function(e,t,a){return null==a&&(a=1),lime_media_openal_AL.getSourcefv(e,t)},getSourcei:function(e,t){return lime_media_openal_AL.getSourcei(e,t)},getSourceiv:function(e,t,a){return null==a&&(a=1),lime_media_openal_AL.getSourceiv(e,t,a)},getString:function(e,t){return null==t?lime_media_openal_AL.getString(e):lime_media_openal_ALC.getString(t,e)},isBuffer:function(e){return lime_media_openal_AL.isBuffer(e)},isEnabled:function(e){return lime_media_openal_AL.isEnabled(e)},isExtensionPresent:function(e){return lime_media_openal_AL.isExtensionPresent(e)},isSource:function(e){return lime_media_openal_AL.isSource(e)},listener3f:function(e,t,a,n){lime_media_openal_AL.listener3f(e,t,a,n)},listener3i:function(e,t,a,n){lime_media_openal_AL.listener3i(e,t,a,n)},listenerf:function(e,t){lime_media_openal_AL.listenerf(e,t)},listenerfv:function(e,t){lime_media_openal_AL.listenerfv(e,t)},listeneri:function(e,t){lime_media_openal_AL.listeneri(e,t)},listeneriv:function(e,t){lime_media_openal_AL.listeneriv(e,t)},makeContextCurrent:function(e){return lime_media_openal_ALC.makeContextCurrent(e)},openDevice:function(e){return lime_media_openal_ALC.openDevice(e)},pauseDevice:function(e){lime_media_openal_ALC.pauseDevice(e)},processContext:function(e){lime_media_openal_ALC.processContext(e)},resumeDevice:function(e){lime_media_openal_ALC.resumeDevice(e)},source3f:function(e,t,a,n,i){lime_media_openal_AL.source3f(e,t,a,n,i)},source3i:function(e,t,a,n,i){lime_media_openal_AL.source3i(e,t,a,n,i)},sourcef:function(e,t,a){lime_media_openal_AL.sourcef(e,t,a)},sourcefv:function(e,t,a){lime_media_openal_AL.sourcefv(e,t,a)},sourcei:function(e,t,a){lime_media_openal_AL.sourcei(e,t,a)},sourceiv:function(e,t,a){lime_media_openal_AL.sourceiv(e,t,a)},sourcePlay:function(e){lime_media_openal_AL.sourcePlay(e)},sourcePlayv:function(e){lime_media_openal_AL.sourcePlayv(e)},sourceStop:function(e){lime_media_openal_AL.sourceStop(e)},sourceStopv:function(e){lime_media_openal_AL.sourceStopv(e)},sourceRewind:function(e){lime_media_openal_AL.sourceRewind(e)},sourceRewindv:function(e){lime_media_openal_AL.sourceRewindv(e)},sourcePause:function(e){lime_media_openal_AL.sourcePause(e)},sourcePausev:function(e){lime_media_openal_AL.sourcePausev(e)},sourceQueueBuffer:function(e,t){lime_media_openal_AL.sourceQueueBuffer(e,t)},sourceQueueBuffers:function(e,t,a){lime_media_openal_AL.sourceQueueBuffers(e,t,a)},sourceUnqueueBuffer:function(e){return lime_media_openal_AL.sourceUnqueueBuffer(e)},sourceUnqueueBuffers:function(e,t){return lime_media_openal_AL.sourceUnqueueBuffers(e,t)},speedOfSound:function(e){lime_media_openal_AL.speedOfSound(e)},suspendContext:function(e){lime_media_openal_ALC.suspendContext(e)},__class__:lime_media_OpenALAudioContext};var lime_media_openal_AL=function(){};$hxClasses["lime.media.openal.AL"]=lime_media_openal_AL,lime_media_openal_AL.__name__="lime.media.openal.AL",lime_media_openal_AL.removeDirectFilter=function(e){},lime_media_openal_AL.removeSend=function(e,t){},lime_media_openal_AL.auxf=function(e,t,a){},lime_media_openal_AL.auxfv=function(e,t,a){},lime_media_openal_AL.auxi=function(e,t,a){},lime_media_openal_AL.auxiv=function(e,t,a){},lime_media_openal_AL.bufferData=function(e,t,a,n,i){},lime_media_openal_AL.buffer3f=function(e,t,a,n,i){},lime_media_openal_AL.buffer3i=function(e,t,a,n,i){},lime_media_openal_AL.bufferf=function(e,t,a){},lime_media_openal_AL.bufferfv=function(e,t,a){},lime_media_openal_AL.bufferi=function(e,t,a){},lime_media_openal_AL.bufferiv=function(e,t,a){},lime_media_openal_AL.createAux=function(){return null},lime_media_openal_AL.createBuffer=function(){return null},lime_media_openal_AL.createEffect=function(){return null},lime_media_openal_AL.createFilter=function(){return null},lime_media_openal_AL.createSource=function(){return null},lime_media_openal_AL.deleteBuffer=function(e){},lime_media_openal_AL.deleteBuffers=function(e){},lime_media_openal_AL.deleteSource=function(e){},lime_media_openal_AL.deleteSources=function(e){},lime_media_openal_AL.disable=function(e){},lime_media_openal_AL.distanceModel=function(e){},lime_media_openal_AL.dopplerFactor=function(e){},lime_media_openal_AL.dopplerVelocity=function(e){},lime_media_openal_AL.effectf=function(e,t,a){},lime_media_openal_AL.effectfv=function(e,t,a){},lime_media_openal_AL.effecti=function(e,t,a){},lime_media_openal_AL.effectiv=function(e,t,a){},lime_media_openal_AL.enable=function(e){},lime_media_openal_AL.genSource=function(){return null},lime_media_openal_AL.genSources=function(e){return null},lime_media_openal_AL.genBuffer=function(){return null},lime_media_openal_AL.genBuffers=function(e){return null},lime_media_openal_AL.getBoolean=function(e){return!1},lime_media_openal_AL.getBooleanv=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getBuffer3f=function(e,t){return null},lime_media_openal_AL.getBuffer3i=function(e,t){return null},lime_media_openal_AL.getBufferf=function(e,t){return 0},lime_media_openal_AL.getBufferfv=function(e,t,a){return null==a&&(a=1),null},lime_media_openal_AL.getBufferi=function(e,t){return 0},lime_media_openal_AL.getBufferiv=function(e,t,a){return null==a&&(a=1),null},lime_media_openal_AL.getDouble=function(e){return 0},lime_media_openal_AL.getDoublev=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getEnumValue=function(e){return 0},lime_media_openal_AL.getError=function(){return 0},lime_media_openal_AL.getErrorString=function(){switch(lime_media_openal_AL.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},lime_media_openal_AL.getFilteri=function(e,t){return 0},lime_media_openal_AL.getFloat=function(e){return 0},lime_media_openal_AL.getFloatv=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getInteger=function(e){return 0},lime_media_openal_AL.getIntegerv=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getListener3f=function(e){return null},lime_media_openal_AL.getListener3i=function(e){return null},lime_media_openal_AL.getListenerf=function(e){return 0},lime_media_openal_AL.getListenerfv=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getListeneri=function(e){return 0},lime_media_openal_AL.getListeneriv=function(e,t){return null==t&&(t=1),null},lime_media_openal_AL.getParameter=function(e){return null},lime_media_openal_AL.getProcAddress=function(e){return null},lime_media_openal_AL.getSource3f=function(e,t){return null},lime_media_openal_AL.getSourcef=function(e,t){return 0},lime_media_openal_AL.getSource3i=function(e,t){return null},lime_media_openal_AL.getSourcefv=function(e,t,a){return null==a&&(a=1),null},lime_media_openal_AL.getSourcei=function(e,t){return 0},lime_media_openal_AL.getSourceiv=function(e,t,a){return null==a&&(a=1),null},lime_media_openal_AL.getString=function(e){return null},lime_media_openal_AL.isBuffer=function(e){return!1},lime_media_openal_AL.isEnabled=function(e){return!1},lime_media_openal_AL.isExtensionPresent=function(e){return!1},lime_media_openal_AL.isAux=function(e){return!1},lime_media_openal_AL.isEffect=function(e){return!1},lime_media_openal_AL.isFilter=function(e){return!1},lime_media_openal_AL.isSource=function(e){return!1},lime_media_openal_AL.listener3f=function(e,t,a,n){},lime_media_openal_AL.listener3i=function(e,t,a,n){},lime_media_openal_AL.listenerf=function(e,t){},lime_media_openal_AL.listenerfv=function(e,t){},lime_media_openal_AL.listeneri=function(e,t){},lime_media_openal_AL.listeneriv=function(e,t){},lime_media_openal_AL.source3f=function(e,t,a,n,i){},lime_media_openal_AL.source3i=function(e,t,a,n,i){},lime_media_openal_AL.sourcef=function(e,t,a){},lime_media_openal_AL.sourcefv=function(e,t,a){},lime_media_openal_AL.sourcei=function(e,t,a){},lime_media_openal_AL.filteri=function(e,t,a){},lime_media_openal_AL.filterf=function(e,t,a){},lime_media_openal_AL.sourceiv=function(e,t,a){},lime_media_openal_AL.sourcePlay=function(e){},lime_media_openal_AL.sourcePlayv=function(e){},lime_media_openal_AL.sourceStop=function(e){},lime_media_openal_AL.sourceStopv=function(e){},lime_media_openal_AL.sourceRewind=function(e){},lime_media_openal_AL.sourceRewindv=function(e){},lime_media_openal_AL.sourcePause=function(e){},lime_media_openal_AL.sourcePausev=function(e){},lime_media_openal_AL.sourceQueueBuffer=function(e,t){},lime_media_openal_AL.sourceQueueBuffers=function(e,t,a){},lime_media_openal_AL.sourceUnqueueBuffer=function(e){return 0},lime_media_openal_AL.sourceUnqueueBuffers=function(e,t){return null},lime_media_openal_AL.speedOfSound=function(e){};var lime_media_openal_ALAuxiliaryEffectSlot={_new:function(e){return e}},lime_media_openal_ALBuffer={_new:function(e){return e}},lime_media_openal_ALC=function(){};$hxClasses["lime.media.openal.ALC"]=lime_media_openal_ALC,lime_media_openal_ALC.__name__="lime.media.openal.ALC",lime_media_openal_ALC.closeDevice=function(e){return!1},lime_media_openal_ALC.createContext=function(e,t){return null},lime_media_openal_ALC.destroyContext=function(e){},lime_media_openal_ALC.getContextsDevice=function(e){return null},lime_media_openal_ALC.getCurrentContext=function(){return null},lime_media_openal_ALC.getError=function(e){return 0},lime_media_openal_ALC.getErrorString=function(e){switch(lime_media_openal_ALC.getError(e)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},lime_media_openal_ALC.getIntegerv=function(e,t,a){return null},lime_media_openal_ALC.getString=function(e,t){return null},lime_media_openal_ALC.makeContextCurrent=function(e){return!1},lime_media_openal_ALC.openDevice=function(e){return null},lime_media_openal_ALC.pauseDevice=function(e){},lime_media_openal_ALC.processContext=function(e){},lime_media_openal_ALC.resumeDevice=function(e){},lime_media_openal_ALC.suspendContext=function(e){};var lime_media_openal_ALContext={_new:function(e){return e}},lime_media_openal_ALDevice={_new:function(e){return e}},lime_media_openal_ALEffect={_new:function(e){return e}},lime_media_openal_ALFilter={_new:function(e){return e}},lime_media_openal_ALSource={_new:function(e){return e}},lime_media_vorbis_VorbisComment=function(){};$hxClasses["lime.media.vorbis.VorbisComment"]=lime_media_vorbis_VorbisComment,lime_media_vorbis_VorbisComment.__name__="lime.media.vorbis.VorbisComment",lime_media_vorbis_VorbisComment.prototype={__class__:lime_media_vorbis_VorbisComment};var lime_media_vorbis_VorbisFile=function(e){this.handle=e};$hxClasses["lime.media.vorbis.VorbisFile"]=lime_media_vorbis_VorbisFile,lime_media_vorbis_VorbisFile.__name__="lime.media.vorbis.VorbisFile",lime_media_vorbis_VorbisFile.fromBytes=function(e){return null},lime_media_vorbis_VorbisFile.fromFile=function(e){return null},lime_media_vorbis_VorbisFile.prototype={bitrate:function(e){return null==e&&(e=-1),0},bitrateInstant:function(){return 0},clear:function(){},comment:function(e){return null==e&&(e=-1),null},crosslap:function(e){return 0},info:function(e){return null==e&&(e=-1),null},pcmSeek:function(e){return 0},pcmSeekLap:function(e){return 0},pcmSeekPage:function(e){return 0},pcmSeekPageLap:function(e){return 0},pcmTell:function(){return new haxe__$Int64__$_$_$Int64(0,0)},pcmTotal:function(e){return null==e&&(e=-1),new haxe__$Int64__$_$_$Int64(0,0)},rawSeek:function(e){return 0},rawSeekLap:function(e){return 0},rawTell:function(){return new haxe__$Int64__$_$_$Int64(0,0)},rawTotal:function(e){return null==e&&(e=-1),new haxe__$Int64__$_$_$Int64(0,0)},read:function(e,t,a,n,i,s){return null==s&&(s=!0),null==i&&(i=2),null==n&&(n=!1),null==a&&(a=4096),0},readFloat:function(e,t){return 0},seekable:function(){return!1},serialNumber:function(e){return null==e&&(e=-1),0},streams:function(){return 0},timeSeek:function(e){return 0},timeSeekLap:function(e){return 0},timeSeekPage:function(e){return 0},timeSeekPageLap:function(e){return 0},timeTell:function(){return 0},timeTotal:function(e){return null==e&&(e=-1),0},__class__:lime_media_vorbis_VorbisFile};var lime_media_vorbis_VorbisInfo=function(){};$hxClasses["lime.media.vorbis.VorbisInfo"]=lime_media_vorbis_VorbisInfo,lime_media_vorbis_VorbisInfo.__name__="lime.media.vorbis.VorbisInfo",lime_media_vorbis_VorbisInfo.prototype={__class__:lime_media_vorbis_VorbisInfo};var lime_net__$IHTTPRequest=function(){};$hxClasses["lime.net._IHTTPRequest"]=lime_net__$IHTTPRequest,lime_net__$IHTTPRequest.__name__="lime.net._IHTTPRequest",lime_net__$IHTTPRequest.__isInterface__=!0,lime_net__$IHTTPRequest.prototype={__class__:lime_net__$IHTTPRequest};var lime_net__$HTTPRequest_AbstractHTTPRequest=function(e){this.uri=e,this.contentType="application/x-www-form-urlencoded",this.followRedirects=!0,this.enableResponseHeaders=!1,this.formData=new haxe_ds_StringMap,this.headers=[],this.method="GET",this.timeout=3e4,this.withCredentials=!1,this.__backend=new lime__$internal_backend_html5_HTML5HTTPRequest,this.__backend.init(this)};$hxClasses["lime.net._HTTPRequest.AbstractHTTPRequest"]=lime_net__$HTTPRequest_AbstractHTTPRequest,lime_net__$HTTPRequest_AbstractHTTPRequest.__name__="lime.net._HTTPRequest.AbstractHTTPRequest",lime_net__$HTTPRequest_AbstractHTTPRequest.__interfaces__=[lime_net__$IHTTPRequest],lime_net__$HTTPRequest_AbstractHTTPRequest.prototype={cancel:function(){this.__backend.cancel()},load:function(e){return null},__class__:lime_net__$HTTPRequest_AbstractHTTPRequest};var lime_net_HTTPRequest=function(e){lime_net__$HTTPRequest_AbstractHTTPRequest.call(this,e)};$hxClasses["lime.net.HTTPRequest"]=lime_net_HTTPRequest,lime_net_HTTPRequest.__name__="lime.net.HTTPRequest",lime_net_HTTPRequest.__super__=lime_net__$HTTPRequest_AbstractHTTPRequest,lime_net_HTTPRequest.prototype=$extend(lime_net__$HTTPRequest_AbstractHTTPRequest.prototype,{__class__:lime_net_HTTPRequest});var lime_net__$HTTPRequest_$Bytes=function(e){lime_net__$HTTPRequest_AbstractHTTPRequest.call(this,e)};$hxClasses["lime.net._HTTPRequest_Bytes"]=lime_net__$HTTPRequest_$Bytes,lime_net__$HTTPRequest_$Bytes.__name__="lime.net._HTTPRequest_Bytes",lime_net__$HTTPRequest_$Bytes.__super__=lime_net__$HTTPRequest_AbstractHTTPRequest,lime_net__$HTTPRequest_$Bytes.prototype=$extend(lime_net__$HTTPRequest_AbstractHTTPRequest.prototype,{fromBytes:function(e){return e},load:function(e){var t=this;null!=e&&(this.uri=e);var a=new lime_app_Promise,n=this.__backend.loadData(this.uri);return n.onProgress($bind(a,a.progress)),n.onError($bind(a,a.error)),n.onComplete((function(e){t.responseData=t.fromBytes(e),a.complete(t.responseData)})),a.future},__class__:lime_net__$HTTPRequest_$Bytes});var lime_net__$HTTPRequest_$String=function(e){lime_net__$HTTPRequest_AbstractHTTPRequest.call(this,e)};$hxClasses["lime.net._HTTPRequest_String"]=lime_net__$HTTPRequest_$String,lime_net__$HTTPRequest_$String.__name__="lime.net._HTTPRequest_String",lime_net__$HTTPRequest_$String.__super__=lime_net__$HTTPRequest_AbstractHTTPRequest,lime_net__$HTTPRequest_$String.prototype=$extend(lime_net__$HTTPRequest_AbstractHTTPRequest.prototype,{load:function(e){var t=this;null!=e&&(this.uri=e);var a=new lime_app_Promise,n=this.__backend.loadText(this.uri);return n.onProgress($bind(a,a.progress)),n.onError($bind(a,a.error)),n.onComplete((function(e){t.responseData=e,a.complete(t.responseData)})),a.future},__class__:lime_net__$HTTPRequest_$String});var lime_net_HTTPRequestHeader=function(e,t){null==t&&(t=""),this.name=e,this.value=t};$hxClasses["lime.net.HTTPRequestHeader"]=lime_net_HTTPRequestHeader,lime_net_HTTPRequestHeader.__name__="lime.net.HTTPRequestHeader",lime_net_HTTPRequestHeader.prototype={__class__:lime_net_HTTPRequestHeader};var lime_net__$HTTPRequest_$lime_$text_$Font=function(e){lime_net__$HTTPRequest_$Bytes.call(this,e)};$hxClasses["lime.net._HTTPRequest_lime_text_Font"]=lime_net__$HTTPRequest_$lime_$text_$Font,lime_net__$HTTPRequest_$lime_$text_$Font.__name__="lime.net._HTTPRequest_lime_text_Font",lime_net__$HTTPRequest_$lime_$text_$Font.__super__=lime_net__$HTTPRequest_$Bytes,lime_net__$HTTPRequest_$lime_$text_$Font.prototype=$extend(lime_net__$HTTPRequest_$Bytes.prototype,{fromBytes:function(e){return lime_text_Font.fromBytes(e)},__class__:lime_net__$HTTPRequest_$lime_$text_$Font});var lime_net__$HTTPRequest_$lime_$utils_$Bytes=function(e){lime_net__$HTTPRequest_$Bytes.call(this,e)};$hxClasses["lime.net._HTTPRequest_lime_utils_Bytes"]=lime_net__$HTTPRequest_$lime_$utils_$Bytes,lime_net__$HTTPRequest_$lime_$utils_$Bytes.__name__="lime.net._HTTPRequest_lime_utils_Bytes",lime_net__$HTTPRequest_$lime_$utils_$Bytes.__super__=lime_net__$HTTPRequest_$Bytes,lime_net__$HTTPRequest_$lime_$utils_$Bytes.prototype=$extend(lime_net__$HTTPRequest_$Bytes.prototype,{fromBytes:function(e){return lime_utils_Bytes.fromBytes(e)},__class__:lime_net__$HTTPRequest_$lime_$utils_$Bytes});var lime_net__$HTTPRequest_$openfl_$utils_$ByteArray=function(e){lime_net__$HTTPRequest_$Bytes.call(this,e)};$hxClasses["lime.net._HTTPRequest_openfl_utils_ByteArray"]=lime_net__$HTTPRequest_$openfl_$utils_$ByteArray,lime_net__$HTTPRequest_$openfl_$utils_$ByteArray.__name__="lime.net._HTTPRequest_openfl_utils_ByteArray",lime_net__$HTTPRequest_$openfl_$utils_$ByteArray.__super__=lime_net__$HTTPRequest_$Bytes,lime_net__$HTTPRequest_$openfl_$utils_$ByteArray.prototype=$extend(lime_net__$HTTPRequest_$Bytes.prototype,{fromBytes:function(e){return openfl_utils_ByteArray.fromBytes(e)},__class__:lime_net__$HTTPRequest_$openfl_$utils_$ByteArray});var lime_system_CFFI=function(){};$hxClasses["lime.system.CFFI"]=lime_system_CFFI,lime_system_CFFI.__name__="lime.system.CFFI",lime_system_CFFI.load=function(e,t,a,n){if(null==n&&(n=!1),null==a&&(a=0),!lime_system_CFFI.enabled)return Reflect.makeVarArgs((function(e){return{}}));return null},lime_system_CFFI.__findHaxelib=function(e){return""},lime_system_CFFI.__loaderTrace=function(e){},lime_system_CFFI.__sysName=function(){return null},lime_system_CFFI.__tryLoad=function(e,t,a,n){return null};var lime_system_CFFIPointer={_new:function(e){return e},get:function(e){return 0},equals:function(e,t){return lime_system_CFFIPointer.get(e)==t},equalsPointer:function(e,t){return lime_system_CFFIPointer.get(e)==lime_system_CFFIPointer.get(t)},greaterThan:function(e,t){return lime_system_CFFIPointer.get(e)>t},greaterThanPointer:function(e,t){return lime_system_CFFIPointer.get(e)>lime_system_CFFIPointer.get(t)},greaterThanOrEqual:function(e,t){return lime_system_CFFIPointer.get(e)>=t},greaterThanOrEqualPointer:function(e,t){return lime_system_CFFIPointer.get(e)>=lime_system_CFFIPointer.get(t)},lessThan:function(e,t){return lime_system_CFFIPointer.get(e)<t},lessThanPointer:function(e,t){return lime_system_CFFIPointer.get(e)<lime_system_CFFIPointer.get(t)},lessThanOrEqual:function(e,t){return lime_system_CFFIPointer.get(e)<=t},lessThanOrEqualPointer:function(e,t){return lime_system_CFFIPointer.get(e)<=lime_system_CFFIPointer.get(t)},notEquals:function(e,t){return lime_system_CFFIPointer.get(e)!=t},notEqualsPointer:function(e,t){return lime_system_CFFIPointer.get(e)!=lime_system_CFFIPointer.get(t)}},lime_system_Clipboard=function(){};$hxClasses["lime.system.Clipboard"]=lime_system_Clipboard,lime_system_Clipboard.__name__="lime.system.Clipboard",lime_system_Clipboard.__properties__={set_text:"set_text",get_text:"get_text"},lime_system_Clipboard.__update=function(){var e=lime_system_Clipboard._text;lime_system_Clipboard._text=null,lime_system_Clipboard._text!=e&&lime_system_Clipboard.onUpdate.dispatch()},lime_system_Clipboard.get_text=function(){return lime_system_Clipboard.__update(),lime_system_Clipboard._text},lime_system_Clipboard.set_text=function(e){var t=lime_system_Clipboard._text;lime_system_Clipboard._text=e;var a=lime_app_Application.current.__window;return null!=a&&a.__backend.setClipboard(e),lime_system_Clipboard._text!=t&&lime_system_Clipboard.onUpdate.dispatch(),e};var lime_system_Display=function(){};$hxClasses["lime.system.Display"]=lime_system_Display,lime_system_Display.__name__="lime.system.Display",lime_system_Display.prototype={__class__:lime_system_Display};var lime_system_DisplayMode=function(e,t,a,n){this.width=e,this.height=t,this.refreshRate=a,this.pixelFormat=n};$hxClasses["lime.system.DisplayMode"]=lime_system_DisplayMode,lime_system_DisplayMode.__name__="lime.system.DisplayMode",lime_system_DisplayMode.prototype={__class__:lime_system_DisplayMode};var lime_system_Endian=$hxEnums["lime.system.Endian"]={__ename__:"lime.system.Endian",__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"],LITTLE_ENDIAN:{_hx_index:0,__enum__:"lime.system.Endian",toString:$estr},BIG_ENDIAN:{_hx_index:1,__enum__:"lime.system.Endian",toString:$estr}},lime_system_JNI=function(){};$hxClasses["lime.system.JNI"]=lime_system_JNI,lime_system_JNI.__name__="lime.system.JNI",lime_system_JNI.callMember=function(e,t,a){switch(a.length){case 0:return e(t);case 1:return e(t,a[0]);case 2:return e(t,a[0],a[1]);case 3:return e(t,a[0],a[1],a[2]);case 4:return e(t,a[0],a[1],a[2],a[3]);case 5:return e(t,a[0],a[1],a[2],a[3],a[4]);case 6:return e(t,a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return e(t,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);default:return null}},lime_system_JNI.callStatic=function(e,t){switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);case 4:return e(t[0],t[1],t[2],t[3]);case 5:return e(t[0],t[1],t[2],t[3],t[4]);case 6:return e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);default:return null}},lime_system_JNI.createMemberField=function(e,t,a){return lime_system_JNI.init(),null},lime_system_JNI.createMemberMethod=function(e,t,a,n,i){return null==i&&(i=!1),null==n&&(n=!1),lime_system_JNI.init(),null},lime_system_JNI.createStaticField=function(e,t,a){return lime_system_JNI.init(),null},lime_system_JNI.createStaticMethod=function(e,t,a,n,i){return null==i&&(i=!1),null==n&&(n=!1),lime_system_JNI.init(),null},lime_system_JNI.getEnv=function(){return lime_system_JNI.init(),null},lime_system_JNI.init=function(){lime_system_JNI.initialized||(lime_system_JNI.initialized=!0)},lime_system_JNI.onCallback=function(e,t,a){var n=Reflect.field(e,t);return null!=n?(null==a&&(a=[]),n.apply(e,a)):(haxe_Log.trace("onCallback - unknown field "+t,{fileName:"lime/system/JNI.hx",lineNumber:173,className:"lime.system.JNI",methodName:"onCallback"}),null)},lime_system_JNI.postUICallback=function(e){e()};var lime_system_JNIMemberField=function(e){this.field=e};$hxClasses["lime.system.JNIMemberField"]=lime_system_JNIMemberField,lime_system_JNIMemberField.__name__="lime.system.JNIMemberField",lime_system_JNIMemberField.prototype={get:function(e){return null},set:function(e,t){return t},__class__:lime_system_JNIMemberField};var lime_system_JNIStaticField=function(e){this.field=e};$hxClasses["lime.system.JNIStaticField"]=lime_system_JNIStaticField,lime_system_JNIStaticField.__name__="lime.system.JNIStaticField",lime_system_JNIStaticField.prototype={get:function(){return null},set:function(e){return e},__class__:lime_system_JNIStaticField};var lime_system_JNIMethod=function(e){this.method=e};$hxClasses["lime.system.JNIMethod"]=lime_system_JNIMethod,lime_system_JNIMethod.__name__="lime.system.JNIMethod",lime_system_JNIMethod.prototype={callMember:function(e){return null},callStatic:function(e){return null},getMemberMethod:function(e){return e?$bind(this,this.callMember):Reflect.makeVarArgs($bind(this,this.callMember))},getStaticMethod:function(e){return e?$bind(this,this.callStatic):Reflect.makeVarArgs($bind(this,this.callStatic))},__class__:lime_system_JNIMethod};var lime_system_Sensor=function(e,t){this.onUpdate=new lime_app__$Event_$Float_$Float_$Float_$Void,this.type=e,this.id=t};$hxClasses["lime.system.Sensor"]=lime_system_Sensor,lime_system_Sensor.__name__="lime.system.Sensor",lime_system_Sensor.getSensors=function(e){if(null==e)return lime_system_Sensor.sensors.slice();for(var t=[],a=0,n=lime_system_Sensor.sensors;a<n.length;){var i=n[a];++a,i.type==e&&t.push(i)}return t},lime_system_Sensor.registerSensor=function(e,t){var a=new lime_system_Sensor(e,t);return lime_system_Sensor.sensors.push(a),lime_system_Sensor.sensorByID.h[t]=a,a},lime_system_Sensor.prototype={__class__:lime_system_Sensor};var lime_system_SensorType=$hxEnums["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:["ACCELEROMETER"],ACCELEROMETER:{_hx_index:0,__enum__:"lime.system.SensorType",toString:$estr}},lime_system_System=function(){};$hxClasses["lime.system.System"]=lime_system_System,lime_system_System.__name__="lime.system.System",lime_system_System.__properties__={get_userDirectory:"get_userDirectory",get_platformVersion:"get_platformVersion",get_platformName:"get_platformName",get_platformLabel:"get_platformLabel",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_deviceVendor:"get_deviceVendor",get_deviceModel:"get_deviceModel",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},lime_system_System.embed=$hx_exports.lime.embed=function(e,t,a,n,i){if(null!=lime_system_System.__applicationEntryPoint&&Object.prototype.hasOwnProperty.call(lime_system_System.__applicationEntryPoint.h,e)){var s=null;if(null==(s="string"==typeof t?window.document.getElementById(t):null==t?window.document.createElement("div"):t))return void window.console.log("[lime.embed] ERROR: Cannot find target element: "+Std.string(t));if(null==a&&(a=0),null==n&&(n=0),null==i&&(i={}),Object.prototype.hasOwnProperty.call(i,"background")&&"string"==typeof i.background){var _=StringTools.replace(Std.string(i.background),"#","");_.indexOf("0x")>-1?i.background=Std.parseInt(_):i.background=Std.parseInt("0x"+_)}i.element=s,i.width=a,i.height=n,lime_system_System.__applicationEntryPoint.h[e](i)}},lime_system_System.exit=function(e){},lime_system_System.getDisplay=function(e){if(0==e){var t=new lime_system_Display;return t.id=0,t.name="Generic Display",t.dpi=96*window.devicePixelRatio,t.currentMode=new lime_system_DisplayMode(window.screen.width,window.screen.height,60,1),t.supportedModes=[t.currentMode],t.bounds=new lime_math_Rectangle(0,0,t.currentMode.width,t.currentMode.height),t}return null},lime_system_System.getTimer=function(){return 0|window.performance.now()},lime_system_System.load=function(e,t,a,n){return null==n&&(n=!1),null==a&&(a=0),lime_system_CFFI.load(e,t,a,n)},lime_system_System.openFile=function(e){null!=e&&window.open(e,"_blank")},lime_system_System.openURL=function(e,t){null==t&&(t="_blank"),null!=e&&window.open(e,t)},lime_system_System.__copyMissingFields=function(e,t){if(null!=t&&null!=e)for(var a=0,n=Reflect.fields(t);a<n.length;){var i=n[a];++a,Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Reflect.field(t,i))}},lime_system_System.__getDirectory=function(e){return null},lime_system_System.__parseBool=function(e){return"true"==e},lime_system_System.__registerEntryPoint=function(e,t){null==lime_system_System.__applicationEntryPoint&&(lime_system_System.__applicationEntryPoint=new haxe_ds_StringMap),lime_system_System.__applicationEntryPoint.h[e]=t},lime_system_System.__runProcess=function(e,t){return null},lime_system_System.get_allowScreenTimeout=function(){return!0},lime_system_System.set_allowScreenTimeout=function(e){return!0},lime_system_System.get_applicationDirectory=function(){return null==lime_system_System.__applicationDirectory&&(lime_system_System.__applicationDirectory=lime_system_System.__getDirectory(0)),lime_system_System.__applicationDirectory},lime_system_System.get_applicationStorageDirectory=function(){return null==lime_system_System.__applicationStorageDirectory&&(lime_system_System.__applicationStorageDirectory=lime_system_System.__getDirectory(1)),lime_system_System.__applicationStorageDirectory},lime_system_System.get_deviceModel=function(){lime_system_System.__deviceModel;return lime_system_System.__deviceModel},lime_system_System.get_deviceVendor=function(){lime_system_System.__deviceVendor;return lime_system_System.__deviceVendor},lime_system_System.get_desktopDirectory=function(){return null==lime_system_System.__desktopDirectory&&(lime_system_System.__desktopDirectory=lime_system_System.__getDirectory(2)),lime_system_System.__desktopDirectory},lime_system_System.get_documentsDirectory=function(){return null==lime_system_System.__documentsDirectory&&(lime_system_System.__documentsDirectory=lime_system_System.__getDirectory(3)),lime_system_System.__documentsDirectory},lime_system_System.get_endianness=function(){if(null==lime_system_System.__endianness){var e,t=new ArrayBuffer(2),a=null,n=null,i=null,s=null,_=null!=(e=null)?new Uint8Array(e):null!=a?new Uint8Array(a):null!=n?new Uint8Array(n.__array):null!=i?new Uint8Array(i):null!=t?null==s?new Uint8Array(t,0):new Uint8Array(t,0,s):null,r=(a=null,n=null,i=null,s=null,null!=(e=null)?new Uint16Array(e):null!=a?new Uint16Array(a):null!=n?new Uint16Array(n.__array):null!=i?new Uint16Array(i):null!=t?null==s?new Uint16Array(t,0):new Uint16Array(t,0,s):null);_[0]=170,_[1]=187,43707==r[0]?lime_system_System.__endianness=lime_system_Endian.BIG_ENDIAN:lime_system_System.__endianness=lime_system_Endian.LITTLE_ENDIAN}return lime_system_System.__endianness},lime_system_System.get_fontsDirectory=function(){return null==lime_system_System.__fontsDirectory&&(lime_system_System.__fontsDirectory=lime_system_System.__getDirectory(4)),lime_system_System.__fontsDirectory},lime_system_System.get_numDisplays=function(){return 1},lime_system_System.get_platformLabel=function(){if(null==lime_system_System.__platformLabel){var e=lime_system_System.get_platformName(),t=lime_system_System.get_platformVersion();null!=e&&null!=t?lime_system_System.__platformLabel=e+" "+t:null!=e&&(lime_system_System.__platformLabel=e)}return lime_system_System.__platformLabel},lime_system_System.get_platformName=function(){return null==lime_system_System.__platformName&&(lime_system_System.__platformName="HTML5"),lime_system_System.__platformName},lime_system_System.get_platformVersion=function(){lime_system_System.__platformVersion;return lime_system_System.__platformVersion},lime_system_System.get_userDirectory=function(){return null==lime_system_System.__userDirectory&&(lime_system_System.__userDirectory=lime_system_System.__getDirectory(5)),lime_system_System.__userDirectory};var lime_system_ThreadPool=function(e,t){null==t&&(t=1),null==e&&(e=0),this.onRun=new lime_app__$Event_$Dynamic_$Void,this.onProgress=new lime_app__$Event_$Dynamic_$Void,this.onError=new lime_app__$Event_$Dynamic_$Void,this.onComplete=new lime_app__$Event_$Dynamic_$Void,this.doWork=new lime_app__$Event_$Dynamic_$Void,this.minThreads=e,this.maxThreads=t,this.currentThreads=0};$hxClasses["lime.system.ThreadPool"]=lime_system_ThreadPool,lime_system_ThreadPool.__name__="lime.system.ThreadPool",lime_system_ThreadPool.prototype={queue:function(e){this.runWork(e)},sendComplete:function(e){this.onComplete.dispatch(e)},sendError:function(e){this.onError.dispatch(e)},sendProgress:function(e){this.onProgress.dispatch(e)},runWork:function(e){this.onRun.dispatch(e),this.doWork.dispatch(e)},__class__:lime_system_ThreadPool};var lime_system__$ThreadPool_ThreadPoolMessageType=$hxEnums["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:"lime.system._ThreadPool.ThreadPoolMessageType",__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"],COMPLETE:{_hx_index:0,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:$estr},ERROR:{_hx_index:1,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:$estr},EXIT:{_hx_index:2,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:$estr},PROGRESS:{_hx_index:3,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:$estr},WORK:{_hx_index:4,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:$estr}},lime_system__$ThreadPool_ThreadPoolMessage=function(e,t){this.type=e,this.state=t};$hxClasses["lime.system._ThreadPool.ThreadPoolMessage"]=lime_system__$ThreadPool_ThreadPoolMessage,lime_system__$ThreadPool_ThreadPoolMessage.__name__="lime.system._ThreadPool.ThreadPoolMessage",lime_system__$ThreadPool_ThreadPoolMessage.prototype={__class__:lime_system__$ThreadPool_ThreadPoolMessage};var lime_text_Glyph={_new:function(e){return e}},lime_text_GlyphMetrics=function(){};$hxClasses["lime.text.GlyphMetrics"]=lime_text_GlyphMetrics,lime_text_GlyphMetrics.__name__="lime.text.GlyphMetrics",lime_text_GlyphMetrics.prototype={__class__:lime_text_GlyphMetrics};var lime_text_harfbuzz_HB=function(){};$hxClasses["lime.text.harfbuzz.HB"]=lime_text_harfbuzz_HB,lime_text_harfbuzz_HB.__name__="lime.text.harfbuzz.HB",lime_text_harfbuzz_HB.shape=function(e,t,a){};var lime_text_harfbuzz_HBBlob={__properties__:{get_length:"get_length",get_immutable:"get_immutable",get_dataWritable:"get_dataWritable",get_data:"get_data",get_empty:"get_empty"},_new:function(e,t,a){return null},createSubBlob:function(e,t,a){return null},makeImmutable:function(e){},get_data:function(e){return 0},get_dataWritable:function(e){return 0},get_empty:function(){return null},get_immutable:function(e){return!1},get_length:function(e){return 0}},lime_text_harfbuzz_HBBuffer={__properties__:{set_segmentProperties:"set_segmentProperties",get_segmentProperties:"get_segmentProperties",set_script:"set_script",get_script:"get_script",set_replacementCodepoint:"set_replacementCodepoint",get_replacementCodepoint:"get_replacementCodepoint",set_length:"set_length",get_length:"get_length",set_language:"set_language",get_language:"get_language",set_flags:"set_flags",get_flags:"get_flags",set_direction:"set_direction",get_direction:"get_direction",set_contentType:"set_contentType",get_contentType:"get_contentType",set_clusterLevel:"set_clusterLevel",get_clusterLevel:"get_clusterLevel",get_allocationSuccessful:"get_allocationSuccessful"},_new:function(){return null},add:function(e,t,a){},addCodepoints:function(e,t,a,n,i){},addUTF8:function(e,t,a,n){},addUTF16:function(e,t,a,n,i){},addUTF32:function(e,t,a,n,i){},clearContents:function(e){},getGlyphInfo:function(e){return null},getGlyphPositions:function(e){return null},guessSegmentProperties:function(e){},normalizeGlyphs:function(e){},preallocate:function(e,t){return!1},reset:function(e){},reverse:function(e){},reverseClusters:function(e){},get_allocationSuccessful:function(e){return!1},get_clusterLevel:function(e){return 0},set_clusterLevel:function(e,t){return t},get_contentType:function(e){return 0},set_contentType:function(e,t){return t},get_direction:function(e){return 0},set_direction:function(e,t){return t},get_empty:function(){return null},get_flags:function(e){return 0},set_flags:function(e,t){return t},get_language:function(e){return null},set_language:function(e,t){return t},get_length:function(e){return 0},set_length:function(e,t){return t},get_replacementCodepoint:function(e){return 0},set_replacementCodepoint:function(e,t){return t},get_script:function(e){return 0},set_script:function(e,t){return t},get_segmentProperties:function(e){return null},set_segmentProperties:function(e,t){return t}},lime_text_harfbuzz_HBFTFont={__properties__:{set_loadFlags:"set_loadFlags",get_loadFlags:"get_loadFlags"},_new:function(e){return e.src,null},get_loadFlags:function(e){return 0},set_loadFlags:function(e,t){return t}},lime_text_harfbuzz_HBFace={__properties__:{set_upem:"set_upem",get_upem:"get_upem",set_index:"set_index",get_index:"get_index",get_immutable:"get_immutable",set_glyphCount:"set_glyphCount",get_glyphCount:"get_glyphCount",get_empty:"get_empty"},_new:function(e,t){return null},get_empty:function(){return null},get_glyphCount:function(e){return 0},set_glyphCount:function(e,t){return t},get_immutable:function(e){return!1},get_index:function(e){return 0},set_index:function(e,t){return t},get_upem:function(e){return 0},set_upem:function(e,t){return t}},lime_text_harfbuzz_HBFeature=function(){};$hxClasses["lime.text.harfbuzz.HBFeature"]=lime_text_harfbuzz_HBFeature,lime_text_harfbuzz_HBFeature.__name__="lime.text.harfbuzz.HBFeature",lime_text_harfbuzz_HBFeature.prototype={__class__:lime_text_harfbuzz_HBFeature};var lime_text_harfbuzz_HBFont={__properties__:{set_scale:"set_scale",get_scale:"get_scale",set_ppem:"set_ppem",get_ppem:"get_ppem",get_parent:"get_parent",get_immutable:"get_immutable",get_face:"get_face",get_empty:"get_empty"},_new:function(e){return null},addGlyphOriginForDirection:function(e,t,a,n,i){},createSubFont:function(e){return null},getGlyphAdvanceForDirection:function(e,t,a){return null},getGlyphKerningForDirection:function(e,t,a,n,i){return null},getGlyphOriginForDirection:function(e,t,a){return null},glyphFromString:function(e,t){return 0},glyphToString:function(e,t){return null},makeImmutable:function(e){},subtractGlyphOriginForDirection:function(e,t,a,n,i){},get_empty:function(){return null},get_face:function(e){return null},get_immutable:function(e){return!1},get_parent:function(e){return null},get_ppem:function(e){return null},set_ppem:function(e,t){return t},get_scale:function(e){return null},set_scale:function(e,t){return t}},lime_text_harfbuzz_HBGlyphInfo=function(){};$hxClasses["lime.text.harfbuzz.HBGlyphInfo"]=lime_text_harfbuzz_HBGlyphInfo,lime_text_harfbuzz_HBGlyphInfo.__name__="lime.text.harfbuzz.HBGlyphInfo",lime_text_harfbuzz_HBGlyphInfo.prototype={__class__:lime_text_harfbuzz_HBGlyphInfo};var lime_text_harfbuzz_HBGlyphPosition=function(){};$hxClasses["lime.text.harfbuzz.HBGlyphPosition"]=lime_text_harfbuzz_HBGlyphPosition,lime_text_harfbuzz_HBGlyphPosition.__name__="lime.text.harfbuzz.HBGlyphPosition",lime_text_harfbuzz_HBGlyphPosition.prototype={__class__:lime_text_harfbuzz_HBGlyphPosition};var lime_text_harfbuzz_HBLanguage={_new:function(e){return null},toString:function(e){return null},fromString:function(e){return lime_text_harfbuzz_HBLanguage._new(e)}},lime_text_harfbuzz_HBSegmentProperties=function(){};$hxClasses["lime.text.harfbuzz.HBSegmentProperties"]=lime_text_harfbuzz_HBSegmentProperties,lime_text_harfbuzz_HBSegmentProperties.__name__="lime.text.harfbuzz.HBSegmentProperties",lime_text_harfbuzz_HBSegmentProperties.prototype={__class__:lime_text_harfbuzz_HBSegmentProperties};var lime_ui_Gamepad=function(e){this.onDisconnect=new lime_app__$Event_$Void_$Void,this.onButtonUp=new lime_app__$Event_$lime_$ui_$GamepadButton_$Void,this.onButtonDown=new lime_app__$Event_$lime_$ui_$GamepadButton_$Void,this.onAxisMove=new lime_app__$Event_$lime_$ui_$GamepadAxis_$Float_$Void,this.id=e,this.connected=!0};$hxClasses["lime.ui.Gamepad"]=lime_ui_Gamepad,lime_ui_Gamepad.__name__="lime.ui.Gamepad",lime_ui_Gamepad.addMappings=function(e){},lime_ui_Gamepad.__connect=function(e){if(!lime_ui_Gamepad.devices.h.hasOwnProperty(e)){var t=new lime_ui_Gamepad(e);lime_ui_Gamepad.devices.h[e]=t,lime_ui_Gamepad.onConnect.dispatch(t)}},lime_ui_Gamepad.__disconnect=function(e){var t=lime_ui_Gamepad.devices.h[e];null!=t&&(t.connected=!1),lime_ui_Gamepad.devices.remove(e),null!=t&&t.onDisconnect.dispatch()},lime_ui_Gamepad.prototype={get_guid:function(){return lime_ui_Joystick.__getDeviceData()[this.id].id},get_name:function(){return lime_ui_Joystick.__getDeviceData()[this.id].id},__class__:lime_ui_Gamepad,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var lime_ui_GamepadAxis={toString:function(e){switch(e){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+e+")"}}},lime_ui_GamepadButton={toString:function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+e+")"}}},lime_ui_Joystick=function(e){this.onTrackballMove=new lime_app__$Event_$Int_$Float_$Float_$Void,this.onHatMove=new lime_app__$Event_$Int_$lime_$ui_$JoystickHatPosition_$Void,this.onDisconnect=new lime_app__$Event_$Void_$Void,this.onButtonUp=new lime_app__$Event_$Int_$Void,this.onButtonDown=new lime_app__$Event_$Int_$Void,this.onAxisMove=new lime_app__$Event_$Int_$Float_$Void,this.id=e,this.connected=!0};$hxClasses["lime.ui.Joystick"]=lime_ui_Joystick,lime_ui_Joystick.__name__="lime.ui.Joystick",lime_ui_Joystick.__connect=function(e){if(!lime_ui_Joystick.devices.h.hasOwnProperty(e)){var t=new lime_ui_Joystick(e);lime_ui_Joystick.devices.h[e]=t,lime_ui_Joystick.onConnect.dispatch(t)}},lime_ui_Joystick.__disconnect=function(e){var t=lime_ui_Joystick.devices.h[e];null!=t&&(t.connected=!1),lime_ui_Joystick.devices.remove(e),null!=t&&t.onDisconnect.dispatch()},lime_ui_Joystick.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},lime_ui_Joystick.prototype={get_guid:function(){return lime_ui_Joystick.__getDeviceData()[this.id].id},get_name:function(){return lime_ui_Joystick.__getDeviceData()[this.id].id},get_numAxes:function(){return lime_ui_Joystick.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return lime_ui_Joystick.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:lime_ui_Joystick,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var lime_ui_JoystickHatPosition={__properties__:{set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},_new:function(e){return e},get_center:function(e){return 0==e},set_center:function(e,t){return t&&0,t},get_down:function(e){return(4&e)>0},set_down:function(e,t){return t?4:268435451,t},get_left:function(e){return(8&e)>0},set_left:function(e,t){return t?8:268435447,t},get_right:function(e){return(2&e)>0},set_right:function(e,t){return t?2:268435453,t},get_up:function(e){return(1&e)>0},set_up:function(e,t){return t?1:268435454,t}},lime_ui_KeyCode={fromScanCode:function(e){return 0},toScanCode:function(e){return 0},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},plus:function(e,t){return e+t}},lime_ui_KeyModifier={__properties__:{set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},get_altKey:function(e){return!((256&e)<=0)||(512&e)>0},set_altKey:function(e,t){return t?768:268434687,t},get_capsLock:function(e){return!((8192&e)<=0)||(8192&e)>0},set_capsLock:function(e,t){return t?8192:268427263,t},get_ctrlKey:function(e){return!((64&e)<=0)||(128&e)>0},set_ctrlKey:function(e,t){return t?192:268435263,t},get_metaKey:function(e){return!((1024&e)<=0)||(2048&e)>0},set_metaKey:function(e,t){return t?3072:268432383,t},get_numLock:function(e){return!((4096&e)<=0)||(4096&e)>0},set_numLock:function(e,t){return t?4096:268431359,t},get_shiftKey:function(e){return!((1&e)<=0)||(2&e)>0},set_shiftKey:function(e,t){return t?3:268435452,t}},lime_ui_MouseCursor=$hxEnums["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"],ARROW:{_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:$estr},CROSSHAIR:{_hx_index:1,__enum__:"lime.ui.MouseCursor",toString:$estr},DEFAULT:{_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:$estr},MOVE:{_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:$estr},POINTER:{_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:$estr},RESIZE_NESW:{_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:$estr},RESIZE_NS:{_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:$estr},RESIZE_NWSE:{_hx_index:7,__enum__:"lime.ui.MouseCursor",toString:$estr},RESIZE_WE:{_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:$estr},TEXT:{_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:$estr},WAIT:{_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:$estr},WAIT_ARROW:{_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:$estr},CUSTOM:{_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:$estr}},lime_ui_MouseWheelMode=$hxEnums["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:["PIXELS","LINES","PAGES","UNKNOWN"],PIXELS:{_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:$estr},LINES:{_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:$estr},PAGES:{_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:$estr},UNKNOWN:{_hx_index:3,__enum__:"lime.ui.MouseWheelMode",toString:$estr}},lime_ui_ScanCode={fromKeyCode:function(e){return lime_ui_KeyCode.toScanCode(e)},toKeyCode:function(e){return lime_ui_KeyCode.fromScanCode(e)},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},plus:function(e,t){return e+t}},lime_ui_Touch=function(e,t,a,n,i,s,_){this.x=e,this.y=t,this.id=a,this.dx=n,this.dy=i,this.pressure=s,this.device=_};$hxClasses["lime.ui.Touch"]=lime_ui_Touch,lime_ui_Touch.__name__="lime.ui.Touch",lime_ui_Touch.prototype={__class__:lime_ui_Touch};var lime_ui_Window=function(e,t){this.onTextInput=new lime_app__$Event_$String_$Void,this.onTextEdit=new lime_app__$Event_$String_$Int_$Int_$Void,this.onRestore=new lime_app__$Event_$Void_$Void,this.onResize=new lime_app__$Event_$Int_$Int_$Void,this.onRenderContextRestored=new lime_app__$Event_$lime_$graphics_$RenderContext_$Void,this.onRenderContextLost=new lime_app__$Event_$Void_$Void,this.onRender=new lime_app__$Event_$lime_$graphics_$RenderContext_$Void,this.onMove=new lime_app__$Event_$Float_$Float_$Void,this.onMouseWheel=new lime_app__$Event_$Float_$Float_$lime_$ui_$MouseWheelMode_$Void,this.onMouseUp=new lime_app__$Event_$Float_$Float_$Int_$Void,this.onMouseMoveRelative=new lime_app__$Event_$Float_$Float_$Void,this.onMouseMove=new lime_app__$Event_$Float_$Float_$Void,this.onMouseDown=new lime_app__$Event_$Float_$Float_$lime_$ui_$MouseButton_$Void,this.onMinimize=new lime_app__$Event_$Void_$Void,this.onMaximize=new lime_app__$Event_$Void_$Void,this.onLeave=new lime_app__$Event_$Void_$Void,this.onKeyUp=new lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void,this.onKeyDown=new lime_app__$Event_$lime_$ui_$KeyCode_$lime_$ui_$KeyModifier_$Void,this.onFullscreen=new lime_app__$Event_$Void_$Void,this.onFocusOut=new lime_app__$Event_$Void_$Void,this.onFocusIn=new lime_app__$Event_$Void_$Void,this.onExpose=new lime_app__$Event_$Void_$Void,this.onEnter=new lime_app__$Event_$Void_$Void,this.onDropFile=new lime_app__$Event_$String_$Void,this.onDeactivate=new lime_app__$Event_$Void_$Void,this.onClose=new lime_app__$Event_$Void_$Void,this.onActivate=new lime_app__$Event_$Void_$Void,this.application=e,this.__attributes=null!=t?t:{},Object.prototype.hasOwnProperty.call(this.__attributes,"parameters")&&(this.parameters=this.__attributes.parameters),this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,this.__backend=new lime__$internal_backend_html5_HTML5Window(this)};$hxClasses["lime.ui.Window"]=lime_ui_Window,lime_ui_Window.__name__="lime.ui.Window",lime_ui_Window.prototype={alert:function(e,t){this.__backend.alert(e,t)},close:function(){this.__backend.close()},focus:function(){this.__backend.focus()},move:function(e,t){this.__backend.move(e,t),this.__x=e,this.__y=t},readPixels:function(e){return this.__backend.readPixels(e)},resize:function(e,t){this.__backend.resize(e,t),this.__width=e,this.__height=t},setIcon:function(e){null!=e&&this.__backend.setIcon(e)},toString:function(){return"[object Window]"},warpMouse:function(e,t){this.__backend.warpMouse(e,t)},get_cursor:function(){return this.__backend.getCursor()},set_cursor:function(e){return this.__backend.setCursor(e)},get_display:function(){return this.__backend.getDisplay()},get_displayMode:function(){return this.__backend.getDisplayMode()},set_displayMode:function(e){return this.__backend.setDisplayMode(e)},get_borderless:function(){return this.__borderless},set_borderless:function(e){return this.__borderless=this.__backend.setBorderless(e)},get_frameRate:function(){return this.__backend.getFrameRate()},set_frameRate:function(e){return this.__backend.setFrameRate(e)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(e){return this.__fullscreen=this.__backend.setFullscreen(e)},get_height:function(){return this.__height},set_height:function(e){return this.resize(this.__width,e),this.__height},get_hidden:function(){return this.__hidden},get_maximized:function(){return this.__maximized},set_maximized:function(e){return this.__minimized=!1,this.__maximized=this.__backend.setMaximized(e)},get_minimized:function(){return this.__minimized},set_minimized:function(e){return this.__maximized=!1,this.__minimized=this.__backend.setMinimized(e)},get_mouseLock:function(){return this.__backend.getMouseLock()},set_mouseLock:function(e){return this.__backend.setMouseLock(e),e},get_resizable:function(){return this.__resizable},set_resizable:function(e){return this.__resizable=this.__backend.setResizable(e),this.__resizable},get_scale:function(){return this.__scale},get_textInputEnabled:function(){return this.__backend.getTextInputEnabled()},set_textInputEnabled:function(e){return this.__backend.setTextInputEnabled(e)},get_title:function(){return this.__title},set_title:function(e){return this.__title=this.__backend.setTitle(e)},get_width:function(){return this.__width},set_width:function(e){return this.resize(e,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(e){return this.move(e,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(e){return this.move(this.__x,e),this.__y},__class__:lime_ui_Window,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",set_textInputEnabled:"set_textInputEnabled",get_textInputEnabled:"get_textInputEnabled",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_mouseLock:"set_mouseLock",get_mouseLock:"get_mouseLock",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",get_hidden:"get_hidden",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_displayMode:"set_displayMode",get_displayMode:"get_displayMode",get_display:"get_display",set_cursor:"set_cursor",get_cursor:"get_cursor",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var lime_utils_TAError=$hxEnums["lime.utils.TAError"]={__ename__:"lime.utils.TAError",__constructs__:["RangeError"],RangeError:{_hx_index:0,__enum__:"lime.utils.TAError",toString:$estr}},lime_utils_AssetBundle=function(){this.data=new haxe_ds_StringMap,this.paths=[]};$hxClasses["lime.utils.AssetBundle"]=lime_utils_AssetBundle,lime_utils_AssetBundle.__name__="lime.utils.AssetBundle",lime_utils_AssetBundle.fromBytes=function(e){var t=new haxe_io_BytesInput(e);return lime_utils_AssetBundle.__extractBundle(t)},lime_utils_AssetBundle.fromFile=function(e){return null},lime_utils_AssetBundle.loadFromBytes=function(e){return lime_app_Future.withValue(lime_utils_AssetBundle.fromBytes(e))},lime_utils_AssetBundle.loadFromFile=function(e){return lime_utils_Bytes.loadFromFile(e).then(lime_utils_AssetBundle.loadFromBytes)},lime_utils_AssetBundle.__extractBundle=function(e){for(var t=haxe_zip_Reader.readZip(e),a=new lime_utils_AssetBundle,n=t.h;null!=n;){var i=n.item;n=n.next;var s=i;if(s.compressed){var _=s.data,r=a.data,o=s.fileName,l=lime_utils_Bytes.decompress(_,lime_utils_CompressionAlgorithm.DEFLATE);r.h[o]=l}else a.data.h[s.fileName]=s.data;a.paths.push(s.fileName)}return a},lime_utils_AssetBundle.prototype={__class__:lime_utils_AssetBundle};var lime_utils_AssetCache=function(){this.enabled=!0,this.audio=new haxe_ds_StringMap,this.font=new haxe_ds_StringMap,this.image=new haxe_ds_StringMap,this.version=683351};$hxClasses["lime.utils.AssetCache"]=lime_utils_AssetCache,lime_utils_AssetCache.__name__="lime.utils.AssetCache",lime_utils_AssetCache.prototype={exists:function(e,t){return!("IMAGE"!=t&&null!=t||!Object.prototype.hasOwnProperty.call(this.image.h,e))||(!("FONT"!=t&&null!=t||!Object.prototype.hasOwnProperty.call(this.font.h,e))||!("SOUND"!=t&&"MUSIC"!=t&&null!=t||!Object.prototype.hasOwnProperty.call(this.audio.h,e)))},set:function(e,t,a){switch(t){case"FONT":this.font.h[e]=a;break;case"IMAGE":if(!(a instanceof lime_graphics_Image))throw haxe_Exception.thrown("Cannot cache non-Image asset: "+Std.string(a)+" as Image");this.image.h[e]=a;break;case"MUSIC":case"SOUND":if(!(a instanceof lime_media_AudioBuffer))throw haxe_Exception.thrown("Cannot cache non-AudioBuffer asset: "+Std.string(a)+" as AudioBuffer");this.audio.h[e]=a;break;default:throw haxe_Exception.thrown(t+" assets are not cachable")}},clear:function(e){if(null==e)this.audio=new haxe_ds_StringMap,this.font=new haxe_ds_StringMap,this.image=new haxe_ds_StringMap;else{for(var t=haxe_ds_StringMap.keysIterator(this.audio.h);t.hasNext();){var a=t.next();if(StringTools.startsWith(a,e)){var n=this.audio;Object.prototype.hasOwnProperty.call(n.h,a)&&delete n.h[a]}}for(t=haxe_ds_StringMap.keysIterator(this.font.h);t.hasNext();){a=t.next();if(StringTools.startsWith(a,e)){n=this.font;Object.prototype.hasOwnProperty.call(n.h,a)&&delete n.h[a]}}for(t=haxe_ds_StringMap.keysIterator(this.image.h);t.hasNext();){a=t.next();if(StringTools.startsWith(a,e)){n=this.image;Object.prototype.hasOwnProperty.call(n.h,a)&&delete n.h[a]}}}},__class__:lime_utils_AssetCache};var lime_utils_AssetLibrary=function(){this.types=new haxe_ds_StringMap,this.sizes=new haxe_ds_StringMap,this.preload=new haxe_ds_StringMap,this.paths=new haxe_ds_StringMap,this.pathGroups=new haxe_ds_StringMap,this.classTypes=new haxe_ds_StringMap,this.cachedText=new haxe_ds_StringMap,this.cachedImages=new haxe_ds_StringMap,this.cachedFonts=new haxe_ds_StringMap,this.cachedBytes=new haxe_ds_StringMap,this.cachedAudioBuffers=new haxe_ds_StringMap,this.onChange=new lime_app__$Event_$Void_$Void,this.bytesLoaded=0,this.bytesTotal=0};$hxClasses["lime.utils.AssetLibrary"]=lime_utils_AssetLibrary,lime_utils_AssetLibrary.__name__="lime.utils.AssetLibrary",lime_utils_AssetLibrary.fromBytes=function(e,t){return lime_utils_AssetLibrary.fromManifest(lime_utils_AssetManifest.fromBytes(e,t))},lime_utils_AssetLibrary.fromFile=function(e,t){return lime_utils_AssetLibrary.fromManifest(lime_utils_AssetManifest.fromFile(e,t))},lime_utils_AssetLibrary.fromBundle=function(e){if(!Object.prototype.hasOwnProperty.call(e.data.h,"library.json"))return(a=new lime_utils_AssetLibrary).__fromBundle(e),a;var t=lime_utils_AssetManifest.fromBytes(e.data.h["library.json"]);if(null!=t){var a=null;if(null==t.libraryType)a=new lime_utils_AssetLibrary;else{var n=t.libraryType,i=$hxClasses[n];if(null==i)return lime_utils_Log.warn("Could not find library type: "+t.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null;a=Type.createInstance(i,t.libraryArgs)}return a.__fromBundle(e,t),a}return null},lime_utils_AssetLibrary.fromManifest=function(e){if(null==e)return null;var t=null;if(null==e.libraryType)t=new lime_utils_AssetLibrary;else{var a=e.libraryType,n=$hxClasses[a];if(null==n)return lime_utils_Log.warn("Could not find library type: "+e.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;t=Type.createInstance(n,e.libraryArgs)}return t.__fromManifest(e),t},lime_utils_AssetLibrary.loadFromBytes=function(e,t){return lime_utils_AssetManifest.loadFromBytes(e,t).then((function(e){return lime_utils_AssetLibrary.loadFromManifest(e)}))},lime_utils_AssetLibrary.loadFromFile=function(e,t){return lime_utils_AssetManifest.loadFromFile(e,t).then((function(e){return lime_utils_AssetLibrary.loadFromManifest(e)}))},lime_utils_AssetLibrary.loadFromManifest=function(e){var t=lime_utils_AssetLibrary.fromManifest(e);return null!=t?t.load():lime_app_Future.withError("Could not load asset manifest")},lime_utils_AssetLibrary.prototype={exists:function(e,t){var a=null!=t?js_Boot.__cast(t,String):null,n=this.types.h[e];if(null!=n){if(n==a||("SOUND"==a||"MUSIC"==a)&&("MUSIC"==n||"SOUND"==n))return!0;if("BINARY"==a||null==a||"BINARY"==n&&"TEXT"==a)return!0}return!1},getAsset:function(e,t){switch(t){case"BINARY":return this.getBytes(e);case"FONT":return this.getFont(e);case"IMAGE":return this.getImage(e);case"MUSIC":case"SOUND":return this.getAudioBuffer(e);case"TEMPLATE":throw haxe_Exception.thrown("Not sure how to get template: "+e);case"TEXT":return this.getText(e);default:throw haxe_Exception.thrown("Unknown asset type: "+t)}},getAudioBuffer:function(e){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,e)?this.cachedAudioBuffers.h[e]:Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?lime_media_AudioBuffer.fromBytes(js_Boot.__cast(Type.createInstance(this.classTypes.h[e],[]),haxe_io_Bytes)):lime_media_AudioBuffer.fromFile(this.paths.h[e])},getBytes:function(e){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e))return this.cachedBytes.h[e];if(Object.prototype.hasOwnProperty.call(this.cachedText.h,e)){var t=lime_utils_Bytes.ofString(this.cachedText.h[e]);return this.cachedBytes.h[e]=t,t}return Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?js_Boot.__cast(Type.createInstance(this.classTypes.h[e],[]),haxe_io_Bytes):lime_utils_Bytes.fromFile(this.paths.h[e])},getFont:function(e){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,e)?this.cachedFonts.h[e]:Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?js_Boot.__cast(Type.createInstance(this.classTypes.h[e],[]),lime_text_Font):lime_text_Font.fromFile(this.paths.h[e])},getImage:function(e){return Object.prototype.hasOwnProperty.call(this.cachedImages.h,e)?this.cachedImages.h[e]:Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?js_Boot.__cast(Type.createInstance(this.classTypes.h[e],[]),lime_graphics_Image):lime_graphics_Image.fromFile(this.paths.h[e])},getPath:function(e){return Object.prototype.hasOwnProperty.call(this.paths.h,e)?this.paths.h[e]:Object.prototype.hasOwnProperty.call(this.pathGroups.h,e)?this.pathGroups.h[e][0]:null},getText:function(e){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,e))return this.cachedText.h[e];var t=this.getBytes(e);return null==t?null:t.getString(0,t.length)},isLocal:function(e,t){if(Object.prototype.hasOwnProperty.call(this.classTypes.h,e))return!0;var a=null!=t?js_Boot.__cast(t,String):null;if(null==a)return!!Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e)||Object.prototype.hasOwnProperty.call(this.cachedText.h,e);switch(a){case"FONT":return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,e);case"IMAGE":return Object.prototype.hasOwnProperty.call(this.cachedImages.h,e);case"MUSIC":case"SOUND":return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,e);default:return!!Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e)||Object.prototype.hasOwnProperty.call(this.cachedText.h,e)}},list:function(e){for(var t=null!=e?js_Boot.__cast(e,String):null,a=[],n=haxe_ds_StringMap.keysIterator(this.types.h);n.hasNext();){var i=n.next();(null==t||this.exists(i,e))&&a.push(i)}return a},loadAsset:function(e,t){switch(t){case"BINARY":return this.loadBytes(e);case"FONT":return this.loadFont(e);case"IMAGE":return this.loadImage(e);case"MUSIC":case"SOUND":return this.loadAudioBuffer(e);case"TEMPLATE":throw haxe_Exception.thrown("Not sure how to load template: "+e);case"TEXT":return this.loadText(e);default:throw haxe_Exception.thrown("Unknown asset type: "+t)}},load:function(){if(this.loaded)return lime_app_Future.withValue(this);if(null==this.promise){this.promise=new lime_app_Promise,this.bytesLoadedCache=new haxe_ds_StringMap,this.assetsLoaded=0,this.assetsTotal=1;for(var e=haxe_ds_StringMap.keysIterator(this.preload.h);e.hasNext();){var t=e.next();if(this.preload.h[t]){lime_utils_Log.verbose("Preloading asset: "+t+" ["+this.types.h[t]+"]",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:405,className:"lime.utils.AssetLibrary",methodName:"load"});var a=this.types.h[t];if(null!=a)switch(a){case"BINARY":this.assetsTotal++;var n=this.loadBytes(t);n.onProgress(function(e,t){return function(a,n){t[0](e[0],a,n)}}([t],[$bind(this,this.load_onProgress)])),n.onError(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.load_onError)])),n.onComplete(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadBytes_onComplete)]));break;case"FONT":this.assetsTotal++;var i=this.loadFont(t);i.onProgress(function(e,t){return function(a,n){t[0](e[0],a,n)}}([t],[$bind(this,this.load_onProgress)])),i.onError(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.load_onError)])),i.onComplete(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadFont_onComplete)]));break;case"IMAGE":this.assetsTotal++;var s=this.loadImage(t);s.onProgress(function(e,t){return function(a,n){t[0](e[0],a,n)}}([t],[$bind(this,this.load_onProgress)])),s.onError(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.load_onError)])),s.onComplete(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadImage_onComplete)]));break;case"MUSIC":case"SOUND":this.assetsTotal++;var _=this.loadAudioBuffer(t);_.onProgress(function(e,t){return function(a,n){t[0](e[0],a,n)}}([t],[$bind(this,this.load_onProgress)])),_.onError(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadAudioBuffer_onError)])),_.onComplete(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadAudioBuffer_onComplete)]));break;case"TEXT":this.assetsTotal++;var r=this.loadText(t);r.onProgress(function(e,t){return function(a,n){t[0](e[0],a,n)}}([t],[$bind(this,this.load_onProgress)])),r.onError(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.load_onError)])),r.onComplete(function(e,t){return function(a){t[0](e[0],a)}}([t],[$bind(this,this.loadText_onComplete)]))}}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(e){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,e)?lime_app_Future.withValue(this.cachedAudioBuffers.h[e]):Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?lime_app_Future.withValue(Type.createInstance(this.classTypes.h[e],[])):Object.prototype.hasOwnProperty.call(this.pathGroups.h,e)?lime_media_AudioBuffer.loadFromFiles(this.pathGroups.h[e]):lime_media_AudioBuffer.loadFromFile(this.paths.h[e])},loadBytes:function(e){return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e)?lime_app_Future.withValue(this.cachedBytes.h[e]):Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?lime_app_Future.withValue(Type.createInstance(this.classTypes.h[e],[])):lime_utils_Bytes.loadFromFile(this.paths.h[e])},loadFont:function(e){if(Object.prototype.hasOwnProperty.call(this.cachedFonts.h,e))return lime_app_Future.withValue(this.cachedFonts.h[e]);if(Object.prototype.hasOwnProperty.call(this.classTypes.h,e)){var t=Type.createInstance(this.classTypes.h[e],[]);return t.__loadFromName(t.name)}return lime_text_Font.loadFromName(this.paths.h[e])},loadImage:function(e){var t=this;return Object.prototype.hasOwnProperty.call(this.cachedImages.h,e)?lime_app_Future.withValue(this.cachedImages.h[e]):Object.prototype.hasOwnProperty.call(this.classTypes.h,e)?lime_app_Future.withValue(Type.createInstance(this.classTypes.h[e],[])):Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e)?lime_graphics_Image.loadFromBytes(this.cachedBytes.h[e]).then((function(a){var n=t.cachedBytes;return Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],t.cachedImages.h[e]=a,lime_app_Future.withValue(a)})):lime_graphics_Image.loadFromFile(this.paths.h[e])},loadText:function(e){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,e))return lime_app_Future.withValue(this.cachedText.h[e]);if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,e)||Object.prototype.hasOwnProperty.call(this.classTypes.h,e)){var t=this.getBytes(e);if(null==t)return lime_app_Future.withValue(null);var a=t.getString(0,t.length);return this.cachedText.h[e]=a,lime_app_Future.withValue(a)}return(new lime_net__$HTTPRequest_$String).load(this.paths.h[e])},unload:function(){},__assetLoaded:function(e){if(this.assetsLoaded++,null!=e&&lime_utils_Log.verbose("Loaded asset: "+e+" ["+this.types.h[e]+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:619,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"}),null!=e){var t=Object.prototype.hasOwnProperty.call(this.sizes.h,e)?this.sizes.h[e]:0;if(Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,e)){var a=this.bytesLoadedCache.h[e];a<t&&(this.bytesLoaded+=t-a)}else this.bytesLoaded+=t;this.bytesLoadedCache.h[e]=t}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(e){return lime_utils_Assets.__cacheBreak(e)},__fromBundle:function(e,t){if(null!=t)for(var a,n,i=0,s=t.assets;i<s.length;){var _=s[i];++i,a=Object.prototype.hasOwnProperty.call(_,"id")?_.id:_.path,n=e.data.h[_.path],Object.prototype.hasOwnProperty.call(_,"type")?("TEXT"==_.type?this.cachedText.h[a]=null!=n?Std.string(n):null:this.cachedBytes.h[a]=n,this.types.h[a]=_.type):(this.cachedBytes.h[a]=n,this.types.h[a]="BINARY")}else for(i=0,s=e.paths;i<s.length;){var r=s[i];++i,this.cachedBytes.h[r]=e.data.h[r],this.types.h[r]="BINARY"}},__fromManifest:function(e){var t,a,n,i,s=e.version>=2,_=e.rootPath;null==_&&(_=""),""!=_&&(_+="/");for(var r=0,o=e.assets;r<o.length;){var l=o[r];if(++r,t=s&&Object.prototype.hasOwnProperty.call(l,"size")?l.size:100,a=Object.prototype.hasOwnProperty.call(l,"id")?l.id:l.path,Object.prototype.hasOwnProperty.call(l,"path")){var h=this.paths,u=this.__cacheBreak(this.__resolvePath(_+Std.string(Reflect.field(l,"path"))));h.h[a]=u}if(Object.prototype.hasOwnProperty.call(l,"pathGroup")){for(var p=0,c=(n=Reflect.field(l,"pathGroup")).length;p<c;){var d=p++;n[d]=this.__cacheBreak(this.__resolvePath(_+n[d]))}this.pathGroups.h[a]=n}if(this.sizes.h[a]=t,this.types.h[a]=l.type,Object.prototype.hasOwnProperty.call(l,"preload")&&(this.preload.h[a]=Reflect.field(l,"preload")),Object.prototype.hasOwnProperty.call(l,"className")){var f=Reflect.field(l,"className");i=$hxClasses[f],this.classTypes.h[a]=i}}this.bytesTotal=0;for(r=0,o=e.assets;r<o.length;){l=o[r];++r,a=Object.prototype.hasOwnProperty.call(l,"id")?l.id:l.path,Object.prototype.hasOwnProperty.call(this.preload.h,a)&&this.preload.h[a]&&Object.prototype.hasOwnProperty.call(this.sizes.h,a)&&(this.bytesTotal+=this.sizes.h[a])}},__resolvePath:function(e){var t=(e=StringTools.replace(e,"\\","/")).indexOf(":");if(StringTools.startsWith(e,"http")&&t>0){var a=t+3;e=HxOverrides.substr(e,0,a)+StringTools.replace(HxOverrides.substr(e,a,null),"//","/")}else e=StringTools.replace(e,"//","/");if(e.indexOf("./")>-1){for(var n=e.split("/"),i=[],s=0,_=n.length;s<_;){var r=s++;".."==n[r]?0==r||".."==i[r-1]?i.push(".."):i.pop():"."==n[r]?0==r&&i.push("."):i.push(n[r])}e=i.join("/")}return e},loadAudioBuffer_onComplete:function(e,t){if(this.cachedAudioBuffers.h[e]=t,Object.prototype.hasOwnProperty.call(this.pathGroups.h,e))for(var a=this.pathGroups.h[e],n=haxe_ds_StringMap.keysIterator(this.pathGroups.h);n.hasNext();){var i=n.next();if(i!=e)for(var s=0;s<a.length;){var _=a[s];if(++s,this.pathGroups.h[i].indexOf(_)>-1){this.cachedAudioBuffers.h[i]=t;break}}}this.__assetLoaded(e)},loadAudioBuffer_onError:function(e,t){null!=t&&""!=t?lime_utils_Log.warn('Could not load "'+e+'": '+Std.string(t),{fileName:"lime/utils/AssetLibrary.hx",lineNumber:865,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):lime_utils_Log.warn('Could not load "'+e+'"',{fileName:"lime/utils/AssetLibrary.hx",lineNumber:869,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}),this.loadAudioBuffer_onComplete(e,new lime_media_AudioBuffer)},loadBytes_onComplete:function(e,t){this.cachedBytes.h[e]=t,this.__assetLoaded(e)},loadFont_onComplete:function(e,t){this.cachedFonts.h[e]=t,this.__assetLoaded(e)},loadImage_onComplete:function(e,t){this.cachedImages.h[e]=t,this.__assetLoaded(e)},loadText_onComplete:function(e,t){this.cachedText.h[e]=t,this.__assetLoaded(e)},load_onError:function(e,t){null!=t&&""!=t?this.promise.error('Error loading asset "'+e+'": '+Std.string(t)):this.promise.error('Error loading asset "'+e+'"')},load_onProgress:function(e,t,a){if(t>0){var n,i=this.sizes.h[e];if(a>0?((n=t/a)>1&&(n=1),t=Math.floor(n*i)):t>i&&(t=i),Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,e)){var s=this.bytesLoadedCache.h[e];t!=s&&(this.bytesLoaded+=t-s)}else this.bytesLoaded+=t;this.bytesLoadedCache.h[e]=t,this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:lime_utils_AssetLibrary};var lime_utils_AssetManifest=function(){this.assets=[],this.libraryArgs=[],this.version=2};$hxClasses["lime.utils.AssetManifest"]=lime_utils_AssetManifest,lime_utils_AssetManifest.__name__="lime.utils.AssetManifest",lime_utils_AssetManifest.fromBytes=function(e,t){return null!=e?lime_utils_AssetManifest.parse(e.getString(0,e.length),t):null},lime_utils_AssetManifest.fromFile=function(e,t){return e=lime_utils_AssetManifest.__resolvePath(e),t=lime_utils_AssetManifest.__resolveRootPath(t,e),null==e?null:lime_utils_AssetManifest.fromBytes(lime_utils_Bytes.fromFile(e),t)},lime_utils_AssetManifest.loadFromBytes=function(e,t){return lime_app_Future.withValue(lime_utils_AssetManifest.fromBytes(e,t))},lime_utils_AssetManifest.loadFromFile=function(e,t){return e=lime_utils_AssetManifest.__resolvePath(e),t=lime_utils_AssetManifest.__resolveRootPath(t,e),null==e?null:lime_utils_Bytes.loadFromFile(e).then((function(e){return lime_app_Future.withValue(lime_utils_AssetManifest.fromBytes(e,t))}))},lime_utils_AssetManifest.parse=function(e,t){if(null==e||""==e)return null;var a=JSON.parse(e),n=new lime_utils_AssetManifest;if(Object.prototype.hasOwnProperty.call(a,"name")&&(n.name=a.name),Object.prototype.hasOwnProperty.call(a,"libraryType")&&(n.libraryType=a.libraryType),Object.prototype.hasOwnProperty.call(a,"libraryArgs")&&(n.libraryArgs=a.libraryArgs),Object.prototype.hasOwnProperty.call(a,"assets")){var i=a.assets;Object.prototype.hasOwnProperty.call(a,"version")&&a.version<=2?n.assets=haxe_Unserializer.run(i):n.assets=i}return Object.prototype.hasOwnProperty.call(a,"rootPath")&&(n.rootPath=a.rootPath),null!=t&&""!=t&&(null==n.rootPath||""==n.rootPath?n.rootPath=t:n.rootPath=t+"/"+n.rootPath),n},lime_utils_AssetManifest.__resolvePath=function(e){if(null==e)return null;var t,a=e.indexOf("?");for(t=a>-1?HxOverrides.substr(e,0,a):e,t=StringTools.replace(t,"\\","/");StringTools.endsWith(t,"/");)t=HxOverrides.substr(t,0,t.length-1);return StringTools.endsWith(t,".bundle")?a>-1?t+"/library.json"+HxOverrides.substr(e,a,null):t+"/library.json":e},lime_utils_AssetManifest.__resolveRootPath=function(e,t){if(null!=e)return e;var a=t.indexOf("?");for(e=a>-1?HxOverrides.substr(t,0,a):t,e=StringTools.replace(e,"\\","/");StringTools.endsWith(e,"/");){if("/"==e)return e;e=HxOverrides.substr(e,0,e.length-1)}return StringTools.endsWith(e,".bundle")?e:haxe_io_Path.directory(e)},lime_utils_AssetManifest.prototype={serialize:function(){var e={};return e.version=this.version,e.libraryType=this.libraryType,e.libraryArgs=this.libraryArgs,e.name=this.name,e.assets=haxe_Serializer.run(this.assets),e.rootPath=this.rootPath,JSON.stringify(e)},__class__:lime_utils_AssetManifest};var lime_utils_Assets=function(){};$hxClasses["lime.utils.Assets"]=lime_utils_Assets,lime_utils_Assets.__name__="lime.utils.Assets",lime_utils_Assets.exists=function(e,t){null==t&&(t="BINARY");var a=e,n=a.indexOf(":"),i=a.substring(0,n),s=a.substring(n+1),_=lime_utils_Assets.getLibrary(i);return null!=_&&_.exists(s,t)},lime_utils_Assets.getAsset=function(e,t,a){if(a&&lime_utils_Assets.cache.enabled)switch(t){case"BINARY":case"TEXT":a=!1;break;case"FONT":var n=lime_utils_Assets.cache.font.h[e];if(null!=n)return n;break;case"IMAGE":var i=lime_utils_Assets.cache.image.h[e];if(lime_utils_Assets.isValidImage(i))return i;break;case"MUSIC":case"SOUND":var s=lime_utils_Assets.cache.audio.h[e];if(lime_utils_Assets.isValidAudio(s))return s;break;case"TEMPLATE":throw haxe_Exception.thrown("Not sure how to get template: "+e);default:return null}var _=e,r=_.indexOf(":"),o=_.substring(0,r),l=_.substring(r+1),h=lime_utils_Assets.getLibrary(o);if(null!=h)if(h.exists(l,t)){if(h.isLocal(l,t)){var u=h.getAsset(l,t);return a&&lime_utils_Assets.cache.enabled&&lime_utils_Assets.cache.set(e,t,u),u}lime_utils_Log.error(t+' asset "'+e+'" exists, but only asynchronously',{fileName:"lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"})}else lime_utils_Log.error("There is no "+t+' asset with an ID of "'+e+'"',{fileName:"lime/utils/Assets.hx",lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else lime_utils_Log.error(lime_utils_Assets.__libraryNotFound(o),{fileName:"lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null},lime_utils_Assets.getAudioBuffer=function(e,t){return null==t&&(t=!0),lime_utils_Assets.getAsset(e,"SOUND",t)},lime_utils_Assets.getBytes=function(e){return lime_utils_Assets.getAsset(e,"BINARY",!1)},lime_utils_Assets.getFont=function(e,t){return null==t&&(t=!0),lime_utils_Assets.getAsset(e,"FONT",t)},lime_utils_Assets.getImage=function(e,t){return null==t&&(t=!0),lime_utils_Assets.getAsset(e,"IMAGE",t)},lime_utils_Assets.getLibrary=function(e){return null!=e&&""!=e||(e="default"),lime_utils_Assets.libraries.h[e]},lime_utils_Assets.getPath=function(e){var t=e,a=t.indexOf(":"),n=t.substring(0,a),i=t.substring(a+1),s=lime_utils_Assets.getLibrary(n);if(null!=s){if(s.exists(i,null))return s.getPath(i);lime_utils_Log.error('There is no asset with an ID of "'+e+'"',{fileName:"lime/utils/Assets.hx",lineNumber:224,className:"lime.utils.Assets",methodName:"getPath"})}else lime_utils_Log.error(lime_utils_Assets.__libraryNotFound(n),{fileName:"lime/utils/Assets.hx",lineNumber:229,className:"lime.utils.Assets",methodName:"getPath"});return null},lime_utils_Assets.getText=function(e){return lime_utils_Assets.getAsset(e,"TEXT",!1)},lime_utils_Assets.hasLibrary=function(e){return null!=e&&""!=e||(e="default"),Object.prototype.hasOwnProperty.call(lime_utils_Assets.libraries.h,e)},lime_utils_Assets.isLocal=function(e,t,a){if(null==a&&(a=!0),a&&lime_utils_Assets.cache.enabled&&lime_utils_Assets.cache.exists(e,t))return!0;var n=e,i=n.indexOf(":"),s=n.substring(0,i),_=n.substring(i+1),r=lime_utils_Assets.getLibrary(s);return null!=r&&r.isLocal(_,t)},lime_utils_Assets.isValidAudio=function(e){return null!=e},lime_utils_Assets.isValidImage=function(e){return null!=e&&null!=e.buffer},lime_utils_Assets.list=function(e){for(var t=[],a=haxe_ds_StringMap.valueIterator(lime_utils_Assets.libraries.h);a.hasNext();){var n=a.next().list(e);null!=n&&(t=t.concat(n))}return t},lime_utils_Assets.loadAsset=function(e,t,a){if(a&&lime_utils_Assets.cache.enabled)switch(t){case"BINARY":case"TEXT":a=!1;break;case"FONT":var n=lime_utils_Assets.cache.font.h[e];if(null!=n)return lime_app_Future.withValue(n);break;case"IMAGE":var i=lime_utils_Assets.cache.image.h[e];if(lime_utils_Assets.isValidImage(i))return lime_app_Future.withValue(i);break;case"MUSIC":case"SOUND":var s=lime_utils_Assets.cache.audio.h[e];if(lime_utils_Assets.isValidAudio(s))return lime_app_Future.withValue(s);break;case"TEMPLATE":throw haxe_Exception.thrown("Not sure how to get template: "+e);default:return null}var _=e,r=_.indexOf(":"),o=_.substring(0,r),l=_.substring(r+1),h=lime_utils_Assets.getLibrary(o);if(null!=h){if(h.exists(l,t)){var u=h.loadAsset(l,t);return a&&lime_utils_Assets.cache.enabled&&u.onComplete((function(a){lime_utils_Assets.cache.set(e,t,a)})),u}return lime_app_Future.withError("There is no "+t+' asset with an ID of "'+e+'"')}return lime_app_Future.withError(lime_utils_Assets.__libraryNotFound(o))},lime_utils_Assets.loadAudioBuffer=function(e,t){return null==t&&(t=!0),lime_utils_Assets.loadAsset(e,"SOUND",t)},lime_utils_Assets.loadBytes=function(e){return lime_utils_Assets.loadAsset(e,"BINARY",!1)},lime_utils_Assets.loadFont=function(e,t){return null==t&&(t=!0),lime_utils_Assets.loadAsset(e,"FONT",t)},lime_utils_Assets.loadImage=function(e,t){return null==t&&(t=!0),lime_utils_Assets.loadAsset(e,"IMAGE",t)},lime_utils_Assets.loadLibrary=function(e){var t=new lime_app_Promise,a=lime_utils_Assets.getLibrary(e);if(null!=a)return a.load();var n=e,i=null;return Object.prototype.hasOwnProperty.call(lime_utils_Assets.bundlePaths.h,e)?lime_utils_AssetBundle.loadFromFile(lime_utils_Assets.bundlePaths.h[e]).onComplete((function(a){if(null!=a){var n=lime_utils_AssetLibrary.fromBundle(a);null==n?t.error('Cannot open library "'+e+'"'):(lime_utils_Assets.libraries.h[e]=n,n.onChange.add($bind($_=lime_utils_Assets.onChange,$_.dispatch)),t.completeWith(n.load()))}else t.error('Cannot load bundle for library "'+e+'"')})).onError((function(a){t.error('There is no asset library with an ID of "'+e+'"')})):(Object.prototype.hasOwnProperty.call(lime_utils_Assets.libraryPaths.h,e)?(n=lime_utils_Assets.libraryPaths.h[e],i=haxe_io_Path.directory(n)):(StringTools.endsWith(n,".bundle")?(i=n,n+="/library.json"):i=haxe_io_Path.directory(n),n=lime_utils_Assets.__cacheBreak(n)),lime_utils_AssetManifest.loadFromFile(n,i).onComplete((function(a){if(null!=a){var n=lime_utils_AssetLibrary.fromManifest(a);null==n?t.error('Cannot open library "'+e+'"'):(lime_utils_Assets.libraries.h[e]=n,n.onChange.add($bind($_=lime_utils_Assets.onChange,$_.dispatch)),t.completeWith(n.load()))}else t.error('Cannot parse asset manifest for library "'+e+'"')})).onError((function(a){t.error('There is no asset library with an ID of "'+e+'"')}))),t.future},lime_utils_Assets.loadText=function(e){return lime_utils_Assets.loadAsset(e,"TEXT",!1)},lime_utils_Assets.registerLibrary=function(e,t){if(Object.prototype.hasOwnProperty.call(lime_utils_Assets.libraries.h,e)){if(lime_utils_Assets.libraries.h[e]==t)return;lime_utils_Assets.unloadLibrary(e)}null!=t&&t.onChange.add(lime_utils_Assets.library_onChange),lime_utils_Assets.libraries.h[e]=t},lime_utils_Assets.unloadLibrary=function(e){null!=e&&""!=e||(e="default");var t=lime_utils_Assets.libraries.h[e];null!=t&&(lime_utils_Assets.cache.clear(e+":"),t.onChange.remove(lime_utils_Assets.library_onChange),t.unload());var a=lime_utils_Assets.libraries;Object.prototype.hasOwnProperty.call(a.h,e)&&delete a.h[e]},lime_utils_Assets.__cacheBreak=function(e){return lime_utils_Assets.cache.version>0&&(e.indexOf("?")>-1?e+="&"+lime_utils_Assets.cache.version:e+="?"+lime_utils_Assets.cache.version),e},lime_utils_Assets.__libraryNotFound=function(e){return null!=e&&""!=e||(e="default"),null==lime_app_Application.current||null==lime_app_Application.current.__preloader||lime_app_Application.current.__preloader.complete?'There is no asset library named "'+e+'"':'There is no asset library named "'+e+'", or it is not yet preloaded'},lime_utils_Assets.library_onChange=function(){lime_utils_Assets.cache.clear(),lime_utils_Assets.onChange.dispatch()};var lime_utils__$Assets_LibrarySymbol=function(e){var t=e.indexOf(":");this.libraryName=e.substring(0,t),this.symbolName=e.substring(t+1),this.library=lime_utils_Assets.getLibrary(this.libraryName)};$hxClasses["lime.utils._Assets.LibrarySymbol"]=lime_utils__$Assets_LibrarySymbol,lime_utils__$Assets_LibrarySymbol.__name__="lime.utils._Assets.LibrarySymbol",lime_utils__$Assets_LibrarySymbol.prototype={isLocal:function(e){return this.library.isLocal(this.symbolName,e)},exists:function(e){return this.library.exists(this.symbolName,e)},__class__:lime_utils__$Assets_LibrarySymbol};var lime_utils_BytePointer={_new:function(e,t){return null==t&&(t=0),new lime_utils_BytePointerData(e,t)},set:function(e,t,a,n,i){null!=n&&(t=haxe_io_Bytes.ofData(n)),null!=t||null==a?(e.bytes=t,e.offset=null!=i?i:0):(e.bytes=haxe_io_Bytes.ofData(a.buffer),e.offset=null!=i?a.byteOffset+i:a.byteOffset)},__arrayGet:function(e,t){return null!=e.bytes?e.bytes.b[t+e.offset]:0},__arraySet:function(e,t,a){return null==e.bytes&&(e.bytes.b[t+e.offset]=255&a),a},fromArrayBufferView:function(e){return null==e?null:new lime_utils_BytePointerData(haxe_io_Bytes.ofData(e.buffer),e.byteOffset)},fromArrayBuffer:function(e){return null==e?null:new lime_utils_BytePointerData(haxe_io_Bytes.ofData(e),0)},fromBytes:function(e){return new lime_utils_BytePointerData(e,0)},fromBytesData:function(e){return new lime_utils_BytePointerData(null==e?null:haxe_io_Bytes.ofData(e),0)},fromFile:function(e){return new lime_utils_BytePointerData(lime_utils_Bytes.fromFile(e),0)},fromLimeBytes:function(e){return new lime_utils_BytePointerData(e,0)},toUInt8Array:function(e){var t=e.bytes.b.bufferValue,a=e.offset/8|0;return null==a&&(a=0),null!=t?new Uint8Array(t,a):null},toUInt8ClampedArray:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/8|0;return null==a&&(a=0),null!=t?new Uint8ClampedArray(t,a):null},toInt8Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/8|0;return null==a&&(a=0),null!=t?new Int8Array(t,a):null},toUInt16Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/16|0;return null==a&&(a=0),null!=t?new Uint16Array(t,a):null},toInt16Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/16|0;return null==a&&(a=0),null!=t?new Int16Array(t,a):null},toUInt32Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/32|0;return null==a&&(a=0),null!=t?new Uint32Array(t,a):null},toInt32Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/32|0;return null==a&&(a=0),null!=t?new Int32Array(t,a):null},toFloat32Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/32|0;return null==a&&(a=0),null!=t?new Float32Array(t,a):null},toFloat64Array:function(e){if(null==e||null==e.bytes)return null;var t=e.bytes.b.bufferValue,a=e.offset/64|0;return null==a&&(a=0),null!=t?new Float64Array(t,a):null}},lime_utils_BytePointerData=function(e,t){this.bytes=e,this.offset=t};$hxClasses["lime.utils.BytePointerData"]=lime_utils_BytePointerData,lime_utils_BytePointerData.__name__="lime.utils.BytePointerData",lime_utils_BytePointerData.prototype={__class__:lime_utils_BytePointerData};var lime_utils_Bytes={_new:function(e,t){return new haxe_io_Bytes(t)},alloc:function(e){return new haxe_io_Bytes(new ArrayBuffer(e))},compress:function(e,t){switch(t._hx_index){case 0:return lime__$internal_format_Deflate.compress(e);case 1:return lime__$internal_format_GZip.compress(e);case 2:return lime__$internal_format_LZMA.compress(e);case 3:return lime__$internal_format_Zlib.compress(e)}},decompress:function(e,t){switch(t._hx_index){case 0:return lime__$internal_format_Deflate.decompress(e);case 1:return lime__$internal_format_GZip.decompress(e);case 2:return lime__$internal_format_LZMA.decompress(e);case 3:return lime__$internal_format_Zlib.decompress(e)}},fastGet:function(e,t){return e.bytes[t]},fromBytes:function(e){return null==e?null:lime_utils_Bytes._new(e.length,e.b.bufferValue)},fromFile:function(e){return null},loadFromBytes:function(e){return lime_app_Future.withValue(lime_utils_Bytes.fromBytes(e))},loadFromFile:function(e){return(new lime_net__$HTTPRequest_$lime_$utils_$Bytes).load(e)},ofData:function(e){var t=haxe_io_Bytes.ofData(e);return lime_utils_Bytes._new(t.length,t.b.bufferValue)},ofString:function(e){var t=haxe_io_Bytes.ofString(e);return lime_utils_Bytes._new(t.length,t.b.bufferValue)}},lime_utils_CompressionAlgorithm=$hxEnums["lime.utils.CompressionAlgorithm"]={__ename__:"lime.utils.CompressionAlgorithm",__constructs__:["DEFLATE","GZIP","LZMA","ZLIB"],DEFLATE:{_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:$estr},GZIP:{_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:$estr},LZMA:{_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:$estr},ZLIB:{_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:$estr}},lime_utils_DataPointer={_new:function(e){return e},fromFloat:function(e){return e},fromBytesPointer:function(e){return lime_utils_DataPointer.fromFloat(0)},fromArrayBufferView:function(e){return lime_utils_DataPointer.fromFloat(0)},fromArrayBuffer:function(e){return lime_utils_DataPointer.fromFloat(0)},fromBytes:function(e){return lime_utils_DataPointer.fromFloat(0)},fromBytesData:function(e){return lime_utils_DataPointer.fromFloat(0)},fromLimeBytes:function(e){return lime_utils_DataPointer.fromBytes(e)},fromCFFIPointer:function(e){return lime_utils_DataPointer.fromFloat(0)},fromFile:function(e){return lime_utils_DataPointer.fromFloat(0)},__withOffset:function(e,t){return lime_utils_DataPointer.fromFloat(0)},equals:function(e,t){return e==t},equalsPointer:function(e,t){return e==t},greaterThan:function(e,t){return e>t},greaterThanPointer:function(e,t){return lime_system_CFFIPointer.get(e)>lime_system_CFFIPointer.get(t)},greaterThanOrEqual:function(e,t){return e>=t},greaterThanOrEqualPointer:function(e,t){return lime_system_CFFIPointer.get(e)>=lime_system_CFFIPointer.get(t)},lessThan:function(e,t){return e<t},lessThanPointer:function(e,t){return lime_system_CFFIPointer.get(e)<lime_system_CFFIPointer.get(t)},lessThanOrEqual:function(e,t){return e<=t},lessThanOrEqualPointer:function(e,t){return lime_system_CFFIPointer.get(e)<=lime_system_CFFIPointer.get(t)},notEquals:function(e,t){return e!=t},notEqualsPointer:function(e,t){return e!=t},plus:function(e,t){return lime_utils_DataPointer.__withOffset(e,t)},plusPointer:function(e,t){return lime_utils_DataPointer.__withOffset(e,0|t)},minus:function(e,t){return lime_utils_DataPointer.__withOffset(e,-t)},minusPointer:function(e,t){return lime_utils_DataPointer.__withOffset(e,-(0|t))}},lime_utils_Float32Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Float32Array(e.b.bufferValue):null==a?new Float32Array(e.b.bufferValue,t):new Float32Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"Float32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_Float64Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Float64Array(e.b.bufferValue):null==a?new Float64Array(e.b.bufferValue,t):new Float64Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"Float64Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_Int16Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Int16Array(e.b.bufferValue):null==a?new Int16Array(e.b.bufferValue,t):new Int16Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"Int16Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_Int32Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Int32Array(e.b.bufferValue):null==a?new Int32Array(e.b.bufferValue,t):new Int32Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"Int32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_Int8Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),new Int8Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"Int8Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_Log=function(){};$hxClasses["lime.utils.Log"]=lime_utils_Log,lime_utils_Log.__name__="lime.utils.Log",lime_utils_Log.debug=function(e,t){lime_utils_Log.level>=4&&console.debug("["+t.className+"] "+Std.string(e))},lime_utils_Log.error=function(e,t){if(lime_utils_Log.level>=1){var a="["+t.className+"] ERROR: "+Std.string(e);if(lime_utils_Log.throwErrors)throw haxe_Exception.thrown(a);console.error(a)}},lime_utils_Log.info=function(e,t){lime_utils_Log.level>=3&&console.info("["+t.className+"] "+Std.string(e))},lime_utils_Log.print=function(e){console.log(e)},lime_utils_Log.println=function(e){console.log(e)},lime_utils_Log.verbose=function(e,t){if(lime_utils_Log.level>=5){var a="["+t.className+"] "+Std.string(e);console.log(a)}},lime_utils_Log.warn=function(e,t){lime_utils_Log.level>=2&&console.warn("["+t.className+"] WARNING: "+Std.string(e))};var lime_utils_LogLevel={gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t}},lime_utils_Preloader=function(){this.bytesTotalCache=new haxe_ds_StringMap,this.bytesLoadedCache2=new haxe_ds_StringMap,this.bytesLoadedCache=new haxe_ds_ObjectMap,this.onProgress=new lime_app__$Event_$Int_$Int_$Void,this.onComplete=new lime_app__$Event_$Void_$Void,this.bytesLoaded=0,this.bytesTotal=0,this.libraries=[],this.libraryNames=[],this.onProgress.add($bind(this,this.update))};$hxClasses["lime.utils.Preloader"]=lime_utils_Preloader,lime_utils_Preloader.__name__="lime.utils.Preloader",lime_utils_Preloader.prototype={addLibrary:function(e){this.libraries.push(e)},addLibraryName:function(e){-1==this.libraryNames.indexOf(e)&&this.libraryNames.push(e)},load:function(){for(var e=this,t=0,a=this.libraries;t<a.length;){var n=a[t];++t,this.bytesTotal+=n.bytesTotal}this.loadedLibraries=-1,this.preloadStarted=!1;for(t=0,a=this.libraries;t<a.length;){n=[a[t]];++t,lime_utils_Log.verbose("Preloading asset library",{fileName:"lime/utils/Preloader.hx",lineNumber:132,className:"lime.utils.Preloader",methodName:"load"}),n[0].load().onProgress(function(t){return function(a,n){null==e.bytesLoadedCache.h.__keys__[t[0].__id__]?e.bytesLoaded+=a:e.bytesLoaded+=a-e.bytesLoadedCache.h[t[0].__id__],e.bytesLoadedCache.set(t[0],a),e.simulateProgress||e.onProgress.dispatch(e.bytesLoaded,e.bytesTotal)}}(n)).onComplete(function(t){return function(a){null==e.bytesLoadedCache.h.__keys__[t[0].__id__]?e.bytesLoaded+=t[0].bytesTotal:e.bytesLoaded+=t[0].bytesTotal-e.bytesLoadedCache.h[t[0].__id__],e.loadedAssetLibrary()}}(n)).onError((function(e){lime_utils_Log.error(e,{fileName:"lime/utils/Preloader.hx",lineNumber:168,className:"lime.utils.Preloader",methodName:"load"})}))}for(t=0,a=this.libraryNames;t<a.length;){a[t];++t,this.bytesTotal+=200}this.loadedLibraries++,this.preloadStarted=!0,this.updateProgress()},loadedAssetLibrary:function(e){this.loadedLibraries++;var t=this.loadedLibraries;this.preloadStarted||++t;var a=this.libraries.length+this.libraryNames.length;null!=e?lime_utils_Log.verbose("Loaded asset library: "+e+" ["+t+"/"+a+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:195,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):lime_utils_Log.verbose("Loaded asset library ["+t+"/"+a+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:199,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}),this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(e,t){},updateProgress:function(){var e=this;if(this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal),this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var t=0,a=this.libraryNames;t<a.length;){var n=[a[t]];++t,lime_utils_Log.verbose("Preloading asset library: "+n[0],{fileName:"lime/utils/Preloader.hx",lineNumber:236,className:"lime.utils.Preloader",methodName:"updateProgress"}),lime_utils_Assets.loadLibrary(n[0]).onProgress(function(t){return function(a,n){n>0&&(Object.prototype.hasOwnProperty.call(e.bytesTotalCache.h,t[0])||(e.bytesTotalCache.h[t[0]]=n,e.bytesTotal+=n-200),a>n&&(a=n),Object.prototype.hasOwnProperty.call(e.bytesLoadedCache2.h,t[0])?e.bytesLoaded+=a-e.bytesLoadedCache2.h[t[0]]:e.bytesLoaded+=a,e.bytesLoadedCache2.h[t[0]]=a,e.simulateProgress||e.onProgress.dispatch(e.bytesLoaded,e.bytesTotal))}}(n)).onComplete(function(t){return function(a){var n=200;Object.prototype.hasOwnProperty.call(e.bytesTotalCache.h,t[0])&&(n=e.bytesTotalCache.h[t[0]]),Object.prototype.hasOwnProperty.call(e.bytesLoadedCache2.h,t[0])?e.bytesLoaded+=n-e.bytesLoadedCache2.h[t[0]]:e.bytesLoaded+=n,e.loadedAssetLibrary(t[0])}}(n)).onError((function(e){lime_utils_Log.error(e,{fileName:"lime/utils/Preloader.hx",lineNumber:290,className:"lime.utils.Preloader",methodName:"updateProgress"})}))}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,lime_utils_Log.verbose("Preload complete",{fileName:"lime/utils/Preloader.hx",lineNumber:301,className:"lime.utils.Preloader",methodName:"updateProgress"})),this.start())},__class__:lime_utils_Preloader};var lime_utils_UInt16Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Uint16Array(e.b.bufferValue):null==a?new Uint16Array(e.b.bufferValue,t):new Uint16Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"UInt16Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_UInt32Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Uint32Array(e.b.bufferValue):null==a?new Uint32Array(e.b.bufferValue,t):new Uint32Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"UInt32Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_UInt8Array={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t?new Uint8Array(e.b.bufferValue):null==a?new Uint8Array(e.b.bufferValue,t):new Uint8Array(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"UInt8Array [byteLength:"+e.byteLength+", length:"+e.length+"]":null}},lime_utils_UInt8ClampedArray={toArrayBufferView:function(e){return e},fromBytes:function(e,t,a){return null==t&&(t=0),null==t?new Uint8ClampedArray(e.b.bufferValue):null==a?new Uint8ClampedArray(e.b.bufferValue,t):new Uint8ClampedArray(e.b.bufferValue,t,a)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return null!=e?"UInt8ClampedArray [byteLength:"+e.byteLength+", length:"+e.length+"]":null},_clamp:function(e){var t=0|e;return t>255&&(t=255),t<0?0:t}},openfl_Lib=function(){};$hxClasses["openfl.Lib"]=openfl_Lib,openfl_Lib.__name__="openfl.Lib",openfl_Lib.__properties__={get_current:"get_current",get_application:"get_application"},openfl_Lib.as=function(e,t){return js_Boot.__instanceof(e,t)?e:null},openfl_Lib.attach=function(e){return new openfl_display_MovieClip},openfl_Lib.clearInterval=function(e){openfl_Lib.__timers.h.hasOwnProperty(e)&&(openfl_Lib.__timers.h[e].stop(),openfl_Lib.__timers.remove(e))},openfl_Lib.clearTimeout=function(e){openfl_Lib.__timers.h.hasOwnProperty(e)&&(openfl_Lib.__timers.h[e].stop(),openfl_Lib.__timers.remove(e))},openfl_Lib.getDefinitionByName=function(e){return null==e?null:$hxClasses[e]},openfl_Lib.getQualifiedClassName=function(e){if(null==e)return null;var t=js_Boot.__instanceof(e,Class)?e:js_Boot.getClass(e);return null==t?"boolean"==typeof e||e==Bool?"Bool":"number"==typeof e&&(0|e)===e||e==Int?"Int":"number"==typeof e||e==Float?"Float":null:t.__name__},openfl_Lib.getQualifiedSuperclassName=function(e){if(null==e)return null;var t=js_Boot.__instanceof(e,Class)?e:js_Boot.getClass(e);if(null==t)return null;var a=t.__super__;return null==a?null:a.__name__},openfl_Lib.getTimer=function(){return lime_system_System.getTimer()},openfl_Lib.getURL=function(e,t){openfl_Lib.navigateToURL(e,t)},openfl_Lib.navigateToURL=function(e,t){null==t&&(t="_blank");var a=e.url;if(Type.typeof(e.data)==ValueType.TObject){for(var n="",i=Reflect.fields(e.data),s=0;s<i.length;){var _=i[s];++s,n.length>0&&(n+="&");var r=encodeURIComponent(_)+"=",o=Std.string(Reflect.field(e.data,_));n+=r+encodeURIComponent(o)}a.indexOf("?")>-1?a+="&"+n:a+="?"+n}lime_system_System.openURL(a,t)},openfl_Lib.notImplemented=function(e){var t=e.className+"."+e.methodName;Object.prototype.hasOwnProperty.call(openfl_Lib.__sentWarnings.h,t)||(openfl_Lib.__sentWarnings.h[t]=!0,lime_utils_Log.warn(e.methodName+" is not implemented",e))},openfl_Lib.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",(function(e){e.preventDefault()}),!1)},openfl_Lib.sendToURL=function(e){(new openfl_net_URLLoader).load(e)},openfl_Lib.setInterval=function(e,t,a){var n=++openfl_Lib.__lastTimerID,i=new haxe_Timer(t);return openfl_Lib.__timers.h[n]=i,i.run=function(){e.apply(e,null==a?[]:a)},n},openfl_Lib.setTimeout=function(e,t,a){var n=++openfl_Lib.__lastTimerID,i=openfl_Lib.__timers,s=haxe_Timer.delay((function(){e.apply(e,null==a?[]:a)}),t);return i.h[n]=s,n},openfl_Lib.trace=function(e){haxe_Log.trace(e,{fileName:"openfl/Lib.hx",lineNumber:565,className:"openfl.Lib",methodName:"trace"})},openfl_Lib.get_application=function(){return openfl_utils__$internal_Lib.application},openfl_Lib.get_current=function(){return null==openfl_utils__$internal_Lib.current&&(openfl_utils__$internal_Lib.current=new openfl_display_MovieClip),openfl_utils__$internal_Lib.current};var openfl__$Vector_IVector=function(){};$hxClasses["openfl._Vector.IVector"]=openfl__$Vector_IVector,openfl__$Vector_IVector.__name__="openfl._Vector.IVector",openfl__$Vector_IVector.__isInterface__=!0,openfl__$Vector_IVector.prototype={__class__:openfl__$Vector_IVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl__$Vector_BoolVector=function(e,t,a){null==t&&(t=!1),null==e&&(e=0),null==a&&(a=[]),this.__array=a,e>0&&this.set_length(e),this.fixed=t};$hxClasses["openfl._Vector.BoolVector"]=openfl__$Vector_BoolVector,openfl__$Vector_BoolVector.__name__="openfl._Vector.BoolVector",openfl__$Vector_BoolVector.__interfaces__=[openfl__$Vector_IVector],openfl__$Vector_BoolVector.prototype={concat:function(e){if(null==e)return new openfl__$Vector_BoolVector(0,!1,this.__array.slice());var t=e;return t.__array.length>0?new openfl__$Vector_BoolVector(0,!1,this.__array.concat(t.__array)):new openfl__$Vector_BoolVector(0,!1,this.__array.slice())},copy:function(){return new openfl__$Vector_BoolVector(0,this.fixed,this.__array.slice())},filter:function(e){for(var t=this.fixed,a=[],n=0,i=this.__array;n<i.length;){var s=i[n];++n,e(s)&&a.push(s)}return new openfl__$Vector_BoolVector(0,t,a)},get:function(e){return!(e>=this.__array.length)&&this.__array[e]},indexOf:function(e,t){null==t&&(t=0);for(var a=t,n=this.__array.length;a<n;){var i=a++;if(this.__array[i]==e)return i}return-1},insertAt:function(e,t){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,t)},iterator:function(){return new haxe_iterators_ArrayIterator(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,t){for(var a=null==t||t>=this.__array.length?this.__array.length-1:t;a>=0;){if(this.__array[a]==e)return a;--a}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return(!this.fixed||e<this.__array.length)&&this.__array.splice(e,1)[0]},reverse:function(){return this.__array.reverse(),this},set:function(e,t){return!this.fixed||e<this.__array.length?this.__array[e]=t:t},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,t){return null==e&&(e=0),null==t&&(t=16777215),new openfl__$Vector_BoolVector(0,!1,this.__array.slice(e,t))},sort:function(e){this.__array.sort(e)},splice:function(e,t){return new openfl__$Vector_BoolVector(0,!1,this.__array.splice(e,t))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var t=this.__array.length;if(e<0&&(e=0),e>t)for(var a=t,n=e;a<n;){var i=a++;this.__array[i]=!1}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:openfl__$Vector_BoolVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl__$Vector_FloatVector=function(e,t,a,n){if(null==n&&(n=!1),null==t&&(t=!1),null==e&&(e=0),n){if(this.__array=[],null!=a)for(var i=0,s=a.length;i<s;){var _=i++;this.__array[_]=a[_]}}else null==a&&(a=[]),this.__array=a;e>0&&this.set_length(e),this.fixed=t};$hxClasses["openfl._Vector.FloatVector"]=openfl__$Vector_FloatVector,openfl__$Vector_FloatVector.__name__="openfl._Vector.FloatVector",openfl__$Vector_FloatVector.__interfaces__=[openfl__$Vector_IVector],openfl__$Vector_FloatVector.prototype={concat:function(e){if(null==e)return new openfl__$Vector_FloatVector(0,!1,this.__array.slice());var t=e;return t.__array.length>0?new openfl__$Vector_FloatVector(0,!1,this.__array.concat(t.__array)):new openfl__$Vector_FloatVector(0,!1,this.__array.slice())},copy:function(){return new openfl__$Vector_FloatVector(0,this.fixed,this.__array.slice())},filter:function(e){for(var t=this.fixed,a=[],n=0,i=this.__array;n<i.length;){var s=i[n];++n,e(s)&&a.push(s)}return new openfl__$Vector_FloatVector(0,t,a)},get:function(e){return this.__array[e]},indexOf:function(e,t){null==t&&(t=0);for(var a=t,n=this.__array.length;a<n;){var i=a++;if(this.__array[i]==e)return i}return-1},insertAt:function(e,t){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,t)},iterator:function(){return new haxe_iterators_ArrayIterator(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,t){for(var a=null==t||t>=this.__array.length?this.__array.length-1:t;a>=0;){if(this.__array[a]==e)return a;--a}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(e,t){return!this.fixed||e<this.__array.length?this.__array[e]=t:t},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,t){return null==e&&(e=0),null==t&&(t=16777215),new openfl__$Vector_FloatVector(0,!1,this.__array.slice(e,t))},sort:function(e){this.__array.sort(e)},splice:function(e,t){return new openfl__$Vector_FloatVector(0,!1,this.__array.splice(e,t))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(e!=this.__array.length&&!this.fixed){var t=this.__array.length;if(e<0&&(e=0),e>t)for(var a=t,n=e;a<n;){var i=a++;this.__array[i]=0}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:openfl__$Vector_FloatVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl__$Vector_FunctionVector=function(e,t,a){null==t&&(t=!1),null==e&&(e=0),null==a&&(a=[]),this.__array=a,e>0&&this.set_length(e),this.fixed=t};$hxClasses["openfl._Vector.FunctionVector"]=openfl__$Vector_FunctionVector,openfl__$Vector_FunctionVector.__name__="openfl._Vector.FunctionVector",openfl__$Vector_FunctionVector.__interfaces__=[openfl__$Vector_IVector],openfl__$Vector_FunctionVector.prototype={concat:function(e){if(null==e)return new openfl__$Vector_FunctionVector(0,!1,this.__array.slice());var t=e;return t.__array.length>0?new openfl__$Vector_FunctionVector(0,!1,this.__array.concat(t.__array)):new openfl__$Vector_FunctionVector(0,!1,this.__array.slice())},copy:function(){return new openfl__$Vector_FunctionVector(0,this.fixed,this.__array.slice())},filter:function(e){for(var t=this.fixed,a=[],n=0,i=this.__array;n<i.length;){var s=i[n];++n,e(s)&&a.push(s)}return new openfl__$Vector_FunctionVector(0,t,a)},get:function(e){return e>=this.__array.length?null:this.__array[e]},indexOf:function(e,t){null==t&&(t=0);for(var a=t,n=this.__array.length;a<n;){var i=a++;if(Reflect.compareMethods(this.__array[i],e))return i}return-1},insertAt:function(e,t){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,t)},iterator:function(){return new haxe_iterators_ArrayIterator(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,t){for(var a=null==t||t>=this.__array.length?this.__array.length-1:t;a>=0;){if(Reflect.compareMethods(this.__array[a],e))return a;--a}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(e,t){return!this.fixed||e<this.__array.length?this.__array[e]=t:t},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,t){return null==e&&(e=0),null==t&&(t=16777215),new openfl__$Vector_FunctionVector(0,!1,this.__array.slice(e,t))},sort:function(e){this.__array.sort(e)},splice:function(e,t){return new openfl__$Vector_FunctionVector(0,!1,this.__array.splice(e,t))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var t=this.__array.length;if(e<0&&(e=0),e>t)for(var a=t,n=e;a<n;){var i=a++;this.__array[i]=null}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:openfl__$Vector_FunctionVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl__$Vector_IntVector=function(e,t,a){null==t&&(t=!1),null==e&&(e=0),null==a&&(a=[]),this.__array=a,e>0&&this.set_length(e),this.fixed=t};$hxClasses["openfl._Vector.IntVector"]=openfl__$Vector_IntVector,openfl__$Vector_IntVector.__name__="openfl._Vector.IntVector",openfl__$Vector_IntVector.__interfaces__=[openfl__$Vector_IVector],openfl__$Vector_IntVector.prototype={concat:function(e){if(null==e)return new openfl__$Vector_IntVector(0,!1,this.__array.slice());var t=e;return t.__array.length>0?new openfl__$Vector_IntVector(0,!1,this.__array.concat(t.__array)):new openfl__$Vector_IntVector(0,!1,this.__array.slice())},copy:function(){return new openfl__$Vector_IntVector(0,this.fixed,this.__array.slice())},filter:function(e){for(var t=this.fixed,a=[],n=0,i=this.__array;n<i.length;){var s=i[n];++n,e(s)&&a.push(s)}return new openfl__$Vector_IntVector(0,t,a)},get:function(e){return this.__array[e]},indexOf:function(e,t){null==t&&(t=0);for(var a=t,n=this.__array.length;a<n;){var i=a++;if(this.__array[i]==e)return i}return-1},insertAt:function(e,t){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,t)},iterator:function(){return new haxe_iterators_ArrayIterator(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,t){for(var a=null==t||t>=this.__array.length?this.__array.length-1:t;a>=0;){if(this.__array[a]==e)return a;--a}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(e,t){return!this.fixed||e<this.__array.length?this.__array[e]=t:t},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,t){return null==e&&(e=0),null==t&&(t=16777215),new openfl__$Vector_IntVector(0,!1,this.__array.slice(e,t))},sort:function(e){this.__array.sort(e)},splice:function(e,t){return new openfl__$Vector_IntVector(0,!1,this.__array.splice(e,t))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var t=this.__array.length;if(e<0&&(e=0),e>t)for(var a=t,n=e;a<n;){var i=a++;this.__array[i]=0}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:openfl__$Vector_IntVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl__$Vector_ObjectVector=function(e,t,a,n){if(null==n&&(n=!1),null==t&&(t=!1),null==e&&(e=0),n){if(this.__array=[],null!=a)for(var i=0,s=a.length;i<s;){var _=i++;this.__array[_]=a[_]}}else null==a&&(a=[]),this.__array=a;e>0&&this.set_length(e),this.fixed=t};$hxClasses["openfl._Vector.ObjectVector"]=openfl__$Vector_ObjectVector,openfl__$Vector_ObjectVector.__name__="openfl._Vector.ObjectVector",openfl__$Vector_ObjectVector.__interfaces__=[openfl__$Vector_IVector],openfl__$Vector_ObjectVector.prototype={concat:function(e){if(null==e)return new openfl__$Vector_ObjectVector(0,!1,this.__array.slice());var t=e;return t.__array.length>0?new openfl__$Vector_ObjectVector(0,!1,this.__array.concat(t.__array)):new openfl__$Vector_ObjectVector(0,!1,this.__array.slice())},copy:function(){return new openfl__$Vector_ObjectVector(0,this.fixed,this.__array.slice())},filter:function(e){for(var t=this.fixed,a=[],n=0,i=this.__array;n<i.length;){var s=i[n];++n,e(s)&&a.push(s)}return new openfl__$Vector_ObjectVector(0,t,a)},get:function(e){return this.__array[e]},indexOf:function(e,t){null==t&&(t=0);for(var a=t,n=this.__array.length;a<n;){var i=a++;if(this.__array[i]==e)return i}return-1},insertAt:function(e,t){(!this.fixed||e<this.__array.length)&&this.__array.splice(e,0,t)},iterator:function(){return new haxe_iterators_ArrayIterator(this.__array)},join:function(e){return null==e&&(e=","),this.__array.join(e)},lastIndexOf:function(e,t){for(var a=null==t||t>=this.__array.length?this.__array.length-1:t;a>=0;){if(this.__array[a]==e)return a;--a}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(e){return this.fixed?this.__array.length:this.__array.push(e)},removeAt:function(e){return!this.fixed||e<this.__array.length?this.__array.splice(e,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(e,t){return!this.fixed||e<this.__array.length?this.__array[e]=t:t},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(e,t){return null==e&&(e=0),null==t&&(t=16777215),new openfl__$Vector_ObjectVector(0,!1,this.__array.slice(e,t))},sort:function(e){this.__array.sort(e)},splice:function(e,t){return new openfl__$Vector_ObjectVector(0,!1,this.__array.splice(e,t))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(e){this.fixed||this.__array.unshift(e)},get_length:function(){return this.__array.length},set_length:function(e){if(!this.fixed){var t=this.__array.length;if(e<0&&(e=0),e>t)for(var a=t,n=e;a<n;){a++;this.__array.push(null)}else for(;this.__array.length>e;)this.__array.pop()}return this.__array.length},__class__:openfl__$Vector_ObjectVector,__properties__:{set_length:"set_length",get_length:"get_length"}};var openfl_display_Application=function(){lime_app_Application.call(this),null==openfl_utils__$internal_Lib.application&&(openfl_utils__$internal_Lib.application=this),null==openfl_utils__$internal_Lib.current&&(openfl_utils__$internal_Lib.current=new openfl_display_MovieClip),openfl_utils__$internal_Lib.current.__loaderInfo=openfl_display_LoaderInfo.create(null),openfl_utils__$internal_Lib.current.__loaderInfo.content=openfl_utils__$internal_Lib.current};$hxClasses["openfl.display.Application"]=openfl_display_Application,openfl_display_Application.__name__="openfl.display.Application",openfl_display_Application.__super__=lime_app_Application,openfl_display_Application.prototype=$extend(lime_app_Application.prototype,{createWindow:function(e){var t=new openfl_display_Window(this,e);this.__windows.push(t),this.__windowByID.h[t.id]=t;var a=$bind(this,this.__onWindowClose),n=t;return t.onClose.add((function(){a(n)}),!1,-1e4),null==this.__window&&(this.__window=t,t.onActivate.add($bind(this,this.onWindowActivate)),t.onRenderContextLost.add($bind(this,this.onRenderContextLost)),t.onRenderContextRestored.add($bind(this,this.onRenderContextRestored)),t.onDeactivate.add($bind(this,this.onWindowDeactivate)),t.onDropFile.add($bind(this,this.onWindowDropFile)),t.onEnter.add($bind(this,this.onWindowEnter)),t.onExpose.add($bind(this,this.onWindowExpose)),t.onFocusIn.add($bind(this,this.onWindowFocusIn)),t.onFocusOut.add($bind(this,this.onWindowFocusOut)),t.onFullscreen.add($bind(this,this.onWindowFullscreen)),t.onKeyDown.add($bind(this,this.onKeyDown)),t.onKeyUp.add($bind(this,this.onKeyUp)),t.onLeave.add($bind(this,this.onWindowLeave)),t.onMinimize.add($bind(this,this.onWindowMinimize)),t.onMouseDown.add($bind(this,this.onMouseDown)),t.onMouseMove.add($bind(this,this.onMouseMove)),t.onMouseMoveRelative.add($bind(this,this.onMouseMoveRelative)),t.onMouseUp.add($bind(this,this.onMouseUp)),t.onMouseWheel.add($bind(this,this.onMouseWheel)),t.onMove.add($bind(this,this.onWindowMove)),t.onRender.add($bind(this,this.render)),t.onResize.add($bind(this,this.onWindowResize)),t.onRestore.add($bind(this,this.onWindowRestore)),t.onTextEdit.add($bind(this,this.onTextEdit)),t.onTextInput.add($bind(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(t),t},__class__:openfl_display_Application});var openfl_display_Bitmap=function(e,t,a){null==a&&(a=!1),openfl_display_DisplayObject.call(this),this.__drawableType=2,this.__bitmapData=e,this.pixelSnapping=t,this.smoothing=a,null==t&&(this.pixelSnapping=1)};$hxClasses["openfl.display.Bitmap"]=openfl_display_Bitmap,openfl_display_Bitmap.__name__="openfl.display.Bitmap",openfl_display_Bitmap.__super__=openfl_display_DisplayObject,openfl_display_Bitmap.prototype=$extend(openfl_display_DisplayObject.prototype,{__enterFrame:function(e){null!=this.__bitmapData&&null!=this.__bitmapData.image&&this.__bitmapData.image.version!=this.__imageVersion&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__getBounds:function(e,t){var a=openfl_geom_Rectangle.__pool.get();null!=this.__bitmapData?a.setTo(0,0,this.__bitmapData.width,this.__bitmapData.height):a.setTo(0,0,0,0),a.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)},__hitTest:function(e,t,a,n,i,s){if(!s.get_visible()||this.__isMask||null==this.__bitmapData)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;this.__getRenderTransform();var _,r,o=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.tx:1/r*(_.c*(_.ty-t)+_.d*(e-_.tx)),l=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.ty:1/r*(_.a*(t-_.ty)+_.b*(_.tx-e));return o>0&&l>0&&o<=this.__bitmapData.width&&l<=this.__bitmapData.height&&(!(null!=this.__scrollRect&&!this.__scrollRect.contains(o,l))&&(null==n||i||n.push(s),!0))},__hitTestMask:function(e,t){if(null==this.__bitmapData)return!1;this.__getRenderTransform();var a,n,i=0==(n=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.tx:1/n*(a.c*(a.ty-t)+a.d*(e-a.tx)),s=0==(n=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.ty:1/n*(a.a*(t-a.ty)+a.b*(a.tx-e));return i>0&&s>0&&i<=this.__bitmapData.width&&s<=this.__bitmapData.height},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(e){this.__bitmapData=e,this.smoothing=!1,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());this.__filters;return this.__imageVersion=-1,this.__bitmapData},set_height:function(e){return null!=this.__bitmapData?this.set_scaleY(e/this.__bitmapData.height):this.set_scaleY(0),e},set_width:function(e){return null!=this.__bitmapData?this.set_scaleX(e/this.__bitmapData.width):this.set_scaleX(0),e},__class__:openfl_display_Bitmap,__properties__:$extend(openfl_display_DisplayObject.prototype.__properties__,{set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var openfl_display_BitmapData=function(e,t,a,n){null==n&&(n=-1),null==a&&(a=!0),this.__drawableType=0,this.transparent=a,null==e&&(e=0),null==t&&(t=0),e<0&&(e=0),t<0&&(t=0),this.width=e,this.height=t,this.rect=new openfl_geom_Rectangle(0,0,e,t),this.__textureWidth=e,this.__textureHeight=t,e>0&&t>0&&(a?0==(-16777216&n)&&(n=0):n=-16777216|16777215&n,n=n<<8|n>>>24&255,this.image=new lime_graphics_Image(null,0,0,e,t,n),this.image.set_transparent(a),this.__isValid=!0,this.readable=!0),this.__renderTransform=new openfl_geom_Matrix,this.__worldAlpha=1,this.__worldTransform=new openfl_geom_Matrix,this.__worldColorTransform=new openfl_geom_ColorTransform,this.__renderable=!0};$hxClasses["openfl.display.BitmapData"]=openfl_display_BitmapData,openfl_display_BitmapData.__name__="openfl.display.BitmapData",openfl_display_BitmapData.__interfaces__=[openfl_display_IBitmapDrawable],openfl_display_BitmapData.fromBase64=function(e,t){return null},openfl_display_BitmapData.fromBytes=function(e,t){return null},openfl_display_BitmapData.fromCanvas=function(e,t){if(null==t&&(t=!0),null==e)return null;var a=new openfl_display_BitmapData(0,0,t,0);return a.__fromImage(lime_graphics_Image.fromCanvas(e)),a.image.set_transparent(t),a},openfl_display_BitmapData.fromFile=function(e){return null},openfl_display_BitmapData.fromImage=function(e,t){if(null==t&&(t=!0),null==e||null==e.buffer)return null;var a=new openfl_display_BitmapData(0,0,t,0);return a.__fromImage(e),a.image.set_transparent(t),null!=a.image?a:null},openfl_display_BitmapData.fromTexture=function(e){if(null==e)return null;var t=new openfl_display_BitmapData(e.__width,e.__height,!0,0);return t.readable=!1,t.__texture=e,t.__textureContext=e.__textureContext,t.image=null,t},openfl_display_BitmapData.loadFromBase64=function(e,t){return lime_graphics_Image.loadFromBase64(e,t).then((function(e){return lime_app_Future.withValue(openfl_display_BitmapData.fromImage(e))}))},openfl_display_BitmapData.loadFromBytes=function(e,t){return lime_graphics_Image.loadFromBytes(openfl_utils_ByteArray.toBytes(e)).then((function(e){var a=openfl_display_BitmapData.fromImage(e);return null!=t&&a.__applyAlpha(t),lime_app_Future.withValue(a)}))},openfl_display_BitmapData.loadFromFile=function(e){return lime_graphics_Image.loadFromFile(e).then((function(e){return lime_app_Future.withValue(openfl_display_BitmapData.fromImage(e))}))},openfl_display_BitmapData.prototype={applyFilter:function(e,t,a,n){if(this.readable&&null!=e&&e.readable){var i=n.__needSecondBitmapData,s=n.__preserveObject,_=null,r=null;_=i?new openfl_display_BitmapData(this.width,this.height,!0,0):this,s&&(r=new openfl_display_BitmapData(this.width,this.height,!0,0)),n.__preserveObject&&r.copyPixels(this,this.rect,a);var o=n.__applyFilter(_,this,t,a);n.__preserveObject&&o.draw(r,null,null),i&&o==_&&(_.image.version=this.image.version,this.image=_.image),this.image.dirty=!0,this.image.version++}},clone:function(){var e;return this.__isValid?this.readable||null!=this.image?e=openfl_display_BitmapData.fromImage(this.image.clone(),this.transparent):((e=new openfl_display_BitmapData(0,0,this.transparent,0)).width=this.width,e.height=this.height,e.__textureWidth=this.__textureWidth,e.__textureHeight=this.__textureHeight,e.rect.copyFrom(this.rect),e.__framebuffer=this.__framebuffer,e.__framebufferContext=this.__framebufferContext,e.__texture=this.__texture,e.__textureContext=this.__textureContext,e.__isValid=!0):e=new openfl_display_BitmapData(this.width,this.height,this.transparent,0),e.__worldTransform.copyFrom(this.__worldTransform),e.__renderTransform.copyFrom(this.__renderTransform),e},colorTransform:function(e,t){this.readable&&this.image.colorTransform(e.__toLimeRectangle(),t.__toLimeColorMatrix())},compare:function(e){if(e==this)return 0;if(null==e)return-1;if(0==this.readable||0==e.readable)return-2;if(this.width!=e.width)return-3;if(this.height!=e.height)return-4;if(null!=this.image&&null!=e.image&&this.image.get_format()==e.image.get_format()){for(var t=this.image.get_data(),a=e.image.get_data(),n=!0,i=0,s=t.length;i<s;){var _=i++;if(t[_]!=a[_]){n=!1;break}}if(n)return 0}var r,o,l,h,u,p,c,d,f=null;for(i=0,s=this.height;i<s;)for(var m=i++,g=0,x=this.width;g<x;){var k=g++;r=!1,h=0,(o=this.getPixel32(k,m))!=(l=e.getPixel32(k,m))&&((u=(o>>>16&255)-(l>>>16&255))<0&&(u*=-1),(p=(o>>>8&255)-(l>>>8&255))<0&&(p*=-1),(c=(255&o)-(255&l))<0&&(c*=-1),0==u&&0==p&&0==c?0!=(d=(o>>>24&255)-(l>>>24&255))&&(h=(255&d)<<24|(255&(h=(255&(h=(255&(h=(255&h>>>24)<<24|16711680|(255&h>>>8)<<8|255&h)>>>24)<<24|(255&h>>>16)<<16|65280|255&h)>>>24)<<24|(255&h>>>16)<<16|(255&h>>>8)<<8|255)>>>16)<<16|(255&h>>>8)<<8|255&h,r=!0):(h=-16777216|(255&(h=(255&(h=(255&(h=(255&h>>>24)<<24|(255&u)<<16|(255&h>>>8)<<8|255&h)>>>24)<<24|(255&h>>>16)<<16|(255&p)<<8|255&h)>>>24)<<24|(255&h>>>16)<<16|(255&h>>>8)<<8|255&c)>>>16)<<16|(255&h>>>8)<<8|255&h,r=!0)),r&&(null==f&&(f=new openfl_display_BitmapData(this.width,this.height,this.transparent||e.transparent,0)),f.setPixel32(k,m,h))}return null==f?0:f},copyChannel:function(e,t,a,n,i){if(this.readable){var s,_;switch(n){case 1:s=lime_graphics_ImageChannel.RED;break;case 2:s=lime_graphics_ImageChannel.GREEN;break;case 4:s=lime_graphics_ImageChannel.BLUE;break;case 8:s=lime_graphics_ImageChannel.ALPHA;break;default:return}switch(i){case 1:_=lime_graphics_ImageChannel.RED;break;case 2:_=lime_graphics_ImageChannel.GREEN;break;case 4:_=lime_graphics_ImageChannel.BLUE;break;case 8:_=lime_graphics_ImageChannel.ALPHA;break;default:return}this.image.copyChannel(e.image,t.__toLimeRectangle(),a.__toLimeVector2(),s,_)}},copyPixels:function(e,t,a,n,i,s){null==s&&(s=!1),this.readable&&null!=e&&(null!=i&&(openfl_display_BitmapData.__tempVector.x=i.x,openfl_display_BitmapData.__tempVector.y=i.y),this.image.copyPixels(e.image,t.__toLimeRectangle(),a.__toLimeVector2(),null!=n?n.image:null,null!=i?openfl_display_BitmapData.__tempVector:null,s))},dispose:function(){this.image=null,this.width=0,this.height=0,this.rect=null,this.__isValid=!1,this.readable=!1,this.__surface=null,this.__vertexBuffer=null,this.__framebuffer=null,this.__framebufferContext=null,this.__texture=null,this.__textureContext=null},disposeImage:function(){this.readable=!1},draw:function(e,t,a,n,i,s){if(null==s&&(s=!1),null!=e){e.__update(!1,!0);var _=openfl_geom_Matrix.__pool.get();_.copyFrom(e.__renderTransform),_.invert(),null!=t&&_.concat(t);var r=null;null!=i&&((r=openfl_geom_Matrix.__pool.get()).copyFrom(_),r.invert());var o=new openfl_geom_ColorTransform;if(o.__copyFrom(e.__worldColorTransform),o.__invert(),this.readable||null==openfl_Lib.get_current().stage.context3D){if(null!=a){var l=openfl_geom_Rectangle.__pool.get(),h=openfl_geom_Matrix.__pool.get();e.__getBounds(l,h);var u=Math.ceil(l.width),p=Math.ceil(l.height);h.tx=-l.x,h.ty=-l.y;var c=new openfl_display_BitmapData(u,p,!0,0);c.draw(e,h),c.colorTransform(c.rect,a),c.__renderTransform.identity(),c.__renderTransform.tx=l.x,c.__renderTransform.ty=l.y,c.__renderTransform.concat(e.__renderTransform),c.__worldAlpha=e.__worldAlpha,c.__worldColorTransform.__copyFrom(e.__worldColorTransform),e=c,openfl_geom_Rectangle.__pool.release(l),openfl_geom_Matrix.__pool.release(h)}lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this.image),(d=new openfl_display_CanvasRenderer(this.image.buffer.__srcContext)).__allowSmoothing=s,d.__overrideBlendMode=n,d.__worldTransform=_,d.__worldAlpha=1/e.__worldAlpha,d.__worldColorTransform=o,null!=i&&d.__pushMaskRect(i,r),this.__drawCanvas(e,d),null!=i&&(d.__popMaskRect(),openfl_geom_Matrix.__pool.release(r))}else{var d;null==this.__textureContext&&(this.__textureContext=lime_app_Application.current.__window.context),null!=a&&o.__combine(a),(d=new openfl_display_OpenGLRenderer(openfl_Lib.get_current().stage.context3D,this)).__allowSmoothing=s,d.__overrideBlendMode=n,d.__worldTransform=_,d.__worldAlpha=1/e.__worldAlpha,d.__worldColorTransform=o,d.__resize(this.width,this.height),null!=i&&d.__pushMaskRect(i,r),this.__drawGL(e,d),null!=i&&(d.__popMaskRect(),openfl_geom_Matrix.__pool.release(r))}openfl_geom_Matrix.__pool.release(_)}},drawWithQuality:function(e,t,a,n,i,s,_){null==s&&(s=!1),this.draw(e,t,a,n,i,2!=_&&s)},encode:function(e,t,a){if(!this.readable||null==e)return a=null;null==a&&(a=new openfl_utils_ByteArrayData(0));var n=this.image;if(!e.equals(this.rect)){var i=openfl_geom_Matrix.__pool.get();i.tx=Math.round(-e.x),i.ty=Math.round(-e.y);var s=new openfl_display_BitmapData(Math.ceil(e.width),Math.ceil(e.height),!0,0);s.draw(this,i),n=s.image,openfl_geom_Matrix.__pool.release(i)}return t instanceof openfl_display_PNGEncoderOptions?(a.writeBytes(openfl_utils_ByteArray.fromBytes(n.encode(lime_graphics_ImageFileFormat.PNG)),0,0),a):t instanceof openfl_display_JPEGEncoderOptions?(a.writeBytes(openfl_utils_ByteArray.fromBytes(n.encode(lime_graphics_ImageFileFormat.JPEG,js_Boot.__cast(t,openfl_display_JPEGEncoderOptions).quality)),0,0),a):a=null},fillRect:function(e,t){this.__fillRect(e,t,!0)},floodFill:function(e,t,a){this.readable&&this.image.floodFill(e,t,a,1)},generateFilterRect:function(e,t){return e.clone()},getIndexBuffer:function(e,t){e.gl;if(null==this.__indexBuffer||this.__indexBufferContext!=e.__context||null!=t&&null==this.__indexBufferGrid||null!=this.__indexBufferGrid&&!this.__indexBufferGrid.equals(t)){if(this.__indexBufferContext=e.__context,this.__indexBuffer=null,null!=t){null==this.__indexBufferGrid&&(this.__indexBufferGrid=new openfl_geom_Rectangle),this.__indexBufferGrid.copyFrom(t);var a=t.width,n=t.height;if(0!=a&&0!=n){var i=new Uint16Array(54);this.__indexBufferData=i,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBufferData[18]=8,this.__indexBufferData[19]=9,this.__indexBufferData[20]=0,this.__indexBufferData[21]=0,this.__indexBufferData[22]=9,this.__indexBufferData[23]=1,this.__indexBufferData[24]=10,this.__indexBufferData[25]=8,this.__indexBufferData[26]=4,this.__indexBufferData[27]=4,this.__indexBufferData[28]=8,this.__indexBufferData[29]=0,this.__indexBufferData[30]=11,this.__indexBufferData[31]=10,this.__indexBufferData[32]=6,this.__indexBufferData[33]=6,this.__indexBufferData[34]=10,this.__indexBufferData[35]=4,this.__indexBufferData[36]=12,this.__indexBufferData[37]=13,this.__indexBufferData[38]=8,this.__indexBufferData[39]=8,this.__indexBufferData[40]=13,this.__indexBufferData[41]=9,this.__indexBufferData[42]=14,this.__indexBufferData[43]=12,this.__indexBufferData[44]=10,this.__indexBufferData[45]=10,this.__indexBufferData[46]=12,this.__indexBufferData[47]=8,this.__indexBufferData[48]=15,this.__indexBufferData[49]=14,this.__indexBufferData[50]=11,this.__indexBufferData[51]=11,this.__indexBufferData[52]=14,this.__indexBufferData[53]=10,this.__indexBuffer=e.createIndexBuffer(54)}else if(0==a&&0!=n){i=new Uint16Array(18);this.__indexBufferData=i,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=5,this.__indexBufferData[8]=0,this.__indexBufferData[9]=0,this.__indexBufferData[10]=5,this.__indexBufferData[11]=1,this.__indexBufferData[12]=6,this.__indexBufferData[13]=7,this.__indexBufferData[14]=4,this.__indexBufferData[15]=4,this.__indexBufferData[16]=7,this.__indexBufferData[17]=5,this.__indexBuffer=e.createIndexBuffer(18)}else if(0!=a&&0==n){i=new Uint16Array(18);this.__indexBufferData=i,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBuffer=e.createIndexBuffer(18)}}else this.__indexBufferGrid=null;if(null==this.__indexBuffer){i=new Uint16Array(6);this.__indexBufferData=i,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBuffer=e.createIndexBuffer(6)}this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},getVertexBuffer:function(e,t,a){e.gl;if(null==this.__vertexBuffer||this.__vertexBufferContext!=e.__context||null!=t&&null==this.__vertexBufferGrid||null!=this.__vertexBufferGrid&&!this.__vertexBufferGrid.equals(t)||null!=a&&(this.__vertexBufferWidth!=a.get_width()||this.__vertexBufferHeight!=a.get_height()||this.__vertexBufferScaleX!=a.get_scaleX()||this.__vertexBufferScaleY!=a.get_scaleY())){this.__uvRect=new openfl_geom_Rectangle(0,0,this.width,this.height);if(this.__vertexBufferContext=e.__context,this.__vertexBuffer=null,null!=a&&(this.__vertexBufferWidth=a.get_width(),this.__vertexBufferHeight=a.get_height(),this.__vertexBufferScaleX=a.get_scaleX(),this.__vertexBufferScaleY=a.get_scaleY()),null!=t&&null!=a){null==this.__vertexBufferGrid&&(this.__vertexBufferGrid=new openfl_geom_Rectangle),this.__vertexBufferGrid.copyFrom(t),this.__vertexBufferWidth=a.get_width(),this.__vertexBufferHeight=a.get_height(),this.__vertexBufferScaleX=a.get_scaleX(),this.__vertexBufferScaleY=a.get_scaleY();var n=t.width,i=t.height;if(0!=n&&0!=i){var s=new Float32Array(224);this.__vertexBufferData=s;var _=t.x,r=t.y,o=this.width-n-_,l=this.height-i-r,h=_/this.width,u=r/this.height,p=n/this.width,c=i/this.height,d=(this.width,this.height,_/a.get_scaleX()),f=r/a.get_scaleY(),m=o/a.get_scaleX(),g=l/a.get_scaleY(),x=a.get_width()/a.get_scaleX()-d-m,k=a.get_height()/a.get_scaleY()-f-g;this.__vertexBufferData[0]=d,this.__vertexBufferData[1]=f,this.__vertexBufferData[3]=1*h,this.__vertexBufferData[4]=1*u,this.__vertexBufferData[15]=f,this.__vertexBufferData[18]=1*u,this.__vertexBufferData[28]=d,this.__vertexBufferData[31]=1*h,this.__vertexBufferData[56]=d+x,this.__vertexBufferData[57]=f,this.__vertexBufferData[59]=1*(h+p),this.__vertexBufferData[60]=1*u,this.__vertexBufferData[70]=d+x,this.__vertexBufferData[73]=1*(h+p),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=f,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1*u,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=1,this.__vertexBufferData[112]=d,this.__vertexBufferData[113]=f+k,this.__vertexBufferData[115]=1*h,this.__vertexBufferData[116]=1*(u+c),this.__vertexBufferData[127]=f+k,this.__vertexBufferData[130]=1*(u+c),this.__vertexBufferData[140]=d+x,this.__vertexBufferData[141]=f+k,this.__vertexBufferData[143]=1*(h+p),this.__vertexBufferData[144]=1*(u+c),this.__vertexBufferData[154]=this.width,this.__vertexBufferData[155]=f+k,this.__vertexBufferData[157]=1,this.__vertexBufferData[158]=1*(u+c),this.__vertexBufferData[168]=d,this.__vertexBufferData[169]=this.height,this.__vertexBufferData[171]=1*h,this.__vertexBufferData[172]=1,this.__vertexBufferData[183]=this.height,this.__vertexBufferData[186]=1,this.__vertexBufferData[196]=d+x,this.__vertexBufferData[197]=this.height,this.__vertexBufferData[199]=1*(h+p),this.__vertexBufferData[200]=1,this.__vertexBufferData[210]=this.width,this.__vertexBufferData[211]=this.height,this.__vertexBufferData[213]=1,this.__vertexBufferData[214]=1,this.__vertexBuffer=e.createVertexBuffer(16,14)}else if(0==n&&0!=i){s=new Float32Array(112);this.__vertexBufferData=s;r=t.y,l=this.height-i-r,u=r/this.height,c=i/this.height,this.height,f=r/a.get_scaleY(),g=l/a.get_scaleY(),k=a.get_height()/a.get_scaleY()-f-g;var y=a.get_width()/a.get_scaleX();this.__vertexBufferData[0]=y,this.__vertexBufferData[1]=f,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1*u,this.__vertexBufferData[15]=f,this.__vertexBufferData[18]=1*u,this.__vertexBufferData[28]=y,this.__vertexBufferData[31]=1,this.__vertexBufferData[56]=y,this.__vertexBufferData[57]=f+k,this.__vertexBufferData[59]=1,this.__vertexBufferData[60]=1*(u+c),this.__vertexBufferData[71]=f+k,this.__vertexBufferData[74]=1*(u+c),this.__vertexBufferData[84]=y,this.__vertexBufferData[85]=this.height,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[99]=this.height,this.__vertexBufferData[102]=1,this.__vertexBuffer=e.createVertexBuffer(8,14)}else if(0==i&&0!=n){s=new Float32Array(112);this.__vertexBufferData=s;_=t.x,o=this.width-n-_,h=_/this.width,p=n/this.width,this.width,d=_/a.get_scaleX(),m=o/a.get_scaleX(),x=a.get_width()/a.get_scaleX()-d-m;var b=a.get_height()/a.get_scaleY();this.__vertexBufferData[0]=d,this.__vertexBufferData[1]=b,this.__vertexBufferData[3]=1*h,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=b,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=d,this.__vertexBufferData[31]=1*h,this.__vertexBufferData[56]=d+x,this.__vertexBufferData[57]=b,this.__vertexBufferData[59]=1*(h+p),this.__vertexBufferData[60]=1,this.__vertexBufferData[70]=d+x,this.__vertexBufferData[73]=1*(h+p),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=b,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=1,this.__vertexBuffer=e.createVertexBuffer(8,14)}}else this.__vertexBufferGrid=null;if(null==this.__vertexBuffer){s=new Float32Array(56);this.__vertexBufferData=s,this.__vertexBufferData[0]=this.width,this.__vertexBufferData[1]=this.height,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=this.height,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=this.width,this.__vertexBufferData[31]=1,this.__vertexBuffer=e.createVertexBuffer(3,14)}this.__vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},getColorBoundsRect:function(e,t,a){if(null==a&&(a=!0),!this.readable)return new openfl_geom_Rectangle(0,0,this.width,this.height);if(!this.transparent||(e>>24&255)>0){0==(t>>>24&255)&&0}var n=this.image.getColorBoundsRect(e,t,a,1);return new openfl_geom_Rectangle(n.x,n.y,n.width,n.height)},getPixel:function(e,t){return this.readable?this.image.getPixel(e,t,1):0},getPixel32:function(e,t){return this.readable?this.image.getPixel32(e,t,1):0},getPixels:function(e){if(!this.readable)return null;null==e&&(e=this.rect);var t=openfl_utils_ByteArray.fromBytes(this.image.getPixels(e.__toLimeRectangle(),1));return t.__endian=0,t},getSurface:function(){return this.readable?(null==this.__surface&&(this.__surface=lime_graphics_cairo_CairoImageSurface.fromImage(this.image)),this.__surface):null},getTexture:function(e){if(!this.__isValid)return null;if(null!=this.__texture&&this.__textureContext==e.__context||(this.__textureContext=e.__context,this.__texture=e.createRectangleTexture(this.width,this.height,1,!1),this.__textureVersion=-1),lime__$internal_graphics_ImageCanvasUtil.sync(this.image,!1),null!=this.image&&this.image.version>this.__textureVersion){null!=this.__surface&&lime_graphics_cairo_CairoSurface.flush(this.__surface);var t=this.image;openfl_display3D_textures_TextureBase.__supportsBGRA||0==t.get_format()||(t=t.clone()).set_format(0),this.__texture.__uploadFromImage(t),this.__textureVersion=this.image.version,this.__textureWidth=t.buffer.width,this.__textureHeight=t.buffer.height}return this.readable||null==this.image||(this.__surface=null,this.image=null),this.__texture},getVector:function(e){for(var t=this.getPixels(e),a=UInt.toFloat(openfl_utils_ByteArray.get_length(t))/UInt.toFloat(4)|0,n=openfl_Vector.toIntVector(null,a,!0),i=0,s=a;i<s;){var _=i++;n.set(_,t.readUnsignedInt())}return n},histogram:function(e){for(var t=null!=e?e:new openfl_geom_Rectangle(0,0,this.width,this.height),a=this.getPixels(t),n=[],i=[],s=0;s<256;){s++;i.push(0)}n.push(i);for(i=[],s=0;s<256;){s++;i.push(0)}n.push(i);for(i=[],s=0;s<256;){s++;i.push(0)}n.push(i);for(i=[],s=0;s<256;){s++;i.push(0)}n.push(i);var _=n;for(n=0,i=openfl_utils_ByteArray.get_length(a);n<i;){++_[n++%4][a.readUnsignedByte()]}return _},hitTest:function(e,t,a,n,i){if(null==i&&(i=1),!this.readable)return!1;if(a instanceof openfl_display_Bitmap&&(a=js_Boot.__cast(a,openfl_display_Bitmap).__bitmapData),a instanceof openfl_geom_Point){var s=a,_=s.x-e.x|0,r=s.y-e.y|0;if(this.rect.contains(_,r))if(((m=this.getPixel32(_,r))>>24&255)>t)return!0}else if(a instanceof openfl_display_BitmapData){var o=a;null==n?(_=0,r=0):(_=Math.round(n.x-e.x),r=Math.round(n.y-e.y));var l=openfl_geom_Rectangle.__pool.get();if(l.setTo(_,r,o.width,o.height),this.rect.intersects(l)){_<0?(l.x=0,l.width=Math.min(o.width+_,this.width)):l.width=Math.min(o.width,this.width-_),r<0?(l.y=0,l.height=Math.min(o.height+r,this.height)):l.height=Math.min(o.height,this.height-r);var h=this.getPixels(l);l.x=_<0?-_:0,l.y=r<0?-r:0;for(var u,p=o.getPixels(l),c=0,d=l.width*l.height|0;c<d;){c++;if(m=h.readUnsignedInt(),u=p.readUnsignedInt(),UInt.gt(m>>>24&255,t)&&UInt.gt(u>>>24&255,i))return openfl_geom_Rectangle.__pool.release(l),!0}}openfl_geom_Rectangle.__pool.release(l)}else if(a instanceof openfl_geom_Rectangle){var f=openfl_geom_Rectangle.__pool.get();if(f.copyFrom(a),f.offset(-e.x,-e.y),f.__contract(0,0,this.width,this.height),f.width>0&&f.height>0){var m;for(h=this.getPixels(f),c=0,d=UInt.toFloat(openfl_utils_ByteArray.get_length(h))/UInt.toFloat(4)|0;c<d;){c++;if(m=h.readUnsignedInt(),UInt.gt(m>>>24&255,t))return openfl_geom_Rectangle.__pool.release(f),!0}}openfl_geom_Rectangle.__pool.release(f)}return!1},lock:function(){},merge:function(e,t,a,n,i,s,_){this.readable&&null!=e&&e.readable&&null!=t&&null!=a&&this.image.merge(e.image,t.__toLimeRectangle(),a.__toLimeVector2(),n,i,s,_)},noise:function(e,t,a,n,i){if(null==i&&(i=!1),null==n&&(n=7),null==a&&(a=255),null==t&&(t=0),this.readable){var s=function(){return e=1103515245*e+12345,(0|Math.abs(e/65536))%32768};s();for(var _=a-t,r=1==(1&n),o=(2&n)>>1==1,l=(4&n)>>2==1,h=(8&n)>>3==1,u=0,p=this.height;u<p;)for(var c=u++,d=0,f=this.width;d<f;){var m=d++,g=0,x=0,k=0,y=255;i?(g=k=x=t+s()%_,y=255):(r&&(g=t+s()%_),o&&(k=t+s()%_),l&&(x=t+s()%_),h&&(y=t+s()%_));var b=y;b=((b=((b=(b<<8)+g)<<8)+k)<<8)+x,this.setPixel32(m,c,b)}}},paletteMap:function(e,t,a,n,i,s,_){for(var r,o,l=0|t.width,h=0|t.height,u=e.getPixels(t),p=0,c=h*l;p<c;){var d=p++;r=u.readUnsignedInt(),o=(null==_?-16777216&r:_[r>>24&255])+(null==n?16711680&r:n[r>>16&255])+(null==i?65280&r:i[r>>8&255])+(null==s?255&r:s[255&r]),u.position=4*d,u.writeUnsignedInt(o)}u.position=0;var f=openfl_geom_Rectangle.__pool.get();f.setTo(a.x,a.y,l,h),this.setPixels(f,u),openfl_geom_Rectangle.__pool.release(f)},perlinNoise:function(e,t,a,n,i,s,_,r,o){(null==r&&(r=!1),null==_&&(_=7),this.readable)&&new openfl_display__$internal_PerlinNoise(n,a,_,r,.5,i,.15).fill(this,e,t,0)},scroll:function(e,t){this.readable&&this.image.scroll(e,t)},setPixel:function(e,t,a){this.readable&&this.image.setPixel(e,t,a,1)},setPixel32:function(e,t,a){this.readable&&this.image.setPixel32(e,t,a,1)},setPixels:function(e,t){if(this.readable&&null!=e){var a=e.width*e.height*4;if(UInt.toFloat(t.length-t.position)<a)throw haxe_Exception.thrown(new openfl_errors_Error("End of file was encountered.",2030));this.image.setPixels(e.__toLimeRectangle(),openfl_utils_ByteArray.toBytePointer(t),1,openfl_utils_Endian.toLimeEndian(t.__endian))}},setVector:function(e,t){var a=new openfl_utils_ByteArrayData(0);openfl_utils_ByteArray.set_length(a,4*t.get_length());for(var n=t.iterator();n.hasNext();){var i=n.next();a.writeUnsignedInt(i)}a.position=0,this.setPixels(e,a)},threshold:function(e,t,a,n,i,s,_,r){return null==r&&(r=!1),null==_&&(_=-1),null==s&&(s=0),null==e||null==t||null==a||t.x>e.width||t.y>e.height||a.x>this.width||a.y>this.height?0:this.image.threshold(e.image,t.__toLimeRectangle(),a.__toLimeVector2(),n,i,s,_,r,1)},unlock:function(e){},__applyAlpha:function(e){lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this.image),lime__$internal_graphics_ImageCanvasUtil.createImageData(this.image);for(var t=this.image.buffer.data,a=0,n=openfl_utils_ByteArray.get_length(e);a<n;){t[4*a+++3]=e.readUnsignedByte()}this.image.version++},__drawCairo:function(e,t){},__drawCanvas:function(e,t){var a=this.image.buffer;t.__allowSmoothing||t.applySmoothing(a.__srcContext,!1),t.__render(e),t.__allowSmoothing||t.applySmoothing(a.__srcContext,!0),a.__srcContext.setTransform(1,0,0,1,0,0),a.__srcImageData=null,a.data=null,this.image.dirty=!0,this.image.version++},__drawGL:function(e,t){var a=t.__context3D,n=a.__state.renderToTexture,i=a.__state.renderToTextureDepthStencil,s=a.__state.renderToTextureAntiAlias,_=a.__state.renderToTextureSurfaceSelector;a.setRenderToTexture(this.getTexture(a),!0),t.__render(e),null!=n?a.setRenderToTexture(n,i,s,_):a.setRenderToBackBuffer()},__fillRect:function(e,t,a){if(null!=e)if(this.transparent&&0==(-16777216&t)&&(t=0),a&&null!=this.__texture&&null!=this.__texture.__glFramebuffer&&"opengl"==openfl_Lib.get_current().stage.__renderer.__type){var n=openfl_Lib.get_current().stage.__renderer.__context3D,i=t,s=!this.rect.equals(e),_=n.__state.renderToTexture,r=n.__state.renderToTextureDepthStencil,o=n.__state.renderToTextureAntiAlias,l=n.__state.renderToTextureSurfaceSelector;n.setRenderToTexture(this.__texture),s&&n.setScissorRectangle(e),n.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,this.transparent?(i>>>24&255)/255:1,0,0,1),s&&n.setScissorRectangle(null),null!=_?n.setRenderToTexture(_,r,o,l):n.setRenderToBackBuffer()}else this.readable&&this.image.fillRect(e.__toLimeRectangle(),t,1)},__fromBase64:function(e,t){var a=lime_graphics_Image.fromBase64(e,t);this.__fromImage(a)},__fromBytes:function(e,t){var a=lime_graphics_Image.fromBytes(openfl_utils_ByteArray.toBytes(e));this.__fromImage(a),null!=t&&this.__applyAlpha(t)},__fromFile:function(e){var t=lime_graphics_Image.fromFile(e);this.__fromImage(t)},__fromImage:function(e){null!=e&&null!=e.buffer&&(this.image=e,this.width=e.width,this.height=e.height,this.rect=new openfl_geom_Rectangle(0,0,e.width,e.height),this.__textureWidth=this.width,this.__textureHeight=this.height,this.readable=!0,this.__isValid=!0)},__getBounds:function(e,t){var a=openfl_geom_Rectangle.__pool.get();this.rect.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)},__loadFromBase64:function(e,t){var a=this;return lime_graphics_Image.loadFromBase64(e,t).then((function(e){return a.__fromImage(e),lime_app_Future.withValue(a)}))},__loadFromBytes:function(e,t){var a=this;return lime_graphics_Image.loadFromBytes(openfl_utils_ByteArray.toBytes(e)).then((function(e){return a.__fromImage(e),null!=t&&a.__applyAlpha(t),lime_app_Future.withValue(a)}))},__loadFromFile:function(e){var t=this;return lime_graphics_Image.loadFromFile(e).then((function(e){return t.__fromImage(e),lime_app_Future.withValue(t)}))},__resize:function(e,t){this.width=e,this.height=t,this.rect.width=e,this.rect.height=t,this.__textureWidth=e,this.__textureHeight=t},__setUVRect:function(e,t,a,n,i){if(null!=this.getVertexBuffer(e)&&(n!=this.__uvRect.width||i!=this.__uvRect.height||t!=this.__uvRect.x||a!=this.__uvRect.y)){e.gl;null==this.__uvRect&&(this.__uvRect=new openfl_geom_Rectangle),this.__uvRect.setTo(t,a,n,i);var s=this.__textureWidth>0?t/this.__textureWidth:0,_=this.__textureHeight>0?a/this.__textureHeight:0,r=this.__textureWidth>0?n/this.__textureWidth:0,o=this.__textureHeight>0?i/this.__textureHeight:0;this.__vertexBufferData[0]=n,this.__vertexBufferData[1]=i,this.__vertexBufferData[3]=s+r,this.__vertexBufferData[4]=_+o,this.__vertexBufferData[15]=i,this.__vertexBufferData[17]=s,this.__vertexBufferData[18]=_+o,this.__vertexBufferData[28]=n,this.__vertexBufferData[31]=s+r,this.__vertexBufferData[32]=_,this.__vertexBufferData[45]=s,this.__vertexBufferData[46]=_,this.__vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__vertexBufferData))}},__sync:function(){lime__$internal_graphics_ImageCanvasUtil.sync(this.image,!1)},__update:function(e,t){this.__updateTransforms()},__updateTransforms:function(e){null==e?this.__worldTransform.identity():this.__worldTransform.copyFrom(e),this.__renderTransform.copyFrom(this.__worldTransform)},__class__:openfl_display_BitmapData};var openfl_display_BlendMode={fromString:function(e){switch(e){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},toString:function(e){switch(e){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}}},openfl_display_DisplayObjectRenderer=function(){openfl_events_EventDispatcher.call(this),this.__allowSmoothing=!0,this.__tempColorTransform=new openfl_geom_ColorTransform,this.__worldAlpha=1};$hxClasses["openfl.display.DisplayObjectRenderer"]=openfl_display_DisplayObjectRenderer,openfl_display_DisplayObjectRenderer.__name__="openfl.display.DisplayObjectRenderer",openfl_display_DisplayObjectRenderer.__super__=openfl_events_EventDispatcher,openfl_display_DisplayObjectRenderer.prototype=$extend(openfl_events_EventDispatcher.prototype,{__clear:function(){},__getAlpha:function(e){return e*this.__worldAlpha},__getColorTransform:function(e){return null!=this.__worldColorTransform?(this.__tempColorTransform.__copyFrom(this.__worldColorTransform),this.__tempColorTransform.__combine(e),this.__tempColorTransform):e},__popMask:function(){},__popMaskObject:function(e,t){null==t&&(t=!0)},__popMaskRect:function(){},__pushMask:function(e){},__pushMaskObject:function(e,t){null==t&&(t=!0)},__pushMaskRect:function(e,t){},__render:function(e){},__renderEvent:function(e){if(null!=e.__customRenderEvent&&e.__renderable){switch(e.__customRenderEvent.allowSmoothing=this.__allowSmoothing,e.__customRenderEvent.objectMatrix.copyFrom(e.__renderTransform),e.__customRenderEvent.objectColorTransform.__copyFrom(e.__worldColorTransform),e.__customRenderEvent.renderer=this,this.__type){case"cairo":e.__customRenderEvent.type="renderCairo";break;case"canvas":e.__customRenderEvent.type="renderCanvas";break;case"dom":null!=e.stage&&e.__worldVisible?e.__customRenderEvent.type="renderDOM":e.__customRenderEvent.type="clearDOM";break;case"opengl":this.__cleared||this.__clear(),(t=this).setShader(e.__worldShader),t.__context3D.__flushGL(),e.__customRenderEvent.type="renderOpenGL";break;default:return}var t;if(this.__setBlendMode(e.__worldBlendMode),this.__pushMaskObject(e),e.dispatchEvent(e.__customRenderEvent),this.__popMaskObject(e),"opengl"==this.__type)(t=this).setViewport()}},__resize:function(e,t){},__setBlendMode:function(e){},__shouldCacheHardware:function(e,t){if(null==e)return null;switch(e.__drawableType){case 4:case 5:if(1==t)return!0;if(1==(t=this.__shouldCacheHardware_DisplayObject(e,t)))return!0;if(null!=e.__children)for(var a=0,n=e.__children;a<n.length;){var i=n[a];if(++a,1==(t=this.__shouldCacheHardware_DisplayObject(i,t)))return!0}return t;case 7:return 1==t;case 9:return!0;default:return this.__shouldCacheHardware_DisplayObject(e,t)}},__shouldCacheHardware_DisplayObject:function(e,t){return 1==t||null!=e.__filters||!(0==t||null!=e.__graphics&&!openfl_display__$internal_Context3DGraphics.isCompatible(e.__graphics))&&null},__updateCacheBitmap:function(e,t){if(null==e)return!1;switch(e.__drawableType){case 2:if(null==(F=e).__bitmapData||null==F.__filters&&"opengl"==this.__type&&null==F.__cacheBitmap)return!1;t=null!=F.__bitmapData.image&&F.__bitmapData.image.version!=F.__imageVersion;break;case 7:if(null==(v=e).__filters&&"opengl"==this.__type&&null==v.__cacheBitmap&&!v.__domRender)return!1;t&&(v.__renderDirty=!0),t=t||v.__dirty;break;case 9:var a=e;if(null==a.__filters&&"opengl"==this.__type&&null==a.__cacheBitmap)return!1}if(e.__isCacheBitmapRender)return!1;var n=openfl_geom_ColorTransform.__pool.get();n.__copyFrom(e.__worldColorTransform),null!=this.__worldColorTransform&&n.__combine(this.__worldColorTransform);var i=!1;if(e.get_cacheAsBitmap()||"opengl"!=this.__type&&!n.__isDefault(!0)){var s=null,_=null==e.__cacheBitmap||e.__renderDirty&&(t||null!=e.__children&&e.__children.length>0)||e.opaqueBackground!=e.__cacheBitmapBackground,r=_||null!=e.__graphics&&e.__graphics.__softwareDirty||!e.__cacheBitmapColorTransform.__equals(n,!0),o=_||null!=e.__graphics&&e.__graphics.__hardwareDirty,l=this.__type;(r||o)&&("opengl"==l&&0==this.__shouldCacheHardware(e,null)&&(l="canvas"),!r||"canvas"!=l&&"cairo"!=l||(_=!0),o&&"opengl"==l&&(_=!0));var h=_||!e.__cacheBitmap.__worldTransform.equals(e.__worldTransform),u=null!=e.__filters;if(u&&!_)for(var p=0,c=e.__filters;p<c.length;){var d=c[p];if(++p,d.__renderDirty){_=!0;break}}null==e.__cacheBitmapMatrix&&(e.__cacheBitmapMatrix=new openfl_geom_Matrix);var f=null!=e.__cacheAsBitmapMatrix?e.__cacheAsBitmapMatrix:e.__renderTransform;_||f.a==e.__cacheBitmapMatrix.a&&f.b==e.__cacheBitmapMatrix.b&&f.c==e.__cacheBitmapMatrix.c&&f.d==e.__cacheBitmapMatrix.d||(_=!0),!_&&"opengl"!=this.__type&&null!=e.__cacheBitmapData&&null!=e.__cacheBitmapData.image&&e.__cacheBitmapData.image.version<e.__cacheBitmapData.__textureVersion&&(_=!0),e.__cacheBitmapMatrix.copyFrom(f),e.__cacheBitmapMatrix.tx=0,e.__cacheBitmapMatrix.ty=0;var m=0,g=0,x=0,k=0,y=0,b=0;if((h||_)&&(s=openfl_geom_Rectangle.__pool.get(),e.__getFilterBounds(s,e.__cacheBitmapMatrix),x=Math.ceil(s.width),k=Math.ceil(s.height),y=s.x>0?Math.ceil(s.x):Math.floor(s.x),b=s.y>0?Math.ceil(s.y):Math.floor(s.y),null!=e.__cacheBitmapData?x>e.__cacheBitmapData.width||k>e.__cacheBitmapData.height?(m=Math.ceil(Math.max(1.25*x,e.__cacheBitmapData.width)),g=Math.ceil(Math.max(1.25*k,e.__cacheBitmapData.height)),_=!0):(m=e.__cacheBitmapData.width,g=e.__cacheBitmapData.height):(m=x,g=k)),_){if(h=!0,e.__cacheBitmapBackground=e.opaqueBackground,!(x>=.5&&k>=.5)){var v;if(openfl_geom_ColorTransform.__pool.release(n),e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapRenderer=null,7==e.__drawableType)null!=(v=e).__cacheBitmap&&(v.__cacheBitmap.__renderTransform.tx-=v.__offsetX,v.__cacheBitmap.__renderTransform.ty-=v.__offsetY);return!0}var P=null!=e.opaqueBackground&&(m!=x||g!=k),w=null!=e.opaqueBackground?-16777216|e.opaqueBackground:0,T=P?0:w,C="opengl"==this.__type;null==e.__cacheBitmapData||m>e.__cacheBitmapData.width||g>e.__cacheBitmapData.height?(e.__cacheBitmapData=new openfl_display_BitmapData(m,g,!0,T),null==e.__cacheBitmap&&(e.__cacheBitmap=new openfl_display_Bitmap),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRenderer=null):e.__cacheBitmapData.__fillRect(e.__cacheBitmapData.rect,T,C),P&&(s.setTo(0,0,x,k),e.__cacheBitmapData.__fillRect(s,w,C))}else e.__cacheBitmapData=e.__cacheBitmap.get_bitmapData(),e.__cacheBitmapData2=null,e.__cacheBitmapData3=null;if((h||_)&&(e.__cacheBitmap.__worldTransform.copyFrom(e.__worldTransform),f==e.__renderTransform?(e.__cacheBitmap.__renderTransform.identity(),e.__cacheBitmap.__renderTransform.tx=e.__renderTransform.tx+y,e.__cacheBitmap.__renderTransform.ty=e.__renderTransform.ty+b):(e.__cacheBitmap.__renderTransform.copyFrom(e.__cacheBitmapMatrix),e.__cacheBitmap.__renderTransform.invert(),e.__cacheBitmap.__renderTransform.concat(e.__renderTransform),e.__cacheBitmap.__renderTransform.tx+=y,e.__cacheBitmap.__renderTransform.ty+=b)),e.__cacheBitmap.smoothing=this.__allowSmoothing,e.__cacheBitmap.__renderable=e.__renderable,e.__cacheBitmap.__worldAlpha=e.__worldAlpha,e.__cacheBitmap.__worldBlendMode=e.__worldBlendMode,e.__cacheBitmap.__worldShader=e.__worldShader,e.__cacheBitmap.set_mask(e.__mask),_){if(null==e.__cacheBitmapRenderer||l!=e.__cacheBitmapRenderer.__type){if("opengl"==l)e.__cacheBitmapRenderer=new openfl_display_OpenGLRenderer(js_Boot.__cast(this,openfl_display_OpenGLRenderer).__context3D,e.__cacheBitmapData);else{if(null==e.__cacheBitmapData.image){var S=null!=e.opaqueBackground?-16777216|e.opaqueBackground:0;e.__cacheBitmapData=new openfl_display_BitmapData(m,g,!0,S),e.__cacheBitmap.__bitmapData=e.__cacheBitmapData}lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e.__cacheBitmapData.image),e.__cacheBitmapRenderer=new openfl_display_CanvasRenderer(e.__cacheBitmapData.image.buffer.__srcContext)}e.__cacheBitmapRenderer.__worldTransform=new openfl_geom_Matrix,e.__cacheBitmapRenderer.__worldColorTransform=new openfl_geom_ColorTransform}if(null==e.__cacheBitmapColorTransform&&(e.__cacheBitmapColorTransform=new openfl_geom_ColorTransform),e.__cacheBitmapRenderer.__stage=e.stage,e.__cacheBitmapRenderer.__allowSmoothing=this.__allowSmoothing,e.__cacheBitmapRenderer.__setBlendMode(10),e.__cacheBitmapRenderer.__worldAlpha=1/e.__worldAlpha,e.__cacheBitmapRenderer.__worldTransform.copyFrom(e.__renderTransform),e.__cacheBitmapRenderer.__worldTransform.invert(),e.__cacheBitmapRenderer.__worldTransform.concat(e.__cacheBitmapMatrix),e.__cacheBitmapRenderer.__worldTransform.tx-=y,e.__cacheBitmapRenderer.__worldTransform.ty-=b,e.__cacheBitmapRenderer.__worldColorTransform.__copyFrom(n),e.__cacheBitmapRenderer.__worldColorTransform.__invert(),e.__isCacheBitmapRender=!0,"opengl"==e.__cacheBitmapRenderer.__type){var A=this,E=e.__cacheBitmapRenderer,D=E.__context3D,M=D.__state.renderToTexture,R=D.__state.renderToTextureDepthStencil,L=D.__state.renderToTextureAntiAlias,I=D.__state.renderToTextureSurfaceSelector,$=A.__blendMode;if(A.__suspendClipAndMask(),E.__copyShader(A),e.__cacheBitmapData.__setUVRect(D,0,0,x,k),E.__setRenderTarget(e.__cacheBitmapData),null!=e.__cacheBitmapData.image&&(e.__cacheBitmapData.__textureVersion=e.__cacheBitmapData.image.version+1),e.__cacheBitmapData.__drawGL(e,E),u){var B=!0,O=!1;for(p=0,c=e.__filters;p<c.length;){d=c[p];++p,d.__preserveObject&&(O=!0)}var G,F=e.__cacheBitmapData,N=null,H=null;null==e.__cacheBitmapData2||m>e.__cacheBitmapData2.width||g>e.__cacheBitmapData2.height?e.__cacheBitmapData2=new openfl_display_BitmapData(m,g,!0,0):(e.__cacheBitmapData2.fillRect(e.__cacheBitmapData2.rect,0),null!=e.__cacheBitmapData2.image&&(e.__cacheBitmapData2.__textureVersion=e.__cacheBitmapData2.image.version+1)),e.__cacheBitmapData2.__setUVRect(D,0,0,x,k),N=e.__cacheBitmapData2,O&&(null==e.__cacheBitmapData3||m>e.__cacheBitmapData3.width||g>e.__cacheBitmapData3.height?e.__cacheBitmapData3=new openfl_display_BitmapData(m,g,!0,0):(e.__cacheBitmapData3.fillRect(e.__cacheBitmapData3.rect,0),null!=e.__cacheBitmapData3.image&&(e.__cacheBitmapData3.__textureVersion=e.__cacheBitmapData3.image.version+1)),e.__cacheBitmapData3.__setUVRect(D,0,0,x,k),H=e.__cacheBitmapData3),E.__setBlendMode(10),E.__worldAlpha=1,E.__worldTransform.identity(),E.__worldColorTransform.__identity();for(p=0,c=e.__filters;p<c.length;){d=c[p];++p,d.__preserveObject&&(E.__setRenderTarget(H),E.__renderFilterPass(F,E.__defaultDisplayShader,d.__smooth));for(var U=0,X=d.__numShaderPasses;U<X;){var V=U++;G=d.__initShader(E,V,d.__preserveObject?H:null),E.__setBlendMode(d.__shaderBlendMode),E.__setRenderTarget(N),E.__renderFilterPass(F,G,d.__smooth),j=F,F=N,N=j}d.__renderDirty=!1}e.__cacheBitmap.__bitmapData=F}A.__blendMode=10,A.__setBlendMode($),A.__copyShader(E),null!=M?D.setRenderToTexture(M,R,L,I):D.setRenderToBackBuffer(),A.__resumeClipAndMask(E),A.setViewport(),e.__cacheBitmapColorTransform.__copyFrom(n)}else{if(e.__cacheBitmapData.__drawCanvas(e,e.__cacheBitmapRenderer),u){for(B=!1,O=!1,p=0,c=e.__filters;p<c.length;){d=c[p];++p,d.__needSecondBitmapData&&(B=!0),d.__preserveObject&&(O=!0)}F=e.__cacheBitmapData,N=null,H=null;B?(null==e.__cacheBitmapData2||null==e.__cacheBitmapData2.image||m>e.__cacheBitmapData2.width||g>e.__cacheBitmapData2.height?e.__cacheBitmapData2=new openfl_display_BitmapData(m,g,!0,0):e.__cacheBitmapData2.fillRect(e.__cacheBitmapData2.rect,0),N=e.__cacheBitmapData2):N=F,O&&(null==e.__cacheBitmapData3||null==e.__cacheBitmapData3.image||m>e.__cacheBitmapData3.width||g>e.__cacheBitmapData3.height?e.__cacheBitmapData3=new openfl_display_BitmapData(m,g,!0,0):e.__cacheBitmapData3.fillRect(e.__cacheBitmapData3.rect,0),H=e.__cacheBitmapData3),null==e.__tempPoint&&(e.__tempPoint=new openfl_geom_Point);var j,z,W=e.__tempPoint;for(p=0,c=e.__filters;p<c.length;){d=c[p];++p,d.__preserveObject&&H.copyPixels(F,F.rect,W),z=d.__applyFilter(N,F,F.rect,W),d.__preserveObject&&z.draw(H,null,null!=e.__objectTransform?e.__objectTransform.__colorTransform:null),d.__renderDirty=!1,B&&z==N&&(j=F,F=N,N=j)}e.__cacheBitmapData!=F&&(j=e.__cacheBitmapData,e.__cacheBitmapData=F,e.__cacheBitmapData2=j,e.__cacheBitmap.__bitmapData=e.__cacheBitmapData,e.__cacheBitmapRenderer=null),e.__cacheBitmap.__imageVersion=e.__cacheBitmapData.__textureVersion}e.__cacheBitmapColorTransform.__copyFrom(n),e.__cacheBitmapColorTransform.__isDefault(!0)||(e.__cacheBitmapColorTransform.alphaMultiplier=1,e.__cacheBitmapData.colorTransform(e.__cacheBitmapData.rect,e.__cacheBitmapColorTransform))}e.__isCacheBitmapRender=!1}(h||_)&&openfl_geom_Rectangle.__pool.release(s),i=h}else if(null!=e.__cacheBitmap){if("dom"==this.__type)this.__renderDrawableClear(e.__cacheBitmap);e.__cacheBitmap=null,e.__cacheBitmapData=null,e.__cacheBitmapData2=null,e.__cacheBitmapData3=null,e.__cacheBitmapColorTransform=null,e.__cacheBitmapRenderer=null,i=!0}(openfl_geom_ColorTransform.__pool.release(n),i&&7==e.__drawableType)&&(null!=(v=e).__cacheBitmap&&(v.__cacheBitmap.__renderTransform.tx-=v.__offsetX,v.__cacheBitmap.__renderTransform.ty-=v.__offsetY));return i},__class__:openfl_display_DisplayObjectRenderer});var openfl_display_CairoRenderer=function(e){openfl_display_DisplayObjectRenderer.call(this)};$hxClasses["openfl.display.CairoRenderer"]=openfl_display_CairoRenderer,openfl_display_CairoRenderer.__name__="openfl.display.CairoRenderer",openfl_display_CairoRenderer.__super__=openfl_display_DisplayObjectRenderer,openfl_display_CairoRenderer.prototype=$extend(openfl_display_DisplayObjectRenderer.prototype,{applyMatrix:function(e,t){null==t&&(t=this.cairo),this.__matrix.copyFrom(e),this.cairo==t&&null!=this.__worldTransform&&this.__matrix.concat(this.__worldTransform),this.__matrix3.a=this.__matrix.a,this.__matrix3.b=this.__matrix.b,this.__matrix3.c=this.__matrix.c,this.__matrix3.d=this.__matrix.d,this.__roundPixels?(this.__matrix3.tx=Math.round(this.__matrix.tx),this.__matrix3.ty=Math.round(this.__matrix.ty)):(this.__matrix3.tx=this.__matrix.tx,this.__matrix3.ty=this.__matrix.ty),t.set_matrix(this.__matrix3)},__clear:function(){if(null!=this.cairo&&(this.cairo.identityMatrix(),null!=this.__stage&&this.__stage.__clearBeforeRender)){var e=this.__blendMode;this.__setBlendMode(10),this.cairo.setSourceRGB(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2]),this.cairo.paint(),this.__setBlendMode(e)}},__popMask:function(){this.cairo.restore()},__popMaskObject:function(e,t){null==t&&(t=!0),e.__isCacheBitmapRender||null==e.__mask||this.__popMask(),t&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.cairo.restore()},__pushMask:function(e){this.cairo.save(),this.applyMatrix(e.__renderTransform,this.cairo),this.cairo.newPath(),this.__renderDrawableMask(e),this.cairo.clip()},__pushMaskObject:function(e,t){null==t&&(t=!0),t&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),e.__isCacheBitmapRender||null==e.__mask||this.__pushMask(e.__mask)},__pushMaskRect:function(e,t){this.cairo.save(),this.applyMatrix(t,this.cairo),this.cairo.newPath(),this.cairo.rectangle(e.x,e.y,e.width,e.height),this.cairo.clip()},__render:function(e){null!=this.cairo&&this.__renderDrawable(e)},__renderDrawable:function(e){if(null!=e)switch(e.__drawableType){case 0:case 2:case 3:break;case 4:case 5:break;case 6:var t=e;!t.__renderable||t.__worldAlpha<=0||null==t.__currentState||(this.__pushMaskObject(t),this.__renderDrawable(t.__currentState),this.__popMaskObject(t),this.__renderEvent(t))}},__renderDrawableMask:function(e){if(null!=e)switch(e.__drawableType){case 0:break;case 2:var t=e;this.cairo.rectangle(0,0,t.get_width(),t.get_height());break;case 3:break;case 4:case 5:break;case 6:this.__renderDrawableMask(e.__currentState)}},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e,this.__setBlendModeCairo(this.cairo,e))},__setBlendModeCairo:function(e,t){switch(t){case 0:e.setOperator(12);break;case 2:e.setOperator(17);break;case 3:e.setOperator(23);break;case 5:e.setOperator(21);break;case 7:e.setOperator(2);break;case 8:e.setOperator(18);break;case 9:e.setOperator(14);break;case 11:e.setOperator(16);break;case 12:e.setOperator(15);break;default:e.setOperator(2)}},__class__:openfl_display_CairoRenderer});var openfl_display_CanvasRenderer=function(e){this.pixelRatio=1,openfl_display_DisplayObjectRenderer.call(this),this.context=e,this.__tempMatrix=new openfl_geom_Matrix,this.__type="canvas"};$hxClasses["openfl.display.CanvasRenderer"]=openfl_display_CanvasRenderer,openfl_display_CanvasRenderer.__name__="openfl.display.CanvasRenderer",openfl_display_CanvasRenderer.__super__=openfl_display_DisplayObjectRenderer,openfl_display_CanvasRenderer.prototype=$extend(openfl_display_DisplayObjectRenderer.prototype,{applySmoothing:function(e,t){e.imageSmoothingEnabled=t},setTransform:function(e,t){null==t?t=this.context:this.context==t&&null!=this.__worldTransform&&(this.__tempMatrix.copyFrom(e),this.__tempMatrix.concat(this.__worldTransform),e=this.__tempMatrix),this.__roundPixels?t.setTransform(e.a,e.b,e.c,e.d,0|e.tx,0|e.ty):t.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty)},__clear:function(){if(null!=this.__stage){var e=this.__blendMode;this.__blendMode=null,this.__setBlendMode(10),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!this.__stage.__transparent&&this.__stage.__clearBeforeRender?(this.context.fillStyle=this.__stage.__colorString,this.context.fillRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale)):this.__stage.__transparent&&this.__stage.__clearBeforeRender&&this.context.clearRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale),this.__setBlendMode(e)}},__popMask:function(){this.context.restore()},__popMaskObject:function(e,t){null==t&&(t=!0),e.__isCacheBitmapRender||null==e.__mask||this.__popMask(),t&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.context.restore()},__pushMask:function(e){this.context.save(),this.setTransform(e.__renderTransform,this.context),this.context.beginPath(),this.__renderDrawableMask(e),this.context.closePath(),this.context.clip()},__pushMaskObject:function(e,t){null==t&&(t=!0),t&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),e.__isCacheBitmapRender||null==e.__mask||this.__pushMask(e.__mask)},__pushMaskRect:function(e,t){this.context.save(),this.setTransform(t,this.context),this.context.beginPath(),this.context.rect(e.x,e.y,e.width,e.height),this.context.clip()},__render:function(e){this.__renderDrawable(e)},__renderDrawable:function(e){if(null!=e)switch(e.__drawableType){case 0:openfl_display__$internal_CanvasBitmapData.renderDrawable(e,this);break;case 2:openfl_display__$internal_CanvasBitmap.renderDrawable(e,this);break;case 3:openfl_display__$internal_CanvasDisplayObject.renderDrawable(e,this);break;case 4:case 5:openfl_display__$internal_CanvasDisplayObjectContainer.renderDrawable(e,this);break;case 6:openfl_display__$internal_CanvasSimpleButton.renderDrawable(e,this);break;case 7:openfl_display__$internal_CanvasTextField.renderDrawable(e,this);break;case 8:openfl_display__$internal_CanvasVideo.renderDrawable(e,this);break;case 9:openfl_display__$internal_CanvasTilemap.renderDrawable(e,this)}},__renderDrawableMask:function(e){if(null!=e)switch(e.__drawableType){case 0:openfl_display__$internal_CanvasBitmapData.renderDrawableMask(e,this);break;case 2:openfl_display__$internal_CanvasBitmap.renderDrawableMask(e,this);break;case 3:openfl_display__$internal_CanvasDisplayObject.renderDrawableMask(e,this);break;case 4:case 5:openfl_display__$internal_CanvasDisplayObjectContainer.renderDrawableMask(e,this);break;case 6:openfl_display__$internal_CanvasSimpleButton.renderDrawableMask(e,this);break;case 7:openfl_display__$internal_CanvasTextField.renderDrawableMask(e,this);break;case 8:openfl_display__$internal_CanvasVideo.renderDrawableMask(e,this);break;case 9:openfl_display__$internal_CanvasTilemap.renderDrawableMask(e,this)}},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e,this.__setBlendModeContext(this.context,e))},__setBlendModeContext:function(e,t){switch(t){case 0:e.globalCompositeOperation="lighter";break;case 2:e.globalCompositeOperation="darken";break;case 3:e.globalCompositeOperation="difference";break;case 5:e.globalCompositeOperation="hard-light";break;case 8:e.globalCompositeOperation="lighten";break;case 9:e.globalCompositeOperation="multiply";break;case 11:e.globalCompositeOperation="overlay";break;case 12:e.globalCompositeOperation="screen";break;default:e.globalCompositeOperation="source-over"}},__class__:openfl_display_CanvasRenderer});var openfl_display_CapsStyle={fromInt:function(e){return e},fromString:function(e){switch(e){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}}},openfl_display_DOMElement=function(e){openfl_display_DisplayObject.call(this),this.__drawableType=10,this.__element=e};$hxClasses["openfl.display.DOMElement"]=openfl_display_DOMElement,openfl_display_DOMElement.__name__="openfl.display.DOMElement",openfl_display_DOMElement.__super__=openfl_display_DisplayObject,openfl_display_DOMElement.prototype=$extend(openfl_display_DisplayObject.prototype,{__class__:openfl_display_DOMElement});var openfl_display_DOMRenderer=function(e){this.pixelRatio=1,openfl_display_DisplayObjectRenderer.call(this),this.element=e,openfl_display_DisplayObject.__supportDOM=!0;var t,a,n=(t=window.getComputedStyle(document.documentElement,""),a=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"))[1],lowercase:a,css:"-"+a+"-",js:a[0].toUpperCase()+a.substr(1)});this.__vendorPrefix=n.lowercase,this.__transformProperty="webkit"==n.lowercase?"-webkit-transform":"transform",this.__transformOriginProperty="webkit"==n.lowercase?"-webkit-transform-origin":"transform-origin",this.__clipRects=[],this.__numClipRects=0,this.__z=0,this.__type="dom",this.__canvasRenderer=new openfl_display_CanvasRenderer(null),this.__canvasRenderer.__isDOM=!0};$hxClasses["openfl.display.DOMRenderer"]=openfl_display_DOMRenderer,openfl_display_DOMRenderer.__name__="openfl.display.DOMRenderer",openfl_display_DOMRenderer.__super__=openfl_display_DisplayObjectRenderer,openfl_display_DOMRenderer.prototype=$extend(openfl_display_DisplayObjectRenderer.prototype,{applyStyle:function(e,t){null!=e&&null!=t&&(null!=e.__style&&t.parentElement==this.element||this.__initializeElement(e,t),e.__style=t.style,this.__updateClip(e),this.__applyStyle(e,!0,!0,!0))},clearStyle:function(e){null!=e&&e.parentElement==this.element&&this.element.removeChild(e)},__applyStyle:function(e,t,a,n){var i=e.__style;if(t&&e.__renderTransformChanged){var s=e.__renderTransform,_=this.__roundPixels;null==_&&(_=!1),i.setProperty(this.__transformProperty,_?"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+(0|s.tx)+", "+(0|s.ty)+", 0, 1)":"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+s.tx+", "+s.ty+", 0, 1)",null)}if(e.__worldZ!=++this.__z&&(e.__worldZ=this.__z,i.setProperty("z-index",null==e.__worldZ?"null":""+e.__worldZ,null)),a&&e.__worldAlphaChanged&&(e.__worldAlpha<1?i.setProperty("opacity",null==e.__worldAlpha?"null":""+e.__worldAlpha,null):i.removeProperty("opacity")),n&&e.__worldClipChanged)if(null==e.__worldClip)i.removeProperty("clip");else{var r=e.__worldClip;i.setProperty("clip","rect("+r.y+"px, "+r.get_right()+"px, "+r.get_bottom()+"px, "+r.x+"px)",null)}},__initializeElement:function(e,t){var a=e.__style=t.style;a.setProperty("position","absolute",null),a.setProperty("top","0",null),a.setProperty("left","0",null),a.setProperty(this.__transformOriginProperty,"0 0 0",null),this.element.appendChild(t),e.__worldAlphaChanged=!0,e.__renderTransformChanged=!0,e.__worldVisibleChanged=!0,e.__worldClipChanged=!0,e.__worldClip=null,e.__worldZ=-1},__popMask:function(){this.__popMaskRect()},__popMaskObject:function(e,t){null==t&&(t=!0),null!=e.__mask&&this.__popMask(),t&&null!=e.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.__numClipRects>0&&(this.__numClipRects--,this.__numClipRects>0?this.__currentClipRect=this.__clipRects[this.__numClipRects-1]:this.__currentClipRect=null)},__pushMask:function(e){this.__pushMaskRect(e.getBounds(e),e.__renderTransform)},__pushMaskObject:function(e,t){null==t&&(t=!0),t&&null!=e.__scrollRect&&this.__pushMaskRect(e.__scrollRect,e.__renderTransform),null!=e.__mask&&this.__pushMask(e.__mask)},__pushMaskRect:function(e,t){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new openfl_geom_Rectangle);var a=this.__clipRects[this.__numClipRects];if(e.__transform(a,t),this.__numClipRects>0){var n=this.__clipRects[this.__numClipRects-1];a.__contract(n.x,n.y,n.width,n.height)}a.height<0&&(a.height=0),a.width<0&&(a.width=0),this.__currentClipRect=a,this.__numClipRects++},__render:function(e){this.__stage.__transparent?this.element.style.background="none":this.element.style.background=this.__stage.__colorString,this.__z=1,this.__renderDrawable(e)},__renderDrawable:function(e){if(null!=e)switch(e.__drawableType){case 0:break;case 2:openfl_display__$internal_DOMBitmap.renderDrawable(e,this);break;case 3:openfl_display__$internal_DOMDisplayObject.renderDrawable(e,this);break;case 4:case 5:openfl_display__$internal_DOMDisplayObjectContainer.renderDrawable(e,this);break;case 6:openfl_display__$internal_DOMSimpleButton.renderDrawable(e,this);break;case 7:openfl_display__$internal_DOMTextField.renderDrawable(e,this);break;case 8:openfl_display__$internal_DOMVideo.renderDrawable(e,this);break;case 9:openfl_display__$internal_DOMTilemap.renderDrawable(e,this);break;case 10:var t=e;null!=t.stage&&t.__worldVisible&&t.__renderable?(t.__active||(this.__initializeElement(t,t.__element),t.__active=!0),this.__updateClip(t),this.__applyStyle(t,!0,!0,!0)):t.__active&&(this.element.removeChild(t.__element),t.__active=!1),openfl_display__$internal_DOMDisplayObject.renderDrawable(t,this)}},__renderDrawableClear:function(e){if(null!=e)switch(e.__drawableType){case 0:break;case 2:openfl_display__$internal_DOMBitmap.renderDrawableClear(e,this);break;case 3:openfl_display__$internal_DOMDisplayObject.renderDrawableClear(e,this);break;case 4:case 5:openfl_display__$internal_DOMDisplayObjectContainer.renderDrawableClear(e,this);break;case 6:openfl_display__$internal_DOMSimpleButton.renderDrawableClear(e,this);break;case 7:openfl_display__$internal_DOMTextField.renderDrawableClear(e,this);break;case 8:openfl_display__$internal_DOMVideo.renderDrawableClear(e,this);break;case 9:openfl_display__$internal_DOMTilemap.renderDrawableClear(e,this)}},__setBlendMode:function(e){null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e&&(this.__blendMode=e)},__updateClip:function(e){if(null==this.__currentClipRect)e.__worldClipChanged=null!=e.__worldClip,e.__worldClip=null;else{null==e.__worldClip&&(e.__worldClip=new openfl_geom_Rectangle);var t=openfl_geom_Rectangle.__pool.get(),a=openfl_geom_Matrix.__pool.get();a.copyFrom(e.__renderTransform),a.invert(),this.__currentClipRect.__transform(t,a),t.equals(e.__worldClip)?e.__worldClipChanged=!1:(e.__worldClip.copyFrom(t),e.__worldClipChanged=!0),openfl_geom_Rectangle.__pool.release(t),openfl_geom_Matrix.__pool.release(a)}},__class__:openfl_display_DOMRenderer});var openfl_display_Shader=function(e){this.byteCode=e,this.precisionHint=1,this.__glSourceDirty=!0,this.__numPasses=1,this.__data=openfl_display_ShaderData._new(e)};$hxClasses["openfl.display.Shader"]=openfl_display_Shader,openfl_display_Shader.__name__="openfl.display.Shader",openfl_display_Shader.prototype={__clearUseArray:function(){for(var e=0,t=this.__paramBool;e<t.length;){var a=t[e];++e,a.__useArray=!1}for(e=0,t=this.__paramFloat;e<t.length;){a=t[e];++e,a.__useArray=!1}for(e=0,t=this.__paramInt;e<t.length;){a=t[e];++e,a.__useArray=!1}},__createGLShader:function(e,t){var a=this.__context.gl,n=a.createShader(t);if(a.shaderSource(n,e),a.compileShader(n),0==a.getShaderParameter(n,a.COMPILE_STATUS)){var i=t==a.VERTEX_SHADER?"Error compiling vertex shader":"Error compiling fragment shader";i+="\n"+a.getShaderInfoLog(n),i+="\n"+e,lime_utils_Log.error(i,{fileName:"openfl/display/Shader.hx",lineNumber:331,className:"openfl.display.Shader",methodName:"__createGLShader"})}return n},__createGLProgram:function(e,t){for(var a=this.__context.gl,n=this.__createGLShader(e,a.VERTEX_SHADER),i=this.__createGLShader(t,a.FRAGMENT_SHADER),s=a.createProgram(),_=0,r=this.__paramFloat;_<r.length;){var o=r[_];if(++_,o.name.indexOf("Position")>-1&&StringTools.startsWith(o.name,"openfl_")){a.bindAttribLocation(s,0,o.name);break}}if(a.attachShader(s,n),a.attachShader(s,i),a.linkProgram(s),0==a.getProgramParameter(s,a.LINK_STATUS)){var l="Unable to initialize the shader program";l+="\n"+a.getProgramInfoLog(s),lime_utils_Log.error(l,{fileName:"openfl/display/Shader.hx",lineNumber:364,className:"openfl.display.Shader",methodName:"__createGLProgram"})}return s},__disable:function(){null!=this.program&&this.__disableGL()},__disableGL:function(){for(var e=this.__context.gl,t=0,a=0,n=this.__inputBitmapData;a<n.length;){var i=n[a];++a,i.__disableGL(this.__context,t),++t}for(a=0,n=this.__paramBool;a<n.length;){var s=n[a];++a,s.__disableGL(this.__context)}for(a=0,n=this.__paramFloat;a<n.length;){s=n[a];++a,s.__disableGL(this.__context)}for(a=0,n=this.__paramInt;a<n.length;){s=n[a];++a,s.__disableGL(this.__context)}this.__context.__bindGLArrayBuffer(null),"opengl"==this.__context.__context.type&&e.disable(e.TEXTURE_2D)},__enable:function(){this.__init(),null!=this.program&&this.__enableGL()},__enableGL:function(){for(var e=0,t=this.__context.gl,a=0,n=this.__inputBitmapData;a<n.length;){var i=n[a];++a,t.uniform1i(i.index,e),++e}"opengl"==this.__context.__context.type&&e>0&&t.enable(t.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=openfl_display_ShaderData._new(null)),null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.program&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if((this.__glSourceDirty||null==this.__paramBool)&&(this.__glSourceDirty=!1,this.program=null,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform")),null!=this.__context&&null==this.program){var e=this.__context.gl,t="#ifdef GL_ES\n\t\t\t\t"+(1==this.precisionHint?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\t\tprecision highp float;\n\t\t\t\t#else\n\t\t\t\tprecision mediump float;\n\t\t\t\t#endif":"precision lowp float;")+"\n\t\t\t\t#endif\n\t\t\t\t",a=t+this.get_glVertexSource(),n=t+this.get_glFragmentSource(),i=a+n;if(Object.prototype.hasOwnProperty.call(this.__context.__programs.h,i)?this.program=this.__context.__programs.h[i]:(this.program=this.__context.createProgram(1),this.program.__glProgram=this.__createGLProgram(a,n),this.__context.__programs.h[i]=this.program),null!=this.program){this.glProgram=this.program.__glProgram;for(var s=0,_=this.__inputBitmapData;s<_.length;){var r=_[s];++s,r.__isUniform?r.index=e.getUniformLocation(this.glProgram,r.name):r.index=e.getAttribLocation(this.glProgram,r.name)}for(s=0,_=this.__paramBool;s<_.length;){var o=_[s];++s,o.__isUniform?o.index=e.getUniformLocation(this.glProgram,o.name):o.index=e.getAttribLocation(this.glProgram,o.name)}for(s=0,_=this.__paramFloat;s<_.length;){o=_[s];++s,o.__isUniform?o.index=e.getUniformLocation(this.glProgram,o.name):o.index=e.getAttribLocation(this.glProgram,o.name)}for(s=0,_=this.__paramInt;s<_.length;){o=_[s];++s,o.__isUniform?o.index=e.getUniformLocation(this.glProgram,o.name):o.index=e.getAttribLocation(this.glProgram,o.name)}}}},__processGLData:function(e,t){var a,n,i,s,_=0;for(n=new EReg("uniform"==t?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");n.matchSub(e,_);)if(s=n.matched(1),i=n.matched(2),!StringTools.startsWith(i,"gl_")){var r="uniform"==t;if(StringTools.startsWith(s,"sampler")){var o=new openfl_display_ShaderInput;switch(o.name=i,o.__isUniform=r,this.__inputBitmapData.push(o),i){case"bitmap":this.__bitmap=o;break;case"openfl_Texture":this.__texture=o}this.__data[i]=o,this.__isGenerated&&(this[i]=o)}else if(!Object.prototype.hasOwnProperty.call(this.__data,i)||null==Reflect.field(this.__data,i)){var l,h,u;switch(s){case"bool":l=0;break;case"bvec2":l=1;break;case"bvec3":l=2;break;case"bvec4":l=3;break;case"dvec2":case"vec2":l=5;break;case"dvec3":case"vec3":l=6;break;case"double":case"float":l=4;break;case"ivec3":case"uvec3":l=10;break;case"ivec4":case"uvec4":l=11;break;case"mat2":case"mat2x2":l=12;break;case"mat2x3":l=13;break;case"mat2x4":l=14;break;case"mat3x2":l=15;break;case"mat3":case"mat3x3":l=16;break;case"mat3x4":l=17;break;case"mat4":case"mat4x4":l=20;break;case"mat4x2":l=18;break;case"mat4x3":l=19;break;case"int":case"uint":l=8;break;case"ivec2":case"uvec2":l=9;break;case"dvec4":case"vec4":l=7;break;default:l=null}switch(l){case 1:case 5:case 9:h=2;break;case 3:case 7:case 11:case 12:h=4;break;case 2:case 6:case 10:h=3;break;case 16:h=9;break;case 20:h=16;break;default:h=1}switch(l){case 12:u=2;break;case 16:u=3;break;case 20:u=4;break;default:u=1}switch(l){case 0:case 1:case 2:case 3:var p=new openfl_display_ShaderParameter;p.set_name(i),p.type=l,p.__arrayLength=u,p.__isBool=!0,p.__isUniform=r,p.__length=h,this.__paramBool.push(p),"openfl_HasColorTransform"==i&&(this.__hasColorTransform=p),this.__data[i]=p,this.__isGenerated&&(this[i]=p);break;case 8:case 9:case 10:case 11:var c=new openfl_display_ShaderParameter;c.set_name(i),c.type=l,c.__arrayLength=u,c.__isInt=!0,c.__isUniform=r,c.__length=h,this.__paramInt.push(c),this.__data[i]=c,this.__isGenerated&&(this[i]=c);break;default:var d=new openfl_display_ShaderParameter;if(d.set_name(i),d.type=l,d.__arrayLength=u,u>0){var f,m=u*u;f=null!=m?new Float32Array(m):null,d.__uniformMatrix=f}if(d.__isFloat=!0,d.__isUniform=r,d.__length=h,this.__paramFloat.push(d),StringTools.startsWith(i,"openfl_"))switch(i){case"openfl_Alpha":this.__alpha=d;break;case"openfl_ColorMultiplier":this.__colorMultiplier=d;break;case"openfl_ColorOffset":this.__colorOffset=d;break;case"openfl_Matrix":this.__matrix=d;break;case"openfl_Position":this.__position=d;break;case"openfl_TextureCoord":this.__textureCoord=d;break;case"openfl_TextureSize":this.__textureSize=d}this.__data[i]=d,this.__isGenerated&&(this[i]=d)}}_=(a=n.matchedPos()).pos+a.len}},__update:function(){null!=this.program&&this.__updateGL()},__updateFromBuffer:function(e,t){null!=this.program&&this.__updateGLFromBuffer(e,t)},__updateGL:function(){for(var e=0,t=0,a=this.__inputBitmapData;t<a.length;){var n=a[t];++t,n.__updateGL(this.__context,e),++e}for(t=0,a=this.__paramBool;t<a.length;){var i=a[t];++t,i.__updateGL(this.__context)}for(t=0,a=this.__paramFloat;t<a.length;){i=a[t];++t,i.__updateGL(this.__context)}for(t=0,a=this.__paramInt;t<a.length;){i=a[t];++t,i.__updateGL(this.__context)}},__updateGLFromBuffer:function(e,t){for(var a,n,i,s,_,r=0,o=0,l=e.inputCount;o<l;){var h=o++;a=e.inputRefs[h],n=e.inputs[h],i=e.inputFilter[h],s=e.inputMipFilter[h],_=e.inputWrap[h],null!=n&&(a.__updateGL(this.__context,r,n,i,s,_),++r)}var u=this.__context.gl;e.paramDataLength>0?(null==e.paramDataBuffer&&(e.paramDataBuffer=u.createBuffer()),this.__context.__bindGLArrayBuffer(e.paramDataBuffer),lime_graphics_WebGLRenderContext.bufferData(u,u.ARRAY_BUFFER,e.paramData,u.DYNAMIC_DRAW)):this.__context.__bindGLArrayBuffer(null);var p,c,d,f,m=0,g=0,x=0,k=e.paramBoolCount,y=e.paramFloatCount,b=e.paramData,v=null,P=null,w=null;for(o=0,l=e.paramCount;o<l;){if(f=!1,(h=o++)<k){p=e.paramRefs_Bool[m];for(var T=0,C=e.overrideBoolCount;T<C;){var S=T++;if(p.name==e.overrideBoolNames[S]){v=e.overrideBoolValues[S],f=!0;break}}f?p.__updateGL(this.__context,v):p.__updateGLFromBuffer(this.__context,b,e.paramPositions[h],e.paramLengths[h],t),++m}else if(h<k+y){c=e.paramRefs_Float[g];for(var A=0,E=e.overrideFloatCount;A<E;){var D=A++;if(c.name==e.overrideFloatNames[D]){P=e.overrideFloatValues[D],f=!0;break}}f?c.__updateGL(this.__context,P):c.__updateGLFromBuffer(this.__context,b,e.paramPositions[h],e.paramLengths[h],t),++g}else{d=e.paramRefs_Int[x];for(var M=0,R=e.overrideIntCount;M<R;){var L=M++;if(d.name==e.overrideIntNames[L]){w=e.overrideIntValues[L],f=!0;break}}f?d.__updateGL(this.__context,w):d.__updateGLFromBuffer(this.__context,b,e.paramPositions[h],e.paramLengths[h],t),++x}}},get_data:function(){return(this.__glSourceDirty||null==this.__data)&&this.__init(),this.__data},set_data:function(e){return this.__data=e},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(e){return e!=this.__glFragmentSource&&(this.__glSourceDirty=!0),this.__glFragmentSource=e},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(e){return e!=this.__glVertexSource&&(this.__glSourceDirty=!0),this.__glVertexSource=e},__class__:openfl_display_Shader,__properties__:{set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var openfl_display_DisplayObjectShader=function(e){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),openfl_display_Shader.call(this,e),this.__isGenerated=!0,this.__initGL()};$hxClasses["openfl.display.DisplayObjectShader"]=openfl_display_DisplayObjectShader,openfl_display_DisplayObjectShader.__name__="openfl.display.DisplayObjectShader",openfl_display_DisplayObjectShader.__super__=openfl_display_Shader,openfl_display_DisplayObjectShader.prototype=$extend(openfl_display_Shader.prototype,{__class__:openfl_display_DisplayObjectShader});var openfl_display_FrameLabel=function(e,t){openfl_events_EventDispatcher.call(this),this.name=e,this.frame=t};$hxClasses["openfl.display.FrameLabel"]=openfl_display_FrameLabel,openfl_display_FrameLabel.__name__="openfl.display.FrameLabel",openfl_display_FrameLabel.__super__=openfl_events_EventDispatcher,openfl_display_FrameLabel.prototype=$extend(openfl_events_EventDispatcher.prototype,{__class__:openfl_display_FrameLabel});var openfl_display_FrameScript=function(e,t){this.script=e,this.frame=t};$hxClasses["openfl.display.FrameScript"]=openfl_display_FrameScript,openfl_display_FrameScript.__name__="openfl.display.FrameScript",openfl_display_FrameScript.prototype={__class__:openfl_display_FrameScript};var openfl_display_GradientType={fromInt:function(e){return e},fromString:function(e){switch(e){case"linear":return 0;case"radial":return 1;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"linear";case 1:return"radial";default:return null}}},openfl_display_Graphics=function(e){this.__dirty=!0,this.__owner=e,this.__commands=new openfl_display__$internal_DrawCommandBuffer,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,this.__renderTransform=new openfl_geom_Matrix,this.__usedShaderBuffers=new haxe_ds_List,this.__worldTransform=new openfl_geom_Matrix,this.__width=0,this.__height=0,this.__shaderBufferPool=new lime_utils_ObjectPool((function(){return new openfl_display__$internal_ShaderBuffer})),this.moveTo(0,0)};$hxClasses["openfl.display.Graphics"]=openfl_display_Graphics,openfl_display_Graphics.__name__="openfl.display.Graphics",openfl_display_Graphics.prototype={beginBitmapFill:function(e,t,a,n){null==n&&(n=!1),null==a&&(a=!0),this.__commands.beginBitmapFill(e,null!=t?t.clone():null,a,n),this.__visible=!0},beginFill:function(e,t){null==t&&(t=1),null==e&&(e=0),this.__commands.beginFill(16777215&e,t),t>0&&(this.__visible=!0)},beginGradientFill:function(e,t,a,n,i,s,_,r){if(null==r&&(r=0),null==_&&(_=1),null==s&&(s=0),null!=t&&0!=t.length){if(null==a){a=[];for(var o=0,l=t.length;o<l;){var h=o++;a.push(1)}}if(null==n){n=[];for(o=0,l=t.length;o<l;){h=o++;n.push(Math.ceil(h/t.length*255))}}if(!(a.length<t.length||n.length<t.length)){this.__commands.beginGradientFill(e,t,a,n,i,s,_,r);for(o=0;o<a.length;){var u=a[o];if(++o,u>0){this.__visible=!0;break}}}}},beginShaderFill:function(e,t){if(null!=e){var a=this.__shaderBufferPool.get();this.__usedShaderBuffers.add(a),a.update(e),this.__commands.beginShaderFill(a)}},clear:function(){for(var e=this.__usedShaderBuffers.h;null!=e;){var t=e.item;e=e.next;var a=t;this.__shaderBufferPool.release(a)}this.__usedShaderBuffers.clear(),this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__positionX=0,this.__positionY=0,this.moveTo(0,0)},copyFrom:function(e){this.__bounds=null!=e.__bounds?e.__bounds.clone():null,this.__commands=e.__commands.copy(),this.set___dirty(!0),this.__strokePadding=e.__strokePadding,this.__positionX=e.__positionX,this.__positionY=e.__positionY,this.__transformDirty=!0,this.__visible=e.__visible},cubicCurveTo:function(e,t,a,n,i,s){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var _=i,r=i;if(!(e<i&&e>this.__positionX||e>i&&e<this.__positionX)||!(a<i&&a>this.__positionX||a>i&&a<this.__positionX)){var o=2*this.__positionX-4*e+2*a,l=e-this.__positionX,h=-this.__positionX+3*e+i-3*a,u=(-o+Math.sqrt(o*o-4*l*h))/(2*h),p=(-o-Math.sqrt(o*o-4*l*h))/(2*h);u>0&&u<1&&(_=this.__calculateBezierCubicPoint(u,this.__positionX,e,a,i)),p>0&&p<1&&(r=this.__calculateBezierCubicPoint(p,this.__positionX,e,a,i))}var c=s,d=s;if(!(t<s&&t>this.__positionX||t>s&&t<this.__positionX)||!(n<s&&n>this.__positionX||n>s&&n<this.__positionX)){o=2*this.__positionX-4*t+2*n,l=t-this.__positionX,h=-this.__positionX+3*t+s-3*n,u=(-o+Math.sqrt(o*o-4*l*h))/(2*h),p=(-o-Math.sqrt(o*o-4*l*h))/(2*h);u>0&&u<1&&(c=this.__calculateBezierCubicPoint(u,this.__positionX,t,n,s)),p>0&&p<1&&(d=this.__calculateBezierCubicPoint(p,this.__positionX,t,n,s))}this.__inflateBounds(_-this.__strokePadding,c-this.__strokePadding),this.__inflateBounds(_+this.__strokePadding,c+this.__strokePadding),this.__inflateBounds(r-this.__strokePadding,d-this.__strokePadding),this.__inflateBounds(r+this.__strokePadding,d+this.__strokePadding),this.__positionX=i,this.__positionY=s,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.cubicCurveTo(e,t,a,n,i,s),this.set___dirty(!0)},curveTo:function(e,t,a,n){var i,s;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),e<a&&e>this.__positionX||e>a&&e<this.__positionX)i=a;else{var _=(this.__positionX-e)/(this.__positionX-2*e+a);i=this.__calculateBezierQuadPoint(_,this.__positionX,e,a)}if(t<n&&t>this.__positionY||t>n&&t<this.__positionY)s=n;else{var r=(this.__positionY-t)/(this.__positionY-2*t+n);s=this.__calculateBezierQuadPoint(r,this.__positionY,t,n)}this.__inflateBounds(i-this.__strokePadding,s-this.__strokePadding),this.__inflateBounds(i+this.__strokePadding,s+this.__strokePadding),this.__positionX=a,this.__positionY=n,this.__commands.curveTo(e,t,a,n),this.set___dirty(!0)},drawCircle:function(e,t,a){a<=0||(this.__inflateBounds(e-a-this.__strokePadding,t-a-this.__strokePadding),this.__inflateBounds(e+a+this.__strokePadding,t+a+this.__strokePadding),this.__commands.drawCircle(e,t,a),this.set___dirty(!0))},drawEllipse:function(e,t,a,n){a<=0||n<=0||(this.__inflateBounds(e-this.__strokePadding,t-this.__strokePadding),this.__inflateBounds(e+a+this.__strokePadding,t+n+this.__strokePadding),this.__commands.drawEllipse(e,t,a,n),this.set___dirty(!0))},drawGraphicsData:function(e){for(var t,a,n,i,s,_,r,o,l=e.iterator();l.hasNext();){var h=l.next();switch(h.__graphicsDataType){case 0:if(null!=(s=h).fill){var u=s.thickness;switch(isNaN(u)&&(u=null),s.fill.__graphicsFillType){case 0:t=s.fill,this.lineStyle(u,t.color,t.alpha,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit);break;case 1:n=s.fill,this.lineStyle(u,0,1,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit),this.lineGradientStyle(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio);break;case 2:a=s.fill,this.lineStyle(u,0,1,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit),this.lineBitmapStyle(a.bitmapData,a.matrix,a.repeat,a.smooth)}}else this.lineStyle();break;case 1:t=h,this.beginFill(t.color,t.alpha);break;case 2:n=h,this.beginGradientFill(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio);break;case 3:_=h,this.drawPath(_.commands,_.data,_.winding);break;case 4:a=h,this.beginBitmapFill(a.bitmapData,a.matrix,a.repeat,a.smooth);break;case 5:this.endFill();break;case 6:o=h,this.drawQuads(o.rects,o.indices,o.transforms);break;case 7:r=h,this.drawTriangles(r.vertices,r.indices,r.uvtData,r.culling);break;case 8:i=h,this.beginShaderFill(i.shader,i.matrix)}}},drawPath:function(e,t,a){null==a&&(a=0);var n=0;1==a&&this.__commands.windingNonZero();var i=e.iterator();e:for(;i.hasNext();){switch(i.next()){case 1:this.moveTo(t.get(n),t.get(n+1)),n+=2;break;case 2:this.lineTo(t.get(n),t.get(n+1)),n+=2;break;case 3:this.curveTo(t.get(n),t.get(n+1),t.get(n+2),t.get(n+3)),n+=4;break;case 4:this.moveTo(t.get(n+2),t.get(n+3));break e;case 5:this.lineTo(t.get(n+2),t.get(n+3));break e;case 6:this.cubicCurveTo(t.get(n),t.get(n+1),t.get(n+2),t.get(n+3),t.get(n+4),t.get(n+5)),n+=6}}},drawQuads:function(e,t,a){if(null!=e){var n=null!=t,i=!1,s=!1,_=n?t.get_length():Math.floor(e.get_length()/4);if(0!=_){null!=a&&(a.get_length()>=6*_?(i=!0,s=!0):a.get_length()>=4*_?i=!0:a.get_length()>=2*_&&(s=!0));for(var r,o,l=openfl_geom_Rectangle.__pool.get(),h=openfl_geom_Matrix.__pool.get(),u=1/0,p=1/0,c=-1/0,d=-1/0,f=0,m=_;f<m;){var g=f++;(r=n?4*t.get(g):4*g)<0||(l.setTo(0,0,e.get(r+2),e.get(r+3)),l.width<=0||l.height<=0||(i&&s?(o=6*g,h.setTo(a.get(o),a.get(o+1),a.get(o+2),a.get(o+3),a.get(o+4),a.get(o+5))):i?(o=4*g,h.setTo(a.get(o),a.get(o+1),a.get(o+2),a.get(o+3),l.x,l.y)):s?(o=2*g,h.tx=a.get(o),h.ty=a.get(o+1)):(h.tx=l.x,h.ty=l.y),l.__transform(l,h),u>l.x&&(u=l.x),p>l.y&&(p=l.y),c<l.get_right()&&(c=l.get_right()),d<l.get_bottom()&&(d=l.get_bottom())))}this.__inflateBounds(u,p),this.__inflateBounds(c,d),this.__commands.drawQuads(e,t,a),this.set___dirty(!0),this.__visible=!0,openfl_geom_Rectangle.__pool.release(l),openfl_geom_Matrix.__pool.release(h)}}},drawRect:function(e,t,a,n){if(0!=a||0!=n){var i=a<0?-1:1,s=n<0?-1:1;this.__inflateBounds(e-this.__strokePadding*i,t-this.__strokePadding*s),this.__inflateBounds(e+a+this.__strokePadding*i,t+n+this.__strokePadding*s),this.__commands.drawRect(e,t,a,n),this.set___dirty(!0)}},drawRoundRect:function(e,t,a,n,i,s){if(0!=a||0!=n){var _=a<0?-1:1,r=n<0?-1:1;this.__inflateBounds(e-this.__strokePadding*_,t-this.__strokePadding*r),this.__inflateBounds(e+a+this.__strokePadding*_,t+n+this.__strokePadding*r),this.__commands.drawRoundRect(e,t,a,n,i,s),this.set___dirty(!0)}},drawRoundRectComplex:function(e,t,a,n,i,s,_,r){if(!(a<=0||n<=0)){this.__inflateBounds(e-this.__strokePadding,t-this.__strokePadding),this.__inflateBounds(e+a+this.__strokePadding,t+n+this.__strokePadding);var o=e+a,l=t+n,h=a<n?2*a:2*n;i<h||(i=h),s<h||(s=h),_<h||(_=h),r<h||(r=h);var u=1-Math.sin(Math.PI/180*45),p=1-Math.tan(Math.PI/180*22.5),c=r*u,d=r*p;this.moveTo(o,l-r),this.curveTo(o,l-d,o-c,l-c),this.curveTo(o-d,l,o-r,l),c=_*u,d=_*p,this.lineTo(e+_,l),this.curveTo(e+d,l,e+c,l-c),this.curveTo(e,l-d,e,l-_),c=i*u,d=i*p,this.lineTo(e,t+i),this.curveTo(e,t+d,e+c,t+c),this.curveTo(e+d,t,e+i,t),c=s*u,d=s*p,this.lineTo(o-s,t),this.curveTo(o-d,t,o-c,t+c),this.curveTo(o,t+d,o,t+s),this.lineTo(o,l-r),this.set___dirty(!0)}},drawTriangles:function(e,t,a,n){if(null==n&&(n=1),null!=e&&0!=e.get_length()){var i,s,_=e.get_length()/2|0;if(null==t){if(_%3!=0)throw haxe_Exception.thrown(new openfl_errors_ArgumentError("Not enough vertices to close a triangle."));t=openfl_Vector.toIntVector(null);for(var r=0,o=_;r<o;){var l=r++;t.push(l)}}null==n&&(n=1);var h=1/0,u=1/0,p=-1/0,c=-1/0;for(r=0,o=_;r<o;){l=r++;h>(i=e.get(2*l))&&(h=i),u>(s=e.get(2*l+1))&&(u=s),p<i&&(p=i),c<s&&(c=s)}this.__inflateBounds(h,u),this.__inflateBounds(p,c),this.__commands.drawTriangles(e,t,a,n),this.set___dirty(!0),this.__visible=!0}},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(e,t,a,n){null==n&&(n=!1),null==a&&(a=!0),this.__commands.lineBitmapStyle(e,null!=t?t.clone():null,a,n)},lineGradientStyle:function(e,t,a,n,i,s,_,r){null==r&&(r=0),null==_&&(_=1),null==s&&(s=0),this.__commands.lineGradientStyle(e,t,a,n,i,s,_,r)},lineStyle:function(e,t,a,n,i,s,_,r){null==r&&(r=3),null==i&&(i=2),null==n&&(n=!1),null==a&&(a=1),null==t&&(t=0),null!=e&&(1==_?e>this.__strokePadding&&(this.__strokePadding=Math.ceil(e)):e/2>this.__strokePadding&&(this.__strokePadding=Math.ceil(e/2))),this.__commands.lineStyle(e,t,a,n,i,s,_,r),null!=e&&(this.__visible=!0)},lineTo:function(e,t){isFinite(e)&&isFinite(t)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=e,this.__positionY=t,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(e,t),this.set___dirty(!0))},moveTo:function(e,t){this.__positionX=e,this.__positionY=t,this.__commands.moveTo(e,t)},overrideBlendMode:function(e){null==e&&(e=10),this.__commands.overrideBlendMode(e)},readGraphicsData:function(e){null==e&&(e=!0);var t=openfl_Vector.toObjectVector(null);return this.__owner.__readGraphicsData(t,e),t},__calculateBezierCubicPoint:function(e,t,a,n,i){var s=1-e;return t*(s*s*s)+3*a*e*(s*s)+3*n*s*(e*e)+i*(e*e*e)},__calculateBezierQuadPoint:function(e,t,a,n){var i=1-e;return i*i*t+2*i*e*a+e*e*n},__cleanup:function(){null!=this.__bounds&&null!=this.__canvas&&(this.set___dirty(!0),this.__transformDirty=!0),this.__bitmap=null,this.__canvas=null,this.__context=null},__getBounds:function(e,t){if(null!=this.__bounds){var a=openfl_geom_Rectangle.__pool.get();this.__bounds.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)}},__hitTest:function(e,t,a,n){if(null==this.__bounds)return!1;var i,s=0==(i=n.a*n.d-n.b*n.c)?-n.tx:1/i*(n.c*(n.ty-t)+n.d*(e-n.tx)),_=0==(i=n.a*n.d-n.b*n.c)?-n.ty:1/i*(n.a*(t-n.ty)+n.b*(n.tx-e));return!!(s>this.__bounds.x&&_>this.__bounds.y&&this.__bounds.contains(s,_))&&(!a||openfl_display__$internal_CanvasGraphics.hitTest(this,s,_))},__inflateBounds:function(e,t){if(null==this.__bounds)return this.__bounds=new openfl_geom_Rectangle(e,t,0,0),void(this.__transformDirty=!0);e<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-e,this.__bounds.x=e,this.__transformDirty=!0),t<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-t,this.__bounds.y=t,this.__transformDirty=!0),e>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=e-this.__bounds.x),t>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=t-this.__bounds.y)},__readGraphicsData:function(e){for(var t,a=new openfl_display__$internal_DrawCommandReader(this.__commands),n=null,i=0,s=this.__commands.types;i<s.length;){var _=s[i];switch(++i,_._hx_index){case 4:case 5:case 6:case 7:case 9:case 10:case 17:case 18:null==n&&(n=new openfl_display_GraphicsPath);break;default:null!=n&&(e.push(n),n=null)}switch(_._hx_index){case 0:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var r=a;e.push(new openfl_display_GraphicsBitmapFill(r.buffer.o[r.oPos],r.buffer.o[r.oPos+1],r.buffer.b[r.bPos],r.buffer.b[r.bPos+1]));break;case 1:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var o=a;e.push(new openfl_display_GraphicsSolidFill(o.buffer.i[o.iPos],1));break;case 2:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;var l=a;e.push(new openfl_display_GraphicsGradientFill(l.buffer.o[l.oPos],l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos]));break;case 3:break;case 4:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var h=a;n.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]);break;case 5:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var u=a;n.curveTo(u.buffer.f[u.fPos],u.buffer.f[u.fPos+1],u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3]);break;case 6:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var p=a;n.__drawCircle(p.buffer.f[p.fPos],p.buffer.f[p.fPos+1],p.buffer.f[p.fPos+2]);break;case 7:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var c=a;n.__drawEllipse(c.buffer.f[c.fPos],c.buffer.f[c.fPos+1],c.buffer.f[c.fPos+2],c.buffer.f[c.fPos+3]);break;case 9:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var d=a;n.__drawRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 10:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var f=a;n.__drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],null!=f.buffer.o[f.oPos]?f.buffer.o[f.oPos]:f.buffer.f[f.fPos+4]);break;case 13:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.END_FILL;e.push(new openfl_display_GraphicsEndFill);break;case 14:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;n=null;break;case 15:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;break;case 16:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;var m=a;(t=new openfl_display_GraphicsStroke(m.buffer.o[m.oPos],m.buffer.b[m.bPos],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos+1])).fill=new openfl_display_GraphicsSolidFill(m.buffer.i[m.iPos],m.buffer.f[m.fPos]),e.push(t);break;case 17:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var g=a;n.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 18:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var x=a;n.moveTo(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1]);break;default:switch(a.prev._hx_index){case 0:a.oPos+=2,a.bPos+=2;break;case 1:a.iPos+=1,a.fPos+=1;break;case 2:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 3:a.oPos+=1;break;case 4:a.fPos+=6;break;case 5:a.fPos+=4;break;case 6:a.fPos+=3;break;case 7:a.fPos+=4;break;case 8:a.oPos+=3;break;case 9:a.fPos+=4;break;case 10:a.fPos+=5,a.oPos+=1;break;case 12:a.oPos+=4;break;case 13:break;case 14:a.oPos+=2,a.bPos+=2;break;case 15:a.oPos+=4,a.iiPos+=2,a.ffPos+=1,a.fPos+=1;break;case 16:a.oPos+=4,a.iPos+=1,a.fPos+=2,a.bPos+=1;break;case 17:case 18:a.fPos+=2;break;case 19:case 20:a.oPos+=1}a.prev=_}}null!=n&&e.push(n)},__update:function(e){if(!(null==this.__bounds||this.__bounds.width<=0||this.__bounds.height<=0)){var t=this.__owner.__renderTransform,a=1,n=1;if(null!=t){a=0==t.b?Math.abs(t.a):Math.sqrt(t.a*t.a+t.b*t.b),n=0==t.c?Math.abs(t.d):Math.sqrt(t.c*t.c+t.d*t.d),null!=e&&(0==e.b?a*=e.a:a*=Math.sqrt(e.a*e.a+e.b*e.b),0==e.c?n*=e.d:n*=Math.sqrt(e.c*e.c+e.d*e.d));var i=this.__bounds.width*a,s=this.__bounds.height*n;if(i<1||s<1)return(this.__width>=1||this.__height>=1)&&this.set___dirty(!0),this.__width=0,void(this.__height=0);null!=openfl_display_Graphics.maxTextureWidth&&i>openfl_display_Graphics.maxTextureWidth&&(i=openfl_display_Graphics.maxTextureWidth,a=openfl_display_Graphics.maxTextureWidth/this.__bounds.width),null!=openfl_display_Graphics.maxTextureWidth&&s>openfl_display_Graphics.maxTextureHeight&&(s=openfl_display_Graphics.maxTextureHeight,n=openfl_display_Graphics.maxTextureHeight/this.__bounds.height),this.__renderTransform.a=i/this.__bounds.width,this.__renderTransform.d=s/this.__bounds.height;var _=1/this.__renderTransform.a,r=1/this.__renderTransform.d;this.__worldTransform.a=_*t.a,this.__worldTransform.b=_*t.b,this.__worldTransform.c=r*t.c,this.__worldTransform.d=r*t.d;var o=this.__bounds.x,l=this.__bounds.y,h=o*t.a+l*t.c+t.tx,u=o*t.b+l*t.d+t.ty;this.__worldTransform.tx=Math.round(h),this.__worldTransform.ty=Math.round(u);var p=(c=this.__worldTransform).a*c.d-c.b*c.c;this.__renderTransform.tx=0==p?-c.tx:1/p*(c.c*(c.ty-u)+c.d*(h-c.tx));var c;p=(c=this.__worldTransform).a*c.d-c.b*c.c;this.__renderTransform.ty=0==p?-c.ty:1/p*(c.a*(u-c.ty)+c.b*(c.tx-h));var d=Math.ceil(i+1),f=Math.ceil(s+1);d==this.__width&&f==this.__height||this.set___dirty(!0),this.__width=d,this.__height=f}}},set___dirty:function(e){if(e&&null!=this.__owner){var t=this.__owner;t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())}return e&&(this.__softwareDirty=!0,this.__hardwareDirty=!0),this.__dirty=e},__class__:openfl_display_Graphics,__properties__:{set___dirty:"set___dirty"}};var openfl_display_IGraphicsFill=function(){};$hxClasses["openfl.display.IGraphicsFill"]=openfl_display_IGraphicsFill,openfl_display_IGraphicsFill.__name__="openfl.display.IGraphicsFill",openfl_display_IGraphicsFill.__isInterface__=!0,openfl_display_IGraphicsFill.prototype={__class__:openfl_display_IGraphicsFill};var openfl_display_IGraphicsData=function(){};$hxClasses["openfl.display.IGraphicsData"]=openfl_display_IGraphicsData,openfl_display_IGraphicsData.__name__="openfl.display.IGraphicsData",openfl_display_IGraphicsData.__isInterface__=!0,openfl_display_IGraphicsData.prototype={__class__:openfl_display_IGraphicsData};var openfl_display_GraphicsBitmapFill=function(e,t,a,n){null==n&&(n=!1),null==a&&(a=!0),this.bitmapData=e,this.matrix=t,this.repeat=a,this.smooth=n,this.__graphicsDataType=4,this.__graphicsFillType=2};$hxClasses["openfl.display.GraphicsBitmapFill"]=openfl_display_GraphicsBitmapFill,openfl_display_GraphicsBitmapFill.__name__="openfl.display.GraphicsBitmapFill",openfl_display_GraphicsBitmapFill.__interfaces__=[openfl_display_IGraphicsFill,openfl_display_IGraphicsData],openfl_display_GraphicsBitmapFill.prototype={__class__:openfl_display_GraphicsBitmapFill};var openfl_display_GraphicsEndFill=function(){this.__graphicsDataType=5,this.__graphicsFillType=3};$hxClasses["openfl.display.GraphicsEndFill"]=openfl_display_GraphicsEndFill,openfl_display_GraphicsEndFill.__name__="openfl.display.GraphicsEndFill",openfl_display_GraphicsEndFill.__interfaces__=[openfl_display_IGraphicsFill,openfl_display_IGraphicsData],openfl_display_GraphicsEndFill.prototype={__class__:openfl_display_GraphicsEndFill};var openfl_display_GraphicsGradientFill=function(e,t,a,n,i,s,_,r){null==r&&(r=0),null==e&&(e=0),null==s&&(s=0),null==_&&(_=1),this.type=e,this.colors=t,this.alphas=a,this.ratios=n,this.matrix=i,this.spreadMethod=s,this.interpolationMethod=_,this.focalPointRatio=r,this.__graphicsDataType=2,this.__graphicsFillType=1};$hxClasses["openfl.display.GraphicsGradientFill"]=openfl_display_GraphicsGradientFill,openfl_display_GraphicsGradientFill.__name__="openfl.display.GraphicsGradientFill",openfl_display_GraphicsGradientFill.__interfaces__=[openfl_display_IGraphicsFill,openfl_display_IGraphicsData],openfl_display_GraphicsGradientFill.prototype={__class__:openfl_display_GraphicsGradientFill};var openfl_display_IGraphicsPath=function(){};$hxClasses["openfl.display.IGraphicsPath"]=openfl_display_IGraphicsPath,openfl_display_IGraphicsPath.__name__="openfl.display.IGraphicsPath",openfl_display_IGraphicsPath.__isInterface__=!0;var openfl_display_GraphicsPath=function(e,t,a){null==a&&(a=0),this.commands=e,this.data=t,this.winding=a,this.__graphicsDataType=3};$hxClasses["openfl.display.GraphicsPath"]=openfl_display_GraphicsPath,openfl_display_GraphicsPath.__name__="openfl.display.GraphicsPath",openfl_display_GraphicsPath.__interfaces__=[openfl_display_IGraphicsPath,openfl_display_IGraphicsData],openfl_display_GraphicsPath.prototype={cubicCurveTo:function(e,t,a,n,i,s){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(6),this.data.push(e),this.data.push(t),this.data.push(a),this.data.push(n),this.data.push(i),this.data.push(s)},curveTo:function(e,t,a,n){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(3),this.data.push(e),this.data.push(t),this.data.push(a),this.data.push(n)},lineTo:function(e,t){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(2),this.data.push(e),this.data.push(t)},moveTo:function(e,t){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(1),this.data.push(e),this.data.push(t)},wideLineTo:function(e,t){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(2),this.data.push(e),this.data.push(t)},wideMoveTo:function(e,t){null==this.commands&&(this.commands=openfl_Vector.toIntVector(null)),null==this.data&&(this.data=openfl_Vector.toFloatVector(null)),this.commands.push(1),this.data.push(e),this.data.push(t)},__drawCircle:function(e,t,a){this.__drawRoundRect(e-a,t-a,2*a,2*a,2*a,2*a)},__drawEllipse:function(e,t,a,n){this.__drawRoundRect(e,t,a,n,a,n)},__drawRect:function(e,t,a,n){this.moveTo(e,t),this.lineTo(e+a,t),this.lineTo(e+a,t+n),this.lineTo(e,t+n),this.lineTo(e,t)},__drawRoundRect:function(e,t,a,n,i,s){(i*=.5)>a/2&&(i=a/2),(s*=.5)>n/2&&(s=n/2);var _=e+a,r=t+n,o=.7071067811865476*i-i,l=.41421356237309503*i-i,h=.7071067811865476*s-s,u=.41421356237309503*s-s;this.moveTo(_,r-s),this.curveTo(_,r+u,_+o,r+h),this.curveTo(_+l,r,_-i,r),this.lineTo(e+i,r),this.curveTo(e-l,r,e-o,r+h),this.curveTo(e,r+u,e,r-s),this.lineTo(e,t+s),this.curveTo(e,t-u,e-o,t-h),this.curveTo(e-l,t,e+i,t),this.lineTo(_-i,t),this.curveTo(_+l,t,_+o,t-h),this.curveTo(_,t-u,_,t+s),this.lineTo(_,r-s)},__class__:openfl_display_GraphicsPath};var openfl_display_GraphicsPathWinding={fromString:function(e){switch(e){case"evenOdd":return 0;case"nonZero":return 1;default:return null}},toString:function(e){switch(e){case 0:return"evenOdd";case 1:return"nonZero";default:return null}}},openfl_display_GraphicsQuadPath=function(e,t,a){this.rects=e,this.indices=t,this.transforms=a,this.__graphicsDataType=6};$hxClasses["openfl.display.GraphicsQuadPath"]=openfl_display_GraphicsQuadPath,openfl_display_GraphicsQuadPath.__name__="openfl.display.GraphicsQuadPath",openfl_display_GraphicsQuadPath.__interfaces__=[openfl_display_IGraphicsPath,openfl_display_IGraphicsData],openfl_display_GraphicsQuadPath.prototype={__class__:openfl_display_GraphicsQuadPath};var openfl_display_GraphicsShader=function(e){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (bitmap, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),openfl_display_Shader.call(this,e),this.__isGenerated=!0,this.__initGL()};$hxClasses["openfl.display.GraphicsShader"]=openfl_display_GraphicsShader,openfl_display_GraphicsShader.__name__="openfl.display.GraphicsShader",openfl_display_GraphicsShader.__super__=openfl_display_Shader,openfl_display_GraphicsShader.prototype=$extend(openfl_display_Shader.prototype,{__class__:openfl_display_GraphicsShader});var openfl_display_GraphicsShaderFill=function(e,t){this.shader=e,this.matrix=t,this.__graphicsDataType=8,this.__graphicsFillType=4};$hxClasses["openfl.display.GraphicsShaderFill"]=openfl_display_GraphicsShaderFill,openfl_display_GraphicsShaderFill.__name__="openfl.display.GraphicsShaderFill",openfl_display_GraphicsShaderFill.__interfaces__=[openfl_display_IGraphicsFill,openfl_display_IGraphicsData],openfl_display_GraphicsShaderFill.prototype={__class__:openfl_display_GraphicsShaderFill};var openfl_display_GraphicsSolidFill=function(e,t){null==t&&(t=1),null==e&&(e=0),this.alpha=t,this.color=e,this.__graphicsDataType=1,this.__graphicsFillType=0};$hxClasses["openfl.display.GraphicsSolidFill"]=openfl_display_GraphicsSolidFill,openfl_display_GraphicsSolidFill.__name__="openfl.display.GraphicsSolidFill",openfl_display_GraphicsSolidFill.__interfaces__=[openfl_display_IGraphicsFill,openfl_display_IGraphicsData],openfl_display_GraphicsSolidFill.prototype={__class__:openfl_display_GraphicsSolidFill};var openfl_display_IGraphicsStroke=function(){};$hxClasses["openfl.display.IGraphicsStroke"]=openfl_display_IGraphicsStroke,openfl_display_IGraphicsStroke.__name__="openfl.display.IGraphicsStroke",openfl_display_IGraphicsStroke.__isInterface__=!0;var openfl_display_GraphicsStroke=function(e,t,a,n,i,s,_){null==s&&(s=3),null==i&&(i=2),null==n&&(n=0),null==a&&(a=2),null==t&&(t=!1),null==e&&(e=NaN),this.caps=n,this.fill=_,this.joints=i,this.miterLimit=s,this.pixelHinting=t,this.scaleMode=a,this.thickness=e,this.__graphicsDataType=0};$hxClasses["openfl.display.GraphicsStroke"]=openfl_display_GraphicsStroke,openfl_display_GraphicsStroke.__name__="openfl.display.GraphicsStroke",openfl_display_GraphicsStroke.__interfaces__=[openfl_display_IGraphicsStroke,openfl_display_IGraphicsData],openfl_display_GraphicsStroke.prototype={__class__:openfl_display_GraphicsStroke};var openfl_display_GraphicsTrianglePath=function(e,t,a,n){null==n&&(n=1),this.vertices=e,this.indices=t,this.uvtData=a,this.culling=n,this.__graphicsDataType=7};$hxClasses["openfl.display.GraphicsTrianglePath"]=openfl_display_GraphicsTrianglePath,openfl_display_GraphicsTrianglePath.__name__="openfl.display.GraphicsTrianglePath",openfl_display_GraphicsTrianglePath.__interfaces__=[openfl_display_IGraphicsPath,openfl_display_IGraphicsData],openfl_display_GraphicsTrianglePath.prototype={__class__:openfl_display_GraphicsTrianglePath};var openfl_display_ITileContainer=function(){};$hxClasses["openfl.display.ITileContainer"]=openfl_display_ITileContainer,openfl_display_ITileContainer.__name__="openfl.display.ITileContainer",openfl_display_ITileContainer.__isInterface__=!0,openfl_display_ITileContainer.prototype={__class__:openfl_display_ITileContainer,__properties__:{get_numTiles:"get_numTiles"}};var openfl_display_InterpolationMethod={fromInt:function(e){return e},fromString:function(e){switch(e){case"linearRGB":return 0;case"rgb":return 1;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"linearRGB";case 1:return"rgb";default:return null}}},openfl_display_JPEGEncoderOptions=function(e){null==e&&(e=80),this.quality=e};$hxClasses["openfl.display.JPEGEncoderOptions"]=openfl_display_JPEGEncoderOptions,openfl_display_JPEGEncoderOptions.__name__="openfl.display.JPEGEncoderOptions",openfl_display_JPEGEncoderOptions.prototype={__class__:openfl_display_JPEGEncoderOptions};var openfl_display_JointStyle={fromInt:function(e){return e},fromString:function(e){switch(e){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}}},openfl_display_LineScaleMode={fromInt:function(e){return e},fromString:function(e){switch(e){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}}},openfl_display_Loader=function(){openfl_display_DisplayObjectContainer.call(this),this.__drawableType=4,this.contentLoaderInfo=openfl_display_LoaderInfo.create(this),this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents,this.__unloaded=!0};$hxClasses["openfl.display.Loader"]=openfl_display_Loader,openfl_display_Loader.__name__="openfl.display.Loader",openfl_display_Loader.__super__=openfl_display_DisplayObjectContainer,openfl_display_Loader.prototype=$extend(openfl_display_DisplayObjectContainer.prototype,{addChild:function(e){throw haxe_Exception.thrown(new openfl_errors_Error("Error #2069: The Loader class does not implement this method.",2069))},addChildAt:function(e,t){throw haxe_Exception.thrown(new openfl_errors_Error("Error #2069: The Loader class does not implement this method.",2069))},close:function(){openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/display/Loader.hx",lineNumber:228,className:"openfl.display.Loader",methodName:"close"})},load:function(e,t){if(this.unload(),this.contentLoaderInfo.loaderURL=openfl_Lib.get_current().get_loaderInfo().url,this.contentLoaderInfo.url=e.url,this.__unloaded=!1,null==e.contentType||""==e.contentType){var a="";this.__path=e.url;var n=this.__path.indexOf("?");for(n>-1&&(this.__path=this.__path.substring(0,n));StringTools.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);StringTools.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",e.url=n>-1?this.__path+e.url.substring(n):this.__path);var i,s=this.__path.lastIndexOf(".");switch(s>-1&&(a=this.__path.substring(s+1)),a){case"gif":i="image/gif";break;case"jpeg":case"jpg":i="image/jpeg";break;case"js":i="application/javascript";break;case"json":i="application/json";break;case"png":i="image/png";break;case"swf":i="application/x-shockwave-flash";break;default:i="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=i}else this.contentLoaderInfo.contentType=e.contentType;if(this.contentLoaderInfo.contentType.indexOf("image/")>-1&&"GET"==e.method&&(null==e.requestHeaders||0==e.requestHeaders.length)&&null==e.userAgent)openfl_display_BitmapData.loadFromFile(e.url).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError)).onProgress($bind(this,this.BitmapData_onProgress));else{var _=new openfl_net_URLLoader;_.dataFormat=0,(this.contentLoaderInfo.contentType.indexOf("/json")>-1||this.contentLoaderInfo.contentType.indexOf("/javascript")>-1||this.contentLoaderInfo.contentType.indexOf("/ecmascript")>-1)&&(_.dataFormat=1),_.addEventListener("complete",$bind(this,this.loader_onComplete)),_.addEventListener("ioError",$bind(this,this.loader_onError)),_.addEventListener("progress",$bind(this,this.loader_onProgress)),_.load(e)}},loadBytes:function(e,t){openfl_display_BitmapData.loadFromBytes(e).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError))},removeChild:function(e){if(e==this.content)return openfl_display_DisplayObjectContainer.prototype.removeChild.call(this,this.content);throw haxe_Exception.thrown(new openfl_errors_Error("Error #2069: The Loader class does not implement this method.",2069))},removeChildAt:function(e){throw haxe_Exception.thrown(new openfl_errors_Error("Error #2069: The Loader class does not implement this method.",2069))},setChildIndex:function(e,t){throw haxe_Exception.thrown(new openfl_errors_Error("Error #2069: The Loader class does not implement this method.",2069))},unload:function(){this.__unloaded||(null!=this.content&&this.content.parent==this&&openfl_display_DisplayObjectContainer.prototype.removeChild.call(this,this.content),null!=this.__library&&(openfl_utils_Assets.unloadLibrary(this.contentLoaderInfo.url),this.__library=null),this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0,this.__unloaded=!0,this.contentLoaderInfo.dispatchEvent(new openfl_events_Event("unload")))},unloadAndStop:function(e){null==e&&(e=!0),null!=this.content&&this.content.__stopAllMovieClips();for(var t=0,a=this.get_numChildren();t<a;){var n=t++;this.getChildAt(n).__stopAllMovieClips()}this.unload()},__dispatchError:function(e){var t=new openfl_events_IOErrorEvent("ioError");t.text=e,this.contentLoaderInfo.dispatchEvent(t)},__setContent:function(e,t,a){this.content=e,this.contentLoaderInfo.content=e,this.contentLoaderInfo.width=t,this.contentLoaderInfo.height=a,null!=e&&openfl_display_DisplayObjectContainer.prototype.addChildAt.call(this,e,0)},BitmapData_onError:function(e){this.__dispatchError(Std.string(e))},BitmapData_onLoad:function(e){null!=e?(this.__setContent(new openfl_display_Bitmap(e),e.width,e.height),this.contentLoaderInfo.dispatchEvent(new openfl_events_Event("complete"))):this.__dispatchError("Unknown error")},BitmapData_onProgress:function(e,t){var a=new openfl_events_ProgressEvent("progress");a.bytesLoaded=e,a.bytesTotal=t,this.contentLoaderInfo.dispatchEvent(a)},loader_onComplete:function(event){var _gthis=this,loader=event.target;if(null!=this.contentLoaderInfo.contentType&&this.contentLoaderInfo.contentType.indexOf("/json")>-1){var manifest=lime_utils_AssetManifest.parse(loader.data,haxe_io_Path.directory(this.__path));if(null==manifest)return void this.__dispatchError("Cannot parse asset manifest");var library=lime_utils_AssetLibrary.fromManifest(manifest);if(null==library)return void this.__dispatchError("Cannot open library");library instanceof openfl_utils_AssetLibrary&&library.load().onComplete((function(e){_gthis.__library=library,openfl_utils_Assets.registerLibrary(_gthis.contentLoaderInfo.url,_gthis.__library),null==manifest.name||openfl_utils_Assets.hasLibrary(manifest.name)||openfl_utils_Assets.registerLibrary(manifest.name,_gthis.__library);var t=_gthis.__library.getMovieClip("");_gthis.__setContent(t,0|t.get_width(),0|t.get_height()),_gthis.contentLoaderInfo.dispatchEvent(new openfl_events_Event("complete"))})).onError((function(e){_gthis.__dispatchError(e)}))}else null!=this.contentLoaderInfo.contentType&&(this.contentLoaderInfo.contentType.indexOf("/javascript")>-1||this.contentLoaderInfo.contentType.indexOf("/ecmascript")>-1)?(this.__setContent(new openfl_display_Sprite,0,0),eval("(function () {"+Std.string(loader.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new openfl_events_Event("complete"))):(this.contentLoaderInfo.bytes=loader.data,openfl_display_BitmapData.loadFromBytes(loader.data).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError)))},loader_onError:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},loader_onProgress:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:openfl_display_Loader});var openfl_display_LoaderInfo=function(){openfl_events_EventDispatcher.call(this),this.applicationDomain=openfl_system_ApplicationDomain.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters={}};$hxClasses["openfl.display.LoaderInfo"]=openfl_display_LoaderInfo,openfl_display_LoaderInfo.__name__="openfl.display.LoaderInfo",openfl_display_LoaderInfo.create=function(e){var t=new openfl_display_LoaderInfo;return t.uncaughtErrorEvents=new openfl_events_UncaughtErrorEvents,null!=e?t.loader=e:t.url=openfl_display_LoaderInfo.__rootURL,t},openfl_display_LoaderInfo.__super__=openfl_events_EventDispatcher,openfl_display_LoaderInfo.prototype=$extend(openfl_events_EventDispatcher.prototype,{__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new openfl_events_Event("complete")))},__update:function(e,t){this.bytesLoaded=e,this.bytesTotal=t,this.dispatchEvent(new openfl_events_ProgressEvent("progress",!1,!1,e,t))},__class__:openfl_display_LoaderInfo});var openfl_display_MovieClip=function(){if(openfl_display_Sprite.call(this),this.__enabled=!0,null!=openfl_display_MovieClip.__constructor){var e=openfl_display_MovieClip.__constructor;openfl_display_MovieClip.__constructor=null,e(this)}};$hxClasses["openfl.display.MovieClip"]=openfl_display_MovieClip,openfl_display_MovieClip.__name__="openfl.display.MovieClip",openfl_display_MovieClip.fromTimeline=function(e){var t=new openfl_display_MovieClip;return t.attachTimeline(e),t},openfl_display_MovieClip.__super__=openfl_display_Sprite,openfl_display_MovieClip.prototype=$extend(openfl_display_Sprite.prototype,{addFrameScript:function(e,t){null!=this.__timeline&&this.__timeline.__addFrameScript(e,t)},attachTimeline:function(e){this.__timeline=e,null!=e&&(e.__attachMovieClip(this),this.play())},gotoAndPlay:function(e,t){null!=this.__timeline&&this.__timeline.__gotoAndPlay(e,t)},gotoAndStop:function(e,t){null!=this.__timeline&&this.__timeline.__gotoAndStop(e,t)},nextFrame:function(){null!=this.__timeline&&this.__timeline.__nextFrame()},nextScene:function(){null!=this.__timeline&&this.__timeline.__nextScene()},play:function(){null!=this.__timeline&&this.__timeline.__play()},prevFrame:function(){null!=this.__timeline&&this.__timeline.__prevFrame()},prevScene:function(){null!=this.__timeline&&this.__timeline.__prevScene()},stop:function(){null!=this.__timeline&&this.__timeline.__stop()},__enterFrame:function(e){null!=this.__timeline&&this.__timeline.__enterFrame(e);for(var t=0,a=this.__children;t<a.length;){var n=a[t];++t,n.__enterFrame(e)}},__stopAllMovieClips:function(){openfl_display_Sprite.prototype.__stopAllMovieClips.call(this),this.stop()},__tabTest:function(e){this.__enabled&&openfl_display_Sprite.prototype.__tabTest.call(this,e)},__onMouseDown:function(e){this.__enabled&&this.__hasDown&&this.gotoAndStop("_down"),this.__mouseIsDown=!0,null!=this.stage&&this.stage.addEventListener("mouseUp",$bind(this,this.__onMouseUp),!0)},__onMouseUp:function(e){this.__mouseIsDown=!1,null!=this.stage&&this.stage.removeEventListener("mouseUp",$bind(this,this.__onMouseUp)),this.__buttonMode&&(e.target==this&&this.__enabled&&this.__hasOver?this.gotoAndStop("_over"):this.__enabled&&this.__hasUp&&this.gotoAndStop("_up"))},__onRollOut:function(e){this.__enabled&&(this.__mouseIsDown&&this.__hasOver?this.gotoAndStop("_over"):this.__hasUp&&this.gotoAndStop("_up"))},__onRollOver:function(e){this.__enabled&&this.__hasOver&&this.gotoAndStop("_over")},set_buttonMode:function(e){if(this.__buttonMode!=e){if(e){this.__hasDown=!1,this.__hasOver=!1,this.__hasUp=!1;for(var t=0,a=this.get_currentLabels();t<a.length;){var n=a[t];switch(++t,n.name){case"_down":this.__hasDown=!0;break;case"_over":this.__hasOver=!0;break;case"_up":this.__hasUp=!0}}(this.__hasDown||this.__hasOver||this.__hasUp)&&(this.addEventListener("rollOver",$bind(this,this.__onRollOver)),this.addEventListener("rollOut",$bind(this,this.__onRollOut)),this.addEventListener("mouseDown",$bind(this,this.__onMouseDown)))}else this.removeEventListener("rollOver",$bind(this,this.__onRollOver)),this.removeEventListener("rollOut",$bind(this,this.__onRollOut)),this.removeEventListener("mouseDown",$bind(this,this.__onMouseDown));this.__buttonMode=e}return e},get_currentFrame:function(){return null!=this.__timeline?this.__timeline.__currentFrame:1},get_currentFrameLabel:function(){return null!=this.__timeline?this.__timeline.__currentFrameLabel:null},get_currentLabel:function(){return null!=this.__timeline?this.__timeline.__currentLabel:null},get_currentLabels:function(){return null!=this.__timeline?this.__timeline.__currentLabels.slice():[]},get_currentScene:function(){return null!=this.__timeline?this.__timeline.__currentScene:(null==this.__scene&&(this.__scene=new openfl_display_Scene("",[],1)),this.__scene)},get_enabled:function(){return this.__enabled},set_enabled:function(e){return this.__enabled=e},get_framesLoaded:function(){return null!=this.__timeline?this.__timeline.__framesLoaded:1},get_isPlaying:function(){return null!=this.__timeline&&this.__timeline.__isPlaying},get_scenes:function(){return null!=this.__timeline?this.__timeline.scenes.slice():[this.get_currentScene()]},get_totalFrames:function(){return null!=this.__timeline?this.__timeline.__totalFrames:1},__class__:openfl_display_MovieClip,__properties__:$extend(openfl_display_Sprite.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_scenes:"get_scenes",get_isPlaying:"get_isPlaying",get_framesLoaded:"get_framesLoaded",set_enabled:"set_enabled",get_enabled:"get_enabled",get_currentScene:"get_currentScene",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var openfl_geom_Rectangle=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.width=a,this.height=n};$hxClasses["openfl.geom.Rectangle"]=openfl_geom_Rectangle,openfl_geom_Rectangle.__name__="openfl.geom.Rectangle",openfl_geom_Rectangle.prototype={clone:function(){return new openfl_geom_Rectangle(this.x,this.y,this.width,this.height)},contains:function(e,t){return e>=this.x&&t>=this.y&&e<this.get_right()&&t<this.get_bottom()},containsPoint:function(e){return this.contains(e.x,e.y)},containsRect:function(e){return e.width<=0||e.height<=0?e.x>this.x&&e.y>this.y&&e.get_right()<this.get_right()&&e.get_bottom()<this.get_bottom():e.x>=this.x&&e.y>=this.y&&e.get_right()<=this.get_right()&&e.get_bottom()<=this.get_bottom()},copyFrom:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},equals:function(e){return e==this||null!=e&&this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},inflate:function(e,t){this.x-=e,this.width+=2*e,this.y-=t,this.height+=2*t},inflatePoint:function(e){this.inflate(e.x,e.y)},intersection:function(e){var t=this.x<e.x?e.x:this.x,a=this.get_right()>e.get_right()?e.get_right():this.get_right();if(a<=t)return new openfl_geom_Rectangle;var n=this.y<e.y?e.y:this.y,i=this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom();return i<=n?new openfl_geom_Rectangle:new openfl_geom_Rectangle(t,n,a-t,i-n)},intersects:function(e){var t=this.x<e.x?e.x:this.x;if((this.get_right()>e.get_right()?e.get_right():this.get_right())<=t)return!1;var a=this.y<e.y?e.y:this.y;return(this.get_bottom()>e.get_bottom()?e.get_bottom():this.get_bottom())>a},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(e,t){this.x+=e,this.y+=t},offsetPoint:function(e){this.x+=e.x,this.y+=e.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(e,t,a,n){this.x=e,this.y=t,this.width=a,this.height=n},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(e){if(0==this.width||0==this.height)return e.clone();if(0==e.width||0==e.height)return this.clone();var t=this.x>e.x?e.x:this.x,a=this.get_right()<e.get_right()?e.get_right():this.get_right(),n=this.y>e.y?e.y:this.y,i=this.get_bottom()<e.get_bottom()?e.get_bottom():this.get_bottom();return new openfl_geom_Rectangle(t,n,a-t,i-n)},__contract:function(e,t,a,n){if(0!=this.width||0!=this.height){var i=0,s=0,_=0,r=0;this.x<e&&(i=e-this.x),this.y<t&&(s=t-this.y),this.get_right()>e+a&&(_=e+a-this.get_right()),this.get_bottom()>t+n&&(r=t+n-this.get_bottom()),this.x+=i,this.y+=s,this.width+=_-i,this.height+=r-s}},__expand:function(e,t,a,n){if(0==this.width&&0==this.height)return this.x=e,this.y=t,this.width=a,void(this.height=n);var i=this.get_right(),s=this.get_bottom();this.x>e&&(this.x=e,this.width=i-e),this.y>t&&(this.y=t,this.height=s-t),i<e+a&&(this.width=e+a-this.x),s<t+n&&(this.height=t+n-this.y)},__toLimeRectangle:function(){return null==openfl_geom_Rectangle.__limeRectangle&&(openfl_geom_Rectangle.__limeRectangle=new lime_math_Rectangle),openfl_geom_Rectangle.__limeRectangle.setTo(this.x,this.y,this.width,this.height),openfl_geom_Rectangle.__limeRectangle},__transform:function(e,t){var a=t.a*this.x+t.c*this.y,n=a,i=t.b*this.x+t.d*this.y,s=i,_=t.a*(this.x+this.width)+t.c*this.y,r=t.b*(this.x+this.width)+t.d*this.y;_<a&&(a=_),r<i&&(i=r),_>n&&(n=_),r>s&&(s=r),(_=t.a*(this.x+this.width)+t.c*(this.y+this.height))<a&&(a=_),(r=t.b*(this.x+this.width)+t.d*(this.y+this.height))<i&&(i=r),_>n&&(n=_),r>s&&(s=r),(_=t.a*this.x+t.c*(this.y+this.height))<a&&(a=_),(r=t.b*this.x+t.d*(this.y+this.height))<i&&(i=r),_>n&&(n=_),r>s&&(s=r),e.setTo(a+t.tx,i+t.ty,n-a,s-i)},get_bottom:function(){return this.y+this.height},set_bottom:function(e){return this.height=e-this.y,e},get_bottomRight:function(){return new openfl_geom_Point(this.x+this.width,this.y+this.height)},set_bottomRight:function(e){return this.width=e.x-this.x,this.height=e.y-this.y,e.clone()},get_left:function(){return this.x},set_left:function(e){return this.width-=e-this.x,this.x=e,e},get_right:function(){return this.x+this.width},set_right:function(e){return this.width=e-this.x,e},get_size:function(){return new openfl_geom_Point(this.width,this.height)},set_size:function(e){return this.width=e.x,this.height=e.y,e.clone()},get_top:function(){return this.y},set_top:function(e){return this.height-=e-this.y,this.y=e,e},get_topLeft:function(){return new openfl_geom_Point(this.x,this.y)},set_topLeft:function(e){return this.x=e.x,this.y=e.y,e.clone()},__class__:openfl_geom_Rectangle,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var openfl_display_OpenGLRenderer=function(e,t){openfl_display_DisplayObjectRenderer.call(this),this.__context3D=e,this.__context=e.__context,this.gl=e.__context.webgl,this.__gl=this.gl,this.__defaultRenderTarget=t,this.__flipped=null==this.__defaultRenderTarget,null==openfl_display_Graphics.maxTextureWidth&&(openfl_display_Graphics.maxTextureWidth=openfl_display_Graphics.maxTextureHeight=this.__gl.getParameter(this.__gl.MAX_TEXTURE_SIZE)),this.__matrix=lime_math_Matrix4._new(),this.__values=[],this.__softwareRenderer=new openfl_display_CanvasRenderer(null),this.__type="opengl",this.__setBlendMode(10),this.__context3D.__setGLBlend(!0),this.__clipRects=[],this.__maskObjects=[],this.__numClipRects=0,this.__projection=lime_math_Matrix4._new(),this.__projectionFlipped=lime_math_Matrix4._new(),this.__stencilReference=0,this.__tempRect=new openfl_geom_Rectangle,this.__defaultDisplayShader=new openfl_display_DisplayObjectShader,this.__defaultGraphicsShader=new openfl_display_GraphicsShader,this.__defaultShader=this.__defaultDisplayShader,this.__initShader(this.__defaultShader),this.__scrollRectMasks=new lime_utils_ObjectPool((function(){return new openfl_display_Shape})),this.__maskShader=new openfl_display__$internal_Context3DMaskShader};$hxClasses["openfl.display.OpenGLRenderer"]=openfl_display_OpenGLRenderer,openfl_display_OpenGLRenderer.__name__="openfl.display.OpenGLRenderer",openfl_display_OpenGLRenderer.__super__=openfl_display_DisplayObjectRenderer,openfl_display_OpenGLRenderer.prototype=$extend(openfl_display_DisplayObjectRenderer.prototype,{applyAlpha:function(e){openfl_display_OpenGLRenderer.__alphaValue[0]=e*this.__worldAlpha,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Alpha",openfl_display_OpenGLRenderer.__alphaValue):null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.value=openfl_display_OpenGLRenderer.__alphaValue)},applyBitmapData:function(e,t,a){null==a&&(a=!1),null!=this.__currentShaderBuffer?null!=e&&(openfl_display_OpenGLRenderer.__textureSizeValue[0]=e.__textureWidth,openfl_display_OpenGLRenderer.__textureSizeValue[1]=e.__textureHeight,this.__currentShaderBuffer.addFloatOverride("openfl_TextureSize",openfl_display_OpenGLRenderer.__textureSizeValue)):null!=this.__currentShader&&(null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=e,this.__currentShader.__bitmap.filter=t&&this.__allowSmoothing?4:5,this.__currentShader.__bitmap.mipFilter=2,this.__currentShader.__bitmap.wrap=a?2:0),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=e,this.__currentShader.__texture.filter=t&&this.__allowSmoothing?4:5,this.__currentShader.__texture.mipFilter=2,this.__currentShader.__texture.wrap=a?2:0),null!=this.__currentShader.__textureSize&&(null!=e?(openfl_display_OpenGLRenderer.__textureSizeValue[0]=e.__textureWidth,openfl_display_OpenGLRenderer.__textureSizeValue[1]=e.__textureHeight,this.__currentShader.__textureSize.value=openfl_display_OpenGLRenderer.__textureSizeValue):this.__currentShader.__textureSize.value=null))},applyColorTransform:function(e){var t=null!=e&&!e.__isDefault(!0);this.applyHasColorTransform(t),t?(e.__setArrays(openfl_display_OpenGLRenderer.__colorMultipliersValue,openfl_display_OpenGLRenderer.__colorOffsetsValue),null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",openfl_display_OpenGLRenderer.__colorMultipliersValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",openfl_display_OpenGLRenderer.__colorOffsetsValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=openfl_display_OpenGLRenderer.__colorMultipliersValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=openfl_display_OpenGLRenderer.__colorOffsetsValue))):null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",openfl_display_OpenGLRenderer.__emptyColorValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",openfl_display_OpenGLRenderer.__emptyColorValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=openfl_display_OpenGLRenderer.__emptyColorValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=openfl_display_OpenGLRenderer.__emptyColorValue))},applyHasColorTransform:function(e){openfl_display_OpenGLRenderer.__hasColorTransformValue[0]=e,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addBoolOverride("openfl_HasColorTransform",openfl_display_OpenGLRenderer.__hasColorTransformValue):null!=this.__currentShader&&null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=openfl_display_OpenGLRenderer.__hasColorTransformValue)},applyMatrix:function(e){null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Matrix",e):null!=this.__currentShader&&null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=e)},getMatrix:function(e){if(null!=this.gl){var t=this.__getMatrix(e,1);return lime_math_Matrix4.set(this.__matrix,0,t[0]),lime_math_Matrix4.set(this.__matrix,1,t[1]),lime_math_Matrix4.set(this.__matrix,2,t[2]),lime_math_Matrix4.set(this.__matrix,3,t[3]),lime_math_Matrix4.set(this.__matrix,4,t[4]),lime_math_Matrix4.set(this.__matrix,5,t[5]),lime_math_Matrix4.set(this.__matrix,6,t[6]),lime_math_Matrix4.set(this.__matrix,7,t[7]),lime_math_Matrix4.set(this.__matrix,8,t[8]),lime_math_Matrix4.set(this.__matrix,9,t[9]),lime_math_Matrix4.set(this.__matrix,10,t[10]),lime_math_Matrix4.set(this.__matrix,11,t[11]),lime_math_Matrix4.set(this.__matrix,12,t[12]),lime_math_Matrix4.set(this.__matrix,13,t[13]),lime_math_Matrix4.set(this.__matrix,14,t[14]),lime_math_Matrix4.set(this.__matrix,15,t[15]),this.__matrix}return lime_math_Matrix4.identity(this.__matrix),lime_math_Matrix4.set(this.__matrix,0,e.a),lime_math_Matrix4.set(this.__matrix,1,e.b),lime_math_Matrix4.set(this.__matrix,4,e.c),lime_math_Matrix4.set(this.__matrix,5,e.d),lime_math_Matrix4.set(this.__matrix,12,e.tx),lime_math_Matrix4.set(this.__matrix,13,e.ty),this.__matrix},setShader:function(e){if(this.__currentShaderBuffer=null,this.__currentShader!=e){this.__currentShader;if(null==e)return this.__currentShader=null,void this.__context3D.setProgram(null);this.__currentShader=e,this.__initShader(e),this.__context3D.setProgram(e.program),this.__context3D.__flushGLProgram(),this.__currentShader.__enable(),this.__context3D.__state.shader=e}},setViewport:function(){this.__gl.viewport(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight)},updateShader:function(){null!=this.__currentShader&&(null!=this.__currentShader.__position&&(this.__currentShader.__position.__useArray=!0),null!=this.__currentShader.__textureCoord&&(this.__currentShader.__textureCoord.__useArray=!0),this.__context3D.setProgram(this.__currentShader.program),this.__context3D.__flushGLProgram(),this.__context3D.__flushGLTextures(),this.__currentShader.__update())},useAlphaArray:function(){null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.__useArray=!0)},useColorTransformArray:function(){null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.__useArray=!0),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.__useArray=!0))},__cleanup:function(){this.__stencilReference>0&&(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0&&(this.__numClipRects=0,this.__scissorRect())},__clear:function(){null==this.__stage||this.__stage.__transparent?this.__context3D.clear(0,0,0,0,0,0,1):this.__context3D.clear(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2],1,0,0,1),this.__cleared=!0},__clearShader:function(){null!=this.__currentShader&&(null==this.__currentShaderBuffer?null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=null):this.__currentShaderBuffer.clearOverride(),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=null),null!=this.__currentShader.__textureSize&&(this.__currentShader.__textureSize.value=null),null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=null),null!=this.__currentShader.__position&&(this.__currentShader.__position.value=null),null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=null),this.__currentShader.__clearUseArray())},__copyShader:function(e){this.__currentShader=e.__currentShader,this.__currentShaderBuffer=e.__currentShaderBuffer,this.__currentDisplayShader=e.__currentDisplayShader,this.__currentGraphicsShader=e.__currentGraphicsShader},__getMatrix:function(e,t){var a=openfl_geom_Matrix.__pool.get();return a.copyFrom(e),a.concat(this.__worldTransform),(0==t||1==t&&0==a.b&&0==a.c&&a.a<1.001&&a.a>.999&&a.d<1.001&&a.d>.999)&&(a.tx=Math.round(a.tx),a.ty=Math.round(a.ty)),lime_math_Matrix4.identity(this.__matrix),lime_math_Matrix4.set(this.__matrix,0,a.a),lime_math_Matrix4.set(this.__matrix,1,a.b),lime_math_Matrix4.set(this.__matrix,4,a.c),lime_math_Matrix4.set(this.__matrix,5,a.d),lime_math_Matrix4.set(this.__matrix,12,a.tx),lime_math_Matrix4.set(this.__matrix,13,a.ty),lime_math_Matrix4.append(this.__matrix,this.__flipped?this.__projectionFlipped:this.__projection),this.__values[0]=lime_math_Matrix4.get(this.__matrix,0),this.__values[1]=lime_math_Matrix4.get(this.__matrix,1),this.__values[2]=lime_math_Matrix4.get(this.__matrix,2),this.__values[3]=lime_math_Matrix4.get(this.__matrix,3),this.__values[4]=lime_math_Matrix4.get(this.__matrix,4),this.__values[5]=lime_math_Matrix4.get(this.__matrix,5),this.__values[6]=lime_math_Matrix4.get(this.__matrix,6),this.__values[7]=lime_math_Matrix4.get(this.__matrix,7),this.__values[8]=lime_math_Matrix4.get(this.__matrix,8),this.__values[9]=lime_math_Matrix4.get(this.__matrix,9),this.__values[10]=lime_math_Matrix4.get(this.__matrix,10),this.__values[11]=lime_math_Matrix4.get(this.__matrix,11),this.__values[12]=lime_math_Matrix4.get(this.__matrix,12),this.__values[13]=lime_math_Matrix4.get(this.__matrix,13),this.__values[14]=lime_math_Matrix4.get(this.__matrix,14),this.__values[15]=lime_math_Matrix4.get(this.__matrix,15),openfl_geom_Matrix.__pool.release(a),this.__values},__initShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.__context3D,e.__init()),e):this.__defaultShader},__initDisplayShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.__context3D,e.__init()),e):this.__defaultDisplayShader},__initGraphicsShader:function(e){return null!=e?(null==e.__context&&(e.__context=this.__context3D,e.__init()),e):this.__defaultGraphicsShader},__initShaderBuffer:function(e){return null!=e?this.__initGraphicsShader(e.shader):this.__defaultGraphicsShader},__popMask:function(){if(0!=this.__stencilReference){var e=this.__maskObjects.pop();this.__stencilReference>1?(this.__context3D.setStencilActions(2,1,0,0,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(e),this.__stencilReference--,this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)):(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0))}},__popMaskObject:function(e,t){null==t&&(t=!0),null!=e.__mask&&this.__popMask(),t&&null!=e.__scrollRect&&(0!=e.__renderTransform.b||0!=e.__renderTransform.c?(this.__scrollRectMasks.release(this.__maskObjects[this.__maskObjects.length-1]),this.__popMask()):this.__popMaskRect())},__popMaskRect:function(){this.__numClipRects>0&&(this.__numClipRects--,this.__numClipRects>0?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect())},__pushMask:function(e){0==this.__stencilReference&&(this.__context3D.clear(0,0,0,0,0,0,4),this.__updatedStencil=!0),this.__context3D.setStencilActions(2,1,2,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(e),this.__maskObjects.push(e),this.__stencilReference++,this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)},__pushMaskObject:function(e,t){if(null==t&&(t=!0),t&&null!=e.__scrollRect)if(0!=e.__renderTransform.b||0!=e.__renderTransform.c){var a=this.__scrollRectMasks.get();a.get_graphics().clear(),a.get_graphics().beginFill(65280),a.get_graphics().drawRect(e.__scrollRect.x,e.__scrollRect.y,e.__scrollRect.width,e.__scrollRect.height),a.__renderTransform.copyFrom(e.__renderTransform),this.__pushMask(a)}else this.__pushMaskRect(e.__scrollRect,e.__renderTransform);null!=e.__mask&&this.__pushMask(e.__mask)},__pushMaskRect:function(e,t){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new openfl_geom_Rectangle);var a=openfl_geom_Matrix.__pool.get();a.copyFrom(t),a.concat(this.__worldTransform);var n=this.__clipRects[this.__numClipRects];if(e.__transform(n,a),this.__numClipRects>0){var i=this.__clipRects[this.__numClipRects-1];n.__contract(i.x,i.y,i.width,i.height)}n.height<0&&(n.height=0),n.width<0&&(n.width=0),openfl_geom_Matrix.__pool.release(a),this.__scissorRect(n),this.__numClipRects++},__render:function(e){if(this.__context3D.setColorMask(!0,!0,!0,!0),this.__context3D.setCulling(3),this.__context3D.setDepthTest(!1,0),this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0),this.__context3D.setScissorRectangle(null),this.__blendMode=null,this.__setBlendMode(10),null==this.__defaultRenderTarget)openfl_display_OpenGLRenderer.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle),this.__upscaled=1!=this.__worldTransform.a||1!=this.__worldTransform.d,this.__renderDrawable(e),(this.__offsetX>0||this.__offsetY>0)&&(this.__offsetX>0&&(openfl_display_OpenGLRenderer.__scissorRectangle.setTo(0,0,this.__offsetX,this.__height),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),openfl_display_OpenGLRenderer.__scissorRectangle.setTo(this.__offsetX+this.__displayWidth,0,this.__width,this.__height),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.__offsetY>0&&(openfl_display_OpenGLRenderer.__scissorRectangle.setTo(0,0,this.__width,this.__offsetY),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),openfl_display_OpenGLRenderer.__scissorRectangle.setTo(0,this.__offsetY+this.__displayHeight,this.__width,this.__height),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.__context3D.setScissorRectangle(null));else{openfl_display_OpenGLRenderer.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle);var t=e.__mask,a=e.__scrollRect;e.__mask=null,e.__scrollRect=null,this.__renderDrawable(e),e.__mask=t,e.__scrollRect=a}this.__context3D.present()},__renderDrawable:function(e){if(null!=e)switch(e.__drawableType){case 0:openfl_display__$internal_Context3DBitmapData.renderDrawable(e,this);break;case 2:openfl_display__$internal_Context3DBitmap.renderDrawable(e,this);break;case 3:openfl_display__$internal_Context3DDisplayObject.renderDrawable(e,this);break;case 4:case 5:openfl_display__$internal_Context3DDisplayObjectContainer.renderDrawable(e,this);break;case 6:openfl_display__$internal_Context3DSimpleButton.renderDrawable(e,this);break;case 7:openfl_display__$internal_Context3DTextField.renderDrawable(e,this);break;case 8:openfl_display__$internal_Context3DVideo.renderDrawable(e,this);break;case 9:openfl_display__$internal_Context3DTilemap.renderDrawable(e,this)}},__renderDrawableMask:function(e){if(null!=e)switch(e.__drawableType){case 0:openfl_display__$internal_Context3DBitmapData.renderDrawableMask(e,this);break;case 2:openfl_display__$internal_Context3DBitmap.renderDrawableMask(e,this);break;case 3:openfl_display__$internal_Context3DDisplayObject.renderDrawableMask(e,this);break;case 4:case 5:openfl_display__$internal_Context3DDisplayObjectContainer.renderDrawableMask(e,this);break;case 6:openfl_display__$internal_Context3DSimpleButton.renderDrawableMask(e,this);break;case 7:openfl_display__$internal_Context3DTextField.renderDrawableMask(e,this);break;case 8:openfl_display__$internal_Context3DVideo.renderDrawableMask(e,this);break;case 9:openfl_display__$internal_Context3DTilemap.renderDrawableMask(e,this)}},__renderFilterPass:function(e,t,a,n){if(null==n&&(n=!0),null!=e&&null!=t&&null!=this.__defaultRenderTarget){var i=this.__context3D.__state.renderToTexture,s=this.__context3D.__state.renderToTextureDepthStencil,_=this.__context3D.__state.renderToTextureAntiAlias,r=this.__context3D.__state.renderToTextureSurfaceSelector;this.__context3D.setRenderToTexture(this.__defaultRenderTarget.getTexture(this.__context3D),!1),n&&this.__context3D.clear(0,0,0,0,0,0,1);var o=this.__initShader(t);this.setShader(o),this.applyAlpha(1),this.applyBitmapData(e,a),this.applyColorTransform(null),this.applyMatrix(this.__getMatrix(e.__renderTransform,1)),this.updateShader();var l=e.getVertexBuffer(this.__context3D);null!=o.__position&&this.__context3D.setVertexBufferAt(o.__position.index,l,0,3),null!=o.__textureCoord&&this.__context3D.setVertexBufferAt(o.__textureCoord.index,l,3,2);var h=e.getIndexBuffer(this.__context3D);this.__context3D.drawTriangles(h),null!=i?this.__context3D.setRenderToTexture(i,s,_,r):this.__context3D.setRenderToBackBuffer(),this.__clearShader()}},__resize:function(e,t){this.__width=e,this.__height=t;var a,n=null==this.__defaultRenderTarget?this.__stage.stageWidth:this.__defaultRenderTarget.width,i=null==this.__defaultRenderTarget?this.__stage.stageHeight:this.__defaultRenderTarget.height;if(null==this.__defaultRenderTarget){var s=this.__worldTransform;a=Math.round(0*s.a+0*s.c+s.tx)}else a=0;if(this.__offsetX=a,null==this.__defaultRenderTarget){s=this.__worldTransform;a=Math.round(0*s.b+0*s.d+s.ty)}else a=0;if(this.__offsetY=a,null==this.__defaultRenderTarget){s=this.__worldTransform;a=Math.round(n*s.a+0*s.c+s.tx-this.__offsetX)}else a=n;if(this.__displayWidth=a,null==this.__defaultRenderTarget){s=this.__worldTransform;a=Math.round(0*s.b+i*s.d+s.ty-this.__offsetY)}else a=i;this.__displayHeight=a,lime_math_Matrix4.createOrtho(this.__projection,0,this.__displayWidth+2*this.__offsetX,0,this.__displayHeight+2*this.__offsetY,-1e3,1e3),lime_math_Matrix4.createOrtho(this.__projectionFlipped,0,this.__displayWidth+2*this.__offsetX,this.__displayHeight+2*this.__offsetY,0,-1e3,1e3)},__resumeClipAndMask:function(e){this.__stencilReference>0?(this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0)):(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect()},__scissorRect:function(e){if(null!=e){var t=Math.floor(e.x),a=Math.floor(e.y),n=e.width>0?Math.ceil(e.get_right())-t:0,i=e.height>0?Math.ceil(e.get_bottom())-a:0;n<0&&(n=0),i<0&&(i=0),openfl_display_OpenGLRenderer.__scissorRectangle.setTo(t,a,n,i),this.__context3D.setScissorRectangle(openfl_display_OpenGLRenderer.__scissorRectangle)}else this.__context3D.setScissorRectangle(null)},__setBlendMode:function(e){if(null!=this.__overrideBlendMode&&(e=this.__overrideBlendMode),this.__blendMode!=e)switch(this.__blendMode=e,e){case 0:this.__context3D.setBlendFactors(2,2);break;case 9:this.__context3D.setBlendFactors(1,5);break;case 12:this.__context3D.setBlendFactors(2,6);break;case 14:this.__context3D.setBlendFactors(2,2),this.__context3D.__setGLBlendEquation(this.__gl.FUNC_REVERSE_SUBTRACT);break;default:this.__context3D.setBlendFactors(2,5)}},__setRenderTarget:function(e){this.__defaultRenderTarget=e,this.__flipped=null==e,null!=e&&this.__resize(e.width,e.height)},__setShaderBuffer:function(e){this.setShader(e.shader),this.__currentShaderBuffer=e},__suspendClipAndMask:function(){this.__stencilReference>0&&(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0&&this.__scissorRect()},__updateShaderBuffer:function(e){null!=this.__currentShader&&null!=this.__currentShaderBuffer&&this.__currentShader.__updateFromBuffer(this.__currentShaderBuffer,e)},__class__:openfl_display_OpenGLRenderer});var openfl_display_PNGEncoderOptions=function(e){null==e&&(e=!1),this.fastCompression=e};$hxClasses["openfl.display.PNGEncoderOptions"]=openfl_display_PNGEncoderOptions,openfl_display_PNGEncoderOptions.__name__="openfl.display.PNGEncoderOptions",openfl_display_PNGEncoderOptions.prototype={__class__:openfl_display_PNGEncoderOptions};var openfl_display_PixelSnapping={fromString:function(e){switch(e){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},toString:function(e){switch(e){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}}},openfl_display_Preloader=function(e){this.onComplete=new lime_app__$Event_$Void_$Void,this.display=e,null!=e&&(e.addEventListener("unload",$bind(this,this.display_onUnload)),openfl_Lib.get_current().addChild(e))};$hxClasses["openfl.display.Preloader"]=openfl_display_Preloader,openfl_display_Preloader.__name__="openfl.display.Preloader",openfl_display_Preloader.prototype={start:function(){if(this.ready=!0,openfl_Lib.get_current().get_loaderInfo().__complete(),null!=this.display){var e=new openfl_events_Event("complete",!0,!0);this.display.dispatchEvent(e),e.isDefaultPrevented()||this.display.dispatchEvent(new openfl_events_Event("unload"))}else this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(e,t){openfl_Lib.get_current().get_loaderInfo().__update(e,t),null!=this.display&&this.display.dispatchEvent(new openfl_events_ProgressEvent("progress",!0,!0,e,t))},display_onUnload:function(e){null!=this.display&&(this.display.removeEventListener("unload",$bind(this,this.display_onUnload)),this.display.parent==openfl_Lib.get_current()&&openfl_Lib.get_current().removeChild(this.display),openfl_Lib.get_current().stage.set_focus(null),this.display=null),this.ready&&(this.complete||(this.complete=!0,this.onComplete.dispatch()))},__class__:openfl_display_Preloader};var openfl_display_Scene=function(e,t,a){this.name=e,this.labels=t,this.numFrames=a};$hxClasses["openfl.display.Scene"]=openfl_display_Scene,openfl_display_Scene.__name__="openfl.display.Scene",openfl_display_Scene.prototype={__class__:openfl_display_Scene};var openfl_display_ShaderData={_new:function(e){return{}}},openfl_display_ShaderInput=function(){this.channels=0,this.filter=5,this.height=0,this.index=0,this.mipFilter=2,this.width=0,this.wrap=0};$hxClasses["openfl.display.ShaderInput"]=openfl_display_ShaderInput,openfl_display_ShaderInput.__name__="openfl.display.ShaderInput",openfl_display_ShaderInput.prototype={__disableGL:function(e,t){e.gl;e.setTextureAt(t,null)},__updateGL:function(e,t,a,n,i,s){e.gl;var _=null!=a?a:this.input,r=null!=n?n:this.filter,o=null!=i?i:this.mipFilter,l=null!=s?s:this.wrap;if(null!=_){var h=_;e.setTextureAt(t,h.getTexture(e)),e.setSamplerStateAt(t,l,r,o)}else e.setTextureAt(t,null)},__class__:openfl_display_ShaderInput};var openfl_display_ShaderParameter=function(){this.index=0};$hxClasses["openfl.display.ShaderParameter"]=openfl_display_ShaderParameter,openfl_display_ShaderParameter.__name__="openfl.display.ShaderParameter",openfl_display_ShaderParameter.prototype={__disableGL:function(e){var t=e.gl;if(!this.__isUniform)for(var a=0,n=this.__arrayLength;a<n;){var i=a++;t.disableVertexAttribArray(this.index+i)}},__updateGL:function(e,t){var a=e.gl,n=null!=t?t:this.value,i=this.__isBool?n:null,s=this.__isFloat?n:null,_=this.__isInt?n:null;if(this.__isUniform)if(null!=n&&n.length>=this.__length)switch(this.type){case 0:a.uniform1i(this.index,i[0]?1:0);break;case 1:a.uniform2i(this.index,i[0]?1:0,i[1]?1:0);break;case 2:a.uniform3i(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0);break;case 3:a.uniform4i(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0,i[3]?1:0);break;case 4:a.uniform1f(this.index,s[0]);break;case 5:a.uniform2f(this.index,s[0],s[1]);break;case 6:a.uniform3f(this.index,s[0],s[1],s[2]);break;case 7:a.uniform4f(this.index,s[0],s[1],s[2],s[3]);break;case 8:a.uniform1i(this.index,_[0]);break;case 9:a.uniform2i(this.index,_[0],_[1]);break;case 10:a.uniform3i(this.index,_[0],_[1],_[2]);break;case 11:a.uniform4i(this.index,_[0],_[1],_[2],_[3]);break;case 12:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],lime_graphics_WebGLRenderContext.uniformMatrix2fv(a,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],this.__uniformMatrix[4]=s[4],this.__uniformMatrix[5]=s[5],this.__uniformMatrix[6]=s[6],this.__uniformMatrix[7]=s[7],this.__uniformMatrix[8]=s[8],lime_graphics_WebGLRenderContext.uniformMatrix3fv(a,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],this.__uniformMatrix[4]=s[4],this.__uniformMatrix[5]=s[5],this.__uniformMatrix[6]=s[6],this.__uniformMatrix[7]=s[7],this.__uniformMatrix[8]=s[8],this.__uniformMatrix[9]=s[9],this.__uniformMatrix[10]=s[10],this.__uniformMatrix[11]=s[11],this.__uniformMatrix[12]=s[12],this.__uniformMatrix[13]=s[13],this.__uniformMatrix[14]=s[14],this.__uniformMatrix[15]=s[15],lime_graphics_WebGLRenderContext.uniformMatrix4fv(a,this.index,!1,this.__uniformMatrix)}else switch(this.type){case 1:case 9:a.uniform2i(this.index,0,0);break;case 3:case 11:a.uniform4i(this.index,0,0,0,0);break;case 4:a.uniform1f(this.index,0);break;case 5:a.uniform2f(this.index,0,0);break;case 6:a.uniform3f(this.index,0,0,0);break;case 7:a.uniform4f(this.index,0,0,0,0);break;case 0:case 8:a.uniform1i(this.index,0);break;case 2:case 10:a.uniform3i(this.index,0,0,0);break;case 12:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,lime_graphics_WebGLRenderContext.uniformMatrix2fv(a,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,lime_graphics_WebGLRenderContext.uniformMatrix3fv(a,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,this.__uniformMatrix[9]=0,this.__uniformMatrix[10]=0,this.__uniformMatrix[11]=0,this.__uniformMatrix[12]=0,this.__uniformMatrix[13]=0,this.__uniformMatrix[14]=0,this.__uniformMatrix[15]=0,lime_graphics_WebGLRenderContext.uniformMatrix4fv(a,this.index,!1,this.__uniformMatrix)}else if(this.__useArray||null!=n&&n.length!=this.__length)for(r=0,o=this.__arrayLength;r<o;){l=r++;a.enableVertexAttribArray(this.index+l)}else{for(var r=0,o=this.__arrayLength;r<o;){var l=r++;a.disableVertexAttribArray(this.index+l)}if(null!=n)switch(this.type){case 0:a.vertexAttrib1f(this.index,i[0]?1:0);break;case 1:a.vertexAttrib2f(this.index,i[0]?1:0,i[1]?1:0);break;case 2:a.vertexAttrib3f(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0);break;case 3:a.vertexAttrib4f(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0,i[3]?1:0);break;case 4:a.vertexAttrib1f(this.index,s[0]);break;case 5:a.vertexAttrib2f(this.index,s[0],s[1]);break;case 6:a.vertexAttrib3f(this.index,s[0],s[1],s[2]);break;case 7:a.vertexAttrib4f(this.index,s[0],s[1],s[2],s[3]);break;case 8:a.vertexAttrib1f(this.index,_[0]);break;case 9:a.vertexAttrib2f(this.index,_[0],_[1]);break;case 10:a.vertexAttrib3f(this.index,_[0],_[1],_[2]);break;case 11:a.vertexAttrib4f(this.index,_[0],_[1],_[2],_[3]);break;case 12:a.vertexAttrib2f(this.index+0,s[0],s[1]),a.vertexAttrib2f(this.index+1,s[2],s[3]);break;case 16:a.vertexAttrib3f(this.index+0,s[0],s[1],s[2]),a.vertexAttrib3f(this.index+1,s[3],s[4],s[5]),a.vertexAttrib3f(this.index+2,s[6],s[7],s[8]);break;case 20:a.vertexAttrib4f(this.index+0,s[0],s[1],s[2],s[3]),a.vertexAttrib4f(this.index+1,s[4],s[5],s[6],s[7]),a.vertexAttrib4f(this.index+2,s[8],s[9],s[10],s[11]),a.vertexAttrib4f(this.index+3,s[12],s[13],s[14],s[15])}else switch(this.type){case 1:case 5:case 9:a.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:a.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:a.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:a.vertexAttrib3f(this.index,0,0,0);break;case 12:a.vertexAttrib2f(this.index+0,0,0),a.vertexAttrib2f(this.index+1,0,0);break;case 16:a.vertexAttrib3f(this.index+0,0,0,0),a.vertexAttrib3f(this.index+1,0,0,0),a.vertexAttrib3f(this.index+2,0,0,0);break;case 20:a.vertexAttrib4f(this.index+0,0,0,0,0),a.vertexAttrib4f(this.index+1,0,0,0,0),a.vertexAttrib4f(this.index+2,0,0,0,0),a.vertexAttrib4f(this.index+3,0,0,0,0)}}},__updateGLFromBuffer:function(e,t,a,n,i){var s=e.gl;if(this.__isUniform){if(n>=this.__length)switch(this.type){case 1:case 9:s.uniform2i(this.index,0|t[a],0|t[a+1]);break;case 3:case 11:s.uniform4i(this.index,0|t[a],0|t[a+1],0|t[a+2],0|t[a+3]);break;case 4:s.uniform1f(this.index,t[a]);break;case 5:s.uniform2f(this.index,t[a],t[a+1]);break;case 6:s.uniform3f(this.index,t[a],t[a+1],t[a+2]);break;case 7:s.uniform4f(this.index,t[a],t[a+1],t[a+2],t[a+3]);break;case 0:case 8:s.uniform1i(this.index,0|t[a]);break;case 2:case 10:s.uniform3i(this.index,0|t[a],0|t[a+1],0|t[a+2]);break;case 12:this.__uniformMatrix[0]=t[a],this.__uniformMatrix[1]=t[a+1],this.__uniformMatrix[2]=t[a+2],this.__uniformMatrix[3]=t[a+3],lime_graphics_WebGLRenderContext.uniformMatrix2fv(s,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=t[a],this.__uniformMatrix[1]=t[a+1],this.__uniformMatrix[2]=t[a+2],this.__uniformMatrix[3]=t[a+3],this.__uniformMatrix[4]=t[a+4],this.__uniformMatrix[5]=t[a+5],this.__uniformMatrix[6]=t[a+6],this.__uniformMatrix[7]=t[a+7],this.__uniformMatrix[8]=t[a+8],lime_graphics_WebGLRenderContext.uniformMatrix3fv(s,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=t[a],this.__uniformMatrix[1]=t[a+1],this.__uniformMatrix[2]=t[a+2],this.__uniformMatrix[3]=t[a+3],this.__uniformMatrix[4]=t[a+4],this.__uniformMatrix[5]=t[a+5],this.__uniformMatrix[6]=t[a+6],this.__uniformMatrix[7]=t[a+7],this.__uniformMatrix[8]=t[a+8],this.__uniformMatrix[9]=t[a+9],this.__uniformMatrix[10]=t[a+10],this.__uniformMatrix[11]=t[a+11],this.__uniformMatrix[12]=t[a+12],this.__uniformMatrix[13]=t[a+13],this.__uniformMatrix[14]=t[a+14],this.__uniformMatrix[15]=t[a+15],lime_graphics_WebGLRenderContext.uniformMatrix4fv(s,this.index,!1,this.__uniformMatrix)}}else if(this.__internal||0!=n&&n!=this.__length){var _=s.FLOAT;(this.__isBool||this.__isInt)&&(_=s.INT);for(r=0,o=this.__arrayLength;r<o;){l=r++;s.enableVertexAttribArray(this.index+l)}if(n>0)for(r=0,o=this.__arrayLength;r<o;){l=r++;s.vertexAttribPointer(this.index+l,this.__length,_,!1,4*this.__length,4*(a+i*this.__length+l*this.__arrayLength))}}else{for(var r=0,o=this.__arrayLength;r<o;){var l=r++;s.disableVertexAttribArray(this.index+l)}if(n>0)switch(this.type){case 1:case 5:case 9:s.vertexAttrib2f(this.index,t[a],t[a+1]);break;case 3:case 7:case 11:s.vertexAttrib4f(this.index,t[a],t[a+1],t[a+2],t[a+3]);break;case 0:case 4:case 8:s.vertexAttrib1f(this.index,t[a]);break;case 2:case 6:case 10:s.vertexAttrib3f(this.index,t[a],t[a+1],t[a+2]);break;case 12:s.vertexAttrib2f(this.index+0,t[a],t[a+1]),s.vertexAttrib2f(this.index+1,t[a+2],t[a+2+1]);break;case 16:s.vertexAttrib3f(this.index+0,t[a],t[a+1],t[a+2]),s.vertexAttrib3f(this.index+1,t[a+3],t[a+3+1],t[a+3+2]),s.vertexAttrib3f(this.index+2,t[a+6],t[a+6+1],t[a+6+2]);break;case 20:s.vertexAttrib4f(this.index+0,t[a],t[a+1],t[a+2],t[a+3]),s.vertexAttrib4f(this.index+1,t[a+4],t[a+4+1],t[a+4+2],t[a+4+3]),s.vertexAttrib4f(this.index+2,t[a+8],t[a+8+1],t[a+8+2],t[a+8+3]),s.vertexAttrib4f(this.index+3,t[a+12],t[a+12+1],t[a+12+2],t[a+12+3])}else switch(this.type){case 1:case 5:case 9:s.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:s.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:s.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:s.vertexAttrib3f(this.index,0,0,0);break;case 12:s.vertexAttrib2f(this.index+0,0,0),s.vertexAttrib2f(this.index+1,0,0);break;case 16:s.vertexAttrib3f(this.index+0,0,0,0),s.vertexAttrib3f(this.index+1,0,0,0),s.vertexAttrib3f(this.index+2,0,0,0);break;case 20:s.vertexAttrib4f(this.index+0,0,0,0,0),s.vertexAttrib4f(this.index+1,0,0,0,0),s.vertexAttrib4f(this.index+2,0,0,0,0),s.vertexAttrib4f(this.index+3,0,0,0,0)}}},set_name:function(e){return this.__internal=StringTools.startsWith(e,"openfl_"),this.name=e},__class__:openfl_display_ShaderParameter,__properties__:{set_name:"set_name"}};var openfl_display_ShaderParameterType={fromString:function(e){switch(e){case"bool":return 0;case"bool2":case"bool3":case"bool4":return 1;case"float":return 4;case"float2":return 5;case"float3":return 6;case"float4":return 7;case"int":return 8;case"int2":return 9;case"int3":return 10;case"int4":return 11;case"matrix2x2":return 12;case"matrix2x3":return 13;case"matrix2x4":return 14;case"matrix3x2":return 15;case"matrix3x3":return 16;case"matrix3x4":return 17;case"matrix4x2":return 18;case"matrix4x3":return 19;case"matrix4x4":return 20;default:return null}},toString:function(e){switch(e){case 0:return"bool";case 1:return"bool2";case 2:return"bool3";case 3:return"bool4";case 4:return"float";case 5:return"float2";case 6:return"float3";case 7:return"float4";case 8:return"int";case 9:return"int2";case 10:return"int3";case 11:return"int4";case 12:return"matrix2x2";case 13:return"matrix2x3";case 14:return"matrix2x4";case 15:return"matrix3x2";case 16:return"matrix3x3";case 17:return"matrix3x4";case 18:return"matrix4x2";case 19:return"matrix4x3";case 20:return"matrix4x4";default:return null}}},openfl_display_ShaderPrecision={fromString:function(e){switch(e){case"fast":return 0;case"full":return 1;default:return null}},toString:function(e){switch(e){case 0:return"fast";case 1:return"full";default:return null}}},openfl_display_Shape=function(){openfl_display_DisplayObject.call(this),this.__drawableType=3};$hxClasses["openfl.display.Shape"]=openfl_display_Shape,openfl_display_Shape.__name__="openfl.display.Shape",openfl_display_Shape.__super__=openfl_display_DisplayObject,openfl_display_Shape.prototype=$extend(openfl_display_DisplayObject.prototype,{get_graphics:function(){return null==this.__graphics&&(this.__graphics=new openfl_display_Graphics(this)),this.__graphics},__class__:openfl_display_Shape,__properties__:$extend(openfl_display_DisplayObject.prototype.__properties__,{get_graphics:"get_graphics"})});var openfl_display_SimpleButton=function(e,t,a,n){if(openfl_display_InteractiveObject.call(this),this.__drawableType=6,this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.__upState=null!=e?e:new openfl_display_DisplayObject,this.__overState=t,this.__downState=a,this.set_hitTestState(null!=n?n:new openfl_display_DisplayObject),this.addEventListener("mouseDown",$bind(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",$bind(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",$bind(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",$bind(this,this.__this_onMouseUp)),this.__tabEnabled=!0,this.set___currentState(this.__upState),null!=openfl_display_SimpleButton.__constructor){var i=openfl_display_SimpleButton.__constructor;openfl_display_SimpleButton.__constructor=null,i(this)}};$hxClasses["openfl.display.SimpleButton"]=openfl_display_SimpleButton,openfl_display_SimpleButton.__name__="openfl.display.SimpleButton",openfl_display_SimpleButton.__super__=openfl_display_InteractiveObject,openfl_display_SimpleButton.prototype=$extend(openfl_display_InteractiveObject.prototype,{__getBounds:function(e,t){openfl_display_InteractiveObject.prototype.__getBounds.call(this,e,t);var a=openfl_geom_Matrix.__pool.get(),n=this.__currentState.__transform;a.a=n.a*t.a+n.b*t.c,a.b=n.a*t.b+n.b*t.d,a.c=n.c*t.a+n.d*t.c,a.d=n.c*t.b+n.d*t.d,a.tx=n.tx*t.a+n.ty*t.c+t.tx,a.ty=n.tx*t.b+n.ty*t.d+t.ty,this.__currentState.__getBounds(e,a),openfl_geom_Matrix.__pool.release(a)},__getRenderBounds:function(e,t){if(null==this.__scrollRect){openfl_display_InteractiveObject.prototype.__getBounds.call(this,e,t);var a=openfl_geom_Matrix.__pool.get(),n=this.__currentState.__transform;a.a=n.a*t.a+n.b*t.c,a.b=n.a*t.b+n.b*t.d,a.c=n.c*t.a+n.d*t.c,a.d=n.c*t.b+n.d*t.d,a.tx=n.tx*t.a+n.ty*t.c+t.tx,a.ty=n.tx*t.b+n.ty*t.d+t.ty,this.__currentState.__getRenderBounds(e,a),openfl_geom_Matrix.__pool.release(a)}else openfl_display_InteractiveObject.prototype.__getRenderBounds.call(this,e,t)},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent&&this.enabled?"button":null},__hitTest:function(e,t,a,n,i,s){var _=!1;if(null!=this.get_hitTestState()?this.get_hitTestState().__hitTest(e,t,a,n,i,s)&&(null!=n&&(0==n.length?n[0]=s:n[n.length-1]=s),_=!i||this.mouseEnabled):null!=this.__currentState&&(!s.get_visible()||this.__isMask||i&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t)?_=!1:this.__currentState.__hitTest(e,t,a,n,i,s)&&(_=i)),null!=n)for(;n.length>1&&n[n.length-1]==n[n.length-2];)n.pop();return _},__hitTestMask:function(e,t){var a=!1;return this.__currentState.__hitTestMask(e,t)&&(a=!0),a},__setStageReference:function(e){openfl_display_InteractiveObject.prototype.__setStageReference.call(this,e),null!=this.__currentState&&this.__currentState.__setStageReference(e),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setStageReference(e)},__setTransformDirty:function(){openfl_display_InteractiveObject.prototype.__setTransformDirty.call(this),null!=this.__currentState&&this.__currentState.__setTransformDirty(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setTransformDirty()},__update:function(e,t){openfl_display_InteractiveObject.prototype.__update.call(this,e,t),t&&(null!=this.__currentState&&this.__currentState.__update(e,!0),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__update(e,!0))},__updateTransforms:function(e){openfl_display_InteractiveObject.prototype.__updateTransforms.call(this,e),null!=this.__currentState&&this.__currentState.__updateTransforms(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__updateTransforms()},get_downState:function(){return this.__downState},set_downState:function(e){return null!=this.__downState&&this.__currentState==this.__downState&&this.set___currentState(this.__downState),this.__downState=e},get_hitTestState:function(){return this.__hitTestState},set_hitTestState:function(e){return null!=this.__hitTestState&&this.__hitTestState!=e&&this.__hitTestState!=this.get_downState()&&this.__hitTestState!=this.get_upState()&&this.__hitTestState!=this.get_overState()&&(this.__hitTestState.__renderParent=null),null!=e&&(e.__renderParent=this,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),this.__hitTestState=e},get_overState:function(){return this.__overState},set_overState:function(e){return null!=this.__overState&&this.__currentState==this.__overState&&this.set___currentState(e),this.__overState=e},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new openfl_media_SoundTransform),new openfl_media_SoundTransform(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(e){return this.__soundTransform=new openfl_media_SoundTransform(e.volume,e.pan),e},get_upState:function(){return this.__upState},set_upState:function(e){return null!=this.__upState&&this.__currentState==this.__upState&&this.set___currentState(e),this.__upState=e},set___currentState:function(e){if(null!=this.__currentState&&this.__currentState!=this.get_hitTestState()&&(this.__currentState.__renderParent=null),null!=e&&null!=e.parent&&e.parent.removeChild(e),openfl_display_DisplayObject.__supportDOM&&null==this.__previousStates&&(this.__previousStates=openfl_Vector.toObjectVector(null)),e!=this.__currentState){if(openfl_display_DisplayObject.__supportDOM){null!=this.__currentState&&(this.__currentState.__setStageReference(null),this.__previousStates.push(this.__currentState));var t=this.__previousStates.indexOf(e,0);t>-1&&this.__previousStates.splice(t,1)}null!=e&&(e.__renderParent=this,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}return this.__currentState=e,e},__this_onMouseDown:function(e){this.enabled&&this.set___currentState(this.get_downState())},__this_onMouseOut:function(e){this.__ignoreEvent=!1,this.get_upState()!=this.__currentState&&this.set___currentState(this.get_upState())},__this_onMouseOver:function(e){e.buttonDown&&(this.__ignoreEvent=!0),this.get_overState()!=this.__currentState&&null!=this.get_overState()&&!this.__ignoreEvent&&this.enabled&&this.set___currentState(this.get_overState())},__this_onMouseUp:function(e){this.__ignoreEvent=!1,this.enabled&&null!=this.get_overState()?this.set___currentState(this.get_overState()):this.set___currentState(this.get_upState())},__class__:openfl_display_SimpleButton,__properties__:$extend(openfl_display_InteractiveObject.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",get_upState:"get_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",get_overState:"get_overState",set_hitTestState:"set_hitTestState",get_hitTestState:"get_hitTestState",set_downState:"set_downState",get_downState:"get_downState"})});var openfl_display_SpreadMethod={fromInt:function(e){return e},fromString:function(e){switch(e){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},toInt:function(e){return e},toString:function(e){switch(e){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}}},openfl_display_Stage=function(e,t){openfl_display_DisplayObjectContainer.call(this),this.__drawableType=5,this.set_name(null),this.__color=-1,this.__colorSplit=[255,255,255],this.__colorString="#FFFFFF",this.__contentsScaleFactor=1,this.__currentTabOrderIndex=0,this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.__logicalWidth=0,this.__logicalHeight=0,this.__displayMatrix=new openfl_geom_Matrix,this.__displayRect=new openfl_geom_Rectangle,this.__renderDirty=!0,this.stage3Ds=openfl_Vector.toObjectVector(null),this.stage3Ds.push(new openfl_display_Stage3D(this)),this.stage3Ds.push(new openfl_display_Stage3D(this)),this.stage3Ds.push(new openfl_display_Stage3D(this)),this.stage3Ds.push(new openfl_display_Stage3D(this)),this.stage=this,this.align=6,this.allowsFullScreen=!0,this.allowsFullScreenInteractive=!0,this.__quality=1,this.__scaleMode=2,this.showDefaultContextMenu=!0,this.softKeyboardRect=new openfl_geom_Rectangle,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__forceRender=!1,this.__stack=[],this.__rollOutStack=[],this.__mouseOutStack=[],this.__touchData=new haxe_ds_IntMap,this.application=e.application,this.window=e,this.set_color(t),this.__contentsScaleFactor=e.__scale,this.__wasFullscreen=e.__fullscreen,this.__resize(),null==openfl_Lib.get_current().stage&&this.stage.addChild(openfl_Lib.get_current())};$hxClasses["openfl.display.Stage"]=openfl_display_Stage,openfl_display_Stage.__name__="openfl.display.Stage",openfl_display_Stage.__interfaces__=[lime_app_IModule],openfl_display_Stage.__super__=openfl_display_DisplayObjectContainer,openfl_display_Stage.prototype=$extend(openfl_display_DisplayObjectContainer.prototype,{invalidate:function(){this.__invalidated=!0,this.__renderDirty=!0},localToGlobal:function(e){return e.clone()},__broadcastEvent:function(e){if(Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,e.type))for(var t=openfl_display_DisplayObject.__broadcastEvents.h[e.type],a=0;a<t.length;){var n=t[a];if(++a,n.stage==this||null==n.stage)try{n.__dispatch(e)}catch(e){haxe_NativeStackTrace.lastError=e;var i=haxe_Exception.caught(e).unwrap();this.__handleError(i)}}},__createRenderer:function(){var e=1;this.window.__scale>1&&(e=this.window.devicePixelRatio||1);var t=this.window.__width*this.window.__scale|0,a=this.window.__height*this.window.__scale|0;switch(this.window.context.type){case"cairo":break;case"canvas":this.__renderer=new openfl_display_CanvasRenderer(this.window.context.canvas2D),js_Boot.__cast(this.__renderer,openfl_display_CanvasRenderer).pixelRatio=e;break;case"dom":this.__renderer=new openfl_display_DOMRenderer(this.window.context.dom),js_Boot.__cast(this.__renderer,openfl_display_DOMRenderer).pixelRatio=e;break;case"opengl":case"opengles":case"webgl":this.context3D=new openfl_display3D_Context3D(this),this.context3D.configureBackBuffer(t,a,0,!0,!0,!0),this.context3D.present(),this.__renderer=new openfl_display_OpenGLRenderer(this.context3D)}if(null!=this.__renderer){var n=this.get_quality();this.__renderer.__allowSmoothing=2!=n,this.__renderer.__worldTransform=this.__displayMatrix,this.__renderer.__stage=this,this.__renderer.__resize(t,a)}},__dispatchEvent:function(e){try{return openfl_display_DisplayObjectContainer.prototype.__dispatchEvent.call(this,e)}catch(e){haxe_NativeStackTrace.lastError=e;var t=haxe_Exception.caught(e).unwrap();return this.__handleError(t),!1}},__dispatchPendingMouseEvent:function(){this.__pendingMouseEvent&&(this.__onMouse("mouseMove",this.__pendingMouseX,this.__pendingMouseY,0),this.__pendingMouseEvent=!1)},__dispatchStack:function(e,t){try{var a=t.length;if(0==a)e.eventPhase=2,e.target.__dispatch(e);else{e.eventPhase=1,e.target=t[t.length-1];for(var n=0,i=a-1;n<i;){if(t[s=n++].__dispatch(e),e.__isCanceled)return}if(e.eventPhase=2,e.target.__dispatch(e),e.__isCanceled)return;if(e.bubbles){e.eventPhase=3;for(var s=a-2;s>=0;){if(t[s].__dispatch(e),e.__isCanceled)return;--s}}}}catch(n){haxe_NativeStackTrace.lastError=n;var _=haxe_Exception.caught(n).unwrap();this.__handleError(_)}},__dispatchTarget:function(e,t){try{return e.__dispatchEvent(t)}catch(e){haxe_NativeStackTrace.lastError=e;var a=haxe_Exception.caught(e).unwrap();return this.__handleError(a),!1}},__drag:function(e){var t=this.__dragObject.parent;if(null!=t){var a=t.__getWorldTransform(),n=a.a*a.d-a.b*a.c;if(0==n)e.x=-a.tx,e.y=-a.ty;else{var i=1/n*(a.c*(a.ty-e.y)+a.d*(e.x-a.tx));e.y=1/n*(a.a*(e.y-a.ty)+a.b*(a.tx-e.x)),e.x=i}}var s=e.x+this.__dragOffsetX,_=e.y+this.__dragOffsetY;null!=this.__dragBounds&&(s<this.__dragBounds.x?s=this.__dragBounds.x:s>this.__dragBounds.get_right()&&(s=this.__dragBounds.get_right()),_<this.__dragBounds.y?_=this.__dragBounds.y:_>this.__dragBounds.get_bottom()&&(_=this.__dragBounds.get_bottom())),this.__dragObject.set_x(s),this.__dragObject.set_y(_)},__getInteractive:function(e){return null!=e&&e.push(this),!0},__globalToLocal:function(e,t){return e!=t&&t.copyFrom(e),t},__handleError:function(e){var t=new openfl_events_UncaughtErrorEvent("uncaughtError",!0,!0,e);try{openfl_Lib.get_current().__loaderInfo.uncaughtErrorEvents.dispatchEvent(t)}catch(e){haxe_NativeStackTrace.lastError=e}if(!t.__preventDefault){var a=haxe_CallStack.toString(haxe_CallStack.exceptionStack());console.log(a);a=Std.string(e);console.log(a);try{var n=e;if(null!=n&&Object.prototype.hasOwnProperty.call(n,"stack")&&null!=n.stack&&""!=n.stack)console.log(n.stack),e.stack=n.stack;else{var i=haxe_CallStack.toString(haxe_CallStack.callStack());console.log(i)}}catch(e){haxe_NativeStackTrace.lastError=e}throw e}},__onKey:function(e,t,a){this.__dispatchPendingMouseEvent(),openfl_events_MouseEvent.__altKey=lime_ui_KeyModifier.get_altKey(a),openfl_events_MouseEvent.__commandKey=lime_ui_KeyModifier.get_metaKey(a),openfl_events_MouseEvent.__ctrlKey=lime_ui_KeyModifier.get_ctrlKey(a),openfl_events_MouseEvent.__shiftKey=lime_ui_KeyModifier.get_shiftKey(a);var n=[];if(null==this.__focus?this.__getInteractive(n):this.__focus.__getInteractive(n),n.length>0){var i,s;switch(t){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:i=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:i=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:i=2;break;default:i=0}switch(t){case 8:s=8;break;case 9:s=9;break;case 13:s=13;break;case 27:s=27;break;case 32:s=32;break;case 33:s=49;break;case 34:s=222;break;case 35:s=51;break;case 36:s=52;break;case 37:s=53;break;case 38:s=55;break;case 39:s=222;break;case 40:s=57;break;case 41:s=48;break;case 42:s=56;break;case 44:s=188;break;case 45:s=189;break;case 46:s=190;break;case 47:s=191;break;case 48:s=48;break;case 49:s=49;break;case 50:s=50;break;case 51:s=51;break;case 52:s=52;break;case 53:s=53;break;case 54:s=54;break;case 55:s=55;break;case 56:s=56;break;case 57:s=57;break;case 58:case 59:s=186;break;case 60:s=60;break;case 61:s=187;break;case 62:s=190;break;case 63:s=191;break;case 64:s=50;break;case 91:s=219;break;case 92:s=220;break;case 93:s=221;break;case 94:s=54;break;case 95:s=189;break;case 96:s=192;break;case 97:s=65;break;case 98:s=66;break;case 99:s=67;break;case 100:s=68;break;case 101:s=69;break;case 102:s=70;break;case 103:s=71;break;case 104:s=72;break;case 105:s=73;break;case 106:s=74;break;case 107:s=75;break;case 108:s=76;break;case 109:s=77;break;case 110:s=78;break;case 111:s=79;break;case 112:s=80;break;case 113:s=81;break;case 114:s=82;break;case 115:s=83;break;case 116:s=84;break;case 117:s=85;break;case 118:s=86;break;case 119:s=87;break;case 120:s=88;break;case 121:s=89;break;case 122:s=90;break;case 127:s=46;break;case 1073741881:s=20;break;case 1073741882:s=112;break;case 1073741883:s=113;break;case 1073741884:s=114;break;case 1073741885:s=115;break;case 1073741886:s=116;break;case 1073741887:s=117;break;case 1073741888:s=118;break;case 1073741889:s=119;break;case 1073741890:s=120;break;case 1073741891:s=121;break;case 1073741892:s=122;break;case 1073741893:s=123;break;case 1073741894:s=301;break;case 1073741895:s=145;break;case 1073741896:s=19;break;case 1073741897:s=45;break;case 1073741898:s=36;break;case 1073741899:s=33;break;case 1073741901:s=35;break;case 1073741902:s=34;break;case 1073741903:s=39;break;case 1073741904:s=37;break;case 1073741905:s=40;break;case 1073741906:s=38;break;case 1073741907:s=144;break;case 1073741908:s=111;break;case 1073741909:s=106;break;case 1073741910:s=109;break;case 1073741911:s=107;break;case 1073741912:s=13;break;case 1073741913:s=97;break;case 1073741914:s=98;break;case 1073741915:s=99;break;case 1073741916:s=100;break;case 1073741917:s=101;break;case 1073741918:s=102;break;case 1073741919:s=103;break;case 1073741920:s=104;break;case 1073741921:s=105;break;case 1073741922:s=96;break;case 1073741923:s=110;break;case 1073741925:s=302;break;case 1073741928:s=124;break;case 1073741929:s=125;break;case 1073741930:s=126;break;case 1073741982:s=13;break;case 1073742044:s=110;break;case 1073742048:s=17;break;case 1073742049:s=16;break;case 1073742050:s=18;break;case 1073742051:s=15;break;case 1073742052:s=17;break;case 1073742053:s=16;break;case 1073742054:s=18;break;case 1073742055:s=15;break;default:s=t}var _=openfl_ui_Keyboard.__getCharCode(s,lime_ui_KeyModifier.get_shiftKey(a));if("keyUp"==e&&(32==s||13==s)&&this.__focus instanceof openfl_display_Sprite){var r=js_Boot.__cast(this.__focus,openfl_display_Sprite);if(r.get_buttonMode()&&1==r.focusRect){var o=openfl_geom_Point.__pool.get(),l=openfl_geom_Point.__pool.get();l.x=this.__mouseX,l.y=this.__mouseY;var h=openfl_events_MouseEvent.__create("click",0,this.__mouseX,this.__mouseY,r.__globalToLocal(l,o),r);this.__dispatchStack(h,n),openfl_geom_Point.__pool.release(l),openfl_geom_Point.__pool.release(o)}}var u=new openfl_events_KeyboardEvent(e,!0,!0,_,s,i,this.__macKeyboard?lime_ui_KeyModifier.get_ctrlKey(a)||lime_ui_KeyModifier.get_metaKey(a):lime_ui_KeyModifier.get_ctrlKey(a),lime_ui_KeyModifier.get_altKey(a),lime_ui_KeyModifier.get_shiftKey(a),lime_ui_KeyModifier.get_ctrlKey(a),lime_ui_KeyModifier.get_metaKey(a));if(n.reverse(),this.__dispatchStack(u,n),u.__preventDefault)"keyDown"==e?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel();else if("keyDown"==e&&9==s){var p=[];this.__tabTest(p);var c=-1,d=null,f=lime_ui_KeyModifier.get_shiftKey(a)?-1:1;if(p.length>1){if(haxe_ds_ArraySort.sort(p,(function(e,t){return e.get_tabIndex()-t.get_tabIndex()})),-1!=p[p.length-1].get_tabIndex())for(var m=0;m<p.length;){if(p[m].get_tabIndex()>-1){m>0&&p.splice(0,m);break}++m}if(null!=this.get_focus()){for(var g=this.get_focus(),x=p.indexOf(g);-1==x&&null!=g;){var k=g.parent;if(null!=k&&k.get_tabChildren()){var y=k.getChildIndex(g);if(-1==y){g=k;continue}for(m=y+f;lime_ui_KeyModifier.get_shiftKey(a)?m>=0:m<k.get_numChildren();){var b=k.getChildAt(m);if(b instanceof openfl_display_InteractiveObject){var v=js_Boot.__cast(b,openfl_display_InteractiveObject);if(-1!=(x=p.indexOf(v))){f=0;break}}m+=f}}else lime_ui_KeyModifier.get_shiftKey(a)&&-1!=(x=p.indexOf(k))&&(f=0);g=k}c=x<0?0:x+f}else c=this.__currentTabOrderIndex}else 1==p.length&&(d=p[0],this.get_focus()==d&&(d=null));var P=c>=0&&c<p.length;1==p.length||0==p.length&&null!=this.get_focus()?c=0:p.length>1&&(c<0&&(c+=p.length),(d=p[c%=p.length])==this.get_focus()&&((c+=f)<0&&(c+=p.length),d=p[c%=p.length]));var w=null;null!=this.get_focus()&&(w=new openfl_events_FocusEvent("keyFocusChange",!0,!0,d,lime_ui_KeyModifier.get_shiftKey(a),0),n=[],this.get_focus().__getInteractive(n),n.reverse(),this.__dispatchStack(w,n),w.isDefaultPrevented()&&this.window.onKeyDown.cancel()),null!=w&&w.isDefaultPrevented()||(this.__currentTabOrderIndex=c,null!=d&&this.set_focus(d),P&&this.window.onKeyDown.cancel())}}},__onLimeCreateWindow:function(e){if(this.window==e){var t=$bind(this,this.__onLimeWindowActivate),a=e,n=function(){t(a)};e.onActivate.add(n);var i=$bind(this,this.__onLimeWindowClose),s=e;n=function(){i(s)};e.onClose.add(n,!1,-9e3);var _=$bind(this,this.__onLimeWindowDeactivate),r=e;n=function(){_(r)};e.onDeactivate.add(n);var o=$bind(this,this.__onLimeWindowDropFile),l=e;n=function(e){o(l,e)};e.onDropFile.add(n);var h=$bind(this,this.__onLimeWindowEnter),u=e;n=function(){h(u)};e.onEnter.add(n);var p=$bind(this,this.__onLimeWindowExpose),c=e;n=function(){p(c)};e.onExpose.add(n);var d=$bind(this,this.__onLimeWindowFocusIn),f=e;n=function(){d(f)};e.onFocusIn.add(n);var m=$bind(this,this.__onLimeWindowFocusOut),g=e;n=function(){m(g)};e.onFocusOut.add(n);var x=$bind(this,this.__onLimeWindowFullscreen),k=e;n=function(){x(k)};e.onFullscreen.add(n);var y=$bind(this,this.__onLimeKeyDown),b=e;n=function(e,t){y(b,e,t)};e.onKeyDown.add(n);var v=$bind(this,this.__onLimeKeyUp),P=e;n=function(e,t){v(P,e,t)};e.onKeyUp.add(n);var w=$bind(this,this.__onLimeWindowLeave),T=e;n=function(){w(T)};e.onLeave.add(n);var C=$bind(this,this.__onLimeWindowMinimize),S=e;n=function(){C(S)};e.onMinimize.add(n);var A=$bind(this,this.__onLimeMouseDown),E=e;n=function(e,t,a){A(E,e,t,a)};e.onMouseDown.add(n);var D=$bind(this,this.__onLimeMouseMove),M=e;n=function(e,t){D(M,e,t)};e.onMouseMove.add(n);var R=$bind(this,this.__onLimeMouseMoveRelative),L=e;n=function(e,t){R(L,e,t)};e.onMouseMoveRelative.add(n);var I=$bind(this,this.__onLimeMouseUp),$=e;n=function(e,t,a){I($,e,t,a)};e.onMouseUp.add(n);var B=$bind(this,this.__onLimeMouseWheel),O=e;n=function(e,t,a){B(O,e,t,a)};e.onMouseWheel.add(n);var G=$bind(this,this.__onLimeWindowMove),F=e;n=function(e,t){G(F,e,t)};e.onMove.add(n),e.onRender.add($bind(this,this.__onLimeRender)),e.onRenderContextLost.add($bind(this,this.__onLimeRenderContextLost)),e.onRenderContextRestored.add($bind(this,this.__onLimeRenderContextRestored));var N=$bind(this,this.__onLimeWindowResize),H=e;n=function(e,t){N(H,e,t)};e.onResize.add(n);var U=$bind(this,this.__onLimeWindowRestore),X=e;n=function(){U(X)};e.onRestore.add(n);var V=$bind(this,this.__onLimeTextEdit),j=e;n=function(e,t,a){V(j,e,t,a)};e.onTextEdit.add(n);var z=$bind(this,this.__onLimeTextInput),W=e;n=function(e){z(W,e)};e.onTextInput.add(n),this.__onLimeWindowCreate(e)}},__onLimeGamepadAxisMove:function(e,t,a){try{openfl_ui_GameInput.__onGamepadAxisMove(e,t,a)}catch(e){haxe_NativeStackTrace.lastError=e;var n=haxe_Exception.caught(e).unwrap();this.__handleError(n)}},__onLimeGamepadButtonDown:function(e,t){try{openfl_ui_GameInput.__onGamepadButtonDown(e,t)}catch(e){haxe_NativeStackTrace.lastError=e;var a=haxe_Exception.caught(e).unwrap();this.__handleError(a)}},__onLimeGamepadButtonUp:function(e,t){try{openfl_ui_GameInput.__onGamepadButtonUp(e,t)}catch(e){haxe_NativeStackTrace.lastError=e;var a=haxe_Exception.caught(e).unwrap();this.__handleError(a)}},__onLimeGamepadConnect:function(e){try{openfl_ui_GameInput.__onGamepadConnect(e)}catch(a){haxe_NativeStackTrace.lastError=a;var t=haxe_Exception.caught(a).unwrap();this.__handleError(t)}var a=$bind(this,this.__onLimeGamepadAxisMove),n=e,i=function(e,t){a(n,e,t)};e.onAxisMove.add(i);var s=$bind(this,this.__onLimeGamepadButtonDown),_=e;i=function(e){s(_,e)};e.onButtonDown.add(i);var r=$bind(this,this.__onLimeGamepadButtonUp),o=e;i=function(e){r(o,e)};e.onButtonUp.add(i);var l=$bind(this,this.__onLimeGamepadDisconnect),h=e;i=function(){l(h)};e.onDisconnect.add(i)},__onLimeGamepadDisconnect:function(e){try{openfl_ui_GameInput.__onGamepadDisconnect(e)}catch(e){haxe_NativeStackTrace.lastError=e;var t=haxe_Exception.caught(e).unwrap();this.__handleError(t)}},__onLimeKeyDown:function(e,t,a){null!=this.window&&this.window==e&&this.__onKey("keyDown",t,a)},__onLimeKeyUp:function(e,t,a){null!=this.window&&this.window==e&&this.__onKey("keyUp",t,a)},__onLimeModuleExit:function(e){if(null!=this.window){var t;t=new openfl_events_Event("deactivate"),this.__broadcastEvent(t)}},__onLimeMouseDown:function(e,t,a,n){if(null!=this.window&&this.window==e){var i;switch(this.__dispatchPendingMouseEvent(),n){case 1:i="middleMouseDown";break;case 2:i="rightMouseDown";break;default:i="mouseDown"}this.__onMouse(i,t*e.__scale|0,a*e.__scale|0,n),this.showDefaultContextMenu||2!=n||e.onMouseDown.cancel()}},__onLimeMouseMove:function(e,t,a){null!=this.window&&this.window==e&&(this.__pendingMouseEvent=!0,this.__pendingMouseX=t*e.__scale|0,this.__pendingMouseY=a*e.__scale|0)},__onLimeMouseMoveRelative:function(e,t,a){},__onLimeMouseUp:function(e,t,a,n){if(null!=this.window&&this.window==e){var i;switch(this.__dispatchPendingMouseEvent(),n){case 1:i="middleMouseUp";break;case 2:i="rightMouseUp";break;default:i="mouseUp"}this.__onMouse(i,t*e.__scale|0,a*e.__scale|0,n),this.showDefaultContextMenu||2!=n||e.onMouseUp.cancel()}},__onLimeMouseWheel:function(e,t,a,n){null!=this.window&&this.window==e&&(this.__dispatchPendingMouseEvent(),n==lime_ui_MouseWheelMode.PIXELS?this.__onMouseWheel(t*e.__scale|0,a*e.__scale|0,n):this.__onMouseWheel(0|t,0|a,n))},__onLimeRender:function(e){if(!this.__rendering){this.__rendering=!0;var t=null;this.__broadcastEvent(new openfl_events_Event("enterFrame")),this.__broadcastEvent(new openfl_events_Event("frameConstructed")),this.__broadcastEvent(new openfl_events_Event("exitFrame")),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0;var a=null!=this.__renderer&&(this.__renderDirty||this.__forceRender);if(this.__invalidated&&a&&(this.__invalidated=!1,t=new openfl_events_Event("render"),this.__broadcastEvent(t)),this.__update(!1,!0),null!=this.__renderer){if(null!=this.context3D){for(var n=this.stage3Ds.iterator();n.hasNext();){var i=n.next();this.context3D.__renderStage3D(i)}this.context3D.__present&&(a=!0)}if(a){this.__renderer.__type;null==this.context3D&&this.__renderer.__clear(),this.__renderer.__render(this)}else null==this.context3D&&this.window.onRender.cancel();null!=this.context3D&&(this.context3D.__present?(this.__renderer.__cleared||this.__renderer.__clear(),this.context3D.__present=!1,this.context3D.__cleared=!1):this.window.onRender.cancel()),this.__renderer.__cleared=!1}this.__rendering=!1}},__onLimeRenderContextLost:function(){this.__renderer=null,this.context3D=null;for(var e=this.stage3Ds.iterator();e.hasNext();){e.next().__lostContext()}},__onLimeRenderContextRestored:function(e){this.__createRenderer();for(var t=this.stage3Ds.iterator();t.hasNext();){t.next().__restoreContext()}},__onLimeTextEdit:function(e,t,a,n){},__onLimeTextInput:function(e,t){if(null!=this.window&&this.window==e){var a=[];null==this.__focus?this.__getInteractive(a):this.__focus.__getInteractive(a);var n=new openfl_events_TextEvent("textInput",!0,!0,t);a.length>0?(a.reverse(),this.__dispatchStack(n,a)):this.__dispatchEvent(n),n.isDefaultPrevented()&&e.onTextInput.cancel()}},__onLimeTouchCancel:function(e){var t=this.__primaryTouch==e;t&&(this.__primaryTouch=null),this.__onTouch("touchEnd",e,t)},__onLimeTouchMove:function(e){this.__onTouch("touchMove",e,this.__primaryTouch==e)},__onLimeTouchEnd:function(e){var t=this.__primaryTouch==e;t&&(this.__primaryTouch=null),this.__onTouch("touchEnd",e,t)},__onLimeTouchStart:function(e){null==this.__primaryTouch&&(this.__primaryTouch=e),this.__onTouch("touchBegin",e,this.__primaryTouch==e)},__onLimeUpdate:function(e){this.__deltaTime=e,this.__dispatchPendingMouseEvent()},__onLimeWindowActivate:function(e){null!=this.window&&this.window},__onLimeWindowClose:function(e){this.window==e&&(this.window=null),this.__primaryTouch=null;var t;t=new openfl_events_Event("deactivate"),this.__broadcastEvent(t)},__onLimeWindowCreate:function(e){null!=this.window&&this.window==e&&null!=e.context&&this.__createRenderer()},__onLimeWindowDeactivate:function(e){null!=this.window&&this.window},__onLimeWindowDropFile:function(e,t){},__onLimeWindowEnter:function(e){},__onLimeWindowExpose:function(e){null!=this.window&&this.window==e&&(this.__renderDirty=!0)},__onLimeWindowFocusIn:function(e){if(null!=this.window&&this.window==e){this.__renderDirty=!0;var t;t=new openfl_events_Event("activate"),this.__broadcastEvent(t),this.set_focus(this.__cacheFocus)}},__onLimeWindowFocusOut:function(e){if(null!=this.window&&this.window==e){this.__primaryTouch=null;var t;t=new openfl_events_Event("deactivate"),this.__broadcastEvent(t);var a=this.get_focus();this.set_focus(null),this.__cacheFocus=a,openfl_events_MouseEvent.__altKey=!1,openfl_events_MouseEvent.__commandKey=!1,openfl_events_MouseEvent.__ctrlKey=!1,openfl_events_MouseEvent.__shiftKey=!1}},__onLimeWindowFullscreen:function(e){null!=this.window&&this.window==e&&(this.__resize(),this.__wasFullscreen||(this.__wasFullscreen=!0,2==this.__displayState&&(this.__displayState=1),this.__dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",!1,!1,!0,!0))))},__onLimeWindowLeave:function(e){if(null!=this.window&&this.window==e&&!openfl_events_MouseEvent.__buttonDown){this.__dispatchPendingMouseEvent();var t;t=new openfl_events_Event("mouseLeave"),this.__dispatchEvent(t)}},__onLimeWindowMinimize:function(e){null!=this.window&&this.window},__onLimeWindowMove:function(e,t,a){},__onLimeWindowResize:function(e,t,a){null!=this.window&&this.window==e&&(this.__resize(),this.__wasFullscreen&&!e.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",!1,!1,!1,!0))))},__onLimeWindowRestore:function(e){null!=this.window&&this.window==e&&this.__wasFullscreen&&!e.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",!1,!1,!1,!0)))},__onMouse:function(e,t,a,n){if(!(n>2)){var i=openfl_geom_Point.__pool.get();i.setTo(t,a);var s=this.__displayMatrix,_=s.a*s.d-s.b*s.c;if(0==_)i.x=-s.tx,i.y=-s.ty;else{var r=1/_*(s.c*(s.ty-i.y)+s.d*(i.x-s.tx));i.y=1/_*(s.a*(i.y-s.ty)+s.b*(s.tx-i.x)),i.x=r}this.__mouseX=i.x,this.__mouseY=i.y;var o=[],l=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,o,!0,this)?l=o[o.length-1]:(l=this,o=[this]),null==l&&(l=this);var h=null;switch(e){case"middleMouseDown":this.__mouseDownMiddle=l;break;case"middleMouseUp":this.__mouseDownMiddle==l&&(h="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":if(l.__allowMouseFocus())if(null!=this.get_focus()){var u=new openfl_events_FocusEvent("mouseFocusChange",!0,!0,l,!1,0);this.__dispatchStack(u,o),u.isDefaultPrevented()||this.set_focus(l)}else this.set_focus(l);else this.set_focus(null);this.__mouseDownLeft=l,openfl_events_MouseEvent.__buttonDown=!0;break;case"mouseUp":if(null!=this.__mouseDownLeft){if(openfl_events_MouseEvent.__buttonDown=!1,this.__mouseDownLeft==l)h="click";else{var p=null;p=openfl_events_MouseEvent.__create("releaseOutside",1,this.__mouseX,this.__mouseY,new openfl_geom_Point(this.__mouseX,this.__mouseY),this),this.__mouseDownLeft.dispatchEvent(p)}this.__mouseDownLeft=null}break;case"rightMouseDown":this.__mouseDownRight=l;break;case"rightMouseUp":this.__mouseDownRight==l&&(h="rightClick"),this.__mouseDownRight=null}var c=openfl_geom_Point.__pool.get();p=null;if(p=openfl_events_MouseEvent.__create(e,n,this.__mouseX,this.__mouseY,l.__globalToLocal(i,c),l),this.__dispatchStack(p,o),null!=h&&(p=openfl_events_MouseEvent.__create(h,n,this.__mouseX,this.__mouseY,l.__globalToLocal(i,c),l),this.__dispatchStack(p,o),"mouseUp"==e&&js_Boot.__cast(l,openfl_display_InteractiveObject).doubleClickEnabled)){var d=openfl_Lib.getTimer();d-this.__lastClickTime<500?(p=openfl_events_MouseEvent.__create("doubleClick",n,this.__mouseX,this.__mouseY,l.__globalToLocal(i,c),l),this.__dispatchStack(p,o),this.__lastClickTime=0):this.__lastClickTime=d}if("auto"==openfl_ui_Mouse.__cursor&&!openfl_ui_Mouse.__hidden){var f=null;if(null!=this.__mouseDownLeft)f=this.__mouseDownLeft.__getCursor();else for(var m=0;m<o.length;){var g=o[m];if(++m,null!=(f=g.__getCursor())){this.window.set_cursor(openfl_ui_MouseCursor.toLimeCursor(f));break}}null==f&&this.window.set_cursor(lime_ui_MouseCursor.ARROW)}l!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(p=openfl_events_MouseEvent.__create("mouseOut",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(i,c),this.__mouseOverTarget),this.__dispatchStack(p,this.__mouseOutStack));for(var x=0;x<this.__rollOutStack.length;)k=this.__rollOutStack[x],-1==o.indexOf(k)?(HxOverrides.remove(this.__rollOutStack,k),(p=openfl_events_MouseEvent.__create("rollOut",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(i,c),k)).bubbles=!1,this.__dispatchTarget(k,p)):++x;for(m=0;m<o.length;){var k=o[m];++m,-1==this.__rollOutStack.indexOf(k)&&null!=this.__mouseOverTarget&&(k.hasEventListener("rollOver")&&((p=openfl_events_MouseEvent.__create("rollOver",n,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(i,c),k)).bubbles=!1,this.__dispatchTarget(k,p)),(k.hasEventListener("rollOut")||k.hasEventListener("rollOver"))&&this.__rollOutStack.push(k))}if(l!=this.__mouseOverTarget&&(null!=l&&(p=openfl_events_MouseEvent.__create("mouseOver",n,this.__mouseX,this.__mouseY,l.__globalToLocal(i,c),l),this.__dispatchStack(p,o)),this.__mouseOverTarget=l,this.__mouseOutStack=o),null!=this.__dragObject){this.__drag(i);var y=null;if(this.__mouseOverTarget==this.__dragObject){var b=this.__dragObject.mouseEnabled,v=this.__dragObject.mouseChildren;this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1;o=[];this.__hitTest(this.__mouseX,this.__mouseY,!0,o,!0,this)&&(y=o[o.length-1]),this.__dragObject.mouseEnabled=b,this.__dragObject.mouseChildren=v}else this.__mouseOverTarget!=this&&(y=this.__mouseOverTarget);this.__dragObject.dropTarget=y}openfl_geom_Point.__pool.release(i),openfl_geom_Point.__pool.release(c)}},__onMouseWheel:function(e,t,a){var n=this.__mouseX,i=this.__mouseY,s=[],_=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,s,!0,this)?_=s[s.length-1]:(_=this,s=[this]),null==_&&(_=this);var r=openfl_geom_Point.__pool.get();r.setTo(n,i);var o=this.__displayMatrix,l=o.a*o.d-o.b*o.c;if(0==l)r.x=-o.tx,r.y=-o.ty;else{var h=1/l*(o.c*(o.ty-r.y)+o.d*(r.x-o.tx));r.y=1/l*(o.a*(r.y-o.ty)+o.b*(o.tx-r.x)),r.x=h}var u=0|t,p=openfl_events_MouseEvent.__create("mouseWheel",0,this.__mouseX,this.__mouseY,_.__globalToLocal(r,r),_,u);p.cancelable=!0,this.__dispatchStack(p,s),p.isDefaultPrevented()&&this.window.onMouseWheel.cancel(),openfl_geom_Point.__pool.release(r)},__onTouch:function(e,t,a){var n=openfl_geom_Point.__pool.get();n.setTo(Math.round(t.x*this.window.__width*this.window.__scale),Math.round(t.y*this.window.__height*this.window.__scale));var i=this.__displayMatrix,s=i.a*i.d-i.b*i.c;if(0==s)n.x=-i.tx,n.y=-i.ty;else{var _=1/s*(i.c*(i.ty-n.y)+i.d*(n.x-i.tx));n.y=1/s*(i.a*(n.y-i.ty)+i.b*(i.tx-n.x)),n.x=_}var r=n.x,o=n.y,l=[],h=null;this.__hitTest(r,o,!1,l,!0,this)?h=l[l.length-1]:(h=this,l=[this]),null==h&&(h=this);var u=t.id,p=null;this.__touchData.h.hasOwnProperty(u)?p=this.__touchData.h[u]:((p=openfl_utils__$internal_TouchData.__pool.get()).reset(),p.touch=t,this.__touchData.h[u]=p);var c=null,d=!1;switch(e){case"touchBegin":p.touchDownTarget=h;break;case"touchEnd":p.touchDownTarget==h&&(c="touchTap"),p.touchDownTarget=null,d=!0}var f=openfl_geom_Point.__pool.get(),m=openfl_events_TouchEvent.__create(e,null,r,o,h.__globalToLocal(n,f),h);m.touchPointID=u,m.isPrimaryTouchPoint=a,m.pressure=t.pressure,this.__dispatchStack(m,l),null!=c&&((m=openfl_events_TouchEvent.__create(c,null,r,o,h.__globalToLocal(n,f),h)).touchPointID=u,m.isPrimaryTouchPoint=a,m.pressure=t.pressure,this.__dispatchStack(m,l));var g=p.touchOverTarget;h!=g&&null!=g&&((m=openfl_events_TouchEvent.__create("touchOut",null,r,o,g.__globalToLocal(n,f),g)).touchPointID=u,m.isPrimaryTouchPoint=a,m.pressure=t.pressure,this.__dispatchTarget(g,m));for(var x=p.rollOutStack,k=0;k<x.length;)b=x[k],-1==l.indexOf(b)?(HxOverrides.remove(x,b),(m=openfl_events_TouchEvent.__create("touchRollOut",null,r,o,g.__globalToLocal(n,f),g)).touchPointID=u,m.isPrimaryTouchPoint=a,m.bubbles=!1,m.pressure=t.pressure,this.__dispatchTarget(b,m)):++k;for(var y=0;y<l.length;){var b=l[y];++y,-1==x.indexOf(b)&&(b.hasEventListener("touchRollOver")&&((m=openfl_events_TouchEvent.__create("touchRollOver",null,r,o,g.__globalToLocal(n,f),b)).touchPointID=u,m.isPrimaryTouchPoint=a,m.bubbles=!1,m.pressure=t.pressure,this.__dispatchTarget(b,m)),b.hasEventListener("touchRollOut")&&x.push(b))}h!=g&&(null!=h&&((m=openfl_events_TouchEvent.__create("touchOver",null,r,o,h.__globalToLocal(n,f),h)).touchPointID=u,m.isPrimaryTouchPoint=a,m.bubbles=!0,m.pressure=t.pressure,this.__dispatchTarget(h,m)),p.touchOverTarget=h),openfl_geom_Point.__pool.release(n),openfl_geom_Point.__pool.release(f),d&&(this.__touchData.remove(u),p.reset(),openfl_utils__$internal_TouchData.__pool.release(p))},__registerLimeModule:function(e){e.onCreateWindow.add($bind(this,this.__onLimeCreateWindow)),e.onUpdate.add($bind(this,this.__onLimeUpdate)),e.onExit.add($bind(this,this.__onLimeModuleExit),!1,0);for(var t=lime_ui_Gamepad.devices.iterator();t.hasNext();){var a=t.next();this.__onLimeGamepadConnect(a)}lime_ui_Gamepad.onConnect.add($bind(this,this.__onLimeGamepadConnect)),lime_ui_Touch.onStart.add($bind(this,this.__onLimeTouchStart)),lime_ui_Touch.onMove.add($bind(this,this.__onLimeTouchMove)),lime_ui_Touch.onEnd.add($bind(this,this.__onLimeTouchEnd)),lime_ui_Touch.onCancel.add($bind(this,this.__onLimeTouchCancel))},__resize:function(){var e=this.stageWidth,t=this.stageHeight,a=this.window.__width*this.window.__scale|0,n=this.window.__height*this.window.__scale|0;if(this.__logicalWidth=a,this.__logicalHeight=n,this.__displayMatrix.identity(),null!=this.get_fullScreenSourceRect()&&this.window.__fullscreen){this.stageWidth=0|this.get_fullScreenSourceRect().width,this.stageHeight=0|this.get_fullScreenSourceRect().height;var i=a/this.stageWidth,s=n/this.stageHeight;this.__displayMatrix.translate(-this.get_fullScreenSourceRect().x,-this.get_fullScreenSourceRect().y),this.__displayMatrix.scale(i,s),this.__displayRect.setTo(this.get_fullScreenSourceRect().get_left(),this.get_fullScreenSourceRect().get_right(),this.get_fullScreenSourceRect().get_top(),this.get_fullScreenSourceRect().get_bottom())}else{if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=a,this.stageHeight=n;else{this.stageWidth=this.__logicalWidth,this.stageHeight=this.__logicalHeight;var _=a/this.stageWidth,r=n/this.stageHeight,o=Math.min(_,r),l=Math.round((a-this.stageWidth*o)/2),h=Math.round((n-this.stageHeight*o)/2);this.__displayMatrix.scale(o,o),this.__displayMatrix.translate(l,h)}this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight)}null!=this.context3D&&this.context3D.configureBackBuffer(a,n,0,!0,!0,!0);for(var u=this.stage3Ds.iterator();u.hasNext();){u.next().__resize(a,n)}if(null!=this.__renderer&&this.__renderer.__resize(a,n),this.stageWidth!=e||this.stageHeight!=t){this.__renderDirty=!0,this.__setTransformDirty();var p;p=new openfl_events_Event("resize"),this.__dispatchEvent(p)}},__setLogicalSize:function(e,t){this.__logicalWidth=e,this.__logicalHeight=t,this.__resize()},__startDrag:function(e,t,a){if(null==a)this.__dragBounds=null;else{this.__dragBounds=new openfl_geom_Rectangle;var n=a.get_right(),i=a.get_bottom();this.__dragBounds.x=n<a.x?n:a.x,this.__dragBounds.y=i<a.y?i:a.y,this.__dragBounds.width=Math.abs(a.width),this.__dragBounds.height=Math.abs(a.height)}if(this.__dragObject=e,null!=this.__dragObject)if(t)this.__dragOffsetX=0,this.__dragOffsetY=0;else{var s=openfl_geom_Point.__pool.get();s.setTo(this.get_mouseX(),this.get_mouseY());var _=this.__dragObject.parent;if(null!=_){var r=_.__getWorldTransform(),o=r.a*r.d-r.b*r.c;if(0==o)s.x=-r.tx,s.y=-r.ty;else{var l=1/o*(r.c*(r.ty-s.y)+r.d*(s.x-r.tx));s.y=1/o*(r.a*(s.y-r.ty)+r.b*(r.tx-s.x)),s.x=l}}this.__dragOffsetX=this.__dragObject.get_x()-s.x,this.__dragOffsetY=this.__dragObject.get_y()-s.y,openfl_geom_Point.__pool.release(s)}},__stopDrag:function(e){this.__dragBounds=null,this.__dragObject=null},__unregisterLimeModule:function(e){e.onCreateWindow.remove($bind(this,this.__onLimeCreateWindow)),e.onUpdate.remove($bind(this,this.__onLimeUpdate)),e.onExit.remove($bind(this,this.__onLimeModuleExit)),lime_ui_Gamepad.onConnect.remove($bind(this,this.__onLimeGamepadConnect)),lime_ui_Touch.onStart.remove($bind(this,this.__onLimeTouchStart)),lime_ui_Touch.onMove.remove($bind(this,this.__onLimeTouchMove)),lime_ui_Touch.onEnd.remove($bind(this,this.__onLimeTouchEnd)),lime_ui_Touch.onCancel.remove($bind(this,this.__onLimeTouchCancel))},__update:function(e,t){e?this.__transformDirty&&(openfl_display_DisplayObjectContainer.prototype.__update.call(this,!0,t),t&&(this.__transformDirty=!1)):this.__transformDirty||this.__renderDirty?(openfl_display_DisplayObjectContainer.prototype.__update.call(this,!1,t),t&&openfl_display_DisplayObject.__supportDOM&&(this.__wasDirty=!0)):!this.__renderDirty&&this.__wasDirty&&(openfl_display_DisplayObjectContainer.prototype.__update.call(this,!1,t),t&&(this.__wasDirty=!1))},get_color:function(){return this.__color},set_color:function(e){if(null==e?(this.__transparent=!0,e=0):this.__transparent=!1,this.__color!=e){var t=(16711680&e)>>>16,a=(65280&e)>>>8,n=255&e;this.__colorSplit[0]=t/255,this.__colorSplit[1]=a/255,this.__colorSplit[2]=n/255,this.__colorString="#"+StringTools.hex(16777215&e,6),this.__renderDirty=!0,this.__color=-16777216|16777215&e}return e},get_contentsScaleFactor:function(){return this.__contentsScaleFactor},get_displayState:function(){return this.__displayState},set_displayState:function(e){return null!=this.window&&(2==e?this.window.__fullscreen&&this.window.set_fullscreen(!1):this.window.__fullscreen||this.window.set_fullscreen(!0)),this.__displayState=e},get_focus:function(){return this.__focus},set_focus:function(e){if(e!=this.__focus){var t=this.__focus;if(this.__focus=e,this.__cacheFocus=e,null!=t){var a=new openfl_events_FocusEvent("focusOut",!0,!1,e,!1,0),n=[];t.__getInteractive(n),n.reverse(),this.__dispatchStack(a,n)}if(null!=e){a=new openfl_events_FocusEvent("focusIn",!0,!1,t,!1,0),n=[];e.__getInteractive(n),n.reverse(),this.__dispatchStack(a,n)}}return e},get_frameRate:function(){return null!=this.window?this.window.__backend.getFrameRate():0},set_frameRate:function(e){return null!=this.window?this.window.__backend.setFrameRate(e):e},get_fullScreenHeight:function(){return Math.ceil(this.window.get_display().currentMode.height*this.window.__scale)},get_fullScreenSourceRect:function(){return null==this.__fullScreenSourceRect?null:this.__fullScreenSourceRect.clone()},set_fullScreenSourceRect:function(e){return null==e?null!=this.__fullScreenSourceRect&&(this.__fullScreenSourceRect=null,this.__resize()):e.equals(this.__fullScreenSourceRect)||(this.__fullScreenSourceRect=e.clone(),this.__resize()),e},get_fullScreenWidth:function(){return Math.ceil(this.window.get_display().currentMode.width*this.window.__scale)},set_height:function(e){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},get_quality:function(){return this.__quality},set_quality:function(e){if(this.__quality=e,null!=this.__renderer){var t=this.get_quality();this.__renderer.__allowSmoothing=2!=t}return e},set_rotation:function(e){return 0},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(e){return this.__scaleMode=e},set_scaleX:function(e){return 0},set_scaleY:function(e){return 0},get_tabEnabled:function(){return!1},set_tabEnabled:function(e){throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Error: The Stage class does not implement this property or method."))},get_tabIndex:function(){return-1},set_tabIndex:function(e){throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Error: The Stage class does not implement this property or method."))},set_transform:function(e){return this.get_transform()},set_width:function(e){return this.get_width()},set_x:function(e){return 0},set_y:function(e){return 0},__class__:openfl_display_Stage,__properties__:$extend(openfl_display_DisplayObjectContainer.prototype.__properties__,{set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_quality:"set_quality",get_quality:"get_quality",get_fullScreenWidth:"get_fullScreenWidth",set_fullScreenSourceRect:"set_fullScreenSourceRect",get_fullScreenSourceRect:"get_fullScreenSourceRect",get_fullScreenHeight:"get_fullScreenHeight",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",get_contentsScaleFactor:"get_contentsScaleFactor",set_color:"set_color",get_color:"get_color"})});var openfl_display_Stage3D=function(e){openfl_events_EventDispatcher.call(this),this.__stage=e,this.__height=0,this.__projectionTransform=new openfl_geom_Matrix3D,this.__renderTransform=new openfl_geom_Matrix3D,this.__width=0,this.__x=0,this.__y=0,this.visible=!0,e.stageWidth>0&&e.stageHeight>0&&this.__resize(e.stageWidth,e.stageHeight)};$hxClasses["openfl.display.Stage3D"]=openfl_display_Stage3D,openfl_display_Stage3D.__name__="openfl.display.Stage3D",openfl_display_Stage3D.__super__=openfl_events_EventDispatcher,openfl_display_Stage3D.prototype=$extend(openfl_events_EventDispatcher.prototype,{requestContext3D:function(e,t){null==t&&(t=0),null==e&&(e=0),this.__contextLost?this.__contextRequested=!0:null!=this.context3D?(this.__contextRequested=!0,haxe_Timer.delay($bind(this,this.__dispatchCreate),1)):this.__contextRequested||(this.__contextRequested=!0,haxe_Timer.delay($bind(this,this.__createContext),1))},requestContext3DMatchingProfiles:function(e){this.requestContext3D()},__createContext:function(){var e=this.__stage,t=e.__renderer;if("cairo"!=t.__type&&"canvas"!=t.__type){if("opengl"==t.__type)this.context3D=new openfl_display3D_Context3D(e,e.context3D.__contextState,this),this.__dispatchCreate();else if("dom"==t.__type){this.__canvas=window.document.createElement("canvas"),this.__canvas.width=e.stageWidth,this.__canvas.height=e.stageHeight;e.window;var a=t.__context.attributes,n=Object.prototype.hasOwnProperty.call(a,"background")&&null==a.background,i=Object.prototype.hasOwnProperty.call(a,"colorDepth")?a.colorDepth:32,s={alpha:n||i>16,antialias:Object.prototype.hasOwnProperty.call(a,"antialiasing")&&a.antialiasing>0,depth:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1};this.__webgl=js_html__$CanvasElement_CanvasUtil.getContextWebGL(this.__canvas,s),this.__webgl,this.__dispatchError()}}else this.__dispatchError()},__dispatchError:function(){this.__contextRequested=!1,this.dispatchEvent(new openfl_events_ErrorEvent("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new openfl_events_Event("context3DCreate")))},__lostContext:function(){this.__contextLost=!0,null!=this.context3D&&(this.context3D.__dispose(),this.__contextRequested=!0)},__resize:function(e,t){e==this.__width&&t==this.__height||(null!=this.__canvas&&(this.__canvas.width=e,this.__canvas.height=t),this.__projectionTransform.copyRawDataFrom(openfl_Vector.toFloatVector(null,null,null,[2/(e>0?e:1),0,0,0,0,-2/(t>0?t:1),0,0,0,0,-.001,0,-1,1,0,1])),this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform),this.__width=e,this.__height=t)},__restoreContext:function(){this.__contextLost=!1,this.__createContext()},get_x:function(){return this.__x},set_x:function(e){return this.__x==e||(this.__x=e,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),e},get_y:function(){return this.__y},set_y:function(e){return this.__y==e||(this.__y=e,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),e},__class__:openfl_display_Stage3D,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}});var openfl_display_StageAlign={fromString:function(e){switch(e){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},toString:function(e){switch(e){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}}},openfl_display_StageDisplayState={fromString:function(e){switch(e){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},toString:function(e){switch(e){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}}},openfl_display_StageQuality={fromString:function(e){switch(e){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},toString:function(e){switch(e){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}}},openfl_display_StageScaleMode={fromString:function(e){switch(e){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},toString:function(e){switch(e){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}}},openfl_display_Tile=function(e,t,a,n,i,s,_,r){null==r&&(r=0),null==_&&(_=0),null==s&&(s=0),null==i&&(i=1),null==n&&(n=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.__id=e,this.__matrix=new openfl_geom_Matrix,0!=t&&this.set_x(t),0!=a&&this.set_y(a),1!=n&&this.set_scaleX(n),1!=i&&this.set_scaleY(i),0!=s&&this.set_rotation(s),this.__dirty=!0,this.__length=0,this.__originX=_,this.__originY=r,this.__alpha=1,this.__blendMode=null,this.__visible=!0};$hxClasses["openfl.display.Tile"]=openfl_display_Tile,openfl_display_Tile.__name__="openfl.display.Tile",openfl_display_Tile.prototype={clone:function(){var e=new openfl_display_Tile(this.__id);return e.__alpha=this.__alpha,e.__blendMode=this.__blendMode,e.__originX=this.__originX,e.__originY=this.__originY,null!=this.__rect&&(e.__rect=this.__rect.clone()),e.set_matrix(this.__matrix.clone()),e.__shader=this.__shader,e.set_tileset(this.__tileset),null!=this.__colorTransform&&(e.__colorTransform=this.__colorTransform.__clone()),e},getBounds:function(e){var t=new openfl_geom_Rectangle;this.__findTileRect(t);var a=openfl_geom_Matrix.__pool.get();if(null!=e&&e!=this){a.copyFrom(this.__getWorldTransform());var n=openfl_geom_Matrix.__pool.get();n.copyFrom(e.__getWorldTransform()),n.invert(),a.concat(n),openfl_geom_Matrix.__pool.release(n)}else a.identity();return this.__getBounds(t,a),openfl_geom_Matrix.__pool.release(a),t},__getBounds:function(e,t){e.__transform(e,t)},hitTestTile:function(e){if(null!=e&&null!=e.parent&&null!=this.parent){var t=this.getBounds(this),a=e.getBounds(this);return t.intersects(a)}return!1},invalidate:function(){this.__setRenderDirty()},__findTileRect:function(e){if(null==this.get_tileset())if(null!=this.parent){var t=this.parent.__findTileset();if(null==t)e.setTo(0,0,0,0);else{var a=t.getRect(this.get_id());if(null==a)e.setTo(0,0,0,0);else{var n=a;e.copyFrom(n)}}}else e.setTo(0,0,0,0);else e.copyFrom(this.get_tileset().getRect(this.get_id()));e.x=0,e.y=0},__findTileset:function(){return null!=this.get_tileset()?this.get_tileset():this.parent instanceof openfl_display_Tilemap?this.parent.get_tileset():null==this.parent?null:this.parent.__findTileset()},__getWorldTransform:function(){var e=this.get_matrix().clone();return null!=this.parent&&e.concat(this.parent.__getWorldTransform()),e},__setRenderDirty:function(){this.__dirty||(this.__dirty=!0,null!=this.parent&&this.parent.__setRenderDirty())},get_alpha:function(){return this.__alpha},set_alpha:function(e){return e!=this.__alpha&&(this.__alpha=e,this.__setRenderDirty()),e},get_blendMode:function(){return this.__blendMode},set_blendMode:function(e){return e!=this.__blendMode&&(this.__blendMode=e,this.__setRenderDirty()),e},get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(e){return e!=this.__colorTransform&&(this.__colorTransform=e,this.__setRenderDirty()),e},get_height:function(){var e=openfl_geom_Rectangle.__pool.get();this.__findTileRect(e),this.__getBounds(e,this.get_matrix());var t=e.height;return openfl_geom_Rectangle.__pool.release(e),t},set_height:function(e){var t=openfl_geom_Rectangle.__pool.get();return this.__findTileRect(t),0!=t.height&&this.set_scaleY(e/t.height),openfl_geom_Rectangle.__pool.release(t),e},get_id:function(){return this.__id},set_id:function(e){return e!=this.__id&&(this.__id=e,this.__setRenderDirty()),e},get_matrix:function(){return this.__matrix},set_matrix:function(e){return e!=this.__matrix&&(this.__rotation=null,this.__scaleX=null,this.__scaleY=null,this.__matrix=e,this.__setRenderDirty()),e},get_originX:function(){return this.__originX},set_originX:function(e){return e!=this.__originX&&(this.__originX=e,this.__setRenderDirty()),e},get_originY:function(){return this.__originY},set_originY:function(e){return e!=this.__originY&&(this.__originY=e,this.__setRenderDirty()),e},get_rect:function(){return this.__rect},set_rect:function(e){return e!=this.__rect&&(this.__rect=e,this.__setRenderDirty()),e},get_rotation:function(){if(null==this.__rotation)if(0==this.__matrix.b&&0==this.__matrix.c)this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1;else{var e=Math.atan2(this.__matrix.d,this.__matrix.c)-Math.PI/2;this.__rotation=e*(180/Math.PI),this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e)}return this.__rotation},set_rotation:function(e){if(e!=this.__rotation){this.__rotation=e;var t=e*(Math.PI/180);this.__rotationSine=Math.sin(t),this.__rotationCosine=Math.cos(t);var a=this.get_scaleX(),n=this.get_scaleY();this.__matrix.a=this.__rotationCosine*a,this.__matrix.b=this.__rotationSine*a,this.__matrix.c=-this.__rotationSine*n,this.__matrix.d=this.__rotationCosine*n,this.__setRenderDirty()}return e},get_scaleX:function(){return null==this.__scaleX&&(0==this.get_matrix().b?this.__scaleX=this.__matrix.a:this.__scaleX=Math.sqrt(this.__matrix.a*this.__matrix.a+this.__matrix.b*this.__matrix.b)),this.__scaleX},set_scaleX:function(e){if(e!=this.__scaleX){if(this.__scaleX=e,0==this.__matrix.b)this.__matrix.a=e;else{this.get_rotation();var t=this.__rotationCosine*e,a=this.__rotationSine*e;this.__matrix.a=t,this.__matrix.b=a}this.__setRenderDirty()}return e},get_scaleY:function(){return null==this.__scaleY&&(0==this.__matrix.c?this.__scaleY=this.get_matrix().d:this.__scaleY=Math.sqrt(this.__matrix.c*this.__matrix.c+this.__matrix.d*this.__matrix.d)),this.__scaleY},set_scaleY:function(e){if(e!=this.__scaleY){if(this.__scaleY=e,0==this.__matrix.c)this.__matrix.d=e;else{this.get_rotation();var t=-this.__rotationSine*e,a=this.__rotationCosine*e;this.__matrix.c=t,this.__matrix.d=a}this.__setRenderDirty()}return e},get_shader:function(){return this.__shader},set_shader:function(e){return e!=this.__shader&&(this.__shader=e,this.__setRenderDirty()),e},get_tileset:function(){return this.__tileset},set_tileset:function(e){return e!=this.__tileset&&(this.__tileset=e,this.__setRenderDirty()),e},get_visible:function(){return this.__visible},set_visible:function(e){return e!=this.__visible&&(this.__visible=e,this.__setRenderDirty()),e},get_width:function(){var e=openfl_geom_Rectangle.__pool.get();this.__findTileRect(e),this.__getBounds(e,this.get_matrix());var t=e.width;return openfl_geom_Rectangle.__pool.release(e),t},set_width:function(e){var t=openfl_geom_Rectangle.__pool.get();return this.__findTileRect(t),0!=t.width&&this.set_scaleX(e/t.width),openfl_geom_Rectangle.__pool.release(t),e},get_x:function(){return this.__matrix.tx},set_x:function(e){return e!=this.__matrix.tx&&(this.__matrix.tx=e,this.__setRenderDirty()),e},get_y:function(){return this.__matrix.ty},set_y:function(e){return e!=this.__matrix.ty&&(this.__matrix.ty=e,this.__setRenderDirty()),e},__class__:openfl_display_Tile,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_tileset:"set_tileset",get_tileset:"get_tileset",set_shader:"set_shader",get_shader:"get_shader",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_rect:"set_rect",get_rect:"get_rect",set_originY:"set_originY",get_originY:"get_originY",set_originX:"set_originX",get_originX:"get_originX",set_matrix:"set_matrix",get_matrix:"get_matrix",set_id:"set_id",get_id:"get_id",set_height:"set_height",get_height:"get_height",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}};var openfl_display_TileContainer=function(e,t,a,n,i,s,_){null==_&&(_=0),null==s&&(s=0),null==i&&(i=0),null==n&&(n=1),null==a&&(a=1),null==t&&(t=0),null==e&&(e=0),openfl_display_Tile.call(this,-1,e,t,a,n,i,s,_),this.__tiles=[],this.__length=0};$hxClasses["openfl.display.TileContainer"]=openfl_display_TileContainer,openfl_display_TileContainer.__name__="openfl.display.TileContainer",openfl_display_TileContainer.__interfaces__=[openfl_display_ITileContainer],openfl_display_TileContainer.__super__=openfl_display_Tile,openfl_display_TileContainer.prototype=$extend(openfl_display_Tile.prototype,{addTile:function(e){return null==e?null:(e.parent==this&&(HxOverrides.remove(this.__tiles,e),this.__length--),this.__tiles[this.get_numTiles()]=e,e.parent=this,this.__length++,this.__setRenderDirty(),e)},addTileAt:function(e,t){return null==e?null:(e.parent==this&&(HxOverrides.remove(this.__tiles,e),this.__length--),this.__tiles.splice(t,0,e),e.parent=this,this.__length++,this.__setRenderDirty(),e)},addTiles:function(e){for(var t=0;t<e.length;){var a=e[t];++t,this.addTile(a)}return e},clone:function(){for(var e=new openfl_display_TileContainer,t=0,a=this.__tiles;t<a.length;){var n=a[t];++t,e.addTile(n.clone())}return e},contains:function(e){return this.__tiles.indexOf(e)>-1},getBounds:function(e){for(var t=new openfl_geom_Rectangle,a=null,n=0,i=this.__tiles;n<i.length;){var s=i[n];++n,a=s.getBounds(e),t.__expand(a.x,a.y,a.width,a.height)}return t},getTileAt:function(e){return e>=0&&e<this.get_numTiles()?this.__tiles[e]:null},getTileIndex:function(e){for(var t=0,a=this.__tiles.length;t<a;){var n=t++;if(this.__tiles[n]==e)return n}return-1},removeTile:function(e){return null!=e&&e.parent==this&&(e.parent=null,HxOverrides.remove(this.__tiles,e),this.__length--,this.__setRenderDirty()),e},removeTileAt:function(e){return e>=0&&e<this.get_numTiles()?this.removeTile(this.__tiles[e]):null},removeTiles:function(e,t){null==t&&(t=2147483647),null==e&&(e=0),e<0&&(e=0),t>this.__tiles.length-1&&(t=this.__tiles.length-1);for(var a=this.__tiles.splice(e,t-e+1),n=0;n<a.length;){var i=a[n];++n,i.parent=null}this.__length=this.__tiles.length,this.__setRenderDirty()},setTileIndex:function(e,t){t>=0&&t<=this.get_numTiles()&&e.parent==this&&(HxOverrides.remove(this.__tiles,e),this.__tiles.splice(t,0,e),this.__setRenderDirty())},sortTiles:function(e){this.__tiles.sort(e),this.__setRenderDirty()},swapTiles:function(e,t){if(e.parent==this&&t.parent==this){var a=this.__tiles.indexOf(e),n=this.__tiles.indexOf(t);this.__tiles[a]=t,this.__tiles[n]=e,this.__setRenderDirty()}},swapTilesAt:function(e,t){var a=this.__tiles[e];this.__tiles[e]=this.__tiles[t],this.__tiles[t]=a,a=null,this.__setRenderDirty()},get_numTiles:function(){return this.__length},get_height:function(){for(var e=openfl_geom_Rectangle.__pool.get(),t=null,a=0,n=this.__tiles;a<n.length;){var i=n[a];++a,t=i.getBounds(this),e.__expand(t.x,t.y,t.width,t.height)}this.__getBounds(e,this.get_matrix());var s=e.height;return openfl_geom_Rectangle.__pool.release(e),s},set_height:function(e){for(var t=openfl_geom_Rectangle.__pool.get(),a=null,n=0,i=this.__tiles;n<i.length;){var s=i[n];++n,a=s.getBounds(this),t.__expand(a.x,a.y,a.width,a.height)}return 0!=t.height&&this.set_scaleY(e/t.height),openfl_geom_Rectangle.__pool.release(t),e},get_width:function(){for(var e=openfl_geom_Rectangle.__pool.get(),t=null,a=0,n=this.__tiles;a<n.length;){var i=n[a];++a,t=i.getBounds(this),e.__expand(t.x,t.y,t.width,t.height)}this.__getBounds(e,this.get_matrix());var s=e.width;return openfl_geom_Rectangle.__pool.release(e),s},set_width:function(e){for(var t=openfl_geom_Rectangle.__pool.get(),a=null,n=0,i=this.__tiles;n<i.length;){var s=i[n];++n,a=s.getBounds(this),t.__expand(a.x,a.y,a.width,a.height)}return 0!=t.width&&this.set_scaleX(e/t.width),openfl_geom_Rectangle.__pool.release(t),e},__class__:openfl_display_TileContainer,__properties__:$extend(openfl_display_Tile.prototype.__properties__,{get_numTiles:"get_numTiles"})});var openfl_display_Tilemap=function(e,t,a,n){null==n&&(n=!0),openfl_display_DisplayObject.call(this),this.__drawableType=9,this.__tileset=a,this.smoothing=n,this.tileAlphaEnabled=!0,this.tileBlendModeEnabled=!0,this.tileColorTransformEnabled=!0,this.__group=new openfl_display_TileContainer,this.__group.set_tileset(a),this.__width=e,this.__height=t};$hxClasses["openfl.display.Tilemap"]=openfl_display_Tilemap,openfl_display_Tilemap.__name__="openfl.display.Tilemap",openfl_display_Tilemap.__interfaces__=[openfl_display_ITileContainer],openfl_display_Tilemap.__super__=openfl_display_DisplayObject,openfl_display_Tilemap.prototype=$extend(openfl_display_DisplayObject.prototype,{addTile:function(e){return this.__group.addTile(e)},addTileAt:function(e,t){return this.__group.addTileAt(e,t)},addTiles:function(e){return this.__group.addTiles(e)},contains:function(e){return this.__group.contains(e)},getTileAt:function(e){return this.__group.getTileAt(e)},getTileIndex:function(e){return this.__group.getTileIndex(e)},getTiles:function(){return this.__group.clone()},removeTile:function(e){return this.__group.removeTile(e)},removeTileAt:function(e){return this.__group.removeTileAt(e)},removeTiles:function(e,t){null==t&&(t=2147483647),null==e&&(e=0),this.__group.removeTiles(e,t)},setTileIndex:function(e,t){this.__group.setTileIndex(e,t)},setTiles:function(e){for(var t=0,a=this.__group.__tiles;t<a.length;){var n=a[t];++t,this.removeTile(n)}for(t=0,a=e.__tiles;t<a.length;){n=a[t];++t,this.addTile(n)}},sortTiles:function(e){this.__group.sortTiles(e)},swapTiles:function(e,t){this.__group.swapTiles(e,t)},swapTilesAt:function(e,t){this.__group.swapTilesAt(e,t)},__enterFrame:function(e){this.__group.__dirty&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__getBounds:function(e,t){var a=openfl_geom_Rectangle.__pool.get();a.setTo(0,0,this.__width,this.__height),a.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)},__hitTest:function(e,t,a,n,i,s){if(!s.get_visible()||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;this.__getRenderTransform();var _,r,o=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.tx:1/r*(_.c*(_.ty-t)+_.d*(e-_.tx)),l=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.ty:1/r*(_.a*(t-_.ty)+_.b*(_.tx-e));return o>0&&l>0&&o<=this.__width&&l<=this.__height&&(null==n||i||n.push(s),!0)},__renderFlash:function(){},get_height:function(){return this.__height*Math.abs(this.get_scaleY())},set_height:function(e){return this.__height=0|e,this.__height*Math.abs(this.get_scaleY())},get_numTiles:function(){return this.__group.__length},get_tileset:function(){return this.__tileset},set_tileset:function(e){return e!=this.__tileset&&(this.__tileset=e,this.__group.set_tileset(e),this.__group.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_width:function(){return this.__width*Math.abs(this.__scaleX)},set_width:function(e){return this.__width=0|e,this.__width*Math.abs(this.__scaleX)},__class__:openfl_display_Tilemap,__properties__:$extend(openfl_display_DisplayObject.prototype.__properties__,{set_tileset:"set_tileset",get_tileset:"get_tileset",get_numTiles:"get_numTiles"})});var openfl_display_Tileset=function(e,t){if(this.__bitmapData=e,this.rectData=openfl_Vector.toFloatVector(null),this.__data=[],null!=t)for(var a=0;a<t.length;){var n=t[a];++a,this.addRect(n)}};$hxClasses["openfl.display.Tileset"]=openfl_display_Tileset,openfl_display_Tileset.__name__="openfl.display.Tileset",openfl_display_Tileset.prototype={addRect:function(e){if(null==e)return-1;this.rectData.push(e.x),this.rectData.push(e.y),this.rectData.push(e.width),this.rectData.push(e.height);var t=new openfl_display__$Tileset_TileData(e);return t.__update(this.__bitmapData),this.__data.push(t),this.__data.length-1},clone:function(){for(var e=new openfl_display_Tileset(this.__bitmapData,null),t=openfl_geom_Rectangle.__pool.get(),a=0,n=this.__data;a<n.length;){var i=n[a];++a,t.setTo(i.x,i.y,i.width,i.height),e.addRect(t)}return openfl_geom_Rectangle.__pool.release(t),e},hasRect:function(e){for(var t=0,a=this.__data;t<a.length;){var n=a[t];if(++t,e.x==n.x&&e.y==n.y&&e.width==n.width&&e.height==n.height)return!0}return!1},getRect:function(e){return e<this.__data.length&&e>=0?new openfl_geom_Rectangle(this.__data[e].x,this.__data[e].y,this.__data[e].width,this.__data[e].height):null},getRectID:function(e){for(var t,a=0,n=this.__data.length;a<n;){var i=a++;if(t=this.__data[i],e.x==t.x&&e.y==t.y&&e.width==t.width&&e.height==t.height)return i}return null},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(e){this.__bitmapData=e;for(var t=0,a=this.__data;t<a.length;){var n=a[t];++t,n.__update(this.__bitmapData)}return e},get_numRects:function(){return this.__data.length},__class__:openfl_display_Tileset,__properties__:{get_numRects:"get_numRects",set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"}};var openfl_display__$Tileset_TileData=function(e){null!=e&&(this.x=0|e.x,this.y=0|e.y,this.width=0|e.width,this.height=0|e.height)};$hxClasses["openfl.display._Tileset.TileData"]=openfl_display__$Tileset_TileData,openfl_display__$Tileset_TileData.__name__="openfl.display._Tileset.TileData",openfl_display__$Tileset_TileData.prototype={__update:function(e){if(null!=e){var t=e.width,a=e.height;this.__uvX=this.x/t,this.__uvY=this.y/a,this.__uvWidth=(this.x+this.width)/t,this.__uvHeight=(this.y+this.height)/a}},__class__:openfl_display__$Tileset_TileData};var openfl_display_Timeline=function(){this.__framesLoaded=1,this.__totalFrames=1,this.__currentLabels=[],this.__currentFrame=1,this.__lastFrameScriptEval=-1,this.__lastFrameUpdate=-1};$hxClasses["openfl.display.Timeline"]=openfl_display_Timeline,openfl_display_Timeline.__name__="openfl.display.Timeline",openfl_display_Timeline.prototype={attachMovieClip:function(e){},enterFrame:function(e){},__addFrameScript:function(e,t){if(!(e<0)){var a=e+1;null!=t?(null==this.__frameScripts&&(this.__frameScripts=new haxe_ds_IntMap),this.__frameScripts.h[a]=function(e){t()}):null!=this.__frameScripts&&this.__frameScripts.remove(a)}},__attachMovieClip:function(e){if(this.__scope=e,this.__totalFrames=0,this.__framesLoaded=0,null!=this.scenes&&this.scenes.length>0){for(var t=0,a=this.scenes;t<a.length;){var n=a[t];++t,this.__totalFrames+=n.numFrames,this.__framesLoaded+=n.numFrames,null!=n.labels&&(this.__currentLabels=this.__currentLabels.concat(n.labels))}this.__currentScene=this.scenes[0]}if(null!=this.scripts&&this.scripts.length>0){this.__frameScripts=new haxe_ds_IntMap;for(t=0,a=this.scripts;t<a.length;){var i=a[t];++t,this.__frameScripts.h[i.frame]=i.script}}this.attachMovieClip(e)},__enterFrame:function(e){if(this.__isPlaying){var t=this.__getNextFrame(e);if(this.__lastFrameScriptEval==t)return;if(null!=this.__frameScripts){if(t<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return;this.__currentFrame=1}if(!this.__evaluateFrameScripts(t))return}else this.__currentFrame=t}this.__updateSymbol(this.__currentFrame)},__evaluateFrameScripts:function(e){if(null==this.__frameScripts)return!0;for(var t=this.__currentFrame,a=e+1;t<a;){var n=t++;if(n!=this.__lastFrameScriptEval){if(this.__lastFrameScriptEval=n,this.__currentFrame=n,this.__frameScripts.h.hasOwnProperty(n))if(this.__updateSymbol(n),(0,this.__frameScripts.h[n])(this.__scope),this.__currentFrame!=n)return!1;if(!this.__isPlaying)return!1}}return!0},__getNextFrame:function(e){var t=0;return null!=this.frameRate?(this.__timeElapsed+=e,(t=this.__currentFrame+Math.floor(this.__timeElapsed/this.__frameTime))<1&&(t=1),t>this.__totalFrames&&(t=Math.floor((t-1)%this.__totalFrames)+1),this.__timeElapsed%=this.__frameTime):(t=this.__currentFrame+1)>this.__totalFrames&&(t=1),t},__goto:function(e){e<1?e=1:e>this.__totalFrames&&(e=this.__totalFrames),this.__lastFrameScriptEval=-1,this.__currentFrame=e,this.__updateSymbol(this.__currentFrame),this.__evaluateFrameScripts(this.__currentFrame)},__gotoAndPlay:function(e,t){this.__play(),this.__goto(this.__resolveFrameReference(e))},__gotoAndStop:function(e,t){this.__stop(),this.__goto(this.__resolveFrameReference(e))},__nextFrame:function(){this.__stop(),this.__goto(this.__currentFrame+1)},__nextScene:function(){},__play:function(){this.__isPlaying||this.__totalFrames<2||(this.__isPlaying=!0,null!=this.frameRate&&(this.__frameTime=1e3/this.frameRate|0,this.__timeElapsed=0))},__prevFrame:function(){this.__stop(),this.__goto(this.__currentFrame-1)},__prevScene:function(){},__stop:function(){this.__isPlaying=!1},__resolveFrameReference:function(e){if("number"==typeof e&&(0|e)===e)return e;if("string"==typeof e){for(var t=e,a=0,n=this.__currentLabels;a<n.length;){var i=n[a];if(++a,i.name==t)return i.frame}throw haxe_Exception.thrown(new openfl_errors_ArgumentError("Error #2109: Frame label "+t+" not found in scene."))}throw haxe_Exception.thrown("Invalid type for frame "+e.__name__)},__updateFrameLabel:function(){this.__currentLabel=null,this.__currentFrameLabel=null;for(var e=0,t=this.__currentLabels;e<t.length;){var a=t[e];if(++e,a.frame<this.__currentFrame)this.__currentLabel=a.name;else{if(a.frame!=this.__currentFrame)break;this.__currentLabel=a.name,this.__currentFrameLabel=a.name}}},__updateSymbol:function(e){this.__currentFrame!=this.__lastFrameUpdate&&(this.__updateFrameLabel(),this.enterFrame(e),this.__lastFrameUpdate=this.__currentFrame)},__class__:openfl_display_Timeline};var openfl_display_TriangleCulling={fromString:function(e){switch(e){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},toString:function(e){switch(e){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}}},openfl_display_Window=function(e,t){if(lime_ui_Window.call(this,e,t),this.stage=new openfl_display_Stage(this,Object.prototype.hasOwnProperty.call(t.context,"background")?t.context.background:16777215),Object.prototype.hasOwnProperty.call(t,"parameters"))try{this.stage.get_loaderInfo().parameters=t.parameters}catch(e){haxe_NativeStackTrace.lastError=e}Object.prototype.hasOwnProperty.call(t,"resizable")&&!t.resizable&&this.stage.__setLogicalSize(t.width,t.height),e.addModule(this.stage)};$hxClasses["openfl.display.Window"]=openfl_display_Window,openfl_display_Window.__name__="openfl.display.Window",openfl_display_Window.__super__=lime_ui_Window,openfl_display_Window.prototype=$extend(lime_ui_Window.prototype,{__class__:openfl_display_Window});var openfl_display__$internal_AbstractNoise=function(e,t,a,n,i,s,_){null==_&&(_=.05),null==s&&(s=!1),this.stitch=s,this.stitch_threshold=_,this.octaves=t,this.channels=a,this.grayscale=n,this.calculateOctaves(i)};$hxClasses["openfl.display._internal.AbstractNoise"]=openfl_display__$internal_AbstractNoise,openfl_display__$internal_AbstractNoise.__name__="openfl.display._internal.AbstractNoise",openfl_display__$internal_AbstractNoise.prototype={fill:function(e,t,a,n){},stitching:function(e,t,a,n,i,s,_,r){var o=t>>16&255,l=t>>8&255,h=255&t;if(_-i<a){var u=(d=e.getPixel32(_-a,n))>>16&255,p=d>>8&255,c=255&d;f=(_-a)/i;o=this.mixI(u,o,f),l=this.mixI(p,l,f),h=this.mixI(c,h,f)}if(r-s<n){var d,f;u=(d=e.getPixel32(a,r-n))>>16&255,p=d>>8&255,c=255&d,f=(r-n)/s;o=this.mixI(u,o,f),l=this.mixI(p,l,f),h=this.mixI(c,h,f)}return-16777216|o<<16|l<<8|h},color:function(e,t,a){var n=0,i=0,s=0;return null!=e&&(n=this.noiseToColor(e)),null!=t&&(i=this.noiseToColor(t)),null!=a&&(s=this.noiseToColor(a)),-16777216|n<<16|i<<8|s},noiseToColor:function(e){return 128*(e*this.persistence_max+1)|0},fade:function(e){return e*e*e*(e*(6*e-15)+10)},mixI:function(e,t,a){return(1-a)*e+a*t|0},mix:function(e,t,a){return(1-a)*e+a*t},fastfloor:function(e){return e>0?0|e:e-1|0},dot2d:function(e,t,a){return e[0]*t+e[1]*a},dot:function(e,t,a,n){return e[0]*t+e[1]*a+e[2]*n},calculateOctaves:function(e){var t,a;this.octaves_frequencies=[],this.octaves_persistences=[],this.persistence_max=0;for(var n=0,i=this.octaves;n<i;){var s=n++;t=Math.pow(2,s),a=Math.pow(e,s),this.persistence_max+=a,this.octaves_frequencies.push(t),this.octaves_persistences.push(a)}this.persistence_max=1/this.persistence_max},__class__:openfl_display__$internal_AbstractNoise};var openfl_display__$internal_CairoBitmap=function(){};$hxClasses["openfl.display._internal.CairoBitmap"]=openfl_display__$internal_CairoBitmap,openfl_display__$internal_CairoBitmap.__name__="openfl.display._internal.CairoBitmap",openfl_display__$internal_CairoBitmap.render=function(e,t){if(e.__renderable){var a=t.__getAlpha(e.__worldAlpha);if(a>0&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var n=t.cairo;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),t.applyMatrix(e.__renderTransform,n);var i=e.__bitmapData.getSurface();if(null!=i){var s=lime_graphics_cairo_CairoPattern.createForSurface(i);lime_graphics_cairo_CairoPattern.set_filter(s,t.__allowSmoothing&&e.smoothing?1:3),n.set_source(s),1==a?n.paint():n.paintWithAlpha(a)}t.__popMaskObject(e),t.__setBlendMode(10)}}},openfl_display__$internal_CairoBitmap.renderDrawable=function(e,t){},openfl_display__$internal_CairoBitmap.renderDrawableMask=function(e,t){t.cairo.rectangle(0,0,e.get_width(),e.get_height())};var openfl_display__$internal_CairoBitmapData=function(){};$hxClasses["openfl.display._internal.CairoBitmapData"]=openfl_display__$internal_CairoBitmapData,openfl_display__$internal_CairoBitmapData.__name__="openfl.display._internal.CairoBitmapData",openfl_display__$internal_CairoBitmapData.renderDrawable=function(e,t){},openfl_display__$internal_CairoBitmapData.renderDrawableMask=function(e,t){};var openfl_display__$internal_CairoDisplayObject=function(){};$hxClasses["openfl.display._internal.CairoDisplayObject"]=openfl_display__$internal_CairoDisplayObject,openfl_display__$internal_CairoDisplayObject.__name__="openfl.display._internal.CairoDisplayObject",openfl_display__$internal_CairoDisplayObject.render=function(e,t){},openfl_display__$internal_CairoDisplayObject.renderDrawable=function(e,t){},openfl_display__$internal_CairoDisplayObject.renderDrawableMask=function(e,t){};var openfl_display__$internal_CairoDisplayObjectContainer=function(){};$hxClasses["openfl.display._internal.CairoDisplayObjectContainer"]=openfl_display__$internal_CairoDisplayObjectContainer,openfl_display__$internal_CairoDisplayObjectContainer.__name__="openfl.display._internal.CairoDisplayObjectContainer",openfl_display__$internal_CairoDisplayObjectContainer.renderDrawable=function(e,t){},openfl_display__$internal_CairoDisplayObjectContainer.renderDrawableMask=function(e,t){};var openfl_display__$internal_CairoGraphics=function(){};$hxClasses["openfl.display._internal.CairoGraphics"]=openfl_display__$internal_CairoGraphics,openfl_display__$internal_CairoGraphics.__name__="openfl.display._internal.CairoGraphics",openfl_display__$internal_CairoGraphics.hitTest=function(e,t,a){return!1},openfl_display__$internal_CairoGraphics.render=function(e,t){},openfl_display__$internal_CairoGraphics.renderMask=function(e,t){};var openfl_display__$internal_CairoShape=function(){};$hxClasses["openfl.display._internal.CairoShape"]=openfl_display__$internal_CairoShape,openfl_display__$internal_CairoShape.__name__="openfl.display._internal.CairoShape",openfl_display__$internal_CairoShape.render=function(e,t){},openfl_display__$internal_CairoShape.renderDrawable=function(e,t){},openfl_display__$internal_CairoShape.renderDrawableMask=function(e,t){};var openfl_display__$internal_CairoSimpleButton=function(){};$hxClasses["openfl.display._internal.CairoSimpleButton"]=openfl_display__$internal_CairoSimpleButton,openfl_display__$internal_CairoSimpleButton.__name__="openfl.display._internal.CairoSimpleButton",openfl_display__$internal_CairoSimpleButton.renderDrawable=function(e,t){!e.__renderable||e.__worldAlpha<=0||null==e.__currentState||(t.__pushMaskObject(e),t.__renderDrawable(e.__currentState),t.__popMaskObject(e),t.__renderEvent(e))},openfl_display__$internal_CairoSimpleButton.renderDrawableMask=function(e,t){t.__renderDrawableMask(e.__currentState)};var openfl_display__$internal_CairoTextField=function(){};$hxClasses["openfl.display._internal.CairoTextField"]=openfl_display__$internal_CairoTextField,openfl_display__$internal_CairoTextField.__name__="openfl.display._internal.CairoTextField",openfl_display__$internal_CairoTextField.render=function(e,t,a){},openfl_display__$internal_CairoTextField.renderDrawable=function(e,t){},openfl_display__$internal_CairoTextField.renderDrawableMask=function(e,t){};var openfl_display__$internal_CairoTilemap=function(){};$hxClasses["openfl.display._internal.CairoTilemap"]=openfl_display__$internal_CairoTilemap,openfl_display__$internal_CairoTilemap.__name__="openfl.display._internal.CairoTilemap",openfl_display__$internal_CairoTilemap.render=function(e,t){if(e.__renderable&&0!=e.__group.__tiles.length){var a=t.__getAlpha(e.__worldAlpha);if(!(a<=0)){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.__width,e.__height),t.__pushMaskRect(n,e.__renderTransform),openfl_display__$internal_CairoTilemap.renderTileContainer(e.__group,t,e.__renderTransform,e.__tileset,t.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,a,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,null,n,new lime_math_Matrix3),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}}},openfl_display__$internal_CairoTilemap.renderTileContainer=function(e,t,a,n,i,s,_,r,o,l,h,u,p,c){for(var d,f,m,g,x,k,y=t.cairo,b=openfl_geom_Matrix.__pool.get(),v=e.__tiles,P=null,w=0;w<v.length;){var T=v[w];if(++w,b.setTo(1,0,0,1,-T.get_originX(),-T.get_originY()),b.concat(T.get_matrix()),b.concat(a),d=null!=T.get_tileset()?T.get_tileset():n,f=T.get_alpha()*_,T.get_visible()&&!(f<=0))if(s||(f=1),r&&(P=null!=T.__blendMode?T.__blendMode:o),T.__length>0)openfl_display__$internal_CairoTilemap.renderTileContainer(T,t,b,d,i,s,f,r,P,l,h,u,p,c);else{if(null==d)continue;if(-1==(m=T.get_id())){if(null==(x=T.__rect)||x.width<=0||x.height<=0)continue}else{if(null==(g=d.__data[m]))continue;p.setTo(g.x,g.y,g.width,g.height),x=p}if(null==(k=d.__bitmapData))continue;k!=l&&(h=k.getSurface(),u=lime_graphics_cairo_CairoPattern.createForSurface(h),lime_graphics_cairo_CairoPattern.set_filter(u,i?1:3),y.set_source(u),l=k),r&&t.__setBlendMode(P),t.applyMatrix(b,y),c.tx=x.x,c.ty=x.y,lime_graphics_cairo_CairoPattern.set_matrix(u,c),y.set_source(u),y.save(),y.newPath(),y.rectangle(0,0,x.width,x.height),y.clip(),1==f?y.paint():y.paintWithAlpha(f),y.restore()}}openfl_geom_Matrix.__pool.release(b)},openfl_display__$internal_CairoTilemap.renderDrawable=function(e,t){},openfl_display__$internal_CairoTilemap.renderDrawableMask=function(e,t){};var openfl_display__$internal_CanvasBitmap=function(){};$hxClasses["openfl.display._internal.CanvasBitmap"]=openfl_display__$internal_CanvasBitmap,openfl_display__$internal_CanvasBitmap.__name__="openfl.display._internal.CanvasBitmap",openfl_display__$internal_CanvasBitmap.render=function(e,t){if(e.__renderable){var a=t.__getAlpha(e.__worldAlpha);if(a>0&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable){var n=t.context;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e.__bitmapData.image),n.globalAlpha=a;var i=e.__scrollRect;t.setTransform(e.__renderTransform,n),t.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),null==i?n.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):n.drawImage(e.__bitmapData.image.get_src(),i.x,i.y,i.width,i.height,i.x,i.y,i.width,i.height),t.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),t.__popMaskObject(e,!1)}}},openfl_display__$internal_CanvasBitmap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null!=e.__bitmapData&&null!=e.__bitmapData.image&&(e.__imageVersion=e.__bitmapData.image.version),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(null!=e.opaqueBackground||null!=e.__graphics)if(e.__renderable)if(!((E=t.__getAlpha(e.__worldAlpha))<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);M=t.context;t.setTransform(e.__renderTransform,M);var a=e.opaqueBackground;M.fillStyle="rgb("+(a>>>16&255)+","+(a>>>8&255)+","+(255&a)+")",M.fillRect(0,0,e.get_width(),e.get_height()),t.__popMaskObject(e)}if(null!=e.__graphics)if(e.__renderable)if(!((E=t.__getAlpha(e.__worldAlpha))<=0)){var n=e.__graphics;if(null!=n){openfl_display__$internal_CanvasGraphics.render(n,t);var i=n.__width,s=n.__height,_=n.__canvas;if(null!=_&&n.__visible&&i>=1&&s>=1){var r=n.__worldTransform,o=(M=t.context,R=e.__scrollRect,e.__worldScale9Grid);if(null==R||R.width>0&&R.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),M.globalAlpha=E,null!=o&&0==r.b&&0==r.c){M.setTransform(1,0,0,1,r.tx,r.ty);var l=n.__bounds,h=n.__renderTransform.a,u=n.__renderTransform.d,p=r.a,c=r.d,d=Math.max(1,Math.round(o.x*h)),f=Math.round(o.y*u),m=Math.max(1,Math.round((l.get_right()-o.get_right())*h)),g=Math.round((l.get_bottom()-o.get_bottom())*u),x=Math.round(o.width*h),k=Math.round(o.height*u),y=Math.round(o.x*p),b=Math.round(o.y*c),v=Math.round((l.get_right()-o.get_right())*p),P=Math.round((l.get_bottom()-o.get_bottom())*c),w=Math.round(i*p)-y-v,T=Math.round(s*c)-b-P;if(t.applySmoothing(M,!1),0!=x&&0!=k)M.drawImage(_,0,0,d,f,0,0,y,b),M.drawImage(_,d,0,x,f,y,0,w,b),M.drawImage(_,d+x,0,m,f,y+w,0,v,b),M.drawImage(_,0,f,d,k,0,b,y,T),M.drawImage(_,d,f,x,k,y,b,w,T),M.drawImage(_,d+x,f,m,k,y+w,b,v,T),M.drawImage(_,0,f+k,d,g,0,b+T,y,P),M.drawImage(_,d,f+k,x,g,y,b+T,w,P),M.drawImage(_,d+x,f+k,m,g,y+w,b+T,v,P);else if(0==x&&0!=k){var C=y+w+v;M.drawImage(_,0,0,i,f,0,0,C,b),M.drawImage(_,0,f,i,k,0,b,C,T),M.drawImage(_,0,f+k,i,g,0,b+T,C,P)}else if(0==k&&0!=x){var S=b+T+P;M.drawImage(_,0,0,d,s,0,0,y,S),M.drawImage(_,d,0,x,s,y,0,w,S),M.drawImage(_,d+x,0,m,s,y+w,0,v,S)}}else{if(t.setTransform(r,M),t.__isDOM){var A=1/t.pixelRatio;M.scale(A,A)}M.drawImage(_,0,0,i,s)}t.__popMaskObject(e)}}}}}if(e.__renderable)if((E=t.__getAlpha(e.__worldAlpha))>0&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable){M=t.context;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e.__bitmapData.image),M.globalAlpha=E;R=e.__scrollRect;t.setTransform(e.__renderTransform,M),t.__allowSmoothing&&e.smoothing||(M.imageSmoothingEnabled=!1),null==R?M.drawImage(e.__bitmapData.image.get_src(),0,0,e.__bitmapData.image.width,e.__bitmapData.image.height):M.drawImage(e.__bitmapData.image.get_src(),R.x,R.y,R.width,R.height,R.x,R.y,R.width,R.height),t.__allowSmoothing&&e.smoothing||(M.imageSmoothingEnabled=!0),t.__popMaskObject(e,!1)}}else{var E,D=e.__cacheBitmap;if(D.__renderable)if((E=t.__getAlpha(D.__worldAlpha))>0&&null!=D.__bitmapData&&D.__bitmapData.__isValid&&D.__bitmapData.readable){var M=t.context;t.__setBlendMode(D.__worldBlendMode),t.__pushMaskObject(D,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(D.__bitmapData.image),M.globalAlpha=E;var R=D.__scrollRect;t.setTransform(D.__renderTransform,M),t.__allowSmoothing&&D.smoothing||(M.imageSmoothingEnabled=!1),null==R?M.drawImage(D.__bitmapData.image.get_src(),0,0,D.__bitmapData.image.width,D.__bitmapData.image.height):M.drawImage(D.__bitmapData.image.get_src(),R.x,R.y,R.width,R.height,R.x,R.y,R.width,R.height),t.__allowSmoothing&&D.smoothing||(M.imageSmoothingEnabled=!0),t.__popMaskObject(D,!1)}}t.__renderEvent(e)},openfl_display__$internal_CanvasBitmap.renderDrawableMask=function(e,t){t.context.rect(0,0,e.get_width(),e.get_height())};var openfl_display__$internal_CanvasBitmapData=function(){};$hxClasses["openfl.display._internal.CanvasBitmapData"]=openfl_display__$internal_CanvasBitmapData,openfl_display__$internal_CanvasBitmapData.__name__="openfl.display._internal.CanvasBitmapData",openfl_display__$internal_CanvasBitmapData.renderDrawable=function(e,t){if(e.readable){var a=e.image;a.type==lime_graphics_ImageType.DATA&&lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(a);var n=t.context;n.globalAlpha=1,t.setTransform(e.__renderTransform,n),n.drawImage(a.get_src(),0,0,a.width,a.height)}},openfl_display__$internal_CanvasBitmapData.renderDrawableMask=function(e,t){};var openfl_display__$internal_CanvasDisplayObject=function(){};$hxClasses["openfl.display._internal.CanvasDisplayObject"]=openfl_display__$internal_CanvasDisplayObject,openfl_display__$internal_CanvasDisplayObject.__name__="openfl.display._internal.CanvasDisplayObject",openfl_display__$internal_CanvasDisplayObject.render=function(e,t){if((null!=e.opaqueBackground||null!=e.__graphics)&&(e.__renderable&&!((i=t.__getAlpha(e.__worldAlpha))<=0))){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.context;t.setTransform(e.__renderTransform,a);var n=e.opaqueBackground;a.fillStyle="rgb("+(n>>>16&255)+","+(n>>>8&255)+","+(255&n)+")",a.fillRect(0,0,e.get_width(),e.get_height()),t.__popMaskObject(e)}var i;if(null!=e.__graphics)if(e.__renderable)if(!((i=t.__getAlpha(e.__worldAlpha))<=0)){var s=e.__graphics;if(null!=s){openfl_display__$internal_CanvasGraphics.render(s,t);var _=s.__width,r=s.__height,o=s.__canvas;if(null!=o&&s.__visible&&_>=1&&r>=1){var l=s.__worldTransform,h=(a=t.context,e.__scrollRect),u=e.__worldScale9Grid;if(null==h||h.width>0&&h.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),a.globalAlpha=i,null!=u&&0==l.b&&0==l.c){a.setTransform(1,0,0,1,l.tx,l.ty);var p=s.__bounds,c=s.__renderTransform.a,d=s.__renderTransform.d,f=l.a,m=l.d,g=Math.max(1,Math.round(u.x*c)),x=Math.round(u.y*d),k=Math.max(1,Math.round((p.get_right()-u.get_right())*c)),y=Math.round((p.get_bottom()-u.get_bottom())*d),b=Math.round(u.width*c),v=Math.round(u.height*d),P=Math.round(u.x*f),w=Math.round(u.y*m),T=Math.round((p.get_right()-u.get_right())*f),C=Math.round((p.get_bottom()-u.get_bottom())*m),S=Math.round(_*f)-P-T,A=Math.round(r*m)-w-C;if(t.applySmoothing(a,!1),0!=b&&0!=v)a.drawImage(o,0,0,g,x,0,0,P,w),a.drawImage(o,g,0,b,x,P,0,S,w),a.drawImage(o,g+b,0,k,x,P+S,0,T,w),a.drawImage(o,0,x,g,v,0,w,P,A),a.drawImage(o,g,x,b,v,P,w,S,A),a.drawImage(o,g+b,x,k,v,P+S,w,T,A),a.drawImage(o,0,x+v,g,y,0,w+A,P,C),a.drawImage(o,g,x+v,b,y,P,w+A,S,C),a.drawImage(o,g+b,x+v,k,y,P+S,w+A,T,C);else if(0==b&&0!=v){var E=P+S+T;a.drawImage(o,0,0,_,x,0,0,E,w),a.drawImage(o,0,x,_,v,0,w,E,A),a.drawImage(o,0,x+v,_,y,0,w+A,E,C)}else if(0==v&&0!=b){var D=w+A+C;a.drawImage(o,0,0,g,r,0,0,P,D),a.drawImage(o,g,0,b,r,P,0,S,D),a.drawImage(o,g+b,0,k,r,P+S,0,T,D)}}else{if(t.setTransform(l,a),t.__isDOM){var M=1/t.pixelRatio;a.scale(M,M)}a.drawImage(o,0,0,_,r)}t.__popMaskObject(e)}}}}}},openfl_display__$internal_CanvasDisplayObject.renderDrawable=function(e,t){if(null==e.get_mask()||e.get_mask().get_width()>0&&e.get_mask().get_height()>0)if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(null!=e.opaqueBackground||null!=e.__graphics){if(e.__renderable)if(!((E=t.__getAlpha(e.__worldAlpha))<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);M=t.context;t.setTransform(e.__renderTransform,M);var a=e.opaqueBackground;M.fillStyle="rgb("+(a>>>16&255)+","+(a>>>8&255)+","+(255&a)+")",M.fillRect(0,0,e.get_width(),e.get_height()),t.__popMaskObject(e)}if(null!=e.__graphics)if(e.__renderable)if(!((E=t.__getAlpha(e.__worldAlpha))<=0)){var n=e.__graphics;if(null!=n){openfl_display__$internal_CanvasGraphics.render(n,t);var i=n.__width,s=n.__height,_=n.__canvas;if(null!=_&&n.__visible&&i>=1&&s>=1){var r=n.__worldTransform,o=(M=t.context,R=e.__scrollRect,e.__worldScale9Grid);if(null==R||R.width>0&&R.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),M.globalAlpha=E,null!=o&&0==r.b&&0==r.c){M.setTransform(1,0,0,1,r.tx,r.ty);var l=n.__bounds,h=n.__renderTransform.a,u=n.__renderTransform.d,p=r.a,c=r.d,d=Math.max(1,Math.round(o.x*h)),f=Math.round(o.y*u),m=Math.max(1,Math.round((l.get_right()-o.get_right())*h)),g=Math.round((l.get_bottom()-o.get_bottom())*u),x=Math.round(o.width*h),k=Math.round(o.height*u),y=Math.round(o.x*p),b=Math.round(o.y*c),v=Math.round((l.get_right()-o.get_right())*p),P=Math.round((l.get_bottom()-o.get_bottom())*c),w=Math.round(i*p)-y-v,T=Math.round(s*c)-b-P;if(t.applySmoothing(M,!1),0!=x&&0!=k)M.drawImage(_,0,0,d,f,0,0,y,b),M.drawImage(_,d,0,x,f,y,0,w,b),M.drawImage(_,d+x,0,m,f,y+w,0,v,b),M.drawImage(_,0,f,d,k,0,b,y,T),M.drawImage(_,d,f,x,k,y,b,w,T),M.drawImage(_,d+x,f,m,k,y+w,b,v,T),M.drawImage(_,0,f+k,d,g,0,b+T,y,P),M.drawImage(_,d,f+k,x,g,y,b+T,w,P),M.drawImage(_,d+x,f+k,m,g,y+w,b+T,v,P);else if(0==x&&0!=k){var C=y+w+v;M.drawImage(_,0,0,i,f,0,0,C,b),M.drawImage(_,0,f,i,k,0,b,C,T),M.drawImage(_,0,f+k,i,g,0,b+T,C,P)}else if(0==k&&0!=x){var S=b+T+P;M.drawImage(_,0,0,d,s,0,0,y,S),M.drawImage(_,d,0,x,s,y,0,w,S),M.drawImage(_,d+x,0,m,s,y+w,0,v,S)}}else{if(t.setTransform(r,M),t.__isDOM){var A=1/t.pixelRatio;M.scale(A,A)}M.drawImage(_,0,0,i,s)}t.__popMaskObject(e)}}}}}}}else{var E,D=e.__cacheBitmap;if(D.__renderable)if((E=t.__getAlpha(D.__worldAlpha))>0&&null!=D.__bitmapData&&D.__bitmapData.__isValid&&D.__bitmapData.readable){var M=t.context;t.__setBlendMode(D.__worldBlendMode),t.__pushMaskObject(D,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(D.__bitmapData.image),M.globalAlpha=E;var R=D.__scrollRect;t.setTransform(D.__renderTransform,M),t.__allowSmoothing&&D.smoothing||(M.imageSmoothingEnabled=!1),null==R?M.drawImage(D.__bitmapData.image.get_src(),0,0,D.__bitmapData.image.width,D.__bitmapData.image.height):M.drawImage(D.__bitmapData.image.get_src(),R.x,R.y,R.width,R.height,R.x,R.y,R.width,R.height),t.__allowSmoothing&&D.smoothing||(M.imageSmoothingEnabled=!0),t.__popMaskObject(D,!1)}}t.__renderEvent(e)},openfl_display__$internal_CanvasDisplayObject.renderDrawableMask=function(e,t){null!=e.__graphics&&openfl_display__$internal_CanvasGraphics.renderMask(e.__graphics,t)};var openfl_display__$internal_CanvasDisplayObjectContainer=function(){};$hxClasses["openfl.display._internal.CanvasDisplayObjectContainer"]=openfl_display__$internal_CanvasDisplayObjectContainer,openfl_display__$internal_CanvasDisplayObjectContainer.__name__="openfl.display._internal.CanvasDisplayObjectContainer",openfl_display__$internal_CanvasDisplayObjectContainer.renderDrawable=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){var n=a.next();null==n.stage&&n.__cleanup()}if(e.__removedChildren.set_length(0),!(!e.__renderable||e.__worldAlpha<=0||null!=e.get_mask()&&(e.get_mask().get_width()<=0||e.get_mask().get_height()<=0))&&(openfl_display__$internal_CanvasDisplayObject.renderDrawable(e,t),null==e.__cacheBitmap||e.__isCacheBitmapRender)){if(t.__pushMaskObject(e),null!=t.__stage){for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawable(_),_.__renderDirty=!1}e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;){_=s[i];++i,t.__renderDrawable(_)}t.__popMaskObject(e)}},openfl_display__$internal_CanvasDisplayObjectContainer.renderDrawableMask=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){var n=a.next();null==n.stage&&n.__cleanup()}e.__removedChildren.set_length(0),null!=e.__graphics&&openfl_display__$internal_CanvasGraphics.renderMask(e.__graphics,t);for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawableMask(_)}};var openfl_display__$internal_DrawCommandBuffer=function(){null==openfl_display__$internal_DrawCommandBuffer.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};$hxClasses["openfl.display._internal.DrawCommandBuffer"]=openfl_display__$internal_DrawCommandBuffer,openfl_display__$internal_DrawCommandBuffer.__name__="openfl.display._internal.DrawCommandBuffer",openfl_display__$internal_DrawCommandBuffer.prototype={append:function(e){if(0==this.get_length())return this.types=e.types,this.b=e.b,this.i=e.i,this.f=e.f,this.o=e.o,this.ff=e.ff,this.ii=e.ii,this.copyOnWrite=e.copyOnWrite=!0,e;for(var t=new openfl_display__$internal_DrawCommandReader(e),a=0,n=e.types;a<n.length;){var i=n[a];switch(++a,i._hx_index){case 0:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var s=t;this.beginBitmapFill(s.buffer.o[s.oPos],s.buffer.o[s.oPos+1],s.buffer.b[s.bPos],s.buffer.b[s.bPos+1]);break;case 1:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var _=t;this.beginFill(_.buffer.i[_.iPos],_.buffer.f[_.fPos]);break;case 2:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;var r=t;this.beginGradientFill(r.buffer.o[r.oPos],r.buffer.ii[r.iiPos],r.buffer.ff[r.ffPos],r.buffer.ii[r.iiPos+1],r.buffer.o[r.oPos+1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.f[r.fPos]);break;case 3:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var o=t;this.beginShaderFill(o.buffer.o[o.oPos]);break;case 4:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var l=t;this.cubicCurveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.f[l.fPos+5]);break;case 5:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var h=t;this.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 6:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var u=t;this.drawCircle(u.buffer.f[u.fPos],u.buffer.f[u.fPos+1],u.buffer.f[u.fPos+2]);break;case 7:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var p=t;this.drawEllipse(p.buffer.f[p.fPos],p.buffer.f[p.fPos+1],p.buffer.f[p.fPos+2],p.buffer.f[p.fPos+3]);break;case 8:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;var c=t;this.drawQuads(c.buffer.o[c.oPos],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2]);break;case 9:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var d=t;this.drawRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 10:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var f=t;this.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 12:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;var m=t;this.drawTriangles(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3]);break;case 13:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.END_FILL;this.endFill();break;case 14:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;var g=t;this.lineBitmapStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 15:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;var x=t;this.lineGradientStyle(x.buffer.o[x.oPos],x.buffer.ii[x.iiPos],x.buffer.ff[x.ffPos],x.buffer.ii[x.iiPos+1],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.f[x.fPos]);break;case 16:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;var k=t;this.lineStyle(k.buffer.o[k.oPos],k.buffer.i[k.iPos],k.buffer.f[k.fPos],k.buffer.b[k.bPos],k.buffer.o[k.oPos+1],k.buffer.o[k.oPos+2],k.buffer.o[k.oPos+3],k.buffer.f[k.fPos+1]);break;case 17:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var y=t;this.lineTo(y.buffer.f[y.fPos],y.buffer.f[y.fPos+1]);break;case 18:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var b=t;this.moveTo(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1]);break;case 20:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.OVERRIDE_MATRIX;var v=t;this.overrideMatrix(v.buffer.o[v.oPos]);break;case 21:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.WINDING_EVEN_ODD;this.windingEvenOdd();break;case 22:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=openfl_display__$internal_DrawCommandType.WINDING_NON_ZERO;this.windingNonZero()}}return t.destroy(),e},beginBitmapFill:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL),this.o.push(e),this.o.push(t),this.b.push(a),this.b.push(n)},beginFill:function(e,t){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.BEGIN_FILL),this.i.push(e),this.f.push(t)},beginGradientFill:function(e,t,a,n,i,s,_,r){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL),this.o.push(e),this.ii.push(t),this.ff.push(a),this.ii.push(n),this.o.push(i),this.o.push(s),this.o.push(_),this.f.push(r)},beginShaderFill:function(e){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL),this.o.push(e)},clear:function(){this.types=openfl_display__$internal_DrawCommandBuffer.empty.types,this.b=openfl_display__$internal_DrawCommandBuffer.empty.b,this.i=openfl_display__$internal_DrawCommandBuffer.empty.i,this.f=openfl_display__$internal_DrawCommandBuffer.empty.f,this.o=openfl_display__$internal_DrawCommandBuffer.empty.o,this.ff=openfl_display__$internal_DrawCommandBuffer.empty.ff,this.ii=openfl_display__$internal_DrawCommandBuffer.empty.ii,this.copyOnWrite=!0},copy:function(){var e=new openfl_display__$internal_DrawCommandBuffer;return e.append(this),e},cubicCurveTo:function(e,t,a,n,i,s){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO),this.f.push(e),this.f.push(t),this.f.push(a),this.f.push(n),this.f.push(i),this.f.push(s)},curveTo:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.CURVE_TO),this.f.push(e),this.f.push(t),this.f.push(a),this.f.push(n)},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.f=null,this.o=null,this.ff=null,this.ii=null},drawCircle:function(e,t,a){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_CIRCLE),this.f.push(e),this.f.push(t),this.f.push(a)},drawEllipse:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE),this.f.push(e),this.f.push(t),this.f.push(a),this.f.push(n)},drawQuads:function(e,t,a){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_QUADS),this.o.push(e),this.o.push(t),this.o.push(a)},drawRect:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_RECT),this.f.push(e),this.f.push(t),this.f.push(a),this.f.push(n)},drawRoundRect:function(e,t,a,n,i,s){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT),this.f.push(e),this.f.push(t),this.f.push(a),this.f.push(n),this.f.push(i),this.o.push(s)},drawTriangles:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES),this.o.push(e),this.o.push(t),this.o.push(a),this.o.push(n)},endFill:function(){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.END_FILL)},lineBitmapStyle:function(e,t,a,n){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE),this.o.push(e),this.o.push(t),this.b.push(a),this.b.push(n)},lineGradientStyle:function(e,t,a,n,i,s,_,r){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE),this.o.push(e),this.ii.push(t),this.ff.push(a),this.ii.push(n),this.o.push(i),this.o.push(s),this.o.push(_),this.f.push(r)},lineStyle:function(e,t,a,n,i,s,_,r){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.LINE_STYLE),this.o.push(e),this.i.push(t),this.f.push(a),this.b.push(n),this.o.push(i),this.o.push(s),this.o.push(_),this.f.push(r)},lineTo:function(e,t){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.LINE_TO),this.f.push(e),this.f.push(t)},moveTo:function(e,t){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.MOVE_TO),this.f.push(e),this.f.push(t)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideBlendMode:function(e){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.OVERRIDE_BLEND_MODE),this.o.push(e)},overrideMatrix:function(e){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.OVERRIDE_MATRIX),this.o.push(e)},windingEvenOdd:function(){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.WINDING_EVEN_ODD)},windingNonZero:function(){this.prepareWrite(),this.types.push(openfl_display__$internal_DrawCommandType.WINDING_NON_ZERO)},get_length:function(){return this.types.length},__class__:openfl_display__$internal_DrawCommandBuffer,__properties__:{get_length:"get_length"}};var openfl_display__$internal_CanvasGraphics=function(){};$hxClasses["openfl.display._internal.CanvasGraphics"]=openfl_display__$internal_CanvasGraphics,openfl_display__$internal_CanvasGraphics.__name__="openfl.display._internal.CanvasGraphics",openfl_display__$internal_CanvasGraphics.closePath=function(e){null==e&&(e=!1),null!=openfl_display__$internal_CanvasGraphics.context.strokeStyle&&(e||openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.context.stroke(),e&&openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.context.beginPath())},openfl_display__$internal_CanvasGraphics.createBitmapFill=function(e,t,a){return lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e.image),openfl_display__$internal_CanvasGraphics.setSmoothing(a),openfl_display__$internal_CanvasGraphics.context.createPattern(e.image.get_src(),t?"repeat":"no-repeat")},openfl_display__$internal_CanvasGraphics.createGradientPattern=function(e,t,a,n,i,s,_,r){var o,l,h,u,p,c,d=null,f=!1;switch(null==i&&((i=openfl_geom_Matrix.__pool.get()).identity(),f=!0),e){case 0:d=openfl_display__$internal_CanvasGraphics.context.createLinearGradient(-819.2,0,819.2,0),openfl_display__$internal_CanvasGraphics.pendingMatrix=i.clone(),openfl_display__$internal_CanvasGraphics.inversePendingMatrix=i.clone(),openfl_display__$internal_CanvasGraphics.inversePendingMatrix.invert();break;case 1:r>1?r=1:r<-1&&(r=-1),d=openfl_display__$internal_CanvasGraphics.context.createRadialGradient(819.2*r,0,0,0,0,819.2),openfl_display__$internal_CanvasGraphics.pendingMatrix=i.clone(),openfl_display__$internal_CanvasGraphics.inversePendingMatrix=i.clone(),openfl_display__$internal_CanvasGraphics.inversePendingMatrix.invert()}for(var m=0,g=t.length;m<g;){var x=m++;o=t[x],l=a[x],h=(16711680&o)>>>16,u=(65280&o)>>>8,p=255&o,(c=n[x]/255)<0&&(c=0),c>1&&(c=1),d.addColorStop(c,"rgba("+h+", "+u+", "+p+", "+l+")")}return f&&openfl_geom_Matrix.__pool.release(i),d},openfl_display__$internal_CanvasGraphics.createTempPatternCanvas=function(e,t,a,n){var i=window.document.createElement("canvas"),s=i.getContext("2d");i.width=a,i.height=n;var _=e.image.get_src();return s.fillStyle=s.createPattern(_,t?"repeat":"no-repeat"),s.beginPath(),s.moveTo(0,0),s.lineTo(0,n),s.lineTo(a,n),s.lineTo(a,0),s.lineTo(0,0),s.closePath(),openfl_display__$internal_CanvasGraphics.hitTesting||s.fill(openfl_display__$internal_CanvasGraphics.windingRule),i},openfl_display__$internal_CanvasGraphics.drawRoundRect=function(e,t,a,n,i,s){null==s&&(s=i),(i*=.5)>a/2&&(i=a/2),(s*=.5)>n/2&&(s=n/2);var _=e+a,r=t+n,o=.7071067811865476*i-i,l=.41421356237309503*i-i,h=.7071067811865476*s-s,u=.41421356237309503*s-s;openfl_display__$internal_CanvasGraphics.context.moveTo(_,r-s),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(_,r+u,_+o,r+h),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(_+l,r,_-i,r),openfl_display__$internal_CanvasGraphics.context.lineTo(e+i,r),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(e-l,r,e-o,r+h),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(e,r+u,e,r-s),openfl_display__$internal_CanvasGraphics.context.lineTo(e,t+s),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(e,t-u,e-o,t-h),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(e-l,t,e+i,t),openfl_display__$internal_CanvasGraphics.context.lineTo(_-i,t),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(_+l,t,_+o,t-h),openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(_,t-u,_,t+s),openfl_display__$internal_CanvasGraphics.context.lineTo(_,r-s)},openfl_display__$internal_CanvasGraphics.endFill=function(){openfl_display__$internal_CanvasGraphics.context.beginPath(),openfl_display__$internal_CanvasGraphics.playCommands(openfl_display__$internal_CanvasGraphics.fillCommands,!1),openfl_display__$internal_CanvasGraphics.fillCommands.clear()},openfl_display__$internal_CanvasGraphics.endStroke=function(){openfl_display__$internal_CanvasGraphics.context.beginPath(),openfl_display__$internal_CanvasGraphics.playCommands(openfl_display__$internal_CanvasGraphics.strokeCommands,!0),openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.strokeCommands.clear()},openfl_display__$internal_CanvasGraphics.hitTest=function(e,t,a){if(openfl_display__$internal_CanvasGraphics.bounds=e.__bounds,openfl_display__$internal_CanvasGraphics.graphics=e,0==e.__commands.get_length()||null==openfl_display__$internal_CanvasGraphics.bounds||openfl_display__$internal_CanvasGraphics.bounds.width<=0||openfl_display__$internal_CanvasGraphics.bounds.height<=0)return!1;openfl_display__$internal_CanvasGraphics.hitTesting=!0;var n=e.__renderTransform,i=t*n.a+a*n.c+n.tx,s=t*n.b+a*n.d+n.ty;t=i,a=s,t-=openfl_display__$internal_CanvasGraphics.bounds.x*n.a+openfl_display__$internal_CanvasGraphics.bounds.y*n.c+n.tx,a-=openfl_display__$internal_CanvasGraphics.bounds.x*n.b+openfl_display__$internal_CanvasGraphics.bounds.y*n.d+n.ty;var _=e.__canvas,r=e.__context;e.__canvas=openfl_display__$internal_CanvasGraphics.hitTestCanvas,e.__context=openfl_display__$internal_CanvasGraphics.hitTestContext,openfl_display__$internal_CanvasGraphics.context=e.__context,openfl_display__$internal_CanvasGraphics.context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),openfl_display__$internal_CanvasGraphics.fillCommands.clear(),openfl_display__$internal_CanvasGraphics.strokeCommands.clear(),openfl_display__$internal_CanvasGraphics.hasFill=!1,openfl_display__$internal_CanvasGraphics.hasStroke=!1,openfl_display__$internal_CanvasGraphics.bitmapFill=null,openfl_display__$internal_CanvasGraphics.bitmapRepeat=!1,openfl_display__$internal_CanvasGraphics.windingRule="evenodd";for(var o=new openfl_display__$internal_DrawCommandReader(e.__commands),l=0,h=e.__commands.types;l<h.length;){var u=h[l];switch(++l,u._hx_index){case 0:case 1:case 2:case 3:if(openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.hasFill&&openfl_display__$internal_CanvasGraphics.context.isPointInPath(t,a,openfl_display__$internal_CanvasGraphics.windingRule))return o.destroy(),e.__canvas=_,e.__context=r,!0;if(openfl_display__$internal_CanvasGraphics.endStroke(),openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.context.isPointInStroke(t,a))return o.destroy(),e.__canvas=_,e.__context=r,!0;if(u==openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL){switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var p=o;openfl_display__$internal_CanvasGraphics.fillCommands.beginBitmapFill(p.buffer.o[p.oPos],p.buffer.o[p.oPos+1],p.buffer.b[p.bPos],p.buffer.b[p.bPos+1]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginBitmapFill(p.buffer.o[p.oPos],p.buffer.o[p.oPos+1],p.buffer.b[p.bPos],p.buffer.b[p.bPos+1])}else if(u==openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL){switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;var c=o;openfl_display__$internal_CanvasGraphics.fillCommands.beginGradientFill(c.buffer.o[c.oPos],c.buffer.ii[c.iiPos],c.buffer.ff[c.ffPos],c.buffer.ii[c.iiPos+1],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2],c.buffer.o[c.oPos+3],c.buffer.f[c.fPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginGradientFill(c.buffer.o[c.oPos],c.buffer.ii[c.iiPos],c.buffer.ff[c.ffPos],c.buffer.ii[c.iiPos+1],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2],c.buffer.o[c.oPos+3],c.buffer.f[c.fPos])}else if(u==openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL){switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var d=o;openfl_display__$internal_CanvasGraphics.fillCommands.beginShaderFill(d.buffer.o[d.oPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginShaderFill(d.buffer.o[d.oPos])}else{switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var f=o;openfl_display__$internal_CanvasGraphics.fillCommands.beginFill(f.buffer.i[f.iPos],1),openfl_display__$internal_CanvasGraphics.strokeCommands.beginFill(f.buffer.i[f.iPos],1)}break;case 4:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var m=o;openfl_display__$internal_CanvasGraphics.fillCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5]),openfl_display__$internal_CanvasGraphics.strokeCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5]);break;case 5:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var g=o;openfl_display__$internal_CanvasGraphics.fillCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]),openfl_display__$internal_CanvasGraphics.strokeCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 6:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var x=o;openfl_display__$internal_CanvasGraphics.fillCommands.drawCircle(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2]),openfl_display__$internal_CanvasGraphics.strokeCommands.drawCircle(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2]);break;case 7:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var k=o;openfl_display__$internal_CanvasGraphics.fillCommands.drawEllipse(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]),openfl_display__$internal_CanvasGraphics.strokeCommands.drawEllipse(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 9:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var y=o;openfl_display__$internal_CanvasGraphics.fillCommands.drawRect(y.buffer.f[y.fPos],y.buffer.f[y.fPos+1],y.buffer.f[y.fPos+2],y.buffer.f[y.fPos+3]),openfl_display__$internal_CanvasGraphics.strokeCommands.drawRect(y.buffer.f[y.fPos],y.buffer.f[y.fPos+1],y.buffer.f[y.fPos+2],y.buffer.f[y.fPos+3]);break;case 10:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var b=o;openfl_display__$internal_CanvasGraphics.fillCommands.drawRoundRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3],b.buffer.f[b.fPos+4],b.buffer.o[b.oPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.drawRoundRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3],b.buffer.f[b.fPos+4],b.buffer.o[b.oPos]);break;case 13:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.END_FILL;if(openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.hasFill&&openfl_display__$internal_CanvasGraphics.context.isPointInPath(t,a,openfl_display__$internal_CanvasGraphics.windingRule))return o.destroy(),e.__canvas=_,e.__context=r,!0;if(openfl_display__$internal_CanvasGraphics.endStroke(),openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.context.isPointInStroke(t,a))return o.destroy(),e.__canvas=_,e.__context=r,!0;openfl_display__$internal_CanvasGraphics.hasFill=!1,openfl_display__$internal_CanvasGraphics.bitmapFill=null;break;case 14:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;var v=o;openfl_display__$internal_CanvasGraphics.strokeCommands.lineBitmapStyle(v.buffer.o[v.oPos],v.buffer.o[v.oPos+1],v.buffer.b[v.bPos],v.buffer.b[v.bPos+1]);break;case 15:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;var P=o;openfl_display__$internal_CanvasGraphics.strokeCommands.lineGradientStyle(P.buffer.o[P.oPos],P.buffer.ii[P.iiPos],P.buffer.ff[P.ffPos],P.buffer.ii[P.iiPos+1],P.buffer.o[P.oPos+1],P.buffer.o[P.oPos+2],P.buffer.o[P.oPos+3],P.buffer.f[P.fPos]);break;case 16:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;var w=o;openfl_display__$internal_CanvasGraphics.strokeCommands.lineStyle(w.buffer.o[w.oPos],w.buffer.i[w.iPos],1,w.buffer.b[w.bPos],w.buffer.o[w.oPos+1],w.buffer.o[w.oPos+2],w.buffer.o[w.oPos+3],w.buffer.f[w.fPos+1]);break;case 17:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var T=o;openfl_display__$internal_CanvasGraphics.fillCommands.lineTo(T.buffer.f[T.fPos],T.buffer.f[T.fPos+1]),openfl_display__$internal_CanvasGraphics.strokeCommands.lineTo(T.buffer.f[T.fPos],T.buffer.f[T.fPos+1]);break;case 18:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var C=o;openfl_display__$internal_CanvasGraphics.fillCommands.moveTo(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1]),openfl_display__$internal_CanvasGraphics.strokeCommands.moveTo(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1]);break;case 21:openfl_display__$internal_CanvasGraphics.windingRule="evenodd";break;case 22:openfl_display__$internal_CanvasGraphics.windingRule="nonzero";break;default:switch(o.prev._hx_index){case 0:o.oPos+=2,o.bPos+=2;break;case 1:o.iPos+=1,o.fPos+=1;break;case 2:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 3:o.oPos+=1;break;case 4:o.fPos+=6;break;case 5:o.fPos+=4;break;case 6:o.fPos+=3;break;case 7:o.fPos+=4;break;case 8:o.oPos+=3;break;case 9:o.fPos+=4;break;case 10:o.fPos+=5,o.oPos+=1;break;case 12:o.oPos+=4;break;case 13:break;case 14:o.oPos+=2,o.bPos+=2;break;case 15:o.oPos+=4,o.iiPos+=2,o.ffPos+=1,o.fPos+=1;break;case 16:o.oPos+=4,o.iPos+=1,o.fPos+=2,o.bPos+=1;break;case 17:case 18:o.fPos+=2;break;case 19:case 20:o.oPos+=1}o.prev=u}}var S=!1;return openfl_display__$internal_CanvasGraphics.fillCommands.get_length()>0&&openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.hasFill&&openfl_display__$internal_CanvasGraphics.context.isPointInPath(t,a,openfl_display__$internal_CanvasGraphics.windingRule)&&(S=!0),openfl_display__$internal_CanvasGraphics.strokeCommands.get_length()>0&&openfl_display__$internal_CanvasGraphics.endStroke(),openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.context.isPointInStroke(t,a)&&(S=!0),o.destroy(),e.__canvas=_,e.__context=r,S},openfl_display__$internal_CanvasGraphics.isCCW=function(e,t,a,n,i,s){return(a-e)*(s-t)-(n-t)*(i-e)<0},openfl_display__$internal_CanvasGraphics.normalizeUVT=function(e,t){null==t&&(t=!1);for(var a=-1/0,n=-1/0,i=e.get_length(),s=1,_=i+1;s<_;){var r=s++;t&&r%3==0||a<(n=e.get(r-1))&&(a=n)}if(!t)return{max:a,uvt:e};var o=openfl_Vector.toFloatVector(null);for(s=1,_=i+1;s<_;){r=s++;t&&r%3==0||o.push(e.get(r-1))}return{max:a,uvt:o}},openfl_display__$internal_CanvasGraphics.playCommands=function(e,t){null==t&&(t=!1),openfl_display__$internal_CanvasGraphics.bounds=openfl_display__$internal_CanvasGraphics.graphics.__bounds;var a=openfl_display__$internal_CanvasGraphics.bounds.x,n=openfl_display__$internal_CanvasGraphics.bounds.y,i=0,s=0,_=!1,r=0,o=0,l=!1;openfl_display__$internal_CanvasGraphics.windingRule="evenodd",openfl_display__$internal_CanvasGraphics.setSmoothing(!0);var h,u,p,c,d,f,m,g,x,k,y,b,v,P,w,T,C,S,A,E=!1,D=new openfl_display__$internal_DrawCommandReader(e),M=null,R=null,L=0,I=e.types;e:for(;L<I.length;){var $=I[L];switch(++L,$._hx_index){case 0:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var B=D;openfl_display__$internal_CanvasGraphics.bitmapFill=B.buffer.o[B.oPos],openfl_display__$internal_CanvasGraphics.context.fillStyle=openfl_display__$internal_CanvasGraphics.createBitmapFill(B.buffer.o[B.oPos],B.buffer.b[B.bPos],B.buffer.b[B.bPos+1]),openfl_display__$internal_CanvasGraphics.hasFill=!0,null!=B.buffer.o[B.oPos+1]?(openfl_display__$internal_CanvasGraphics.pendingMatrix=B.buffer.o[B.oPos+1],openfl_display__$internal_CanvasGraphics.inversePendingMatrix=B.buffer.o[B.oPos+1].clone(),openfl_display__$internal_CanvasGraphics.inversePendingMatrix.invert()):(openfl_display__$internal_CanvasGraphics.pendingMatrix=null,openfl_display__$internal_CanvasGraphics.inversePendingMatrix=null);break;case 1:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var O=D;if(O.buffer.f[O.fPos]<.005)openfl_display__$internal_CanvasGraphics.hasFill=!1;else{if(1==O.buffer.f[O.fPos]){var G=StringTools.hex(16777215&O.buffer.i[O.iPos],6);openfl_display__$internal_CanvasGraphics.context.fillStyle="#"+G}else y=(16711680&O.buffer.i[O.iPos])>>>16,b=(65280&O.buffer.i[O.iPos])>>>8,v=255&O.buffer.i[O.iPos],openfl_display__$internal_CanvasGraphics.context.fillStyle="rgba("+y+", "+b+", "+v+", "+O.buffer.f[O.fPos]+")";openfl_display__$internal_CanvasGraphics.bitmapFill=null,openfl_display__$internal_CanvasGraphics.setSmoothing(!0),openfl_display__$internal_CanvasGraphics.hasFill=!0}break;case 2:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;var F=D;openfl_display__$internal_CanvasGraphics.context.fillStyle=openfl_display__$internal_CanvasGraphics.createGradientPattern(F.buffer.o[F.oPos],F.buffer.ii[F.iiPos],F.buffer.ff[F.ffPos],F.buffer.ii[F.iiPos+1],F.buffer.o[F.oPos+1],F.buffer.o[F.oPos+2],F.buffer.o[F.oPos+3],F.buffer.f[F.fPos]),openfl_display__$internal_CanvasGraphics.bitmapFill=null,openfl_display__$internal_CanvasGraphics.setSmoothing(!0),openfl_display__$internal_CanvasGraphics.hasFill=!0;break;case 3:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var N=D,H=N.buffer.o[N.oPos];H.inputCount>0&&(openfl_display__$internal_CanvasGraphics.bitmapFill=H.inputs[0],openfl_display__$internal_CanvasGraphics.context.fillStyle=openfl_display__$internal_CanvasGraphics.createBitmapFill(openfl_display__$internal_CanvasGraphics.bitmapFill,0!=H.inputWrap[0],5!=H.inputFilter[0]),openfl_display__$internal_CanvasGraphics.hasFill=!0,openfl_display__$internal_CanvasGraphics.pendingMatrix=null,openfl_display__$internal_CanvasGraphics.inversePendingMatrix=null);break;case 4:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var U=D;E=!0,openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(U.buffer.f[U.fPos]-a,U.buffer.f[U.fPos+1]-n,U.buffer.f[U.fPos+2]-a,U.buffer.f[U.fPos+3]-n,U.buffer.f[U.fPos+4]-a,U.buffer.f[U.fPos+5]-n);break;case 5:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var X=D;E=!0,openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(X.buffer.f[X.fPos]-a,X.buffer.f[X.fPos+1]-n,X.buffer.f[X.fPos+2]-a,X.buffer.f[X.fPos+3]-n);break;case 6:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var V=D;E=!0,openfl_display__$internal_CanvasGraphics.context.moveTo(V.buffer.f[V.fPos]-a+V.buffer.f[V.fPos+2],V.buffer.f[V.fPos+1]-n),openfl_display__$internal_CanvasGraphics.context.arc(V.buffer.f[V.fPos]-a,V.buffer.f[V.fPos+1]-n,V.buffer.f[V.fPos+2],0,2*Math.PI,!0);break;case 7:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var j=D;E=!0,h=j.buffer.f[j.fPos],u=j.buffer.f[j.fPos+1],d=(p=j.buffer.f[j.fPos+2])/2*.5522848,f=(c=j.buffer.f[j.fPos+3])/2*.5522848,m=(h-=a)+p,g=(u-=n)+c,x=h+p/2,k=u+c/2,openfl_display__$internal_CanvasGraphics.context.moveTo(h,k),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(h,k-f,x-d,u,x,u),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(x+d,u,m,k-f,m,k),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(m,k+f,x+d,g,x,g),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(x-d,g,h,k+f,h,k);break;case 8:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;var z=D,W=z.buffer.o[z.oPos],Y=z.buffer.o[z.oPos+1],K=z.buffer.o[z.oPos+2],q=null!=Y,J=!1,Z=!1,Q=q?Y.get_length():Math.floor(W.get_length()/4);if(0==Q)return;null!=K&&(K.get_length()>=6*Q?(J=!0,Z=!0):K.get_length()>=4*Q?J=!0:K.get_length()>=2*Q&&(Z=!0));var ee,te,ae=openfl_geom_Rectangle.__pool.get(),ne=openfl_geom_Matrix.__pool.get(),ie=openfl_display__$internal_CanvasGraphics.graphics.__renderTransform;openfl_display__$internal_CanvasGraphics.worldAlpha;openfl_display__$internal_CanvasGraphics.context.save();for(var se=0,_e=Q;se<_e;){var re=se++;(ee=q?4*Y.get(re):4*re)<0||(ae.setTo(W.get(ee),W.get(ee+1),W.get(ee+2),W.get(ee+3)),ae.width<=0||ae.height<=0||(J&&Z?(te=6*re,ne.setTo(K.get(te),K.get(te+1),K.get(te+2),K.get(te+3),K.get(te+4),K.get(te+5))):J?(te=4*re,ne.setTo(K.get(te),K.get(te+1),K.get(te+2),K.get(te+3),ae.x,ae.y)):Z?(te=2*re,ne.tx=K.get(te),ne.ty=K.get(te+1)):(ne.tx=ae.x,ne.ty=ae.y),ne.tx+=i-a,ne.ty+=s-n,ne.concat(ie),openfl_display__$internal_CanvasGraphics.context.setTransform(ne.a,ne.b,ne.c,ne.d,ne.tx,ne.ty),null!=openfl_display__$internal_CanvasGraphics.bitmapFill?openfl_display__$internal_CanvasGraphics.context.drawImage(openfl_display__$internal_CanvasGraphics.bitmapFill.image.get_src(),ae.x,ae.y,ae.width,ae.height,0,0,ae.width,ae.height):openfl_display__$internal_CanvasGraphics.context.fillRect(0,0,ae.width,ae.height)))}openfl_geom_Rectangle.__pool.release(ae),openfl_geom_Matrix.__pool.release(ne),openfl_display__$internal_CanvasGraphics.context.restore();break;case 9:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var oe=D;if(P=!1,null!=openfl_display__$internal_CanvasGraphics.bitmapFill&&!openfl_display__$internal_CanvasGraphics.hitTesting){if(T=0,C=0,S=0,A=0,w=!0,null!=openfl_display__$internal_CanvasGraphics.pendingMatrix)if(0!=openfl_display__$internal_CanvasGraphics.pendingMatrix.b||0!=openfl_display__$internal_CanvasGraphics.pendingMatrix.c)w=!1;else{null==M&&(M=openfl_geom_Point.__pool.get()),null==R&&(R=openfl_geom_Point.__pool.get()),M.setTo(oe.buffer.f[oe.fPos],oe.buffer.f[oe.fPos+1]);var le=openfl_display__$internal_CanvasGraphics.inversePendingMatrix,he=M.x,ue=M.y;M.x=he*le.a+ue*le.c+le.tx,M.y=he*le.b+ue*le.d+le.ty,R.setTo(oe.buffer.f[oe.fPos]+oe.buffer.f[oe.fPos+2],oe.buffer.f[oe.fPos+1]+oe.buffer.f[oe.fPos+3]);var pe=openfl_display__$internal_CanvasGraphics.inversePendingMatrix,ce=R.x,de=R.y;R.x=ce*pe.a+de*pe.c+pe.tx,R.y=ce*pe.b+de*pe.d+pe.ty,T=M.y,A=M.x,S=R.y,C=R.x}else T=oe.buffer.f[oe.fPos+1],A=oe.buffer.f[oe.fPos],S=oe.buffer.f[oe.fPos+1]+oe.buffer.f[oe.fPos+3],C=oe.buffer.f[oe.fPos]+oe.buffer.f[oe.fPos+2];w&&T>=0&&A>=0&&C<=openfl_display__$internal_CanvasGraphics.bitmapFill.width&&S<=openfl_display__$internal_CanvasGraphics.bitmapFill.height&&(P=!0,openfl_display__$internal_CanvasGraphics.hitTesting||openfl_display__$internal_CanvasGraphics.context.drawImage(openfl_display__$internal_CanvasGraphics.bitmapFill.image.get_src(),A,T,C-A,S-T,oe.buffer.f[oe.fPos]-a,oe.buffer.f[oe.fPos+1]-n,oe.buffer.f[oe.fPos+2],oe.buffer.f[oe.fPos+3]))}P||(E=!0,openfl_display__$internal_CanvasGraphics.context.rect(oe.buffer.f[oe.fPos]-a,oe.buffer.f[oe.fPos+1]-n,oe.buffer.f[oe.fPos+2],oe.buffer.f[oe.fPos+3]));break;case 10:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var fe=D;E=!0,openfl_display__$internal_CanvasGraphics.drawRoundRect(fe.buffer.f[fe.fPos]-a,fe.buffer.f[fe.fPos+1]-n,fe.buffer.f[fe.fPos+2],fe.buffer.f[fe.fPos+3],fe.buffer.f[fe.fPos+4],fe.buffer.o[fe.oPos]);break;case 12:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;var me=D,ge=me.buffer.o[me.oPos],xe=me.buffer.o[me.oPos+1],ke=me.buffer.o[me.oPos+2],ye=null,be=null==openfl_display__$internal_CanvasGraphics.bitmapFill;if(be&&null!=ke)break e;if(!be){if(null==ke){ke=openfl_Vector.toFloatVector(null);for(var ve=0,Pe=ge.get_length()/2|0;ve<Pe;){var we=ve++;ke.push(ge.get(2*we)-a/openfl_display__$internal_CanvasGraphics.bitmapFill.width),ke.push(ge.get(2*we+1)-n/openfl_display__$internal_CanvasGraphics.bitmapFill.height)}}var Te=ke.get_length()!=ge.get_length(),Ce=openfl_display__$internal_CanvasGraphics.normalizeUVT(ke,Te),Se=Ce.max;ke=Ce.uvt,ye=Se>1?openfl_display__$internal_CanvasGraphics.createTempPatternCanvas(openfl_display__$internal_CanvasGraphics.bitmapFill,openfl_display__$internal_CanvasGraphics.bitmapRepeat,0|openfl_display__$internal_CanvasGraphics.bounds.width,0|openfl_display__$internal_CanvasGraphics.bounds.height):openfl_display__$internal_CanvasGraphics.createTempPatternCanvas(openfl_display__$internal_CanvasGraphics.bitmapFill,openfl_display__$internal_CanvasGraphics.bitmapRepeat,openfl_display__$internal_CanvasGraphics.bitmapFill.width,openfl_display__$internal_CanvasGraphics.bitmapFill.height)}for(var Ae,Ee,De,Me,Re,Le,Ie,$e,Be,Oe,Ge,Fe,Ne,He,Ue,Xe,Ve,je,ze,We,Ye,Ke,qe,Je,Ze,Qe,et,tt,at=0,nt=xe.get_length();at<nt;){switch(Ae=at,Ee=at+1,De=at+2,Me=2*xe.get(Ae),Re=2*xe.get(Ae)+1,Le=2*xe.get(Ee),Ie=2*xe.get(Ee)+1,$e=2*xe.get(De),Be=2*xe.get(De)+1,Oe=ge.get(Me)-a,Ge=ge.get(Re)-n,Fe=ge.get(Le)-a,Ne=ge.get(Ie)-n,He=ge.get($e)-a,Ue=ge.get(Be)-n,me.buffer.o[me.oPos+3]){case 0:if((Fe-Oe)*(Ue-Ge)-(Ne-Ge)*(He-Oe)<0){at+=3;continue}break;case 2:if(!((Fe-Oe)*(Ue-Ge)-(Ne-Ge)*(He-Oe)<0)){at+=3;continue}}be?(openfl_display__$internal_CanvasGraphics.context.beginPath(),openfl_display__$internal_CanvasGraphics.context.moveTo(Oe,Ge),openfl_display__$internal_CanvasGraphics.context.lineTo(Fe,Ne),openfl_display__$internal_CanvasGraphics.context.lineTo(He,Ue),openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.hitTesting||openfl_display__$internal_CanvasGraphics.context.fill(openfl_display__$internal_CanvasGraphics.windingRule),at+=3):(Xe=ke.get(Me)*ye.width,je=ke.get(Le)*ye.width,We=ke.get($e)*ye.width,Ve=ke.get(Re)*ye.height,ze=ke.get(Ie)*ye.height,0!=(Ke=Xe*((Ye=ke.get(Be)*ye.height)-ze)-je*Ye+We*ze+(je-We)*Ve)?(openfl_display__$internal_CanvasGraphics.context.save(),openfl_display__$internal_CanvasGraphics.context.beginPath(),openfl_display__$internal_CanvasGraphics.context.moveTo(Oe,Ge),openfl_display__$internal_CanvasGraphics.context.lineTo(Fe,Ne),openfl_display__$internal_CanvasGraphics.context.lineTo(He,Ue),openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.context.clip(),qe=-(Ve*(He-Fe)-ze*He+Ye*Fe+(ze-Ye)*Oe)/Ke,Je=(ze*Ue+Ve*(Ne-Ue)-Ye*Ne+(Ye-ze)*Ge)/Ke,Ze=(Xe*(He-Fe)-je*He+We*Fe+(je-We)*Oe)/Ke,Qe=-(je*Ue+Xe*(Ne-Ue)-We*Ne+(We-je)*Ge)/Ke,et=(Xe*(Ye*Fe-ze*He)+Ve*(je*He-We*Fe)+(We*ze-je*Ye)*Oe)/Ke,tt=(Xe*(Ye*Ne-ze*Ue)+Ve*(je*Ue-We*Ne)+(We*ze-je*Ye)*Ge)/Ke,openfl_display__$internal_CanvasGraphics.context.transform(qe,Je,Ze,Qe,et,tt),openfl_display__$internal_CanvasGraphics.context.drawImage(ye,0,0,ye.width,ye.height),openfl_display__$internal_CanvasGraphics.context.restore(),at+=3):(at+=3,openfl_display__$internal_CanvasGraphics.context.restore()))}break;case 14:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;var it=D;t&&openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.closePath(),openfl_display__$internal_CanvasGraphics.context.moveTo(i-a,s-n),openfl_display__$internal_CanvasGraphics.context.strokeStyle=openfl_display__$internal_CanvasGraphics.createBitmapFill(it.buffer.o[it.oPos],it.buffer.b[it.bPos],it.buffer.b[it.bPos+1]),openfl_display__$internal_CanvasGraphics.hasStroke=!0;break;case 15:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;var st=D;t&&openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.closePath(),openfl_display__$internal_CanvasGraphics.context.moveTo(i-a,s-n),openfl_display__$internal_CanvasGraphics.context.strokeStyle=openfl_display__$internal_CanvasGraphics.createGradientPattern(st.buffer.o[st.oPos],st.buffer.ii[st.iiPos],st.buffer.ff[st.ffPos],st.buffer.ii[st.iiPos+1],st.buffer.o[st.oPos+1],st.buffer.o[st.oPos+2],st.buffer.o[st.oPos+3],st.buffer.f[st.fPos]),openfl_display__$internal_CanvasGraphics.setSmoothing(!0),openfl_display__$internal_CanvasGraphics.hasStroke=!0;break;case 16:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;var _t=D;if(t&&openfl_display__$internal_CanvasGraphics.hasStroke&&openfl_display__$internal_CanvasGraphics.closePath(!0),openfl_display__$internal_CanvasGraphics.context.moveTo(i-a,s-n),null==_t.buffer.o[_t.oPos])openfl_display__$internal_CanvasGraphics.hasStroke=!1;else{openfl_display__$internal_CanvasGraphics.context.lineWidth=_t.buffer.o[_t.oPos]>0?_t.buffer.o[_t.oPos]:1;var rt=null==_t.buffer.o[_t.oPos+3]?"round":openfl_display_JointStyle.toString(_t.buffer.o[_t.oPos+3]).toLowerCase();openfl_display__$internal_CanvasGraphics.context.lineJoin=rt;var ot=null==_t.buffer.o[_t.oPos+2]?"round":0==_t.buffer.o[_t.oPos+2]?"butt":openfl_display_CapsStyle.toString(_t.buffer.o[_t.oPos+2]).toLowerCase();if(openfl_display__$internal_CanvasGraphics.context.lineCap=ot,openfl_display__$internal_CanvasGraphics.context.miterLimit=_t.buffer.f[_t.fPos+1],1==_t.buffer.f[_t.fPos]){var lt=StringTools.hex(16777215&_t.buffer.i[_t.iPos],6);openfl_display__$internal_CanvasGraphics.context.strokeStyle="#"+lt}else y=(16711680&_t.buffer.i[_t.iPos])>>>16,b=(65280&_t.buffer.i[_t.iPos])>>>8,v=255&_t.buffer.i[_t.iPos],openfl_display__$internal_CanvasGraphics.context.strokeStyle="rgba("+y+", "+b+", "+v+", "+_t.buffer.f[_t.fPos]+")";openfl_display__$internal_CanvasGraphics.setSmoothing(!0),openfl_display__$internal_CanvasGraphics.hasStroke=!0}break;case 17:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var ht=D;E=!0,openfl_display__$internal_CanvasGraphics.context.lineTo(ht.buffer.f[ht.fPos]-a,ht.buffer.f[ht.fPos+1]-n),i=ht.buffer.f[ht.fPos],s=ht.buffer.f[ht.fPos+1],i==r&&s==o&&(_=!0);break;case 18:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var ut=D;openfl_display__$internal_CanvasGraphics.context.moveTo(ut.buffer.f[ut.fPos]-a,ut.buffer.f[ut.fPos+1]-n),i=ut.buffer.f[ut.fPos],s=ut.buffer.f[ut.fPos+1],l&&ut.buffer.f[ut.fPos]!=r&&ut.buffer.f[ut.fPos+1]!=o&&(_=!0),r=ut.buffer.f[ut.fPos],o=ut.buffer.f[ut.fPos+1],l=!0;break;case 21:openfl_display__$internal_CanvasGraphics.windingRule="evenodd";break;case 22:openfl_display__$internal_CanvasGraphics.windingRule="nonzero";break;default:switch(D.prev._hx_index){case 0:D.oPos+=2,D.bPos+=2;break;case 1:D.iPos+=1,D.fPos+=1;break;case 2:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 3:D.oPos+=1;break;case 4:D.fPos+=6;break;case 5:D.fPos+=4;break;case 6:D.fPos+=3;break;case 7:D.fPos+=4;break;case 8:D.oPos+=3;break;case 9:D.fPos+=4;break;case 10:D.fPos+=5,D.oPos+=1;break;case 12:D.oPos+=4;break;case 13:break;case 14:D.oPos+=2,D.bPos+=2;break;case 15:D.oPos+=4,D.iiPos+=2,D.ffPos+=1,D.fPos+=1;break;case 16:D.oPos+=4,D.iPos+=1,D.fPos+=2,D.bPos+=1;break;case 17:case 18:D.fPos+=2;break;case 19:case 20:D.oPos+=1}D.prev=$}}null!=M&&openfl_geom_Point.__pool.release(M),null!=R&&openfl_geom_Point.__pool.release(R),D.destroy(),E&&(t&&openfl_display__$internal_CanvasGraphics.hasStroke&&(openfl_display__$internal_CanvasGraphics.hasFill?(i==r&&s==o||(openfl_display__$internal_CanvasGraphics.context.lineTo(r-a,o-n),_=!0),_&&openfl_display__$internal_CanvasGraphics.closePath(!0)):_&&i==r&&s==o&&openfl_display__$internal_CanvasGraphics.closePath(!0),openfl_display__$internal_CanvasGraphics.hitTesting||openfl_display__$internal_CanvasGraphics.context.stroke()),t||(openfl_display__$internal_CanvasGraphics.hasFill||null!=openfl_display__$internal_CanvasGraphics.bitmapFill)&&(openfl_display__$internal_CanvasGraphics.context.translate(-openfl_display__$internal_CanvasGraphics.bounds.x,-openfl_display__$internal_CanvasGraphics.bounds.y),null!=openfl_display__$internal_CanvasGraphics.pendingMatrix?(openfl_display__$internal_CanvasGraphics.context.transform(openfl_display__$internal_CanvasGraphics.pendingMatrix.a,openfl_display__$internal_CanvasGraphics.pendingMatrix.b,openfl_display__$internal_CanvasGraphics.pendingMatrix.c,openfl_display__$internal_CanvasGraphics.pendingMatrix.d,openfl_display__$internal_CanvasGraphics.pendingMatrix.tx,openfl_display__$internal_CanvasGraphics.pendingMatrix.ty),openfl_display__$internal_CanvasGraphics.hitTesting||openfl_display__$internal_CanvasGraphics.context.fill(openfl_display__$internal_CanvasGraphics.windingRule),openfl_display__$internal_CanvasGraphics.context.transform(openfl_display__$internal_CanvasGraphics.inversePendingMatrix.a,openfl_display__$internal_CanvasGraphics.inversePendingMatrix.b,openfl_display__$internal_CanvasGraphics.inversePendingMatrix.c,openfl_display__$internal_CanvasGraphics.inversePendingMatrix.d,openfl_display__$internal_CanvasGraphics.inversePendingMatrix.tx,openfl_display__$internal_CanvasGraphics.inversePendingMatrix.ty)):openfl_display__$internal_CanvasGraphics.hitTesting||openfl_display__$internal_CanvasGraphics.context.fill(openfl_display__$internal_CanvasGraphics.windingRule),openfl_display__$internal_CanvasGraphics.context.translate(openfl_display__$internal_CanvasGraphics.bounds.x,openfl_display__$internal_CanvasGraphics.bounds.y),openfl_display__$internal_CanvasGraphics.context.closePath()))},openfl_display__$internal_CanvasGraphics.render=function(e,t){if(e.__update(t.__worldTransform),e.__softwareDirty){openfl_display__$internal_CanvasGraphics.hitTesting=!1,openfl_display__$internal_CanvasGraphics.graphics=e,openfl_display__$internal_CanvasGraphics.allowSmoothing=t.__allowSmoothing,openfl_display__$internal_CanvasGraphics.worldAlpha=t.__getAlpha(e.__owner.__worldAlpha),openfl_display__$internal_CanvasGraphics.bounds=e.__bounds;var a=e.__width,n=e.__height;if(!e.__visible||0==e.__commands.get_length()||null==openfl_display__$internal_CanvasGraphics.bounds||a<1||n<1)e.__canvas=null,e.__context=null,e.__bitmap=null;else{null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d")),openfl_display__$internal_CanvasGraphics.context=e.__context;var i=e.__renderTransform,s=e.__canvas,_=t.pixelRatio,r=a*_|0,o=n*_|0;if(t.__setBlendModeContext(openfl_display__$internal_CanvasGraphics.context,10),t.__isDOM){s.width==r&&s.height==o?openfl_display__$internal_CanvasGraphics.context.clearRect(0,0,r,o):(s.width=r,s.height=o,s.style.width=a+"px",s.style.height=n+"px");var l=e.__renderTransform;openfl_display__$internal_CanvasGraphics.context.setTransform(l.a*_,l.b*_,l.c*_,l.d*_,l.tx*_,l.ty*_)}else s.width==r&&s.height==o?(openfl_display__$internal_CanvasGraphics.context.closePath(),openfl_display__$internal_CanvasGraphics.context.setTransform(1,0,0,1,0,0),openfl_display__$internal_CanvasGraphics.context.clearRect(0,0,r,o)):(s.width=a,s.height=n),openfl_display__$internal_CanvasGraphics.context.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);openfl_display__$internal_CanvasGraphics.fillCommands.clear(),openfl_display__$internal_CanvasGraphics.strokeCommands.clear(),openfl_display__$internal_CanvasGraphics.hasFill=!1,openfl_display__$internal_CanvasGraphics.hasStroke=!1,openfl_display__$internal_CanvasGraphics.bitmapFill=null,openfl_display__$internal_CanvasGraphics.bitmapRepeat=!1;var h=!1,u=0,p=0;openfl_display__$internal_CanvasGraphics.windingRule="evenodd";for(var c=new openfl_display__$internal_DrawCommandReader(e.__commands),d=0,f=e.__commands.types;d<f.length;){var m=f[d];switch(++d,m._hx_index){case 0:case 1:case 2:case 3:if(openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.endStroke(),m==openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL){switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var g=c;openfl_display__$internal_CanvasGraphics.fillCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1])}else if(m==openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL){switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;var x=c;openfl_display__$internal_CanvasGraphics.fillCommands.beginGradientFill(x.buffer.o[x.oPos],x.buffer.ii[x.iiPos],x.buffer.ff[x.ffPos],x.buffer.ii[x.iiPos+1],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.f[x.fPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginGradientFill(x.buffer.o[x.oPos],x.buffer.ii[x.iiPos],x.buffer.ff[x.ffPos],x.buffer.ii[x.iiPos+1],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.f[x.fPos])}else if(m==openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL){switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var k=c;openfl_display__$internal_CanvasGraphics.fillCommands.beginShaderFill(k.buffer.o[k.oPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginShaderFill(k.buffer.o[k.oPos])}else{switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var y=c;openfl_display__$internal_CanvasGraphics.fillCommands.beginFill(y.buffer.i[y.iPos],y.buffer.f[y.fPos]),openfl_display__$internal_CanvasGraphics.strokeCommands.beginFill(y.buffer.i[y.iPos],y.buffer.f[y.fPos])}break;case 4:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var b=c;openfl_display__$internal_CanvasGraphics.fillCommands.cubicCurveTo(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3],b.buffer.f[b.fPos+4],b.buffer.f[b.fPos+5]),h?openfl_display__$internal_CanvasGraphics.strokeCommands.cubicCurveTo(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3],b.buffer.f[b.fPos+4],b.buffer.f[b.fPos+5]):(u=b.buffer.f[b.fPos+4],p=b.buffer.f[b.fPos+5]);break;case 5:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var v=c;openfl_display__$internal_CanvasGraphics.fillCommands.curveTo(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]),h?openfl_display__$internal_CanvasGraphics.strokeCommands.curveTo(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]):(u=v.buffer.f[v.fPos+2],p=v.buffer.f[v.fPos+3]);break;case 6:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var P=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawCircle(P.buffer.f[P.fPos],P.buffer.f[P.fPos+1],P.buffer.f[P.fPos+2]),h&&openfl_display__$internal_CanvasGraphics.strokeCommands.drawCircle(P.buffer.f[P.fPos],P.buffer.f[P.fPos+1],P.buffer.f[P.fPos+2]);break;case 7:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var w=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawEllipse(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2],w.buffer.f[w.fPos+3]),h&&openfl_display__$internal_CanvasGraphics.strokeCommands.drawEllipse(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2],w.buffer.f[w.fPos+3]);break;case 8:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;var T=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawQuads(T.buffer.o[T.oPos],T.buffer.o[T.oPos+1],T.buffer.o[T.oPos+2]);break;case 9:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var C=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawRect(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1],C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3]),h&&openfl_display__$internal_CanvasGraphics.strokeCommands.drawRect(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1],C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3]);break;case 10:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var S=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawRoundRect(S.buffer.f[S.fPos],S.buffer.f[S.fPos+1],S.buffer.f[S.fPos+2],S.buffer.f[S.fPos+3],S.buffer.f[S.fPos+4],S.buffer.o[S.oPos]),h&&openfl_display__$internal_CanvasGraphics.strokeCommands.drawRoundRect(S.buffer.f[S.fPos],S.buffer.f[S.fPos+1],S.buffer.f[S.fPos+2],S.buffer.f[S.fPos+3],S.buffer.f[S.fPos+4],S.buffer.o[S.oPos]);break;case 12:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;var A=c;openfl_display__$internal_CanvasGraphics.fillCommands.drawTriangles(A.buffer.o[A.oPos],A.buffer.o[A.oPos+1],A.buffer.o[A.oPos+2],A.buffer.o[A.oPos+3]);break;case 13:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.END_FILL;openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.endStroke(),openfl_display__$internal_CanvasGraphics.hasFill=!1,h=!1,openfl_display__$internal_CanvasGraphics.bitmapFill=null,u=0,p=0;break;case 14:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;var E=c;h||0==u&&0==p||(openfl_display__$internal_CanvasGraphics.strokeCommands.moveTo(u,p),u=0,p=0),h=!0,openfl_display__$internal_CanvasGraphics.strokeCommands.lineBitmapStyle(E.buffer.o[E.oPos],E.buffer.o[E.oPos+1],E.buffer.b[E.bPos],E.buffer.b[E.bPos+1]);break;case 15:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;var D=c;h||0==u&&0==p||(openfl_display__$internal_CanvasGraphics.strokeCommands.moveTo(u,p),u=0,p=0),h=!0,openfl_display__$internal_CanvasGraphics.strokeCommands.lineGradientStyle(D.buffer.o[D.oPos],D.buffer.ii[D.iiPos],D.buffer.ff[D.ffPos],D.buffer.ii[D.iiPos+1],D.buffer.o[D.oPos+1],D.buffer.o[D.oPos+2],D.buffer.o[D.oPos+3],D.buffer.f[D.fPos]);break;case 16:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;var M=c;h||null==M.buffer.o[M.oPos]||0==u&&0==p||(openfl_display__$internal_CanvasGraphics.strokeCommands.moveTo(u,p),u=0,p=0),h=null!=M.buffer.o[M.oPos],openfl_display__$internal_CanvasGraphics.strokeCommands.lineStyle(M.buffer.o[M.oPos],M.buffer.i[M.iPos],M.buffer.f[M.fPos],M.buffer.b[M.bPos],M.buffer.o[M.oPos+1],M.buffer.o[M.oPos+2],M.buffer.o[M.oPos+3],M.buffer.f[M.fPos+1]);break;case 17:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var R=c;openfl_display__$internal_CanvasGraphics.fillCommands.lineTo(R.buffer.f[R.fPos],R.buffer.f[R.fPos+1]),h?openfl_display__$internal_CanvasGraphics.strokeCommands.lineTo(R.buffer.f[R.fPos],R.buffer.f[R.fPos+1]):(u=R.buffer.f[R.fPos],p=R.buffer.f[R.fPos+1]);break;case 18:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var L=c;openfl_display__$internal_CanvasGraphics.fillCommands.moveTo(L.buffer.f[L.fPos],L.buffer.f[L.fPos+1]),h?openfl_display__$internal_CanvasGraphics.strokeCommands.moveTo(L.buffer.f[L.fPos],L.buffer.f[L.fPos+1]):(u=L.buffer.f[L.fPos],p=L.buffer.f[L.fPos+1]);break;case 19:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.OVERRIDE_BLEND_MODE;var I=c;t.__setBlendModeContext(openfl_display__$internal_CanvasGraphics.context,I.buffer.o[I.oPos]);break;case 21:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.WINDING_EVEN_ODD;openfl_display__$internal_CanvasGraphics.fillCommands.windingEvenOdd(),openfl_display__$internal_CanvasGraphics.windingRule="evenodd";break;case 22:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=openfl_display__$internal_DrawCommandType.WINDING_NON_ZERO;openfl_display__$internal_CanvasGraphics.fillCommands.windingNonZero(),openfl_display__$internal_CanvasGraphics.windingRule="nonzero";break;default:switch(c.prev._hx_index){case 0:c.oPos+=2,c.bPos+=2;break;case 1:c.iPos+=1,c.fPos+=1;break;case 2:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 3:c.oPos+=1;break;case 4:c.fPos+=6;break;case 5:c.fPos+=4;break;case 6:c.fPos+=3;break;case 7:c.fPos+=4;break;case 8:c.oPos+=3;break;case 9:c.fPos+=4;break;case 10:c.fPos+=5,c.oPos+=1;break;case 12:c.oPos+=4;break;case 13:break;case 14:c.oPos+=2,c.bPos+=2;break;case 15:c.oPos+=4,c.iiPos+=2,c.ffPos+=1,c.fPos+=1;break;case 16:c.oPos+=4,c.iPos+=1,c.fPos+=2,c.bPos+=1;break;case 17:case 18:c.fPos+=2;break;case 19:case 20:c.oPos+=1}c.prev=m}}openfl_display__$internal_CanvasGraphics.fillCommands.get_length()>0&&openfl_display__$internal_CanvasGraphics.endFill(),openfl_display__$internal_CanvasGraphics.strokeCommands.get_length()>0&&openfl_display__$internal_CanvasGraphics.endStroke(),c.destroy(),e.__bitmap=openfl_display_BitmapData.fromCanvas(e.__canvas)}e.__softwareDirty=!1,e.set___dirty(!1)}},openfl_display__$internal_CanvasGraphics.renderMask=function(e,t){if(0!=e.__commands.get_length()){openfl_display__$internal_CanvasGraphics.context=t.context;for(var a,n,i,s,_,r,o,l,h,u,p=new openfl_display__$internal_DrawCommandReader(e.__commands),c=0,d=e.__commands.types;c<d.length;){var f=d[c];switch(++c,f._hx_index){case 4:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;var m=p;openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(m.buffer.f[m.fPos]-0,m.buffer.f[m.fPos+1]-0,m.buffer.f[m.fPos+2]-0,m.buffer.f[m.fPos+3]-0,m.buffer.f[m.fPos+4]-0,m.buffer.f[m.fPos+5]-0),m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5];break;case 5:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;var g=p;openfl_display__$internal_CanvasGraphics.context.quadraticCurveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2]-0,g.buffer.f[g.fPos+3]-0),g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3];break;case 6:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;var x=p;openfl_display__$internal_CanvasGraphics.context.arc(x.buffer.f[x.fPos]-0,x.buffer.f[x.fPos+1]-0,x.buffer.f[x.fPos+2],0,2*Math.PI,!0);break;case 7:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;var k=p;a=k.buffer.f[k.fPos],n=k.buffer.f[k.fPos+1],_=(i=k.buffer.f[k.fPos+2])/2*.5522848,r=(s=k.buffer.f[k.fPos+3])/2*.5522848,o=(a-=0)+i,l=(n-=0)+s,h=a+i/2,u=n+s/2,openfl_display__$internal_CanvasGraphics.context.moveTo(a,u),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(a,u-r,h-_,n,h,n),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(h+_,n,o,u-r,o,u),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(o,u+r,h+_,l,h,l),openfl_display__$internal_CanvasGraphics.context.bezierCurveTo(h-_,l,a,u+r,a,u);break;case 9:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var y=p;openfl_display__$internal_CanvasGraphics.context.beginPath(),openfl_display__$internal_CanvasGraphics.context.rect(y.buffer.f[y.fPos]-0,y.buffer.f[y.fPos+1]-0,y.buffer.f[y.fPos+2],y.buffer.f[y.fPos+3]),openfl_display__$internal_CanvasGraphics.context.closePath();break;case 10:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;var b=p;openfl_display__$internal_CanvasGraphics.drawRoundRect(b.buffer.f[b.fPos]-0,b.buffer.f[b.fPos+1]-0,b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3],b.buffer.f[b.fPos+4],b.buffer.o[b.oPos]);break;case 17:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.LINE_TO;var v=p;openfl_display__$internal_CanvasGraphics.context.lineTo(v.buffer.f[v.fPos]-0,v.buffer.f[v.fPos+1]-0),v.buffer.f[v.fPos],v.buffer.f[v.fPos+1];break;case 18:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var P=p;openfl_display__$internal_CanvasGraphics.context.moveTo(P.buffer.f[P.fPos]-0,P.buffer.f[P.fPos+1]-0),P.buffer.f[P.fPos],P.buffer.f[P.fPos+1];break;default:switch(p.prev._hx_index){case 0:p.oPos+=2,p.bPos+=2;break;case 1:p.iPos+=1,p.fPos+=1;break;case 2:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 3:p.oPos+=1;break;case 4:p.fPos+=6;break;case 5:p.fPos+=4;break;case 6:p.fPos+=3;break;case 7:p.fPos+=4;break;case 8:p.oPos+=3;break;case 9:p.fPos+=4;break;case 10:p.fPos+=5,p.oPos+=1;break;case 12:p.oPos+=4;break;case 13:break;case 14:p.oPos+=2,p.bPos+=2;break;case 15:p.oPos+=4,p.iiPos+=2,p.ffPos+=1,p.fPos+=1;break;case 16:p.oPos+=4,p.iPos+=1,p.fPos+=2,p.bPos+=1;break;case 17:case 18:p.fPos+=2;break;case 19:case 20:p.oPos+=1}p.prev=f}}p.destroy()}},openfl_display__$internal_CanvasGraphics.setSmoothing=function(e){openfl_display__$internal_CanvasGraphics.allowSmoothing||(e=!1),openfl_display__$internal_CanvasGraphics.context.imageSmoothingEnabled!=e&&(openfl_display__$internal_CanvasGraphics.context.imageSmoothingEnabled=e)};var openfl_display__$internal_CanvasShape=function(){};$hxClasses["openfl.display._internal.CanvasShape"]=openfl_display__$internal_CanvasShape,openfl_display__$internal_CanvasShape.__name__="openfl.display._internal.CanvasShape",openfl_display__$internal_CanvasShape.render=function(e,t){if(e.__renderable){var a=t.__getAlpha(e.__worldAlpha);if(!(a<=0)){var n=e.__graphics;if(null!=n){openfl_display__$internal_CanvasGraphics.render(n,t);var i=n.__width,s=n.__height,_=n.__canvas;if(null!=_&&n.__visible&&i>=1&&s>=1){var r=n.__worldTransform,o=t.context,l=e.__scrollRect,h=e.__worldScale9Grid;if(null==l||l.width>0&&l.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),o.globalAlpha=a,null!=h&&0==r.b&&0==r.c){o.setTransform(1,0,0,1,r.tx,r.ty);var u=n.__bounds,p=n.__renderTransform.a,c=n.__renderTransform.d,d=r.a,f=r.d,m=Math.max(1,Math.round(h.x*p)),g=Math.round(h.y*c),x=Math.max(1,Math.round((u.get_right()-h.get_right())*p)),k=Math.round((u.get_bottom()-h.get_bottom())*c),y=Math.round(h.width*p),b=Math.round(h.height*c),v=Math.round(h.x*d),P=Math.round(h.y*f),w=Math.round((u.get_right()-h.get_right())*d),T=Math.round((u.get_bottom()-h.get_bottom())*f),C=Math.round(i*d)-v-w,S=Math.round(s*f)-P-T;if(t.applySmoothing(o,!1),0!=y&&0!=b)o.drawImage(_,0,0,m,g,0,0,v,P),o.drawImage(_,m,0,y,g,v,0,C,P),o.drawImage(_,m+y,0,x,g,v+C,0,w,P),o.drawImage(_,0,g,m,b,0,P,v,S),o.drawImage(_,m,g,y,b,v,P,C,S),o.drawImage(_,m+y,g,x,b,v+C,P,w,S),o.drawImage(_,0,g+b,m,k,0,P+S,v,T),o.drawImage(_,m,g+b,y,k,v,P+S,C,T),o.drawImage(_,m+y,g+b,x,k,v+C,P+S,w,T);else if(0==y&&0!=b){var A=v+C+w;o.drawImage(_,0,0,i,g,0,0,A,P),o.drawImage(_,0,g,i,b,0,P,A,S),o.drawImage(_,0,g+b,i,k,0,P+S,A,T)}else if(0==b&&0!=y){var E=P+S+T;o.drawImage(_,0,0,m,s,0,0,v,E),o.drawImage(_,m,0,y,s,v,0,C,E),o.drawImage(_,m+y,0,x,s,v+C,0,w,E)}}else{if(t.setTransform(r,o),t.__isDOM){var D=1/t.pixelRatio;o.scale(D,D)}o.drawImage(_,0,0,i,s)}t.__popMaskObject(e)}}}}}};var openfl_display__$internal_CanvasSimpleButton=function(){};$hxClasses["openfl.display._internal.CanvasSimpleButton"]=openfl_display__$internal_CanvasSimpleButton,openfl_display__$internal_CanvasSimpleButton.__name__="openfl.display._internal.CanvasSimpleButton",openfl_display__$internal_CanvasSimpleButton.renderDrawable=function(e,t){!e.__renderable||e.__worldAlpha<=0||null==e.__currentState||(t.__pushMaskObject(e),t.__renderDrawable(e.__currentState),t.__popMaskObject(e),t.__renderEvent(e))},openfl_display__$internal_CanvasSimpleButton.renderDrawableMask=function(e,t){t.__renderDrawableMask(e.__currentState)};var openfl_display__$internal_CanvasTextField=function(){};$hxClasses["openfl.display._internal.CanvasTextField"]=openfl_display__$internal_CanvasTextField,openfl_display__$internal_CanvasTextField.__name__="openfl.display._internal.CanvasTextField",openfl_display__$internal_CanvasTextField.render=function(e,t,a){var n=e.__textEngine,i=!(n.background||n.border),s=i?n.textBounds:n.bounds,_=e.__graphics,r=0;if(e.__dirty){if(e.__updateLayout(),null==_.__bounds&&(_.__bounds=new openfl_geom_Rectangle),0==e.get_text().length){var o=n.bounds.width-4,l=e.get_defaultTextFormat().align;switch(r=3==l?0:4==l?o:o/2,l){case 0:r+=e.get_defaultTextFormat().leftMargin/2,r-=e.get_defaultTextFormat().rightMargin/2,r+=e.get_defaultTextFormat().indent/2,r+=e.get_defaultTextFormat().blockIndent/2;break;case 1:break;case 2:case 3:r+=e.get_defaultTextFormat().leftMargin,r+=e.get_defaultTextFormat().indent,r+=e.get_defaultTextFormat().blockIndent;break;case 4:r-=e.get_defaultTextFormat().rightMargin}i&&(s.y=n.bounds.y,s.x=r)}_.__bounds.copyFrom(s)}if(_.__update(t.__worldTransform),e.__dirty||_.__softwareDirty){var h=_.__width,u=_.__height;if((null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus||1==n.type&&n.selectable)&&(!(n.width<=0||n.height<=0)||2==n.autoSize)){null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),openfl_display__$internal_CanvasTextField.context=_.__context;a=_.__renderTransform;if(t.__isDOM){var p=t.pixelRatio;_.__canvas.width=h*p|0,_.__canvas.height=u*p|0,_.__canvas.style.width=h+"px",_.__canvas.style.height=u+"px";var c=openfl_geom_Matrix.__pool.get();c.copyFrom(a),c.scale(p,p),t.setTransform(c,openfl_display__$internal_CanvasTextField.context),openfl_geom_Matrix.__pool.release(c)}else _.__canvas.width=h,_.__canvas.height=u,openfl_display__$internal_CanvasTextField.context.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);if(null==openfl_display__$internal_CanvasTextField.clearRect&&(openfl_display__$internal_CanvasTextField.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),openfl_display__$internal_CanvasTextField.clearRect&&openfl_display__$internal_CanvasTextField.context.clearRect(0,0,_.__canvas.width,_.__canvas.height),null!=n.text&&""!=n.text||n.__hasFocus){var d=n.text;if(!t.__allowSmoothing||0==n.antiAliasType&&400==n.sharpness?_.__context.imageSmoothingEnabled=!1:_.__context.imageSmoothingEnabled=!0,n.border||n.background){if(openfl_display__$internal_CanvasTextField.context.rect(.5,.5,s.width-1,s.height-1),n.background){var f=StringTools.hex(16777215&n.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+f,openfl_display__$internal_CanvasTextField.context.fill()}if(n.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1;f=StringTools.hex(16777215&n.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.stroke()}}openfl_display__$internal_CanvasTextField.context.textBaseline="alphabetic",openfl_display__$internal_CanvasTextField.context.textAlign="start";for(var m,g=-e.get_scrollH(),x=0,k=0,y=e.get_scrollV()-1;k<y;){var b=k++;x-=n.lineHeights.get(b)}for(var v=n.layoutGroups.iterator();v.hasNext();){var P=v.next();if(!(P.lineIndex<e.get_scrollV()-1)){if(P.lineIndex>n.get_bottomScrollV()-1)break;var w="#"+StringTools.hex(16777215&P.format.color,6);if(openfl_display__$internal_CanvasTextField.context.font=openfl_text__$internal_TextEngine.getFont(P.format),openfl_display__$internal_CanvasTextField.context.fillStyle=w,openfl_display__$internal_CanvasTextField.context.fillText(d.substring(P.startIndex,P.endIndex),P.offsetX+g-s.x,P.offsetY+P.ascent+x-s.y),e.__caretIndex>-1&&n.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&P.startIndex<=e.__caretIndex&&P.endIndex>=e.__caretIndex){m=0;for(k=0,y=e.__caretIndex-P.startIndex;k<y;){b=k++;if(P.positions.length<=b)break;m+=P.positions[b]}for(var T=0,C=e.get_scrollV(),S=P.lineIndex+1;C<S;){var A=C++;T+=n.lineHeights.get(A-1)}openfl_display__$internal_CanvasTextField.context.beginPath();f=StringTools.hex(16777215&P.format.color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.moveTo(P.offsetX+m-e.get_scrollH()-s.x,T+2-s.y),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(P.offsetX+m-e.get_scrollH()-s.x,T+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1-s.y),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}else if(P.startIndex<=e.__caretIndex&&P.endIndex>=e.__caretIndex||P.startIndex<=e.__selectionIndex&&P.endIndex>=e.__selectionIndex||P.startIndex>e.__caretIndex&&P.endIndex<e.__selectionIndex||P.startIndex>e.__selectionIndex&&P.endIndex<e.__caretIndex){var E,D=0|Math.min(e.__selectionIndex,e.__caretIndex),M=0|Math.max(e.__selectionIndex,e.__caretIndex);P.startIndex>D&&(D=P.startIndex),P.endIndex<M&&(M=P.endIndex);var R=e.getCharBoundaries(D);M>=P.endIndex?null!=(E=e.getCharBoundaries(P.endIndex-1))&&(E.x+=E.width+2):E=e.getCharBoundaries(M),null!=R&&null!=E&&(openfl_display__$internal_CanvasTextField.context.fillStyle="#000000",openfl_display__$internal_CanvasTextField.context.fillRect(R.x+g-s.x,R.y+x,E.x-R.x,P.height),openfl_display__$internal_CanvasTextField.context.fillStyle="#FFFFFF",openfl_display__$internal_CanvasTextField.context.fillText(d.substring(D,M),g+R.x-s.x,P.offsetY+P.ascent+x))}if(P.format.underline){openfl_display__$internal_CanvasTextField.context.beginPath(),openfl_display__$internal_CanvasTextField.context.strokeStyle=w,openfl_display__$internal_CanvasTextField.context.lineWidth=1;var L=P.offsetX+g-s.x,I=Math.floor(P.offsetY+x+P.ascent-s.y)+.5;openfl_display__$internal_CanvasTextField.context.moveTo(L,I),openfl_display__$internal_CanvasTextField.context.lineTo(L+P.width,I),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}}}else{if(n.border||n.background){if(n.border?openfl_display__$internal_CanvasTextField.context.rect(.5,.5,s.width-1,s.height-1):openfl_display__$internal_CanvasTextField.context.rect(0,0,s.width,s.height),n.background){f=StringTools.hex(16777215&n.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+f,openfl_display__$internal_CanvasTextField.context.fill()}if(n.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineCap="square";f=StringTools.hex(16777215&n.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.stroke()}}if(e.__caretIndex>-1&&n.selectable&&e.__showCursor){for(g=-e.get_scrollH()+(i?0:r),x=0,k=0,y=e.get_scrollV()-1;k<y;){b=k++;x+=n.lineHeights.get(b)}openfl_display__$internal_CanvasTextField.context.beginPath();f=StringTools.hex(16777215&e.get_defaultTextFormat().color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.moveTo(g+2.5,x+2.5),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(g+2.5,x+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}_.__bitmap=openfl_display_BitmapData.fromCanvas(e.__graphics.__canvas),_.__visible=!0,e.__dirty=!1,_.__softwareDirty=!1,_.set___dirty(!1)}else e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1}},openfl_display__$internal_CanvasTextField.renderDrawable=function(e,t){if(t.__isDOM&&!e.__renderedOnCanvasWhileOnDOM&&(e.__renderedOnCanvasWhileOnDOM=!0,1==e.get_type()&&e.replaceText(0,e.__text.length,e.__text),e.__isHTML&&e.__updateText(openfl_text__$internal_HTMLParser.parse(e.__text,e.__textFormat,e.__textEngine.textFormatRanges)),e.__dirty=!0,e.__layoutDirty=!0,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),null==e.get_mask()||e.get_mask().get_width()>0&&e.get_mask().get_height()>0)if(t.__updateCacheBitmap(e,e.__dirty),null==e.__cacheBitmap||e.__isCacheBitmapRender){var a=e.__worldTransform,n=e.__textEngine,i=!(n.background||n.border),s=i?n.textBounds:n.bounds,_=e.__graphics,r=0;if(e.__dirty){if(e.__updateLayout(),null==_.__bounds&&(_.__bounds=new openfl_geom_Rectangle),0==e.get_text().length){var o=n.bounds.width-4,l=e.get_defaultTextFormat().align;switch(r=3==l?0:4==l?o:o/2,l){case 0:r+=e.get_defaultTextFormat().leftMargin/2,r-=e.get_defaultTextFormat().rightMargin/2,r+=e.get_defaultTextFormat().indent/2,r+=e.get_defaultTextFormat().blockIndent/2;break;case 1:break;case 2:case 3:r+=e.get_defaultTextFormat().leftMargin,r+=e.get_defaultTextFormat().indent,r+=e.get_defaultTextFormat().blockIndent;break;case 4:r-=e.get_defaultTextFormat().rightMargin}i&&(s.y=n.bounds.y,s.x=r)}_.__bounds.copyFrom(s)}if(_.__update(t.__worldTransform),e.__dirty||_.__softwareDirty){var h=_.__width,u=_.__height;if((null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus||1==n.type&&n.selectable)&&(!(n.width<=0||n.height<=0)||2==n.autoSize)){null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),openfl_display__$internal_CanvasTextField.context=_.__context;a=_.__renderTransform;if(t.__isDOM){var p=t.pixelRatio;_.__canvas.width=h*p|0,_.__canvas.height=u*p|0,_.__canvas.style.width=h+"px",_.__canvas.style.height=u+"px";var c=openfl_geom_Matrix.__pool.get();c.copyFrom(a),c.scale(p,p),t.setTransform(c,openfl_display__$internal_CanvasTextField.context),openfl_geom_Matrix.__pool.release(c)}else _.__canvas.width=h,_.__canvas.height=u,openfl_display__$internal_CanvasTextField.context.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);if(null==openfl_display__$internal_CanvasTextField.clearRect&&(openfl_display__$internal_CanvasTextField.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),openfl_display__$internal_CanvasTextField.clearRect&&openfl_display__$internal_CanvasTextField.context.clearRect(0,0,_.__canvas.width,_.__canvas.height),null!=n.text&&""!=n.text||n.__hasFocus){var d=n.text;if(!t.__allowSmoothing||0==n.antiAliasType&&400==n.sharpness?_.__context.imageSmoothingEnabled=!1:_.__context.imageSmoothingEnabled=!0,n.border||n.background){if(openfl_display__$internal_CanvasTextField.context.rect(.5,.5,s.width-1,s.height-1),n.background){var f=StringTools.hex(16777215&n.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+f,openfl_display__$internal_CanvasTextField.context.fill()}if(n.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1;f=StringTools.hex(16777215&n.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.stroke()}}openfl_display__$internal_CanvasTextField.context.textBaseline="alphabetic",openfl_display__$internal_CanvasTextField.context.textAlign="start";for(var m,g=-e.get_scrollH(),x=0,k=0,y=e.get_scrollV()-1;k<y;){var b=k++;x-=n.lineHeights.get(b)}for(var v=n.layoutGroups.iterator();v.hasNext();){var P=v.next();if(!(P.lineIndex<e.get_scrollV()-1)){if(P.lineIndex>n.get_bottomScrollV()-1)break;var w="#"+StringTools.hex(16777215&P.format.color,6);if(openfl_display__$internal_CanvasTextField.context.font=openfl_text__$internal_TextEngine.getFont(P.format),openfl_display__$internal_CanvasTextField.context.fillStyle=w,openfl_display__$internal_CanvasTextField.context.fillText(d.substring(P.startIndex,P.endIndex),P.offsetX+g-s.x,P.offsetY+P.ascent+x-s.y),e.__caretIndex>-1&&n.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&P.startIndex<=e.__caretIndex&&P.endIndex>=e.__caretIndex){m=0;for(k=0,y=e.__caretIndex-P.startIndex;k<y;){b=k++;if(P.positions.length<=b)break;m+=P.positions[b]}for(var T=0,C=e.get_scrollV(),S=P.lineIndex+1;C<S;){var A=C++;T+=n.lineHeights.get(A-1)}openfl_display__$internal_CanvasTextField.context.beginPath();f=StringTools.hex(16777215&P.format.color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.moveTo(P.offsetX+m-e.get_scrollH()-s.x,T+2-s.y),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(P.offsetX+m-e.get_scrollH()-s.x,T+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1-s.y),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}else if(P.startIndex<=e.__caretIndex&&P.endIndex>=e.__caretIndex||P.startIndex<=e.__selectionIndex&&P.endIndex>=e.__selectionIndex||P.startIndex>e.__caretIndex&&P.endIndex<e.__selectionIndex||P.startIndex>e.__selectionIndex&&P.endIndex<e.__caretIndex){var E,D=0|Math.min(e.__selectionIndex,e.__caretIndex),M=0|Math.max(e.__selectionIndex,e.__caretIndex);P.startIndex>D&&(D=P.startIndex),P.endIndex<M&&(M=P.endIndex);var R=e.getCharBoundaries(D);M>=P.endIndex?null!=(E=e.getCharBoundaries(P.endIndex-1))&&(E.x+=E.width+2):E=e.getCharBoundaries(M),null!=R&&null!=E&&(openfl_display__$internal_CanvasTextField.context.fillStyle="#000000",openfl_display__$internal_CanvasTextField.context.fillRect(R.x+g-s.x,R.y+x,E.x-R.x,P.height),openfl_display__$internal_CanvasTextField.context.fillStyle="#FFFFFF",openfl_display__$internal_CanvasTextField.context.fillText(d.substring(D,M),g+R.x-s.x,P.offsetY+P.ascent+x))}if(P.format.underline){openfl_display__$internal_CanvasTextField.context.beginPath(),openfl_display__$internal_CanvasTextField.context.strokeStyle=w,openfl_display__$internal_CanvasTextField.context.lineWidth=1;var L=P.offsetX+g-s.x,I=Math.floor(P.offsetY+x+P.ascent-s.y)+.5;openfl_display__$internal_CanvasTextField.context.moveTo(L,I),openfl_display__$internal_CanvasTextField.context.lineTo(L+P.width,I),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}}}else{if(n.border||n.background){if(n.border?openfl_display__$internal_CanvasTextField.context.rect(.5,.5,s.width-1,s.height-1):openfl_display__$internal_CanvasTextField.context.rect(0,0,s.width,s.height),n.background){f=StringTools.hex(16777215&n.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+f,openfl_display__$internal_CanvasTextField.context.fill()}if(n.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineCap="square";f=StringTools.hex(16777215&n.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.stroke()}}if(e.__caretIndex>-1&&n.selectable&&e.__showCursor){for(g=-e.get_scrollH()+(i?0:r),x=0,k=0,y=e.get_scrollV()-1;k<y;){b=k++;x+=n.lineHeights.get(b)}openfl_display__$internal_CanvasTextField.context.beginPath();f=StringTools.hex(16777215&e.get_defaultTextFormat().color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+f,openfl_display__$internal_CanvasTextField.context.moveTo(g+2.5,x+2.5),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(g+2.5,x+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}_.__bitmap=openfl_display_BitmapData.fromCanvas(e.__graphics.__canvas),_.__visible=!0,e.__dirty=!1,_.__softwareDirty=!1,_.set___dirty(!1)}else e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1}var $=!1;if(0==e.__textEngine.antiAliasType&&1==e.__textEngine.gridFitType&&($=t.context.imageSmoothingEnabled)&&(t.context.imageSmoothingEnabled=!1),null!=e.opaqueBackground||null!=e.__graphics)if(e.__renderable)if(!((ne=t.__getAlpha(e.__worldAlpha))<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);se=t.context;t.setTransform(e.__renderTransform,se);w=e.opaqueBackground;se.fillStyle="rgb("+(w>>>16&255)+","+(w>>>8&255)+","+(255&w)+")",se.fillRect(0,0,e.get_width(),e.get_height()),t.__popMaskObject(e)}if(null!=e.__graphics)if(e.__renderable)if(!((ne=t.__getAlpha(e.__worldAlpha))<=0))if(null!=(_=e.__graphics)){openfl_display__$internal_CanvasGraphics.render(_,t);h=_.__width,u=_.__height;var B=_.__canvas;if(null!=B&&_.__visible&&h>=1&&u>=1){a=_.__worldTransform,se=t.context,_e=e.__scrollRect;var O=e.__worldScale9Grid;if(null==_e||_e.width>0&&_e.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),se.globalAlpha=ne,null!=O&&0==a.b&&0==a.c){se.setTransform(1,0,0,1,a.tx,a.ty);s=_.__bounds;var G=_.__renderTransform.a,F=_.__renderTransform.d,N=a.a,H=a.d,U=Math.max(1,Math.round(O.x*G)),X=Math.round(O.y*F),V=Math.max(1,Math.round((s.get_right()-O.get_right())*G)),j=Math.round((s.get_bottom()-O.get_bottom())*F),z=Math.round(O.width*G),W=Math.round(O.height*F),Y=Math.round(O.x*N),K=Math.round(O.y*H),q=Math.round((s.get_right()-O.get_right())*N),J=Math.round((s.get_bottom()-O.get_bottom())*H),Z=Math.round(h*N)-Y-q,Q=Math.round(u*H)-K-J;if(t.applySmoothing(se,!1),0!=z&&0!=W)se.drawImage(B,0,0,U,X,0,0,Y,K),se.drawImage(B,U,0,z,X,Y,0,Z,K),se.drawImage(B,U+z,0,V,X,Y+Z,0,q,K),se.drawImage(B,0,X,U,W,0,K,Y,Q),se.drawImage(B,U,X,z,W,Y,K,Z,Q),se.drawImage(B,U+z,X,V,W,Y+Z,K,q,Q),se.drawImage(B,0,X+W,U,j,0,K+Q,Y,J),se.drawImage(B,U,X+W,z,j,Y,K+Q,Z,J),se.drawImage(B,U+z,X+W,V,j,Y+Z,K+Q,q,J);else if(0==z&&0!=W){var ee=Y+Z+q;se.drawImage(B,0,0,h,X,0,0,ee,K),se.drawImage(B,0,X,h,W,0,K,ee,Q),se.drawImage(B,0,X+W,h,j,0,K+Q,ee,J)}else if(0==W&&0!=z){var te=K+Q+J;se.drawImage(B,0,0,U,u,0,0,Y,te),se.drawImage(B,U,0,z,u,Y,0,Z,te),se.drawImage(B,U+z,0,V,u,Y+Z,0,q,te)}}else{if(t.setTransform(a,se),t.__isDOM){var ae=1/t.pixelRatio;se.scale(ae,ae)}se.drawImage(B,0,0,h,u)}t.__popMaskObject(e)}}}}$&&(t.context.imageSmoothingEnabled=!0)}else{var ne,ie=e.__cacheBitmap;if(ie.__renderable)if((ne=t.__getAlpha(ie.__worldAlpha))>0&&null!=ie.__bitmapData&&ie.__bitmapData.__isValid&&ie.__bitmapData.readable){var se=t.context;t.__setBlendMode(ie.__worldBlendMode),t.__pushMaskObject(ie,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(ie.__bitmapData.image),se.globalAlpha=ne;var _e=ie.__scrollRect;t.setTransform(ie.__renderTransform,se),t.__allowSmoothing&&ie.smoothing||(se.imageSmoothingEnabled=!1),null==_e?se.drawImage(ie.__bitmapData.image.get_src(),0,0,ie.__bitmapData.image.width,ie.__bitmapData.image.height):se.drawImage(ie.__bitmapData.image.get_src(),_e.x,_e.y,_e.width,_e.height,_e.x,_e.y,_e.width,_e.height),t.__allowSmoothing&&ie.smoothing||(se.imageSmoothingEnabled=!0),t.__popMaskObject(ie,!1)}}},openfl_display__$internal_CanvasTextField.renderDrawableMask=function(e,t){openfl_display__$internal_CanvasDisplayObject.renderDrawableMask(e,t)};var openfl_display__$internal_CanvasTilemap=function(){};$hxClasses["openfl.display._internal.CanvasTilemap"]=openfl_display__$internal_CanvasTilemap,openfl_display__$internal_CanvasTilemap.__name__="openfl.display._internal.CanvasTilemap",openfl_display__$internal_CanvasTilemap.render=function(e,t){if(e.__renderable&&0!=e.__group.__tiles.length){var a=t.__getAlpha(e.__worldAlpha);if(!(a<=0)){var n=t.context;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var i=openfl_geom_Rectangle.__pool.get();i.setTo(0,0,e.__width,e.__height),t.__pushMaskRect(i,e.__renderTransform),t.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!1),openfl_display__$internal_CanvasTilemap.renderTileContainer(e.__group,t,e.__renderTransform,e.__tileset,t.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,a,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,i),t.__allowSmoothing&&e.smoothing||(n.imageSmoothingEnabled=!0),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(i)}}},openfl_display__$internal_CanvasTilemap.renderTileContainer=function(e,t,a,n,i,s,_,r,o,l,h,u){for(var p,c,d,f,m,g,x,k=t.context,y=t.__roundPixels,b=openfl_geom_Matrix.__pool.get(),v=e.__tiles,P=null,w=0,T=e.__length;w<T;){if(p=v[w++],b.setTo(1,0,0,1,-p.get_originX(),-p.get_originY()),b.concat(p.get_matrix()),b.concat(a),y&&(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty)),c=null!=p.get_tileset()?p.get_tileset():n,d=p.get_alpha()*_,p.get_visible()&&!(d<=0))if(s||(d=1),r&&(P=null!=p.__blendMode?p.__blendMode:o),p.__length>0)openfl_display__$internal_CanvasTilemap.renderTileContainer(p,t,b,c,i,s,d,r,P,l,h,u);else{if(null==c)continue;if(-1==(f=p.get_id())){if(null==(g=p.__rect)||g.width<=0||g.height<=0)continue}else{if(null==(m=c.__data[f]))continue;u.setTo(m.x,m.y,m.width,m.height),g=u}if(null==(x=c.__bitmapData))continue;x!=l&&(null==x.image.buffer.__srcImage&&lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(x.image),h=x.image.get_src(),l=x),k.globalAlpha=d,r&&t.__setBlendMode(P),t.setTransform(b,k),k.drawImage(h,g.x,g.y,g.width,g.height,0,0,g.width,g.height)}}openfl_geom_Matrix.__pool.release(b)},openfl_display__$internal_CanvasTilemap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(null!=e.opaqueBackground||null!=e.__graphics)if(e.__renderable)if(!((D=t.__getAlpha(e.__worldAlpha))<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);R=t.context;t.setTransform(e.__renderTransform,R);var a=e.opaqueBackground;R.fillStyle="rgb("+(a>>>16&255)+","+(a>>>8&255)+","+(255&a)+")",R.fillRect(0,0,e.get_width(),e.get_height()),t.__popMaskObject(e)}if(null!=e.__graphics)if(e.__renderable)if(!((D=t.__getAlpha(e.__worldAlpha))<=0)){var n=e.__graphics;if(null!=n){openfl_display__$internal_CanvasGraphics.render(n,t);var i=n.__width,s=n.__height,_=n.__canvas;if(null!=_&&n.__visible&&i>=1&&s>=1){var r=n.__worldTransform,o=(R=t.context,L=e.__scrollRect,e.__worldScale9Grid);if(null==L||L.width>0&&L.height>0){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),R.globalAlpha=D,null!=o&&0==r.b&&0==r.c){R.setTransform(1,0,0,1,r.tx,r.ty);var l=n.__bounds,h=n.__renderTransform.a,u=n.__renderTransform.d,p=r.a,c=r.d,d=Math.max(1,Math.round(o.x*h)),f=Math.round(o.y*u),m=Math.max(1,Math.round((l.get_right()-o.get_right())*h)),g=Math.round((l.get_bottom()-o.get_bottom())*u),x=Math.round(o.width*h),k=Math.round(o.height*u),y=Math.round(o.x*p),b=Math.round(o.y*c),v=Math.round((l.get_right()-o.get_right())*p),P=Math.round((l.get_bottom()-o.get_bottom())*c),w=Math.round(i*p)-y-v,T=Math.round(s*c)-b-P;if(t.applySmoothing(R,!1),0!=x&&0!=k)R.drawImage(_,0,0,d,f,0,0,y,b),R.drawImage(_,d,0,x,f,y,0,w,b),R.drawImage(_,d+x,0,m,f,y+w,0,v,b),R.drawImage(_,0,f,d,k,0,b,y,T),R.drawImage(_,d,f,x,k,y,b,w,T),R.drawImage(_,d+x,f,m,k,y+w,b,v,T),R.drawImage(_,0,f+k,d,g,0,b+T,y,P),R.drawImage(_,d,f+k,x,g,y,b+T,w,P),R.drawImage(_,d+x,f+k,m,g,y+w,b+T,v,P);else if(0==x&&0!=k){var C=y+w+v;R.drawImage(_,0,0,i,f,0,0,C,b),R.drawImage(_,0,f,i,k,0,b,C,T),R.drawImage(_,0,f+k,i,g,0,b+T,C,P)}else if(0==k&&0!=x){var S=b+T+P;R.drawImage(_,0,0,d,s,0,0,y,S),R.drawImage(_,d,0,x,s,y,0,w,S),R.drawImage(_,d+x,0,m,s,y+w,0,v,S)}}else{if(t.setTransform(r,R),t.__isDOM){var A=1/t.pixelRatio;R.scale(A,A)}R.drawImage(_,0,0,i,s)}t.__popMaskObject(e)}}}}}if(e.__renderable&&0!=e.__group.__tiles.length)if(!((D=t.__getAlpha(e.__worldAlpha))<=0)){R=t.context;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var E=openfl_geom_Rectangle.__pool.get();E.setTo(0,0,e.__width,e.__height),t.__pushMaskRect(E,e.__renderTransform),t.__allowSmoothing&&e.smoothing||(R.imageSmoothingEnabled=!1),openfl_display__$internal_CanvasTilemap.renderTileContainer(e.__group,t,e.__renderTransform,e.__tileset,t.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,D,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,E),t.__allowSmoothing&&e.smoothing||(R.imageSmoothingEnabled=!0),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(E)}}else{var D,M=e.__cacheBitmap;if(M.__renderable)if((D=t.__getAlpha(M.__worldAlpha))>0&&null!=M.__bitmapData&&M.__bitmapData.__isValid&&M.__bitmapData.readable){var R=t.context;t.__setBlendMode(M.__worldBlendMode),t.__pushMaskObject(M,!1),lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(M.__bitmapData.image),R.globalAlpha=D;var L=M.__scrollRect;t.setTransform(M.__renderTransform,R),t.__allowSmoothing&&M.smoothing||(R.imageSmoothingEnabled=!1),null==L?R.drawImage(M.__bitmapData.image.get_src(),0,0,M.__bitmapData.image.width,M.__bitmapData.image.height):R.drawImage(M.__bitmapData.image.get_src(),L.x,L.y,L.width,L.height,L.x,L.y,L.width,L.height),t.__allowSmoothing&&M.smoothing||(R.imageSmoothingEnabled=!0),t.__popMaskObject(M,!1)}}t.__renderEvent(e)},openfl_display__$internal_CanvasTilemap.renderDrawableMask=function(e,t){};var openfl_display__$internal_CanvasVideo=function(){};$hxClasses["openfl.display._internal.CanvasVideo"]=openfl_display__$internal_CanvasVideo,openfl_display__$internal_CanvasVideo.__name__="openfl.display._internal.CanvasVideo",openfl_display__$internal_CanvasVideo.render=function(e,t){if(e.__renderable&&null!=e.__stream){var a=t.__getAlpha(e.__worldAlpha);if(!(a<=0)){var n=t.context;if(null!=e.__stream.__video){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),n.globalAlpha=a;var i=e.__scrollRect,s=e.smoothing;t.setTransform(e.__worldTransform,n),s||(n.imageSmoothingEnabled=!1),null==i?n.drawImage(e.__stream.__video,0,0,e.get_width(),e.get_height()):n.drawImage(e.__stream.__video,i.x,i.y,i.width,i.height,i.x,i.y,i.width,i.height),s||(n.imageSmoothingEnabled=!0),t.__popMaskObject(e)}}}},openfl_display__$internal_CanvasVideo.renderDrawable=function(e,t){openfl_display__$internal_CanvasVideo.render(e,t),t.__renderEvent(e)},openfl_display__$internal_CanvasVideo.renderDrawableMask=function(e,t){};var openfl_display__$internal_Context3DBitmap=function(){};$hxClasses["openfl.display._internal.Context3DBitmap"]=openfl_display__$internal_Context3DBitmap,openfl_display__$internal_Context3DBitmap.__name__="openfl.display._internal.Context3DBitmap",openfl_display__$internal_Context3DBitmap.render=function(e,t){if(e.__renderable&&!(e.__worldAlpha<=0)&&null!=e.__bitmapData&&e.__bitmapData.__isValid){var a=t.__context3D;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var n=t.__initDisplayShader(e.__worldShader);t.setShader(n),t.applyBitmapData(e.__bitmapData,t.__allowSmoothing&&(e.smoothing||t.__upscaled)),t.applyMatrix(t.__getMatrix(e.__renderTransform,e.pixelSnapping)),t.applyAlpha(e.__worldAlpha),t.applyColorTransform(e.__worldColorTransform),t.updateShader();var i=e.__bitmapData.getVertexBuffer(a);null!=n.__position&&a.setVertexBufferAt(n.__position.index,i,0,3),null!=n.__textureCoord&&a.setVertexBufferAt(n.__textureCoord.index,i,3,2);var s=e.__bitmapData.getIndexBuffer(a);a.drawTriangles(s),t.__clearShader(),t.__popMaskObject(e)}},openfl_display__$internal_Context3DBitmap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null!=e.__bitmapData&&null!=e.__bitmapData.image&&(e.__imageVersion=e.__bitmapData.image.version),null==e.__cacheBitmap||e.__isCacheBitmapRender){if((null!=e.opaqueBackground||null!=e.__graphics)&&e.__renderable&&!(e.__worldAlpha<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.__context3D,n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),t.__pushMaskRect(n,e.__renderTransform);var i=e.opaqueBackground;a.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,1,0,0,1),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}null!=e.__graphics&&openfl_display__$internal_Context3DShape.render(e,t)}openfl_display__$internal_Context3DBitmap.render(e,t)}else openfl_display__$internal_Context3DBitmap.render(e.__cacheBitmap,t);t.__renderEvent(e)},openfl_display__$internal_Context3DBitmap.renderDrawableMask=function(e,t){openfl_display__$internal_Context3DBitmap.renderMask(e,t)},openfl_display__$internal_Context3DBitmap.renderMask=function(e,t){if(null!=e.__bitmapData&&e.__bitmapData.__isValid){var a=t.__context3D,n=t.__maskShader;t.setShader(n),t.applyBitmapData(openfl_display__$internal_Context3DMaskShader.opaqueBitmapData,!0),t.applyMatrix(t.__getMatrix(e.__renderTransform,e.pixelSnapping)),t.updateShader();var i=e.__bitmapData.getVertexBuffer(a);null!=n.__position&&a.setVertexBufferAt(n.__position.index,i,0,3),null!=n.__textureCoord&&a.setVertexBufferAt(n.__textureCoord.index,i,3,2);var s=e.__bitmapData.getIndexBuffer(a);a.drawTriangles(s),t.__clearShader()}};var openfl_display__$internal_Context3DBitmapData=function(){};$hxClasses["openfl.display._internal.Context3DBitmapData"]=openfl_display__$internal_Context3DBitmapData,openfl_display__$internal_Context3DBitmapData.__name__="openfl.display._internal.Context3DBitmapData",openfl_display__$internal_Context3DBitmapData.renderDrawable=function(e,t){var a=t.__context3D;a.gl;t.__setBlendMode(10);var n=t.__defaultDisplayShader;t.setShader(n),t.applyBitmapData(e,t.__upscaled),t.applyMatrix(t.__getMatrix(e.__worldTransform,1)),t.applyAlpha(e.__worldAlpha),t.applyColorTransform(e.__worldColorTransform),t.updateShader();var i=e.getVertexBuffer(a);null!=n.__position&&a.setVertexBufferAt(n.__position.index,i,0,3),null!=n.__textureCoord&&a.setVertexBufferAt(n.__textureCoord.index,i,3,2);var s=e.getIndexBuffer(a);a.drawTriangles(s),t.__clearShader()},openfl_display__$internal_Context3DBitmapData.renderDrawableMask=function(e,t){var a=t.__context3D,n=(a.gl,t.__maskShader);t.setShader(n),t.applyBitmapData(e,t.__upscaled),t.applyMatrix(t.__getMatrix(e.__worldTransform,1)),t.updateShader();var i=e.getVertexBuffer(a);null!=n.__position&&a.setVertexBufferAt(n.__position.index,i,0,3),null!=n.__textureCoord&&a.setVertexBufferAt(n.__textureCoord.index,i,3,2);var s=e.getIndexBuffer(a);a.drawTriangles(s),t.__clearShader()};var openfl_display__$internal_Context3DBuffer=function(e,t,a,n){this.context3D=e,this.elementType=t,this.dataPerVertex=n,this.indexCount=0,this.vertexCount=0,this.resize(a)};$hxClasses["openfl.display._internal.Context3DBuffer"]=openfl_display__$internal_Context3DBuffer,openfl_display__$internal_Context3DBuffer.__name__="openfl.display._internal.Context3DBuffer",openfl_display__$internal_Context3DBuffer.prototype={drawElements:function(e,t){if(null==t&&(t=-1),0!=this.indexCount&&0!=this.vertexCount&&0==this.elementType._hx_index)if(-1==t&&(t=2*this.elementCount),e<10922&&t-e<10922)this.context3D.drawTriangles(this.indexBuffers[0],e,2*t);else for(var a=e+t;e<a;){var n=Math.floor(e/10922);if((t=0|Math.min(a-e,10922))<=0)break;this.context3D.drawTriangles(this.indexBuffers[n],3*(e-10922*n),2*t),e+=t}},flushVertexBufferData:function(){this.vertexBufferData.length>this.vertexCount&&(this.vertexCount=this.vertexBufferData.length,this.vertexBuffer=this.context3D.createVertexBuffer(this.vertexCount,this.dataPerVertex,0)),this.vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.vertexBufferData))},resize:function(e,t){null==t&&(t=-1),this.elementCount=e,-1==t&&(t=this.dataPerVertex),t!=this.dataPerVertex&&(this.vertexBuffer=null,this.vertexCount=0,this.dataPerVertex=t);var a=0;switch(this.elementType._hx_index){case 0:a=4*e;break;case 1:case 2:a=3*e}var n=a*t;if(null==this.vertexBufferData){var i=null,s=null,_=null,r=null,o=null;l=null!=n?new Float32Array(n):null!=i?new Float32Array(i):null!=s?new Float32Array(s.__array):null!=_?new Float32Array(_):null!=r?null==o?new Float32Array(r,0):new Float32Array(r,0,o):null,this.vertexBufferData=l}else if(n>this.vertexBufferData.length){var l,h=this.vertexBufferData;i=null,s=null,_=null,r=null,o=null;l=null!=n?new Float32Array(n):null!=i?new Float32Array(i):null!=s?new Float32Array(s.__array):null!=_?new Float32Array(_):null!=r?null==o?new Float32Array(r,0):new Float32Array(r,0,o):null,this.vertexBufferData=l,this.vertexBufferData.set(h)}},__class__:openfl_display__$internal_Context3DBuffer};var openfl_display__$internal_Context3DElementType=$hxEnums["openfl.display._internal.Context3DElementType"]={__ename__:"openfl.display._internal.Context3DElementType",__constructs__:["QUADS","TRIANGLES","TRIANGLE_INDICES"],QUADS:{_hx_index:0,__enum__:"openfl.display._internal.Context3DElementType",toString:$estr},TRIANGLES:{_hx_index:1,__enum__:"openfl.display._internal.Context3DElementType",toString:$estr},TRIANGLE_INDICES:{_hx_index:2,__enum__:"openfl.display._internal.Context3DElementType",toString:$estr}},openfl_display__$internal_Context3DDisplayObject=function(){};$hxClasses["openfl.display._internal.Context3DDisplayObject"]=openfl_display__$internal_Context3DDisplayObject,openfl_display__$internal_Context3DDisplayObject.__name__="openfl.display._internal.Context3DDisplayObject",openfl_display__$internal_Context3DDisplayObject.render=function(e,t){if((null!=e.opaqueBackground||null!=e.__graphics)&&e.__renderable&&!(e.__worldAlpha<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.__context3D,n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),t.__pushMaskRect(n,e.__renderTransform);var i=e.opaqueBackground;a.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,1,0,0,1),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}null!=e.__graphics&&openfl_display__$internal_Context3DShape.render(e,t)}},openfl_display__$internal_Context3DDisplayObject.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if((null!=e.opaqueBackground||null!=e.__graphics)&&e.__renderable&&!(e.__worldAlpha<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.__context3D,n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),t.__pushMaskRect(n,e.__renderTransform);var i=e.opaqueBackground;a.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,1,0,0,1),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}null!=e.__graphics&&openfl_display__$internal_Context3DShape.render(e,t)}}else openfl_display__$internal_Context3DBitmap.render(e.__cacheBitmap,t);t.__renderEvent(e)},openfl_display__$internal_Context3DDisplayObject.renderDrawableMask=function(e,t){null!=e.__graphics&&openfl_display__$internal_Context3DShape.renderMask(e,t)},openfl_display__$internal_Context3DDisplayObject.renderMask=function(e,t){if(null!=e.opaqueBackground||null!=e.__graphics){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();null!=e.__graphics&&openfl_display__$internal_Context3DShape.renderMask(e,t)}};var openfl_display__$internal_Context3DDisplayObjectContainer=function(){};$hxClasses["openfl.display._internal.Context3DDisplayObjectContainer"]=openfl_display__$internal_Context3DDisplayObjectContainer,openfl_display__$internal_Context3DDisplayObjectContainer.__name__="openfl.display._internal.Context3DDisplayObjectContainer",openfl_display__$internal_Context3DDisplayObjectContainer.renderDrawable=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){var n=a.next();null==n.stage&&n.__cleanup()}if(e.__removedChildren.set_length(0),e.__renderable&&!(e.__worldAlpha<=0)&&(openfl_display__$internal_Context3DDisplayObject.renderDrawable(e,t),null==e.__cacheBitmap||e.__isCacheBitmapRender)){if(e.__children.length>0)if(t.__pushMaskObject(e),null!=t.__stage){for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawable(_),_.__renderDirty=!1}e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;){_=s[i];++i,t.__renderDrawable(_)}e.__children.length>0&&t.__popMaskObject(e)}},openfl_display__$internal_Context3DDisplayObjectContainer.renderDrawableMask=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){var n=a.next();null==n.stage&&n.__cleanup()}e.__removedChildren.set_length(0),null!=e.__graphics&&openfl_display__$internal_Context3DShape.renderMask(e,t);for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawableMask(_)}};var openfl_geom_Matrix=function(e,t,a,n,i,s){null==s&&(s=0),null==i&&(i=0),null==n&&(n=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=1),this.a=e,this.b=t,this.c=a,this.d=n,this.tx=i,this.ty=s};$hxClasses["openfl.geom.Matrix"]=openfl_geom_Matrix,openfl_geom_Matrix.__name__="openfl.geom.Matrix",openfl_geom_Matrix.prototype={clone:function(){return new openfl_geom_Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var t=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=t;var a=this.c*e.a+this.d*e.c;this.d=this.c*e.b+this.d*e.d,this.c=a;var n=this.tx*e.a+this.ty*e.c+e.tx;this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=n},copyColumnFrom:function(e,t){if(e>2)throw haxe_Exception.thrown("Column "+e+" out of bounds (2)");0==e?(this.a=t.x,this.b=t.y):1==e?(this.c=t.x,this.d=t.y):(this.tx=t.x,this.ty=t.y)},copyColumnTo:function(e,t){if(e>2)throw haxe_Exception.thrown("Column "+e+" out of bounds (2)");0==e?(t.x=this.a,t.y=this.b,t.z=0):1==e?(t.x=this.c,t.y=this.d,t.z=0):(t.x=this.tx,t.y=this.ty,t.z=1)},copyFrom:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty},copyRowFrom:function(e,t){if(e>2)throw haxe_Exception.thrown("Row "+e+" out of bounds (2)");0==e?(this.a=t.x,this.c=t.y,this.tx=t.z):1==e&&(this.b=t.x,this.d=t.y,this.ty=t.z)},copyRowTo:function(e,t){if(e>2)throw haxe_Exception.thrown("Row "+e+" out of bounds (2)");0==e?(t.x=this.a,t.y=this.c,t.z=this.tx):1==e?(t.x=this.b,t.y=this.d,t.z=this.ty):t.setTo(0,0,1)},createBox:function(e,t,a,n,i){if(null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),0!=a){var s=Math.cos(a),_=Math.sin(a);this.a=s*e,this.b=_*t,this.c=-_*e,this.d=s*t}else this.a=e,this.b=0,this.c=0,this.d=t;this.tx=n,this.ty=i},createGradientBox:function(e,t,a,n,i){if(null==i&&(i=0),null==n&&(n=0),null==a&&(a=0),this.a=e/1638.4,this.d=t/1638.4,0!=a){var s=Math.cos(a),_=Math.sin(a);this.b=_*this.d,this.c=-_*this.a,this.a*=s,this.d*=s}else this.b=0,this.c=0;this.tx=n+e/2,this.ty=i+t/2},deltaTransformPoint:function(e){return new openfl_geom_Point(e.x*this.a+e.y*this.c,e.x*this.b+e.y*this.d)},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{e=1/e;var t=this.d*e;this.d=this.a*e,this.a=t,this.b*=-e,this.c*=-e;var a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=a}return this},rotate:function(e){var t=Math.cos(e),a=Math.sin(e),n=this.a*t-this.b*a;this.b=this.a*a+this.b*t,this.a=n;var i=this.c*t-this.d*a;this.d=this.c*a+this.d*t,this.c=i;var s=this.tx*t-this.ty*a;this.ty=this.tx*a+this.ty*t,this.tx=s},scale:function(e,t){this.a*=e,this.b*=t,this.c*=e,this.d*=t,this.tx*=e,this.ty*=t},setRotation:function(e,t){null==t&&(t=1),this.a=Math.cos(e)*t,this.c=Math.sin(e)*t,this.b=-this.c,this.d=this.a},setTo:function(e,t,a,n,i,s){this.a=e,this.b=t,this.c=a,this.d=n,this.tx=i,this.ty=s},to3DString:function(e){return null==e&&(e=!1),e?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(e){return new openfl_geom_Point(e.x*this.a+e.y*this.c+this.tx,e.x*this.b+e.y*this.d+this.ty)},translate:function(e,t){this.tx+=e,this.ty+=t},toArray:function(e){if(null==e&&(e=!1),null==this.__array){var t=new Float32Array(9);this.__array=t}return e?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty,this.__array[8]=1):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0,this.__array[8]=1),this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return openfl_geom_Matrix.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty),openfl_geom_Matrix.__matrix3},__transformInversePoint:function(e){var t=this.a*this.d-this.b*this.c;if(0==t)e.x=-this.tx,e.y=-this.ty;else{var a=1/t*(this.c*(this.ty-e.y)+this.d*(e.x-this.tx));e.y=1/t*(this.a*(e.y-this.ty)+this.b*(this.tx-e.x)),e.x=a}},__transformInverseX:function(e,t){var a=this.a*this.d-this.b*this.c;return 0==a?-this.tx:1/a*(this.c*(this.ty-t)+this.d*(e-this.tx))},__transformInverseY:function(e,t){var a=this.a*this.d-this.b*this.c;return 0==a?-this.ty:1/a*(this.a*(t-this.ty)+this.b*(this.tx-e))},__transformPoint:function(e){var t=e.x,a=e.y;e.x=t*this.a+a*this.c+this.tx,e.y=t*this.b+a*this.d+this.ty},__transformX:function(e,t){return e*this.a+t*this.c+this.tx},__transformY:function(e,t){return e*this.b+t*this.d+this.ty},__translateTransformed:function(e,t){this.tx=e*this.a+t*this.c+this.tx,this.ty=e*this.b+t*this.d+this.ty},__class__:openfl_geom_Matrix};var openfl_geom_ColorTransform=function(e,t,a,n,i,s,_,r){null==r&&(r=0),null==_&&(_=0),null==s&&(s=0),null==i&&(i=0),null==n&&(n=1),null==a&&(a=1),null==t&&(t=1),null==e&&(e=1),this.redMultiplier=e,this.greenMultiplier=t,this.blueMultiplier=a,this.alphaMultiplier=n,this.redOffset=i,this.greenOffset=s,this.blueOffset=_,this.alphaOffset=r};$hxClasses["openfl.geom.ColorTransform"]=openfl_geom_ColorTransform,openfl_geom_ColorTransform.__name__="openfl.geom.ColorTransform",openfl_geom_ColorTransform.prototype={concat:function(e){this.redOffset=e.redOffset*this.redMultiplier+this.redOffset,this.greenOffset=e.greenOffset*this.greenMultiplier+this.greenOffset,this.blueOffset=e.blueOffset*this.blueMultiplier+this.blueOffset,this.alphaOffset=e.alphaOffset*this.alphaMultiplier+this.alphaOffset,this.redMultiplier*=e.redMultiplier,this.greenMultiplier*=e.greenMultiplier,this.blueMultiplier*=e.blueMultiplier,this.alphaMultiplier*=e.alphaMultiplier},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new openfl_geom_ColorTransform(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(e){this.redMultiplier=e.redMultiplier,this.greenMultiplier=e.greenMultiplier,this.blueMultiplier=e.blueMultiplier,this.alphaMultiplier=e.alphaMultiplier,this.redOffset=e.redOffset,this.greenOffset=e.greenOffset,this.blueOffset=e.blueOffset,this.alphaOffset=e.alphaOffset},__combine:function(e){this.redMultiplier*=e.redMultiplier,this.greenMultiplier*=e.greenMultiplier,this.blueMultiplier*=e.blueMultiplier,this.alphaMultiplier*=e.alphaMultiplier,this.redOffset+=e.redOffset,this.greenOffset+=e.greenOffset,this.blueOffset+=e.blueOffset,this.alphaOffset+=e.alphaOffset},__identity:function(){this.redMultiplier=1,this.greenMultiplier=1,this.blueMultiplier=1,this.alphaMultiplier=1,this.redOffset=0,this.greenOffset=0,this.blueOffset=0,this.alphaOffset=0},__invert:function(){this.redMultiplier=0!=this.redMultiplier?1/this.redMultiplier:1,this.greenMultiplier=0!=this.greenMultiplier?1/this.greenMultiplier:1,this.blueMultiplier=0!=this.blueMultiplier?1/this.blueMultiplier:1,this.alphaMultiplier=0!=this.alphaMultiplier?1/this.alphaMultiplier:1,this.redOffset=-this.redOffset,this.greenOffset=-this.greenOffset,this.blueOffset=-this.blueOffset,this.alphaOffset=-this.alphaOffset},__equals:function(e,t){return!(null==e||this.redMultiplier!=e.redMultiplier||this.greenMultiplier!=e.greenMultiplier||this.blueMultiplier!=e.blueMultiplier||!t&&this.alphaMultiplier!=e.alphaMultiplier||this.redOffset!=e.redOffset||this.greenOffset!=e.greenOffset||this.blueOffset!=e.blueOffset)&&this.alphaOffset==e.alphaOffset},__isDefault:function(e){return e?1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset:1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__setArrays:function(e,t){e[0]=this.redMultiplier,e[1]=this.greenMultiplier,e[2]=this.blueMultiplier,e[3]=this.alphaMultiplier,t[0]=this.redOffset,t[1]=this.greenOffset,t[2]=this.blueOffset,t[3]=this.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|0|this.blueOffset},set_color:function(e){return this.redOffset=e>>16&255,this.greenOffset=e>>8&255,this.blueOffset=255&e,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){if(null==openfl_geom_ColorTransform.__limeColorMatrix){var e=new Float32Array(20);openfl_geom_ColorTransform.__limeColorMatrix=e}return openfl_geom_ColorTransform.__limeColorMatrix[0]=this.redMultiplier,openfl_geom_ColorTransform.__limeColorMatrix[4]=this.redOffset/255,openfl_geom_ColorTransform.__limeColorMatrix[6]=this.greenMultiplier,openfl_geom_ColorTransform.__limeColorMatrix[9]=this.greenOffset/255,openfl_geom_ColorTransform.__limeColorMatrix[12]=this.blueMultiplier,openfl_geom_ColorTransform.__limeColorMatrix[14]=this.blueOffset/255,openfl_geom_ColorTransform.__limeColorMatrix[18]=this.alphaMultiplier,openfl_geom_ColorTransform.__limeColorMatrix[19]=this.alphaOffset/255,openfl_geom_ColorTransform.__limeColorMatrix},__class__:openfl_geom_ColorTransform,__properties__:{set_color:"set_color",get_color:"get_color"}};var openfl_display__$internal_Context3DGraphics=function(){};$hxClasses["openfl.display._internal.Context3DGraphics"]=openfl_display__$internal_Context3DGraphics,openfl_display__$internal_Context3DGraphics.__name__="openfl.display._internal.Context3DGraphics",openfl_display__$internal_Context3DGraphics.buildBuffer=function(e,t){for(var a,n=0,i=0,s=0,_=new openfl_display__$internal_DrawCommandReader(e.__commands),r=t.__context3D,o=openfl_geom_Rectangle.__pool.get(),l=openfl_geom_Matrix.__pool.get(),h=null,u=0,p=e.__commands.types;u<p.length;){var c=p[u];switch(++u,c._hx_index){case 0:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var d=_;h=d.buffer.o[d.oPos];break;case 1:switch(h=null,_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=c;break;case 3:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var f=_,m=f.buffer.o[f.oPos];if(h=null,null!=m)for(var g=0,x=m.inputCount;g<x;){var k=g++;if("bitmap"==m.inputRefs[k].name){h=m.inputs[k];break}}break;case 8:if(null!=h){switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;var y=_,b=y.buffer.o[y.oPos],v=y.buffer.o[y.oPos+1],P=y.buffer.o[y.oPos+2],w=null!=v,T=!1,C=!1,S=w?v.get_length():Math.floor(b.get_length()/4);if(0==S)return;null!=P&&(P.get_length()>=6*S?(T=!0,C=!0):P.get_length()>=4*S?T=!0:P.get_length()>=2*S&&(C=!0));var A;null==e.__quadBuffer?e.__quadBuffer=new openfl_display__$internal_Context3DBuffer(r,openfl_display__$internal_Context3DElementType.QUADS,S,4):e.__quadBuffer.resize(n+S,4);for(var E,D,M,R,L,I,$,B,O,G,F,N,H,U,X,V,j=e.__quadBuffer.vertexBufferData,z=h.width,W=h.height,Y=(h.rect,0),K=S;Y<K;){var q=Y++;A=16*(n+q),(X=w?4*v.get(q):4*q)<0||(o.setTo(b.get(X),b.get(X+1),b.get(X+2),b.get(X+3)),E=o.width,D=o.height,E<=0||D<=0||(T&&C?(V=6*q,l.setTo(P.get(V),P.get(V+1),P.get(V+2),P.get(V+3),P.get(V+4),P.get(V+5))):T?(V=4*q,l.setTo(P.get(V),P.get(V+1),P.get(V+2),P.get(V+3),o.x,o.y)):C?(V=2*q,l.tx=P.get(V),l.ty=P.get(V+1)):(l.tx=o.x,l.ty=o.y),M=o.x/z,R=o.y/W,L=o.get_right()/z,I=o.get_bottom()/W,$=0*l.a+0*l.c+l.tx,B=0*l.b+0*l.d+l.ty,O=E*l.a+0*l.c+l.tx,G=E*l.b+0*l.d+l.ty,F=0*l.a+D*l.c+l.tx,N=0*l.b+D*l.d+l.ty,H=E*l.a+D*l.c+l.tx,U=E*l.b+D*l.d+l.ty,j[A]=$,j[A+1]=B,j[A+2]=M,j[A+3]=R,j[A+4]=O,j[A+4+1]=G,j[A+4+2]=L,j[A+4+3]=R,j[A+8]=F,j[A+8+1]=N,j[A+8+2]=M,j[A+8+3]=I,j[A+12]=H,j[A+12+1]=U,j[A+12+2]=L,j[A+12+3]=I))}n+=S}break;case 12:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;var J=_,Z=J.buffer.o[J.oPos],Q=J.buffer.o[J.oPos+1],ee=J.buffer.o[J.oPos+2],te=(J.buffer.o[J.oPos+3],null!=Q),ae=Math.floor(Z.get_length()/2),ne=te?Q.get_length():ae,ie=null!=ee,se=ie&&ee.get_length()>=3*ae,_e=se?4:2,re=se?3:2,oe=_e+2,le=se?s:i;openfl_display__$internal_Context3DGraphics.resizeVertexBuffer(e,se,le+ne*oe);for(var he,ue,pe,ce,de=se?e.__vertexBufferDataUVT:e.__vertexBufferData,fe=0,me=ne;fe<me;){var ge=fe++;he=le+ge*oe,ue=te?2*Q.get(ge):2*ge,pe=te?Q.get(ge)*re:ge*re,se?(ce=ee.get(pe+2),de[he]=Z.get(ue)/ce,de[he+1]=Z.get(ue+1)/ce,de[he+2]=0,de[he+3]=1/ce):(de[he]=Z.get(ue),de[he+1]=Z.get(ue+1)),de[he+_e]=ie?ee.get(pe):0,de[he+_e+1]=ie?ee.get(pe+1):0}se?s+=ne*oe:i+=ne*oe;break;case 13:h=null;break;default:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=c}}(n>0&&e.__quadBuffer.flushVertexBufferData(),i>0)&&((null==(a=e.__vertexBuffer)||i>e.__vertexBufferCount)&&(a=r.createVertexBuffer(i,4,0),e.__vertexBuffer=a,e.__vertexBufferCount=i),a.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(e.__vertexBufferData)));s>0&&((null==(a=e.__vertexBufferUVT)||s>e.__vertexBufferCountUVT)&&(a=r.createVertexBuffer(s,6,0),e.__vertexBufferUVT=a,e.__vertexBufferCountUVT=s),a.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(e.__vertexBufferDataUVT)));openfl_geom_Rectangle.__pool.release(o),openfl_geom_Matrix.__pool.release(l)},openfl_display__$internal_Context3DGraphics.isCompatible=function(e){if(null!=e.__owner.__worldScale9Grid)return!1;for(var t=new openfl_display__$internal_DrawCommandReader(e.__commands),a=!1,n=!1,i=!1,s=0,_=e.__commands.types;s<_.length;){var r=_[s];switch(++s,r._hx_index){case 0:switch(n=!0,a=!1,i=!1,t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 1:switch(n=!1,a=!0,i=!1,t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 3:switch(n=!1,a=!1,i=!0,t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 8:if(!n&&!i)return t.destroy(),!1;switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 9:if(!a)return t.destroy(),!1;switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 12:if(!n&&!i)return t.destroy(),!1;switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 13:switch(n=!1,a=!1,i=!1,t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;case 18:case 19:switch(t.prev._hx_index){case 0:t.oPos+=2,t.bPos+=2;break;case 1:t.iPos+=1,t.fPos+=1;break;case 2:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 3:t.oPos+=1;break;case 4:t.fPos+=6;break;case 5:t.fPos+=4;break;case 6:t.fPos+=3;break;case 7:t.fPos+=4;break;case 8:t.oPos+=3;break;case 9:t.fPos+=4;break;case 10:t.fPos+=5,t.oPos+=1;break;case 12:t.oPos+=4;break;case 13:break;case 14:t.oPos+=2,t.bPos+=2;break;case 15:t.oPos+=4,t.iiPos+=2,t.ffPos+=1,t.fPos+=1;break;case 16:t.oPos+=4,t.iPos+=1,t.fPos+=2,t.bPos+=1;break;case 17:case 18:t.fPos+=2;break;case 19:case 20:t.oPos+=1}t.prev=r;break;default:return t.destroy(),!1}}return t.destroy(),!0},openfl_display__$internal_Context3DGraphics.render=function(e,t){if(e.__visible&&0!=e.__commands.get_length())if(null!=e.__bitmap&&!e.__dirty||!openfl_display__$internal_Context3DGraphics.isCompatible(e)){var a=t.__softwareRenderer.__worldTransform;t.__softwareRenderer.__worldTransform=t.__worldTransform,openfl_display__$internal_CanvasGraphics.render(e,t.__softwareRenderer),t.__softwareRenderer.__worldTransform=a}else{e.__bitmap=null,e.__update(t.__worldTransform);var n=e.__bounds,i=e.__width,s=e.__height;if(null!=n&&i>=1&&s>=1){(e.__hardwareDirty||null==e.__quadBuffer&&null==e.__vertexBuffer&&null==e.__vertexBufferUVT)&&openfl_display__$internal_Context3DGraphics.buildBuffer(e,t);for(var _=new openfl_display__$internal_DrawCommandReader(e.__commands),r=t.__context3D,o=(r.gl,openfl_geom_Matrix.__pool.get()),l=null,h=null,u=!1,p=!1,c=null,d=0,f=0,m=0,g=0,x=0,k=e.__commands.types;x<k.length;){var y=k[x];switch(++x,y._hx_index){case 0:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;var b=_;h=b.buffer.o[b.oPos],u=b.buffer.b[b.bPos],p=b.buffer.b[b.bPos+1],l=null,c=null;break;case 1:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;var v=_;c=16777215&(0|v.buffer.i[v.iPos])|(255*v.buffer.f[v.fPos]|0)<<24,l=null,h=null;break;case 3:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;var P=_;f=0,h=null==(l=P.buffer.o[P.oPos])||null==l.shader||null==l.shader.__bitmap?null:l.shader.__bitmap.input,c=null;break;case 8:if(null!=h){switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;var w,T=_,C=T.buffer.o[T.oPos],S=T.buffer.o[T.oPos+1],A=(T.buffer.o[T.oPos+2],null!=S?S.get_length():Math.floor(C.get_length()/4)),E=t.__getMatrix(e.__owner.__renderTransform,1);null==l||openfl_display__$internal_Context3DGraphics.maskRender?(w=openfl_display__$internal_Context3DGraphics.maskRender?t.__maskShader:t.__initGraphicsShader(null),t.setShader(w),t.applyMatrix(E),t.applyBitmapData(h,p,u),t.applyAlpha(e.__owner.__worldAlpha),t.applyColorTransform(e.__owner.__worldColorTransform),t.updateShader()):(w=t.__initShaderBuffer(l),t.__setShaderBuffer(l),t.applyMatrix(E),t.applyBitmapData(h,!1,u),t.applyAlpha(e.__owner.__worldAlpha),t.applyColorTransform(e.__owner.__worldColorTransform));for(var D=d+A;d<D&&!((A=0|Math.min(D-d,r.__quadIndexBufferElements))<=0);)null==l||openfl_display__$internal_Context3DGraphics.maskRender||t.__updateShaderBuffer(f),null!=w.__position&&r.setVertexBufferAt(w.__position.index,e.__quadBuffer.vertexBuffer,16*d,2),null!=w.__textureCoord&&r.setVertexBufferAt(w.__textureCoord.index,e.__quadBuffer.vertexBuffer,16*d+2,2),r.drawTriangles(r.__quadIndexBuffer,0,2*A),f+=4*A,d+=A;t.__clearShader()}break;case 9:if(null!=c){switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;var M=_,R=M.buffer.f[M.fPos],L=M.buffer.f[M.fPos+1],I=(i=M.buffer.f[M.fPos+2],s=M.buffer.f[M.fPos+3],c);openfl_display__$internal_Context3DGraphics.tempColorTransform.redOffset=I>>>16&255,openfl_display__$internal_Context3DGraphics.tempColorTransform.greenOffset=I>>>8&255,openfl_display__$internal_Context3DGraphics.tempColorTransform.blueOffset=255&I,openfl_display__$internal_Context3DGraphics.tempColorTransform.__combine(e.__owner.__worldColorTransform),o.identity(),o.scale(i,s),o.tx=R,o.ty=L,o.concat(e.__owner.__renderTransform);var $=openfl_display__$internal_Context3DGraphics.maskRender?t.__maskShader:t.__initGraphicsShader(null);t.setShader($),t.applyMatrix(t.__getMatrix(o,1)),t.applyBitmapData(openfl_display__$internal_Context3DGraphics.blankBitmapData,!0,u),t.applyAlpha((I>>>24&255)/255*e.__owner.__worldAlpha),t.applyColorTransform(openfl_display__$internal_Context3DGraphics.tempColorTransform),t.updateShader();var B=openfl_display__$internal_Context3DGraphics.blankBitmapData.getVertexBuffer(r);null!=$.__position&&r.setVertexBufferAt($.__position.index,B,0,3),null!=$.__textureCoord&&r.setVertexBufferAt($.__textureCoord.index,B,3,2);var O=openfl_display__$internal_Context3DGraphics.blankBitmapData.getIndexBuffer(r);r.drawTriangles(O),f+=4,t.__clearShader()}break;case 12:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;var G,F=_,N=F.buffer.o[F.oPos],H=F.buffer.o[F.oPos+1],U=F.buffer.o[F.oPos+2],X=F.buffer.o[F.oPos+3],V=null!=H,j=Math.floor(N.get_length()/2),z=V?H.get_length():j,W=null!=U&&U.get_length()>=3*j,Y=W?4:2,K=Y+2,q=W?e.__vertexBufferUVT:e.__vertexBuffer,J=W?g:m,Z=t.__getMatrix(e.__owner.__renderTransform,1);switch(null==l||openfl_display__$internal_Context3DGraphics.maskRender?(G=openfl_display__$internal_Context3DGraphics.maskRender?t.__maskShader:t.__initGraphicsShader(null),t.setShader(G),t.applyMatrix(Z),t.applyBitmapData(h,p,u),t.applyAlpha(e.__owner.__worldAlpha),t.applyColorTransform(e.__owner.__worldColorTransform),t.updateShader()):(G=t.__initShaderBuffer(l),t.__setShaderBuffer(l),t.applyMatrix(Z),t.applyBitmapData(h,!1,u),t.applyAlpha(1),t.applyColorTransform(null),t.__updateShaderBuffer(f)),null!=G.__position&&r.setVertexBufferAt(G.__position.index,q,J,W?4:2),null!=G.__textureCoord&&r.setVertexBufferAt(G.__textureCoord.index,q,J+Y,2),X){case 0:r.setCulling(0);break;case 1:r.setCulling(3);break;case 2:r.setCulling(1)}switch(r.__drawTriangles(0,z),f+=z,W?g+=K*z:m+=K*z,X){case 1:case 2:r.setCulling(0)}t.__clearShader();break;case 13:switch(h=null,c=null,l=null,_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=y,r.setCulling(3);break;case 18:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;var Q=_;Q.buffer.f[Q.fPos],Q.buffer.f[Q.fPos+1];break;case 19:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=openfl_display__$internal_DrawCommandType.OVERRIDE_BLEND_MODE;var ee=_;t.__setBlendMode(ee.buffer.o[ee.oPos]);break;default:switch(_.prev._hx_index){case 0:_.oPos+=2,_.bPos+=2;break;case 1:_.iPos+=1,_.fPos+=1;break;case 2:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 3:_.oPos+=1;break;case 4:_.fPos+=6;break;case 5:_.fPos+=4;break;case 6:_.fPos+=3;break;case 7:_.fPos+=4;break;case 8:_.oPos+=3;break;case 9:_.fPos+=4;break;case 10:_.fPos+=5,_.oPos+=1;break;case 12:_.oPos+=4;break;case 13:break;case 14:_.oPos+=2,_.bPos+=2;break;case 15:_.oPos+=4,_.iiPos+=2,_.ffPos+=1,_.fPos+=1;break;case 16:_.oPos+=4,_.iPos+=1,_.fPos+=2,_.bPos+=1;break;case 17:case 18:_.fPos+=2;break;case 19:case 20:_.oPos+=1}_.prev=y}}openfl_geom_Matrix.__pool.release(o)}e.__hardwareDirty=!1,e.set___dirty(!1)}},openfl_display__$internal_Context3DGraphics.renderMask=function(e,t){openfl_display__$internal_Context3DGraphics.maskRender=!0,openfl_display__$internal_Context3DGraphics.render(e,t),openfl_display__$internal_Context3DGraphics.maskRender=!1},openfl_display__$internal_Context3DGraphics.resizeIndexBuffer=function(e,t,a){if(!t){var n=t?null:e.__triangleIndexBufferData,i=null;if(null==n){var s=null,_=null,r=null,o=null,l=null;i=null!=a?new Uint16Array(a):null!=s?new Uint16Array(s):null!=_?new Uint16Array(_.__array):null!=r?new Uint16Array(r):null!=o?null==l?new Uint16Array(o,0):new Uint16Array(o,0,l):null}else if(a>n.length){s=null,_=null,r=null,o=null,l=null;(i=null!=a?new Uint16Array(a):null!=s?new Uint16Array(s):null!=_?new Uint16Array(_.__array):null!=r?new Uint16Array(r):null!=o?null==l?new Uint16Array(o,0):new Uint16Array(o,0,l):null).set(n),n.length}null!=i&&(t||(e.__triangleIndexBufferData=i))}},openfl_display__$internal_Context3DGraphics.resizeVertexBuffer=function(e,t,a){var n=t?e.__vertexBufferDataUVT:e.__vertexBufferData,i=null;if(null==n){var s=null,_=null,r=null,o=null,l=null;i=null!=a?new Float32Array(a):null!=s?new Float32Array(s):null!=_?new Float32Array(_.__array):null!=r?new Float32Array(r):null!=o?null==l?new Float32Array(o,0):new Float32Array(o,0,l):null}else if(a>n.length){s=null,_=null,r=null,o=null,l=null;(i=null!=a?new Float32Array(a):null!=s?new Float32Array(s):null!=_?new Float32Array(_.__array):null!=r?new Float32Array(r):null!=o?null==l?new Float32Array(o,0):new Float32Array(o,0,l):null).set(n)}null!=i&&(t?e.__vertexBufferDataUVT=i:e.__vertexBufferData=i)};var openfl_display__$internal_Context3DMaskShader=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t\tif (color.a == 0.0) {\n\n\t\t\t\tdiscard;\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = color;\n\n\t\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),openfl_display_Shader.call(this),this.__isGenerated=!0,this.__initGL()};$hxClasses["openfl.display._internal.Context3DMaskShader"]=openfl_display__$internal_Context3DMaskShader,openfl_display__$internal_Context3DMaskShader.__name__="openfl.display._internal.Context3DMaskShader",openfl_display__$internal_Context3DMaskShader.__super__=openfl_display_Shader,openfl_display__$internal_Context3DMaskShader.prototype=$extend(openfl_display_Shader.prototype,{__class__:openfl_display__$internal_Context3DMaskShader});var openfl_display__$internal_Context3DShape=function(){};$hxClasses["openfl.display._internal.Context3DShape"]=openfl_display__$internal_Context3DShape,openfl_display__$internal_Context3DShape.__name__="openfl.display._internal.Context3DShape",openfl_display__$internal_Context3DShape.render=function(e,t){if(e.__renderable&&!(e.__worldAlpha<=0)){var a=e.__graphics;if(null!=a){if(t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e),openfl_display__$internal_Context3DGraphics.render(a,t),null!=a.__bitmap&&a.__visible){var n=t.__context3D,i=(e.__worldScale9Grid,t.__initDisplayShader(e.__worldShader));t.setShader(i),t.applyBitmapData(a.__bitmap,!0),t.applyMatrix(t.__getMatrix(a.__worldTransform,1)),t.applyAlpha(e.__worldAlpha),t.applyColorTransform(e.__worldColorTransform),t.updateShader();var s=a.__bitmap.getVertexBuffer(n);null!=i.__position&&n.setVertexBufferAt(i.__position.index,s,0,3),null!=i.__textureCoord&&n.setVertexBufferAt(i.__textureCoord.index,s,3,2);var _=a.__bitmap.getIndexBuffer(n);n.drawTriangles(_),t.__clearShader()}t.__popMaskObject(e)}}},openfl_display__$internal_Context3DShape.renderMask=function(e,t){var a=e.__graphics;if(null!=a&&(openfl_display__$internal_Context3DGraphics.renderMask(a,t),null!=a.__bitmap)){var n=t.__context3D,i=t.__maskShader;t.setShader(i),t.applyBitmapData(a.__bitmap,!0),t.applyMatrix(t.__getMatrix(a.__worldTransform,1)),t.updateShader();var s=a.__bitmap.getVertexBuffer(n);null!=i.__position&&n.setVertexBufferAt(i.__position.index,s,0,3),null!=i.__textureCoord&&n.setVertexBufferAt(i.__textureCoord.index,s,3,2);var _=a.__bitmap.getIndexBuffer(n);n.drawTriangles(_),t.__clearShader()}};var openfl_display__$internal_Context3DSimpleButton=function(){};$hxClasses["openfl.display._internal.Context3DSimpleButton"]=openfl_display__$internal_Context3DSimpleButton,openfl_display__$internal_Context3DSimpleButton.__name__="openfl.display._internal.Context3DSimpleButton",openfl_display__$internal_Context3DSimpleButton.renderDrawable=function(e,t){!e.__renderable||e.__worldAlpha<=0||null==e.__currentState||(t.__pushMaskObject(e),t.__renderDrawable(e.__currentState),t.__popMaskObject(e),t.__renderEvent(e))},openfl_display__$internal_Context3DSimpleButton.renderDrawableMask=function(e,t){null!=e.__currentState&&t.__renderDrawableMask(e.__currentState)};var openfl_display__$internal_Context3DTextField=function(){};$hxClasses["openfl.display._internal.Context3DTextField"]=openfl_display__$internal_Context3DTextField,openfl_display__$internal_Context3DTextField.__name__="openfl.display._internal.Context3DTextField",openfl_display__$internal_Context3DTextField.render=function(e,t){var a=t.__softwareRenderer,n=e.__worldTransform,i=e.__textEngine,s=!(i.background||i.border),_=s?i.textBounds:i.bounds,r=e.__graphics,o=0;if(e.__dirty){if(e.__updateLayout(),null==r.__bounds&&(r.__bounds=new openfl_geom_Rectangle),0==e.get_text().length){var l=i.bounds.width-4,h=e.get_defaultTextFormat().align;switch(o=3==h?0:4==h?l:l/2,h){case 0:o+=e.get_defaultTextFormat().leftMargin/2,o-=e.get_defaultTextFormat().rightMargin/2,o+=e.get_defaultTextFormat().indent/2,o+=e.get_defaultTextFormat().blockIndent/2;break;case 1:break;case 2:case 3:o+=e.get_defaultTextFormat().leftMargin,o+=e.get_defaultTextFormat().indent,o+=e.get_defaultTextFormat().blockIndent;break;case 4:o-=e.get_defaultTextFormat().rightMargin}s&&(_.y=i.bounds.y,_.x=o)}r.__bounds.copyFrom(_)}if(r.__update(a.__worldTransform),e.__dirty||r.__softwareDirty){var u=r.__width,p=r.__height;if((null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus||1==i.type&&i.selectable)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),openfl_display__$internal_CanvasTextField.context=r.__context;n=r.__renderTransform;if(a.__isDOM){var c=a.pixelRatio;r.__canvas.width=u*c|0,r.__canvas.height=p*c|0,r.__canvas.style.width=u+"px",r.__canvas.style.height=p+"px";var d=openfl_geom_Matrix.__pool.get();d.copyFrom(n),d.scale(c,c),a.setTransform(d,openfl_display__$internal_CanvasTextField.context),openfl_geom_Matrix.__pool.release(d)}else r.__canvas.width=u,r.__canvas.height=p,openfl_display__$internal_CanvasTextField.context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty);if(null==openfl_display__$internal_CanvasTextField.clearRect&&(openfl_display__$internal_CanvasTextField.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),openfl_display__$internal_CanvasTextField.clearRect&&openfl_display__$internal_CanvasTextField.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=i.text&&""!=i.text||i.__hasFocus){var f=i.text;if(!a.__allowSmoothing||0==i.antiAliasType&&400==i.sharpness?r.__context.imageSmoothingEnabled=!1:r.__context.imageSmoothingEnabled=!0,i.border||i.background){if(openfl_display__$internal_CanvasTextField.context.rect(.5,.5,_.width-1,_.height-1),i.background){var m=StringTools.hex(16777215&i.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+m,openfl_display__$internal_CanvasTextField.context.fill()}if(i.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1;m=StringTools.hex(16777215&i.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.stroke()}}openfl_display__$internal_CanvasTextField.context.textBaseline="alphabetic",openfl_display__$internal_CanvasTextField.context.textAlign="start";for(var g,x=-e.get_scrollH(),k=0,y=0,b=e.get_scrollV()-1;y<b;){var v=y++;k-=i.lineHeights.get(v)}for(var P=i.layoutGroups.iterator();P.hasNext();){var w=P.next();if(!(w.lineIndex<e.get_scrollV()-1)){if(w.lineIndex>i.get_bottomScrollV()-1)break;var T="#"+StringTools.hex(16777215&w.format.color,6);if(openfl_display__$internal_CanvasTextField.context.font=openfl_text__$internal_TextEngine.getFont(w.format),openfl_display__$internal_CanvasTextField.context.fillStyle=T,openfl_display__$internal_CanvasTextField.context.fillText(f.substring(w.startIndex,w.endIndex),w.offsetX+x-_.x,w.offsetY+w.ascent+k-_.y),e.__caretIndex>-1&&i.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&w.startIndex<=e.__caretIndex&&w.endIndex>=e.__caretIndex){g=0;for(y=0,b=e.__caretIndex-w.startIndex;y<b;){v=y++;if(w.positions.length<=v)break;g+=w.positions[v]}for(var C=0,S=e.get_scrollV(),A=w.lineIndex+1;S<A;){var E=S++;C+=i.lineHeights.get(E-1)}openfl_display__$internal_CanvasTextField.context.beginPath();m=StringTools.hex(16777215&w.format.color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.moveTo(w.offsetX+g-e.get_scrollH()-_.x,C+2-_.y),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(w.offsetX+g-e.get_scrollH()-_.x,C+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1-_.y),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}else if(w.startIndex<=e.__caretIndex&&w.endIndex>=e.__caretIndex||w.startIndex<=e.__selectionIndex&&w.endIndex>=e.__selectionIndex||w.startIndex>e.__caretIndex&&w.endIndex<e.__selectionIndex||w.startIndex>e.__selectionIndex&&w.endIndex<e.__caretIndex){var D,M=0|Math.min(e.__selectionIndex,e.__caretIndex),R=0|Math.max(e.__selectionIndex,e.__caretIndex);w.startIndex>M&&(M=w.startIndex),w.endIndex<R&&(R=w.endIndex);var L=e.getCharBoundaries(M);R>=w.endIndex?null!=(D=e.getCharBoundaries(w.endIndex-1))&&(D.x+=D.width+2):D=e.getCharBoundaries(R),null!=L&&null!=D&&(openfl_display__$internal_CanvasTextField.context.fillStyle="#000000",openfl_display__$internal_CanvasTextField.context.fillRect(L.x+x-_.x,L.y+k,D.x-L.x,w.height),openfl_display__$internal_CanvasTextField.context.fillStyle="#FFFFFF",openfl_display__$internal_CanvasTextField.context.fillText(f.substring(M,R),x+L.x-_.x,w.offsetY+w.ascent+k))}if(w.format.underline){openfl_display__$internal_CanvasTextField.context.beginPath(),openfl_display__$internal_CanvasTextField.context.strokeStyle=T,openfl_display__$internal_CanvasTextField.context.lineWidth=1;var I=w.offsetX+x-_.x,$=Math.floor(w.offsetY+k+w.ascent-_.y)+.5;openfl_display__$internal_CanvasTextField.context.moveTo(I,$),openfl_display__$internal_CanvasTextField.context.lineTo(I+w.width,$),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}}}else{if(i.border||i.background){if(i.border?openfl_display__$internal_CanvasTextField.context.rect(.5,.5,_.width-1,_.height-1):openfl_display__$internal_CanvasTextField.context.rect(0,0,_.width,_.height),i.background){m=StringTools.hex(16777215&i.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+m,openfl_display__$internal_CanvasTextField.context.fill()}if(i.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineCap="square";m=StringTools.hex(16777215&i.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.stroke()}}if(e.__caretIndex>-1&&i.selectable&&e.__showCursor){for(x=-e.get_scrollH()+(s?0:o),k=0,y=0,b=e.get_scrollV()-1;y<b;){v=y++;k+=i.lineHeights.get(v)}openfl_display__$internal_CanvasTextField.context.beginPath();m=StringTools.hex(16777215&e.get_defaultTextFormat().color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.moveTo(x+2.5,k+2.5),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(x+2.5,k+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}r.__bitmap=openfl_display_BitmapData.fromCanvas(e.__graphics.__canvas),r.__visible=!0,e.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}else e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1}e.__graphics.__hardwareDirty=!1},openfl_display__$internal_Context3DTextField.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(openfl_display__$internal_Context3DTextField.render(e,t),(null!=e.opaqueBackground||null!=e.__graphics)&&e.__renderable&&!(e.__worldAlpha<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.__context3D,n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),t.__pushMaskRect(n,e.__renderTransform);var i=e.opaqueBackground;a.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,1,0,0,1),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}null!=e.__graphics&&openfl_display__$internal_Context3DShape.render(e,t)}}else openfl_display__$internal_Context3DBitmap.render(e.__cacheBitmap,t);t.__renderEvent(e)},openfl_display__$internal_Context3DTextField.renderDrawableMask=function(e,t){openfl_display__$internal_Context3DTextField.renderMask(e,t),openfl_display__$internal_Context3DDisplayObject.renderDrawableMask(e,t)},openfl_display__$internal_Context3DTextField.renderMask=function(e,t){var a=t.__softwareRenderer,n=e.__worldTransform,i=e.__textEngine,s=!(i.background||i.border),_=s?i.textBounds:i.bounds,r=e.__graphics,o=0;if(e.__dirty){if(e.__updateLayout(),null==r.__bounds&&(r.__bounds=new openfl_geom_Rectangle),0==e.get_text().length){var l=i.bounds.width-4,h=e.get_defaultTextFormat().align;switch(o=3==h?0:4==h?l:l/2,h){case 0:o+=e.get_defaultTextFormat().leftMargin/2,o-=e.get_defaultTextFormat().rightMargin/2,o+=e.get_defaultTextFormat().indent/2,o+=e.get_defaultTextFormat().blockIndent/2;break;case 1:break;case 2:case 3:o+=e.get_defaultTextFormat().leftMargin,o+=e.get_defaultTextFormat().indent,o+=e.get_defaultTextFormat().blockIndent;break;case 4:o-=e.get_defaultTextFormat().rightMargin}s&&(_.y=i.bounds.y,_.x=o)}r.__bounds.copyFrom(_)}if(r.__update(a.__worldTransform),e.__dirty||r.__softwareDirty){var u=r.__width,p=r.__height;if((null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus||1==i.type&&i.selectable)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){null==e.__graphics.__canvas&&(e.__graphics.__canvas=window.document.createElement("canvas"),e.__graphics.__context=e.__graphics.__canvas.getContext("2d")),openfl_display__$internal_CanvasTextField.context=r.__context;n=r.__renderTransform;if(a.__isDOM){var c=a.pixelRatio;r.__canvas.width=u*c|0,r.__canvas.height=p*c|0,r.__canvas.style.width=u+"px",r.__canvas.style.height=p+"px";var d=openfl_geom_Matrix.__pool.get();d.copyFrom(n),d.scale(c,c),a.setTransform(d,openfl_display__$internal_CanvasTextField.context),openfl_geom_Matrix.__pool.release(d)}else r.__canvas.width=u,r.__canvas.height=p,openfl_display__$internal_CanvasTextField.context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty);if(null==openfl_display__$internal_CanvasTextField.clearRect&&(openfl_display__$internal_CanvasTextField.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),openfl_display__$internal_CanvasTextField.clearRect&&openfl_display__$internal_CanvasTextField.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=i.text&&""!=i.text||i.__hasFocus){var f=i.text;if(!a.__allowSmoothing||0==i.antiAliasType&&400==i.sharpness?r.__context.imageSmoothingEnabled=!1:r.__context.imageSmoothingEnabled=!0,i.border||i.background){if(openfl_display__$internal_CanvasTextField.context.rect(.5,.5,_.width-1,_.height-1),i.background){var m=StringTools.hex(16777215&i.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+m,openfl_display__$internal_CanvasTextField.context.fill()}if(i.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1;m=StringTools.hex(16777215&i.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.stroke()}}openfl_display__$internal_CanvasTextField.context.textBaseline="alphabetic",openfl_display__$internal_CanvasTextField.context.textAlign="start";for(var g,x=-e.get_scrollH(),k=0,y=0,b=e.get_scrollV()-1;y<b;){var v=y++;k-=i.lineHeights.get(v)}for(var P=i.layoutGroups.iterator();P.hasNext();){var w=P.next();if(!(w.lineIndex<e.get_scrollV()-1)){if(w.lineIndex>i.get_bottomScrollV()-1)break;var T="#"+StringTools.hex(16777215&w.format.color,6);if(openfl_display__$internal_CanvasTextField.context.font=openfl_text__$internal_TextEngine.getFont(w.format),openfl_display__$internal_CanvasTextField.context.fillStyle=T,openfl_display__$internal_CanvasTextField.context.fillText(f.substring(w.startIndex,w.endIndex),w.offsetX+x-_.x,w.offsetY+w.ascent+k-_.y),e.__caretIndex>-1&&i.selectable)if(e.__selectionIndex==e.__caretIndex){if(e.__showCursor&&w.startIndex<=e.__caretIndex&&w.endIndex>=e.__caretIndex){g=0;for(y=0,b=e.__caretIndex-w.startIndex;y<b;){v=y++;if(w.positions.length<=v)break;g+=w.positions[v]}for(var C=0,S=e.get_scrollV(),A=w.lineIndex+1;S<A;){var E=S++;C+=i.lineHeights.get(E-1)}openfl_display__$internal_CanvasTextField.context.beginPath();m=StringTools.hex(16777215&w.format.color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.moveTo(w.offsetX+g-e.get_scrollH()-_.x,C+2-_.y),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(w.offsetX+g-e.get_scrollH()-_.x,C+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1-_.y),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}else if(w.startIndex<=e.__caretIndex&&w.endIndex>=e.__caretIndex||w.startIndex<=e.__selectionIndex&&w.endIndex>=e.__selectionIndex||w.startIndex>e.__caretIndex&&w.endIndex<e.__selectionIndex||w.startIndex>e.__selectionIndex&&w.endIndex<e.__caretIndex){var D,M=0|Math.min(e.__selectionIndex,e.__caretIndex),R=0|Math.max(e.__selectionIndex,e.__caretIndex);w.startIndex>M&&(M=w.startIndex),w.endIndex<R&&(R=w.endIndex);var L=e.getCharBoundaries(M);R>=w.endIndex?null!=(D=e.getCharBoundaries(w.endIndex-1))&&(D.x+=D.width+2):D=e.getCharBoundaries(R),null!=L&&null!=D&&(openfl_display__$internal_CanvasTextField.context.fillStyle="#000000",openfl_display__$internal_CanvasTextField.context.fillRect(L.x+x-_.x,L.y+k,D.x-L.x,w.height),openfl_display__$internal_CanvasTextField.context.fillStyle="#FFFFFF",openfl_display__$internal_CanvasTextField.context.fillText(f.substring(M,R),x+L.x-_.x,w.offsetY+w.ascent+k))}if(w.format.underline){openfl_display__$internal_CanvasTextField.context.beginPath(),openfl_display__$internal_CanvasTextField.context.strokeStyle=T,openfl_display__$internal_CanvasTextField.context.lineWidth=1;var I=w.offsetX+x-_.x,$=Math.floor(w.offsetY+k+w.ascent-_.y)+.5;openfl_display__$internal_CanvasTextField.context.moveTo(I,$),openfl_display__$internal_CanvasTextField.context.lineTo(I+w.width,$),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}}}else{if(i.border||i.background){if(i.border?openfl_display__$internal_CanvasTextField.context.rect(.5,.5,_.width-1,_.height-1):openfl_display__$internal_CanvasTextField.context.rect(0,0,_.width,_.height),i.background){m=StringTools.hex(16777215&i.backgroundColor,6);openfl_display__$internal_CanvasTextField.context.fillStyle="#"+m,openfl_display__$internal_CanvasTextField.context.fill()}if(i.border){openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineCap="square";m=StringTools.hex(16777215&i.borderColor,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.stroke()}}if(e.__caretIndex>-1&&i.selectable&&e.__showCursor){for(x=-e.get_scrollH()+(s?0:o),k=0,y=0,b=e.get_scrollV()-1;y<b;){v=y++;k+=i.lineHeights.get(v)}openfl_display__$internal_CanvasTextField.context.beginPath();m=StringTools.hex(16777215&e.get_defaultTextFormat().color,6);openfl_display__$internal_CanvasTextField.context.strokeStyle="#"+m,openfl_display__$internal_CanvasTextField.context.moveTo(x+2.5,k+2.5),openfl_display__$internal_CanvasTextField.context.lineWidth=1,openfl_display__$internal_CanvasTextField.context.lineTo(x+2.5,k+openfl_text__$internal_TextEngine.getFormatHeight(e.get_defaultTextFormat())-1),openfl_display__$internal_CanvasTextField.context.stroke(),openfl_display__$internal_CanvasTextField.context.closePath()}}r.__bitmap=openfl_display_BitmapData.fromCanvas(e.__graphics.__canvas),r.__visible=!0,e.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}else e.__graphics.__canvas=null,e.__graphics.__context=null,e.__graphics.__bitmap=null,e.__graphics.__softwareDirty=!1,e.__graphics.set___dirty(!1),e.__dirty=!1}e.__graphics.__hardwareDirty=!1};var openfl_display__$internal_Context3DTilemap=function(){};$hxClasses["openfl.display._internal.Context3DTilemap"]=openfl_display__$internal_Context3DTilemap,openfl_display__$internal_Context3DTilemap.__name__="openfl.display._internal.Context3DTilemap",openfl_display__$internal_Context3DTilemap.buildBuffer=function(e,t){if(!e.__renderable||0==e.__group.__tiles.length||e.__worldAlpha<=0)e.__group.__dirty=!1;else{openfl_display__$internal_Context3DTilemap.numTiles=0,openfl_display__$internal_Context3DTilemap.vertexBufferData=null!=e.__buffer?e.__buffer.vertexBufferData:null,openfl_display__$internal_Context3DTilemap.vertexDataPosition=0;var a=openfl_geom_Rectangle.__pool.get(),n=openfl_geom_Matrix.__pool.get(),i=openfl_geom_Matrix.__pool.get();openfl_display__$internal_Context3DTilemap.dataPerVertex=4,e.tileAlphaEnabled&&openfl_display__$internal_Context3DTilemap.dataPerVertex++,e.tileColorTransformEnabled&&(openfl_display__$internal_Context3DTilemap.dataPerVertex+=8),openfl_display__$internal_Context3DTilemap.buildBufferTileContainer(e,e.__group,t,i,e.__tileset,e.tileAlphaEnabled,e.__worldAlpha,e.tileColorTransformEnabled,e.__worldColorTransform,null,a,n),e.__buffer.flushVertexBufferData(),openfl_geom_Rectangle.__pool.release(a),openfl_geom_Matrix.__pool.release(n),openfl_geom_Matrix.__pool.release(i)}},openfl_display__$internal_Context3DTilemap.buildBufferTileContainer=function(e,t,a,n,i,s,_,r,o,l,h,u,p){null==p&&(p=!0);var c,d,f,m=openfl_geom_Matrix.__pool.get(),g=a.__roundPixels,x=t.__tiles,k=(t.__length,null);k=function(e){for(var t=e.__tiles,a=0,n=0;n<t.length;){var i=t[n];++n,i.__length>0?a+=k(i):++a}return a},p&&openfl_display__$internal_Context3DTilemap.resizeBuffer(e,openfl_display__$internal_Context3DTilemap.numTiles+k(t));for(var y,b,v,P,w,T,C,S,A,E,D,M,R,L,I,$,B,O,G,F=null,N=s?5:4,H=0;H<x.length;){var U=x[H];if(++H,m.setTo(1,0,0,1,-U.get_originX(),-U.get_originY()),m.concat(U.get_matrix()),m.concat(n),g&&(m.tx=Math.round(m.tx),m.ty=Math.round(m.ty)),c=null!=U.get_tileset()?U.get_tileset():i,d=U.get_alpha()*_,f=U.get_visible(),U.__dirty=!1,f&&!(d<=0))if(r&&(null!=U.get_colorTransform()?null==o?F=U.get_colorTransform():(null==openfl_display__$internal_Context3DTilemap.cacheColorTransform&&(openfl_display__$internal_Context3DTilemap.cacheColorTransform=new openfl_geom_ColorTransform),(F=openfl_display__$internal_Context3DTilemap.cacheColorTransform).redMultiplier=o.redMultiplier*U.get_colorTransform().redMultiplier,F.greenMultiplier=o.greenMultiplier*U.get_colorTransform().greenMultiplier,F.blueMultiplier=o.blueMultiplier*U.get_colorTransform().blueMultiplier,F.alphaMultiplier=o.alphaMultiplier*U.get_colorTransform().alphaMultiplier,F.redOffset=o.redOffset+U.get_colorTransform().redOffset,F.greenOffset=o.greenOffset+U.get_colorTransform().greenOffset,F.blueOffset=o.blueOffset+U.get_colorTransform().blueOffset,F.alphaOffset=o.alphaOffset+U.get_colorTransform().alphaOffset):F=o),s||(d=1),U.__length>0)openfl_display__$internal_Context3DTilemap.buildBufferTileContainer(e,U,a,m,c,s,d,r,F,l,h,u,!1);else{if(null==c)continue;if(y=U.get_id(),null==(P=c.__bitmapData))continue;if(-1==y){if(null==(v=U.__rect)||v.width<=0||v.height<=0)continue;C=v.x/P.width,S=v.y/P.height,E=v.get_right()/P.width,A=v.get_bottom()/P.height}else{if(null==(b=c.__data[y]))continue;h.setTo(b.x,b.y,b.width,b.height),v=h,C=b.__uvX,S=b.__uvY,E=b.__uvWidth,A=b.__uvHeight}if(w=v.width,T=v.height,M=0*m.a+0*m.c+m.tx,R=0*m.b+0*m.d+m.ty,L=w*m.a+0*m.c+m.tx,I=w*m.b+0*m.d+m.ty,$=0*m.a+T*m.c+m.tx,B=0*m.b+T*m.d+m.ty,O=w*m.a+T*m.c+m.tx,G=w*m.b+T*m.d+m.ty,D=openfl_display__$internal_Context3DTilemap.vertexDataPosition,openfl_display__$internal_Context3DTilemap.vertexBufferData[D]=M,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+1]=R,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2]=C,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3]=S,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex]=L,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex+1]=I,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex+2]=E,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex+3]=S,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2*openfl_display__$internal_Context3DTilemap.dataPerVertex]=$,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2*openfl_display__$internal_Context3DTilemap.dataPerVertex+1]=B,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2*openfl_display__$internal_Context3DTilemap.dataPerVertex+2]=C,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2*openfl_display__$internal_Context3DTilemap.dataPerVertex+3]=A,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3*openfl_display__$internal_Context3DTilemap.dataPerVertex]=O,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3*openfl_display__$internal_Context3DTilemap.dataPerVertex+1]=G,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3*openfl_display__$internal_Context3DTilemap.dataPerVertex+2]=E,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3*openfl_display__$internal_Context3DTilemap.dataPerVertex+3]=A,s&&(openfl_display__$internal_Context3DTilemap.vertexBufferData[D+0*openfl_display__$internal_Context3DTilemap.dataPerVertex+4]=d,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex+4]=d,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+2*openfl_display__$internal_Context3DTilemap.dataPerVertex+4]=d,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+3*openfl_display__$internal_Context3DTilemap.dataPerVertex+4]=d),r)if(null!=F)for(var X=0;X<4;){var V=X++;openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N]=F.redMultiplier,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+1]=F.greenMultiplier,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+2]=F.blueMultiplier,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+3]=F.alphaMultiplier,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+4]=F.redOffset,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+5]=F.greenOffset,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+6]=F.blueOffset,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*V+N+7]=F.alphaOffset}else for(var j=0;j<4;){var z=j++;openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N]=1,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+1]=1,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+2]=1,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+3]=1,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+4]=0,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+5]=0,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+6]=0,openfl_display__$internal_Context3DTilemap.vertexBufferData[D+openfl_display__$internal_Context3DTilemap.dataPerVertex*z+N+7]=0}openfl_display__$internal_Context3DTilemap.vertexDataPosition+=4*openfl_display__$internal_Context3DTilemap.dataPerVertex}}t.__dirty=!1,openfl_geom_Matrix.__pool.release(m)},openfl_display__$internal_Context3DTilemap.flush=function(e,t,a){if(null==openfl_display__$internal_Context3DTilemap.currentShader&&(openfl_display__$internal_Context3DTilemap.currentShader=t.__defaultDisplayShader),openfl_display__$internal_Context3DTilemap.bufferPosition>openfl_display__$internal_Context3DTilemap.lastFlushedPosition&&null!=openfl_display__$internal_Context3DTilemap.currentBitmapData&&null!=openfl_display__$internal_Context3DTilemap.currentShader){var n=t.__initDisplayShader(openfl_display__$internal_Context3DTilemap.currentShader);t.setShader(n),t.applyBitmapData(openfl_display__$internal_Context3DTilemap.currentBitmapData,e.smoothing),t.applyMatrix(t.__getMatrix(e.__renderTransform,1)),e.tileAlphaEnabled?t.useAlphaArray():t.applyAlpha(e.__worldAlpha),e.tileBlendModeEnabled&&t.__setBlendMode(a),e.tileColorTransformEnabled?(t.applyHasColorTransform(!0),t.useColorTransformArray()):t.applyColorTransform(e.__worldColorTransform),t.updateShader();for(var i=e.__buffer.vertexBuffer,s=openfl_display__$internal_Context3DTilemap.lastFlushedPosition*openfl_display__$internal_Context3DTilemap.dataPerVertex*4,_=openfl_display__$internal_Context3DTilemap.bufferPosition-openfl_display__$internal_Context3DTilemap.lastFlushedPosition;openfl_display__$internal_Context3DTilemap.lastFlushedPosition<openfl_display__$internal_Context3DTilemap.bufferPosition&&!((_=0|Math.min(openfl_display__$internal_Context3DTilemap.bufferPosition-openfl_display__$internal_Context3DTilemap.lastFlushedPosition,openfl_display__$internal_Context3DTilemap.context.__quadIndexBufferElements))<=0);){if(null!=n.__position&&openfl_display__$internal_Context3DTilemap.context.setVertexBufferAt(n.__position.index,i,s,2),null!=n.__textureCoord&&openfl_display__$internal_Context3DTilemap.context.setVertexBufferAt(n.__textureCoord.index,i,s+2,2),e.tileAlphaEnabled&&null!=n.__alpha&&openfl_display__$internal_Context3DTilemap.context.setVertexBufferAt(n.__alpha.index,i,s+4,1),e.tileColorTransformEnabled){var r=e.tileAlphaEnabled?5:4;null!=n.__colorMultiplier&&openfl_display__$internal_Context3DTilemap.context.setVertexBufferAt(n.__colorMultiplier.index,i,s+r,4),null!=n.__colorOffset&&openfl_display__$internal_Context3DTilemap.context.setVertexBufferAt(n.__colorOffset.index,i,s+r+4,4)}openfl_display__$internal_Context3DTilemap.context.drawTriangles(openfl_display__$internal_Context3DTilemap.context.__quadIndexBuffer,0,2*_),openfl_display__$internal_Context3DTilemap.lastFlushedPosition+=_}t.__clearShader()}openfl_display__$internal_Context3DTilemap.lastUsedBitmapData=openfl_display__$internal_Context3DTilemap.currentBitmapData,openfl_display__$internal_Context3DTilemap.lastUsedShader=openfl_display__$internal_Context3DTilemap.currentShader},openfl_display__$internal_Context3DTilemap.render=function(e,t){if(e.__renderable&&!(e.__worldAlpha<=0)&&(openfl_display__$internal_Context3DTilemap.context=t.__context3D,openfl_display__$internal_Context3DTilemap.buildBuffer(e,t),0!=openfl_display__$internal_Context3DTilemap.numTiles)){openfl_display__$internal_Context3DTilemap.bufferPosition=0,openfl_display__$internal_Context3DTilemap.lastFlushedPosition=0,openfl_display__$internal_Context3DTilemap.lastUsedBitmapData=null,openfl_display__$internal_Context3DTilemap.lastUsedShader=null,openfl_display__$internal_Context3DTilemap.currentBitmapData=null,openfl_display__$internal_Context3DTilemap.currentShader=null,openfl_display__$internal_Context3DTilemap.currentBlendMode=e.__worldBlendMode,e.tileBlendModeEnabled||t.__setBlendMode(openfl_display__$internal_Context3DTilemap.currentBlendMode),t.__pushMaskObject(e);var a=openfl_geom_Rectangle.__pool.get();a.setTo(0,0,e.__width,e.__height),t.__pushMaskRect(a,e.__renderTransform),openfl_display__$internal_Context3DTilemap.renderTileContainer(e,t,e.__group,e.__worldShader,e.__tileset,e.__worldAlpha,e.tileBlendModeEnabled,openfl_display__$internal_Context3DTilemap.currentBlendMode,null),openfl_display__$internal_Context3DTilemap.flush(e,t,openfl_display__$internal_Context3DTilemap.currentBlendMode),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(a)}},openfl_display__$internal_Context3DTilemap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){if((null!=e.opaqueBackground||null!=e.__graphics)&&e.__renderable&&!(e.__worldAlpha<=0)){if(null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height()>0){t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var a=t.__context3D,n=openfl_geom_Rectangle.__pool.get();n.setTo(0,0,e.get_width(),e.get_height()),t.__pushMaskRect(n,e.__renderTransform);var i=e.opaqueBackground;a.clear((i>>>16&255)/255,(i>>>8&255)/255,(255&i)/255,1,0,0,1),t.__popMaskRect(),t.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(n)}null!=e.__graphics&&openfl_display__$internal_Context3DShape.render(e,t)}openfl_display__$internal_Context3DTilemap.render(e,t)}else openfl_display__$internal_Context3DBitmap.render(e.__cacheBitmap,t);t.__renderEvent(e)},openfl_display__$internal_Context3DTilemap.renderDrawableMask=function(e,t){if(null!=e.opaqueBackground||null!=e.__graphics){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();null!=e.__graphics&&openfl_display__$internal_Context3DShape.renderMask(e,t)}openfl_display__$internal_Context3DTilemap.renderMask(e,t)},openfl_display__$internal_Context3DTilemap.renderTileContainer=function(e,t,a,n,i,s,_,r,o){for(var l,h,u,p,c,d,f=a.__tiles,m=null,g=0;g<f.length;){var x=f[g];if(++g,l=null!=x.get_tileset()?x.get_tileset():i,h=x.get_alpha()*s,x.get_visible()&&!(h<=0))if(c=null!=x.get_shader()?x.get_shader():n,_&&(m=null!=x.__blendMode?x.__blendMode:r),x.__length>0)openfl_display__$internal_Context3DTilemap.renderTileContainer(e,t,x,c,l,h,_,m,o);else{if(null==l)continue;if(u=x.get_id(),null==(d=l.__bitmapData))continue;if(-1==u){if(null==(p=x.__rect)||p.width<=0||p.height<=0)continue}else if(null==l.__data[u])continue;(c!=openfl_display__$internal_Context3DTilemap.currentShader||d!=openfl_display__$internal_Context3DTilemap.currentBitmapData&&null!=openfl_display__$internal_Context3DTilemap.currentBitmapData||openfl_display__$internal_Context3DTilemap.currentBlendMode!=m)&&openfl_display__$internal_Context3DTilemap.flush(e,t,openfl_display__$internal_Context3DTilemap.currentBlendMode),openfl_display__$internal_Context3DTilemap.currentBitmapData=d,openfl_display__$internal_Context3DTilemap.currentShader=c,openfl_display__$internal_Context3DTilemap.currentBlendMode=m,openfl_display__$internal_Context3DTilemap.bufferPosition++}}},openfl_display__$internal_Context3DTilemap.renderMask=function(e,t){},openfl_display__$internal_Context3DTilemap.resizeBuffer=function(e,t){openfl_display__$internal_Context3DTilemap.numTiles=t,null==e.__buffer?e.__buffer=new openfl_display__$internal_Context3DBuffer(openfl_display__$internal_Context3DTilemap.context,openfl_display__$internal_Context3DElementType.QUADS,openfl_display__$internal_Context3DTilemap.numTiles,openfl_display__$internal_Context3DTilemap.dataPerVertex):e.__buffer.resize(openfl_display__$internal_Context3DTilemap.numTiles,openfl_display__$internal_Context3DTilemap.dataPerVertex),openfl_display__$internal_Context3DTilemap.vertexBufferData=e.__buffer.vertexBufferData};var openfl_display__$internal_Context3DVideo=function(){};$hxClasses["openfl.display._internal.Context3DVideo"]=openfl_display__$internal_Context3DVideo,openfl_display__$internal_Context3DVideo.__name__="openfl.display._internal.Context3DVideo",openfl_display__$internal_Context3DVideo.render=function(e,t){if(e.__renderable&&!(e.__worldAlpha<=0)&&null!=e.__stream&&null!=e.__stream.__video){var a=t.__context3D,n=a.gl;if(null==e.__getTexture(a))return;t.__setBlendMode(e.__worldBlendMode),t.__pushMaskObject(e);var i=t.__initDisplayShader(e.__worldShader);t.setShader(i),t.applyBitmapData(null,!0,!1),t.applyMatrix(t.__getMatrix(e.__renderTransform,1)),t.applyAlpha(e.__worldAlpha),t.applyColorTransform(e.__worldColorTransform),null!=i.__textureSize&&(openfl_display__$internal_Context3DVideo.__textureSizeValue[0]=null!=e.__stream?e.__stream.__video.videoWidth:0,openfl_display__$internal_Context3DVideo.__textureSizeValue[1]=null!=e.__stream?e.__stream.__video.videoHeight:0,i.__textureSize.value=openfl_display__$internal_Context3DVideo.__textureSizeValue),t.updateShader(),a.setTextureAt(0,e.__getTexture(a)),a.__flushGLTextures(),n.uniform1i(i.__texture.index,0),e.smoothing?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST));var s=e.__getVertexBuffer(a);null!=i.__position&&a.setVertexBufferAt(i.__position.index,s,0,3),null!=i.__textureCoord&&a.setVertexBufferAt(i.__textureCoord.index,s,3,2);var _=e.__getIndexBuffer(a);a.drawTriangles(_),t.__clearShader(),t.__popMaskObject(e)}},openfl_display__$internal_Context3DVideo.renderDrawable=function(e,t){openfl_display__$internal_Context3DVideo.render(e,t),t.__renderEvent(e)},openfl_display__$internal_Context3DVideo.renderDrawableMask=function(e,t){openfl_display__$internal_Context3DVideo.renderMask(e,t)},openfl_display__$internal_Context3DVideo.renderMask=function(e,t){if(null!=e.__stream&&null!=e.__stream.__video){var a=t.__context3D,n=(a.gl,t.__maskShader);t.setShader(n),t.applyBitmapData(openfl_display__$internal_Context3DMaskShader.opaqueBitmapData,!0),t.applyMatrix(t.__getMatrix(e.__renderTransform,1)),t.updateShader();var i=e.__getVertexBuffer(a);null!=n.__position&&a.setVertexBufferAt(n.__position.index,i,0,3),null!=n.__textureCoord&&a.setVertexBufferAt(n.__textureCoord.index,i,3,2);var s=e.__getIndexBuffer(a);a.drawTriangles(s),t.__clearShader()}};var openfl_display__$internal_DOMBitmap=function(){};$hxClasses["openfl.display._internal.DOMBitmap"]=openfl_display__$internal_DOMBitmap,openfl_display__$internal_DOMBitmap.__name__="openfl.display._internal.DOMBitmap",openfl_display__$internal_DOMBitmap.clear=function(e,t){null!=e.__cacheBitmap&&openfl_display__$internal_DOMBitmap.clear(e.__cacheBitmap,t),null!=e.__image&&(t.element.removeChild(e.__image),e.__image=null,e.__style=null),null!=e.__canvas&&(t.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},openfl_display__$internal_DOMBitmap.render=function(e,t){null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(t.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(e,t):openfl_display__$internal_DOMBitmap.renderCanvas(e,t),t.__popMaskObject(e)):openfl_display__$internal_DOMBitmap.clear(e,t)},openfl_display__$internal_DOMBitmap.renderCanvas=function(e,t){null!=e.__image&&(t.element.removeChild(e.__image),e.__image=null),null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),e.__imageVersion=-1,t.__allowSmoothing&&e.smoothing||(e.__context.imageSmoothingEnabled=!1),t.__initializeElement(e,e.__canvas)),e.__imageVersion!=e.__bitmapData.image.version&&(lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(e.__bitmapData.image),e.__canvas.width=e.__bitmapData.width+1,e.__canvas.width=e.__bitmapData.width,e.__canvas.height=e.__bitmapData.height,e.__context.drawImage(e.__bitmapData.image.buffer.__srcCanvas,0,0),e.__imageVersion=e.__bitmapData.image.version),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0)},openfl_display__$internal_DOMBitmap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();var a=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=a){if(openfl_display__$internal_CanvasGraphics.render(a,t.__canvasRenderer),(a.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=a.__canvas)&&(null!=a.__canvas?e.__canvas!=a.__canvas&&(null!=e.__canvas&&t.element.removeChild(e.__canvas),e.__canvas=a.__canvas,e.__context=a.__context,t.__initializeElement(e,e.__canvas)):openfl_display__$internal_DOMShape.clear(e,t)),null!=e.__canvas){t.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=a.__worldTransform,a.__transformDirty&&(a.__transformDirty=!1,e.__renderTransformChanged=!0),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,t.__popMaskObject(e)}}else openfl_display__$internal_DOMShape.clear(e,t);null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=e.__bitmapData&&e.__bitmapData.__isValid&&e.__bitmapData.readable?(t.__pushMaskObject(e),null!=e.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(e,t):openfl_display__$internal_DOMBitmap.renderCanvas(e,t),t.__popMaskObject(e)):openfl_display__$internal_DOMBitmap.clear(e,t)}else{t.__renderDrawableClear(e),e.__cacheBitmap.stage=e.stage;var i=e.__cacheBitmap;null!=i.stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(t.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(i,t):openfl_display__$internal_DOMBitmap.renderCanvas(i,t),t.__popMaskObject(i)):openfl_display__$internal_DOMBitmap.clear(i,t)}t.__renderEvent(e)},openfl_display__$internal_DOMBitmap.renderDrawableClear=function(e,t){openfl_display__$internal_DOMBitmap.clear(e,t)},openfl_display__$internal_DOMBitmap.renderImage=function(e,t){null!=e.__canvas&&(t.element.removeChild(e.__canvas),e.__canvas=null),null==e.__image&&(e.__image=window.document.createElement("img"),e.__image.crossOrigin="Anonymous",e.__image.src=e.__bitmapData.image.buffer.__srcImage.src,t.__initializeElement(e,e.__image)),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0)};var openfl_display__$internal_DOMDisplayObject=function(){};$hxClasses["openfl.display._internal.DOMDisplayObject"]=openfl_display__$internal_DOMDisplayObject,openfl_display__$internal_DOMDisplayObject.__name__="openfl.display._internal.DOMDisplayObject",openfl_display__$internal_DOMDisplayObject.clear=function(e,t){null!=e.__cacheBitmap&&openfl_display__$internal_DOMBitmap.clear(e.__cacheBitmap,t),openfl_display__$internal_DOMShape.clear(e,t)},openfl_display__$internal_DOMDisplayObject.render=function(e,t){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();var a=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=a){if(openfl_display__$internal_CanvasGraphics.render(a,t.__canvasRenderer),(a.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=a.__canvas)&&(null!=a.__canvas?e.__canvas!=a.__canvas&&(null!=e.__canvas&&t.element.removeChild(e.__canvas),e.__canvas=a.__canvas,e.__context=a.__context,t.__initializeElement(e,e.__canvas)):openfl_display__$internal_DOMShape.clear(e,t)),null!=e.__canvas){t.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=a.__worldTransform,a.__transformDirty&&(a.__transformDirty=!1,e.__renderTransformChanged=!0),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,t.__popMaskObject(e)}}else openfl_display__$internal_DOMShape.clear(e,t)},openfl_display__$internal_DOMDisplayObject.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();var a=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=a){if(openfl_display__$internal_CanvasGraphics.render(a,t.__canvasRenderer),(a.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=a.__canvas)&&(null!=a.__canvas?e.__canvas!=a.__canvas&&(null!=e.__canvas&&t.element.removeChild(e.__canvas),e.__canvas=a.__canvas,e.__context=a.__context,t.__initializeElement(e,e.__canvas)):openfl_display__$internal_DOMShape.clear(e,t)),null!=e.__canvas){t.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=a.__worldTransform,a.__transformDirty&&(a.__transformDirty=!1,e.__renderTransformChanged=!0),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,t.__popMaskObject(e)}}else openfl_display__$internal_DOMShape.clear(e,t)}else{t.__renderDrawableClear(e),e.__cacheBitmap.stage=e.stage;var i=e.__cacheBitmap;null!=i.stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(t.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(i,t):openfl_display__$internal_DOMBitmap.renderCanvas(i,t),t.__popMaskObject(i)):openfl_display__$internal_DOMBitmap.clear(i,t)}t.__renderEvent(e)},openfl_display__$internal_DOMDisplayObject.renderDrawableClear=function(e,t){openfl_display__$internal_DOMDisplayObject.clear(e,t)};var openfl_display__$internal_DOMDisplayObjectContainer=function(){};$hxClasses["openfl.display._internal.DOMDisplayObjectContainer"]=openfl_display__$internal_DOMDisplayObjectContainer,openfl_display__$internal_DOMDisplayObjectContainer.__name__="openfl.display._internal.DOMDisplayObjectContainer",openfl_display__$internal_DOMDisplayObjectContainer.renderDrawable=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){null==(n=a.next()).stage&&t.__renderDrawable(n)}for(a=e.__removedChildren.iterator();a.hasNext();){var n;null==(n=a.next()).stage&&n.__cleanup()}if(e.__removedChildren.set_length(0),openfl_display__$internal_DOMDisplayObject.renderDrawable(e,t),null==e.__cacheBitmap||e.__isCacheBitmapRender){if(t.__pushMaskObject(e),null!=t.__stage){for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawable(_),_.__renderDirty=!1}e.__renderDirty=!1}else for(i=0,s=e.__children;i<s.length;){_=s[i];++i,t.__renderDrawable(_)}t.__popMaskObject(e)}},openfl_display__$internal_DOMDisplayObjectContainer.renderDrawableClear=function(e,t){for(var a=e.__removedChildren.iterator();a.hasNext();){null==(n=a.next()).stage&&t.__renderDrawableClear(n)}for(a=e.__removedChildren.iterator();a.hasNext();){var n;null==(n=a.next()).stage&&n.__cleanup()}e.__removedChildren.set_length(0);for(var i=0,s=e.__children;i<s.length;){var _=s[i];++i,t.__renderDrawableClear(_)}};var openfl_display__$internal_DOMShape=function(){};$hxClasses["openfl.display._internal.DOMShape"]=openfl_display__$internal_DOMShape,openfl_display__$internal_DOMShape.__name__="openfl.display._internal.DOMShape",openfl_display__$internal_DOMShape.clear=function(e,t){null!=e.__canvas&&(t.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},openfl_display__$internal_DOMShape.render=function(e,t){var a=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=a){if(openfl_display__$internal_CanvasGraphics.render(a,t.__canvasRenderer),(a.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=a.__canvas)&&(null!=a.__canvas?e.__canvas!=a.__canvas&&(null!=e.__canvas&&t.element.removeChild(e.__canvas),e.__canvas=a.__canvas,e.__context=a.__context,t.__initializeElement(e,e.__canvas)):openfl_display__$internal_DOMShape.clear(e,t)),null!=e.__canvas){t.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=a.__worldTransform,a.__transformDirty&&(a.__transformDirty=!1,e.__renderTransformChanged=!0),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,t.__popMaskObject(e)}}else openfl_display__$internal_DOMShape.clear(e,t)};var openfl_display__$internal_DOMSimpleButton=function(){};$hxClasses["openfl.display._internal.DOMSimpleButton"]=openfl_display__$internal_DOMSimpleButton,openfl_display__$internal_DOMSimpleButton.__name__="openfl.display._internal.DOMSimpleButton",openfl_display__$internal_DOMSimpleButton.renderDrawable=function(e,t){t.__pushMaskObject(e);for(var a=e.__previousStates.iterator();a.hasNext();){var n=a.next();t.__renderDrawable(n)}e.__previousStates.set_length(0),null!=e.__currentState&&(e.__currentState.stage!=e.stage&&e.__currentState.__setStageReference(e.stage),t.__renderDrawable(e.__currentState)),t.__popMaskObject(e),t.__renderEvent(e)},openfl_display__$internal_DOMSimpleButton.renderDrawableClear=function(e,t){openfl_display__$internal_DOMDisplayObject.renderDrawableClear(e,t)};var openfl_display__$internal_DOMTextField=function(){};$hxClasses["openfl.display._internal.DOMTextField"]=openfl_display__$internal_DOMTextField,openfl_display__$internal_DOMTextField.__name__="openfl.display._internal.DOMTextField",openfl_display__$internal_DOMTextField.clear=function(e,t){null!=e.__cacheBitmap&&openfl_display__$internal_DOMBitmap.clear(e.__cacheBitmap,t),null!=e.__div&&(t.element.removeChild(e.__div),e.__div=null,e.__style=null)},openfl_display__$internal_DOMTextField.measureText=function(e){var t=e.__textEngine,a=e.__div;if(null==a){a=window.document.createElement("div");var n=new RegExp("\n","g".split("u").join(""));a.innerHTML=t.text.replace(n,"<br>"),a.style.setProperty("font",openfl_text__$internal_TextEngine.getFont(e.__textFormat),null),a.style.setProperty("pointer-events","none",null),a.style.position="absolute",a.style.top="110%",window.document.body.appendChild(a)}t.__measuredWidth=a.clientWidth,null==e.__div&&(a.style.width=Std.string(t.width-4)+"px"),t.__measuredHeight=a.clientHeight,null==e.__div&&window.document.body.removeChild(a)},openfl_display__$internal_DOMTextField.render=function(e,t){var a=e.__textEngine;if(null!=e.stage&&e.__worldVisible&&e.__renderable){if(e.__dirty||e.__renderTransformChanged||null==e.__div)if(""!=a.text||a.background||a.border||1==a.type){null==e.__div&&(e.__div=window.document.createElement("div"),t.__initializeElement(e,e.__div),e.__style.setProperty("outline","none",null),e.__div.addEventListener("input",(function(t){if(t.preventDefault(),e.get_htmlText()!=e.__div.innerHTML){e.set_htmlText(e.__div.innerHTML);e.__displayAsPassword;e.__dirty=!1,e.dispatchEvent(new openfl_events_TextEvent("textInput",!1,!1,e.get_htmlText()))}}),!0)),a.wordWrap?e.__style.setProperty("word-wrap","break-word",null):e.__style.setProperty("white-space","nowrap",null),e.__style.setProperty("overflow","hidden",null),a.selectable?(e.__style.setProperty("cursor","text",null),e.__style.setProperty("-webkit-user-select","text",null),e.__style.setProperty("-moz-user-select","text",null),e.__style.setProperty("-ms-user-select","text",null),e.__style.setProperty("-o-user-select","text",null)):e.__style.setProperty("cursor","inherit",null),e.__div.contentEditable=1==a.type;var n=e.__style;a.background?n.setProperty("background-color","#"+StringTools.hex(16777215&a.backgroundColor,6),null):n.removeProperty("background-color");var i=a.width,s=a.height,_=1,r=e.__textFormat.size,o=r,l=e.__renderTransform;1==l.a&&1==l.d||(l.a==l.d?(_=l.a,l.a=l.d=1):l.a>l.d?(_=l.a,l.d/=l.a,l.a=1):(_=l.d,l.a/=l.d,l.d=1),o*=_,i=Math.ceil(i*_),s=Math.ceil(s*_)),e.__textFormat.size=o;var h=a.text,u=0;if(e.__isHTML){for(var p=h;openfl_display__$internal_DOMTextField.__regexFont.match(p);){var c=openfl_display__$internal_DOMTextField.__regexFont.matched(0),d="";if(openfl_display__$internal_DOMTextField.__regexFace.match(c)&&(d+="font-family:'"+openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexFace)+"';"),openfl_display__$internal_DOMTextField.__regexColor.match(c)&&(d+="color:#"+openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexColor)+";"),openfl_display__$internal_DOMTextField.__regexSize.match(c)){var f=openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexSize),m=HxOverrides.cca(f,0);u=parseFloat(f)*_,d+="font-size:"+(43==m||45==m?o+u:u)+"px;"}h=StringTools.replace(h,c,"<span style='"+d+"'>"),p=openfl_display__$internal_DOMTextField.__regexFont.matchedRight()}h=h.replace(openfl_display__$internal_DOMTextField.__regexCloseFont.r,"</span>")}else h=StringTools.htmlEscape(h);h=StringTools.replace(h,"<p ","<p style='margin-top:0; margin-bottom:0;' ");var g=e.__textFormat.leading;e.__textFormat.leading+=0|u;var x=new RegExp("\r\n","g".split("u").join("")),k=h.replace(x,"<br>");e.__div.innerHTML=k;x=new RegExp("\n","g".split("u").join("")),k=e.__div.innerHTML.replace(x,"<br>");e.__div.innerHTML=k;x=new RegExp("\r","g".split("u").join("")),k=e.__div.innerHTML.replace(x,"<br>");switch(e.__div.innerHTML=k,n.setProperty("font",openfl_text__$internal_TextEngine.getFont(e.__textFormat),null),e.__textFormat.size=r,e.__textFormat.leading=g,n.setProperty("top","3px",null),a.border?(n.setProperty("border","solid 1px #"+StringTools.hex(16777215&a.borderColor,6),null),e.__renderTransform.translate(-1,-1),e.__renderTransformChanged=!0,e.__transformDirty=!0):""!=n.border&&(n.removeProperty("border"),e.__renderTransformChanged=!0),n.setProperty("color","#"+StringTools.hex(16777215&e.__textFormat.color,6),null),n.setProperty("width",i+"px",null),n.setProperty("height",s+"px",null),e.__textFormat.align){case 0:n.setProperty("text-align","center",null);break;case 4:n.setProperty("text-align","right",null);break;default:n.setProperty("text-align","left",null)}e.__dirty=!1}else null!=e.__div&&(t.element.removeChild(e.__div),e.__div=null);if(null!=e.__div){var y=t.__roundPixels;t.__roundPixels=!0,t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),t.__roundPixels=y}}else openfl_display__$internal_DOMTextField.clear(e,t)},openfl_display__$internal_DOMTextField.renderDrawable=function(e,t){if(e.__domRender=!0,t.__updateCacheBitmap(e,e.__forceCachedBitmapUpdate),e.__forceCachedBitmapUpdate=!1,e.__domRender=!1,null==e.__cacheBitmap||e.__isCacheBitmapRender){e.__renderedOnCanvasWhileOnDOM&&(e.__renderedOnCanvasWhileOnDOM=!1,e.__isHTML&&null!=e.__rawHtmlText&&(e.__updateText(e.__rawHtmlText),e.__dirty=!0,e.__layoutDirty=!0,e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())));var a=e,n=a.__textEngine;if(null!=a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||a.__renderTransformChanged||null==a.__div)if(""!=n.text||n.background||n.border||1==n.type){null==a.__div&&(a.__div=window.document.createElement("div"),t.__initializeElement(a,a.__div),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",(function(e){if(e.preventDefault(),a.get_htmlText()!=a.__div.innerHTML){a.set_htmlText(a.__div.innerHTML);a.__displayAsPassword;a.__dirty=!1,a.dispatchEvent(new openfl_events_TextEvent("textInput",!1,!1,a.get_htmlText()))}}),!0)),n.wordWrap?a.__style.setProperty("word-wrap","break-word",null):a.__style.setProperty("white-space","nowrap",null),a.__style.setProperty("overflow","hidden",null),n.selectable?(a.__style.setProperty("cursor","text",null),a.__style.setProperty("-webkit-user-select","text",null),a.__style.setProperty("-moz-user-select","text",null),a.__style.setProperty("-ms-user-select","text",null),a.__style.setProperty("-o-user-select","text",null)):a.__style.setProperty("cursor","inherit",null),a.__div.contentEditable=1==n.type;var i=a.__style;n.background?i.setProperty("background-color","#"+StringTools.hex(16777215&n.backgroundColor,6),null):i.removeProperty("background-color");var s=n.width,_=n.height,r=1,o=a.__textFormat.size,l=o,h=a.__renderTransform;1==h.a&&1==h.d||(h.a==h.d?(r=h.a,h.a=h.d=1):h.a>h.d?(r=h.a,h.d/=h.a,h.a=1):(r=h.d,h.a/=h.d,h.d=1),l*=r,s=Math.ceil(s*r),_=Math.ceil(_*r)),a.__textFormat.size=l;var u=n.text,p=0;if(a.__isHTML){for(var c=u;openfl_display__$internal_DOMTextField.__regexFont.match(c);){var d=openfl_display__$internal_DOMTextField.__regexFont.matched(0),f="";if(openfl_display__$internal_DOMTextField.__regexFace.match(d)&&(f+="font-family:'"+openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexFace)+"';"),openfl_display__$internal_DOMTextField.__regexColor.match(d)&&(f+="color:#"+openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexColor)+";"),openfl_display__$internal_DOMTextField.__regexSize.match(d)){var m=openfl_display__$internal_DOMTextField.__getAttributeMatch(openfl_display__$internal_DOMTextField.__regexSize),g=HxOverrides.cca(m,0);p=parseFloat(m)*r,f+="font-size:"+(43==g||45==g?l+p:p)+"px;"}u=StringTools.replace(u,d,"<span style='"+f+"'>"),c=openfl_display__$internal_DOMTextField.__regexFont.matchedRight()}u=u.replace(openfl_display__$internal_DOMTextField.__regexCloseFont.r,"</span>")}else u=StringTools.htmlEscape(u);u=StringTools.replace(u,"<p ","<p style='margin-top:0; margin-bottom:0;' ");var x=a.__textFormat.leading;a.__textFormat.leading+=0|p;var k=new RegExp("\r\n","g".split("u").join("")),y=u.replace(k,"<br>");a.__div.innerHTML=y;k=new RegExp("\n","g".split("u").join("")),y=a.__div.innerHTML.replace(k,"<br>");a.__div.innerHTML=y;k=new RegExp("\r","g".split("u").join("")),y=a.__div.innerHTML.replace(k,"<br>");switch(a.__div.innerHTML=y,i.setProperty("font",openfl_text__$internal_TextEngine.getFont(a.__textFormat),null),a.__textFormat.size=o,a.__textFormat.leading=x,i.setProperty("top","3px",null),n.border?(i.setProperty("border","solid 1px #"+StringTools.hex(16777215&n.borderColor,6),null),a.__renderTransform.translate(-1,-1),a.__renderTransformChanged=!0,a.__transformDirty=!0):""!=i.border&&(i.removeProperty("border"),a.__renderTransformChanged=!0),i.setProperty("color","#"+StringTools.hex(16777215&a.__textFormat.color,6),null),i.setProperty("width",s+"px",null),i.setProperty("height",_+"px",null),a.__textFormat.align){case 0:i.setProperty("text-align","center",null);break;case 4:i.setProperty("text-align","right",null);break;default:i.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(t.element.removeChild(a.__div),a.__div=null);if(null!=a.__div){var b=t.__roundPixels;t.__roundPixels=!0,t.__updateClip(a),t.__applyStyle(a,!0,!0,!0),t.__roundPixels=b}}else openfl_display__$internal_DOMTextField.clear(a,t)}else{t.__renderDrawableClear(e),e.__cacheBitmap.stage=e.stage;var v=e.__cacheBitmap;null!=v.stage&&v.__worldVisible&&v.__renderable&&null!=v.__bitmapData&&v.__bitmapData.__isValid&&v.__bitmapData.readable?(t.__pushMaskObject(v),null!=v.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(v,t):openfl_display__$internal_DOMBitmap.renderCanvas(v,t),t.__popMaskObject(v)):openfl_display__$internal_DOMBitmap.clear(v,t)}t.__renderEvent(e)},openfl_display__$internal_DOMTextField.renderDrawableClear=function(e,t){openfl_display__$internal_DOMTextField.clear(e,t)},openfl_display__$internal_DOMTextField.__getAttributeMatch=function(e){return null!=e.matched(2)?e.matched(2):e.matched(3)};var openfl_display__$internal_DOMTilemap=function(){};$hxClasses["openfl.display._internal.DOMTilemap"]=openfl_display__$internal_DOMTilemap,openfl_display__$internal_DOMTilemap.__name__="openfl.display._internal.DOMTilemap",openfl_display__$internal_DOMTilemap.clear=function(e,t){null!=e.__cacheBitmap&&openfl_display__$internal_DOMBitmap.clear(e.__cacheBitmap,t),null!=e.__canvas&&(t.element.removeChild(e.__canvas),e.__canvas=null,e.__style=null)},openfl_display__$internal_DOMTilemap.render=function(e,t){if(null!=e.stage&&e.__worldVisible&&e.__renderable&&e.__group.__tiles.length>0){null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),t.__initializeElement(e,e.__canvas)),e.__canvas.width=e.__width,e.__canvas.height=e.__height,t.__canvasRenderer.context=e.__context;var a=t.__canvasRenderer;if(e.__renderable&&0!=e.__group.__tiles.length){var n=a.__getAlpha(e.__worldAlpha);if(!(n<=0)){var i=a.context;a.__setBlendMode(e.__worldBlendMode),a.__pushMaskObject(e);var s=openfl_geom_Rectangle.__pool.get();s.setTo(0,0,e.__width,e.__height),a.__pushMaskRect(s,e.__renderTransform),a.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!1),openfl_display__$internal_CanvasTilemap.renderTileContainer(e.__group,a,e.__renderTransform,e.__tileset,a.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,n,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,s),a.__allowSmoothing&&e.smoothing||(i.imageSmoothingEnabled=!0),a.__popMaskRect(),a.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(s)}}t.__canvasRenderer.context=null,t.__updateClip(e),t.__applyStyle(e,!0,!1,!0)}else openfl_display__$internal_DOMTilemap.clear(e,t)},openfl_display__$internal_DOMTilemap.renderDrawable=function(e,t){if(t.__updateCacheBitmap(e,!1),null==e.__cacheBitmap||e.__isCacheBitmapRender){null!=e.opaqueBackground&&!e.__isCacheBitmapRender&&e.get_width()>0&&e.get_height();var a=e.__graphics;if(null!=e.stage&&e.__worldVisible&&e.__renderable&&null!=a){if(openfl_display__$internal_CanvasGraphics.render(a,t.__canvasRenderer),(a.__softwareDirty||e.__worldAlphaChanged||e.__canvas!=a.__canvas)&&(null!=a.__canvas?e.__canvas!=a.__canvas&&(null!=e.__canvas&&t.element.removeChild(e.__canvas),e.__canvas=a.__canvas,e.__context=a.__context,t.__initializeElement(e,e.__canvas)):openfl_display__$internal_DOMShape.clear(e,t)),null!=e.__canvas){t.__pushMaskObject(e);var n=e.__renderTransform;e.__renderTransform=a.__worldTransform,a.__transformDirty&&(a.__transformDirty=!1,e.__renderTransformChanged=!0),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0),e.__renderTransform=n,t.__popMaskObject(e)}}else openfl_display__$internal_DOMShape.clear(e,t);if(null!=e.stage&&e.__worldVisible&&e.__renderable&&e.__group.__tiles.length>0){null==e.__canvas&&(e.__canvas=window.document.createElement("canvas"),e.__context=e.__canvas.getContext("2d"),t.__initializeElement(e,e.__canvas)),e.__canvas.width=e.__width,e.__canvas.height=e.__height,t.__canvasRenderer.context=e.__context;var i=t.__canvasRenderer;if(e.__renderable&&0!=e.__group.__tiles.length){var s=i.__getAlpha(e.__worldAlpha);if(!(s<=0)){var _=i.context;i.__setBlendMode(e.__worldBlendMode),i.__pushMaskObject(e);var r=openfl_geom_Rectangle.__pool.get();r.setTo(0,0,e.__width,e.__height),i.__pushMaskRect(r,e.__renderTransform),i.__allowSmoothing&&e.smoothing||(_.imageSmoothingEnabled=!1),openfl_display__$internal_CanvasTilemap.renderTileContainer(e.__group,i,e.__renderTransform,e.__tileset,i.__allowSmoothing&&e.smoothing,e.tileAlphaEnabled,s,e.tileBlendModeEnabled,e.__worldBlendMode,null,null,r),i.__allowSmoothing&&e.smoothing||(_.imageSmoothingEnabled=!0),i.__popMaskRect(),i.__popMaskObject(e),openfl_geom_Rectangle.__pool.release(r)}}t.__canvasRenderer.context=null,t.__updateClip(e),t.__applyStyle(e,!0,!1,!0)}else openfl_display__$internal_DOMTilemap.clear(e,t)}else{t.__renderDrawableClear(e),e.__cacheBitmap.stage=e.stage;var o=e.__cacheBitmap;null!=o.stage&&o.__worldVisible&&o.__renderable&&null!=o.__bitmapData&&o.__bitmapData.__isValid&&o.__bitmapData.readable?(t.__pushMaskObject(o),null!=o.__bitmapData.image.buffer.__srcImage?openfl_display__$internal_DOMBitmap.renderImage(o,t):openfl_display__$internal_DOMBitmap.renderCanvas(o,t),t.__popMaskObject(o)):openfl_display__$internal_DOMBitmap.clear(o,t)}t.__renderEvent(e)},openfl_display__$internal_DOMTilemap.renderDrawableClear=function(e,t){openfl_display__$internal_DOMTilemap.clear(e,t)};var openfl_display__$internal_DOMVideo=function(){};$hxClasses["openfl.display._internal.DOMVideo"]=openfl_display__$internal_DOMVideo,openfl_display__$internal_DOMVideo.__name__="openfl.display._internal.DOMVideo",openfl_display__$internal_DOMVideo.clear=function(e,t){e.__active&&(t.element.removeChild(e.__stream.__video),e.__active=!1)},openfl_display__$internal_DOMVideo.render=function(e,t){null!=e.stage&&null!=e.__stream&&e.__worldVisible&&e.__renderable?(e.__active||(t.__initializeElement(e,e.__stream.__video),e.__active=!0,e.__dirty=!0),e.__dirty&&(e.__stream.__video.width=0|e.__width,e.__stream.__video.height=0|e.__height,e.__dirty=!1),t.__updateClip(e),t.__applyStyle(e,!0,!0,!0)):openfl_display__$internal_DOMVideo.clear(e,t)},openfl_display__$internal_DOMVideo.renderDrawable=function(e,t){openfl_display__$internal_DOMVideo.render(e,t),t.__renderEvent(e)},openfl_display__$internal_DOMVideo.renderDrawableClear=function(e,t){openfl_display__$internal_DOMDisplayObject.renderDrawableClear(e,t)};var openfl_display__$internal_DrawCommandReader=function(e){this.buffer=e,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=openfl_display__$internal_DrawCommandType.UNKNOWN};$hxClasses["openfl.display._internal.DrawCommandReader"]=openfl_display__$internal_DrawCommandReader,openfl_display__$internal_DrawCommandReader.__name__="openfl.display._internal.DrawCommandReader",openfl_display__$internal_DrawCommandReader.prototype={advance:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}},bool:function(e){return this.buffer.b[this.bPos+e]},destroy:function(){this.buffer=null,this.reset()},fArr:function(e){return this.buffer.ff[this.ffPos+e]},float:function(e){return this.buffer.f[this.fPos+e]},iArr:function(e){return this.buffer.ii[this.iiPos+e]},int:function(e){return this.buffer.i[this.iPos+e]},obj:function(e){return this.buffer.o[this.oPos+e]},readBeginBitmapFill:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.BEGIN_BITMAP_FILL;return this},readBeginFill:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.BEGIN_FILL;return this},readBeginGradientFill:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.BEGIN_GRADIENT_FILL;return this},readBeginShaderFill:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.BEGIN_SHADER_FILL;return this},readCubicCurveTo:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.CUBIC_CURVE_TO;return this},readCurveTo:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.CURVE_TO;return this},readDrawCircle:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_CIRCLE;return this},readDrawEllipse:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_ELLIPSE;return this},readDrawQuads:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_QUADS;return this},readDrawRect:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_RECT;return this},readDrawRoundRect:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_ROUND_RECT;return this},readDrawTriangles:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.DRAW_TRIANGLES;return this},readEndFill:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.END_FILL;return this},readLineBitmapStyle:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.LINE_BITMAP_STYLE;return this},readLineGradientStyle:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.LINE_GRADIENT_STYLE;return this},readLineStyle:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.LINE_STYLE;return this},readLineTo:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.LINE_TO;return this},readMoveTo:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.MOVE_TO;return this},readOverrideBlendMode:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.OVERRIDE_BLEND_MODE;return this},readOverrideMatrix:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.OVERRIDE_MATRIX;return this},readWindingEvenOdd:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.WINDING_EVEN_ODD;return this},readWindingNonZero:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=openfl_display__$internal_DrawCommandType.WINDING_NON_ZERO;return this},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(e){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2;break;case 19:case 20:this.oPos+=1}this.prev=e},__class__:openfl_display__$internal_DrawCommandReader};var openfl_display__$internal_BeginBitmapFillView={__properties__:{get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},_new:function(e){return e},get_bitmap:function(e){return e.buffer.o[e.oPos]},get_matrix:function(e){return e.buffer.o[e.oPos+1]},get_repeat:function(e){return e.buffer.b[e.bPos]},get_smooth:function(e){return e.buffer.b[e.bPos+1]}},openfl_display__$internal_BeginFillView={__properties__:{get_alpha:"get_alpha",get_color:"get_color"},_new:function(e){return e},get_color:function(e){return e.buffer.i[e.iPos]},get_alpha:function(e){return e.buffer.f[e.fPos]}},openfl_display__$internal_BeginGradientFillView={__properties__:{get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},_new:function(e){return e},get_type:function(e){return e.buffer.o[e.oPos]},get_colors:function(e){return e.buffer.ii[e.iiPos]},get_alphas:function(e){return e.buffer.ff[e.ffPos]},get_ratios:function(e){return e.buffer.ii[e.iiPos+1]},get_matrix:function(e){return e.buffer.o[e.oPos+1]},get_spreadMethod:function(e){return e.buffer.o[e.oPos+2]},get_interpolationMethod:function(e){return e.buffer.o[e.oPos+3]},get_focalPointRatio:function(e){return e.buffer.f[e.fPos]}},openfl_display__$internal_BeginShaderFillView={__properties__:{get_shaderBuffer:"get_shaderBuffer"},_new:function(e){return e},get_shaderBuffer:function(e){return e.buffer.o[e.oPos]}},openfl_display__$internal_CubicCurveToView={__properties__:{get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},_new:function(e){return e},get_controlX1:function(e){return e.buffer.f[e.fPos]},get_controlY1:function(e){return e.buffer.f[e.fPos+1]},get_controlX2:function(e){return e.buffer.f[e.fPos+2]},get_controlY2:function(e){return e.buffer.f[e.fPos+3]},get_anchorX:function(e){return e.buffer.f[e.fPos+4]},get_anchorY:function(e){return e.buffer.f[e.fPos+5]}},openfl_display__$internal_CurveToView={__properties__:{get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},_new:function(e){return e},get_controlX:function(e){return e.buffer.f[e.fPos]},get_controlY:function(e){return e.buffer.f[e.fPos+1]},get_anchorX:function(e){return e.buffer.f[e.fPos+2]},get_anchorY:function(e){return e.buffer.f[e.fPos+3]}},openfl_display__$internal_DrawCircleView={__properties__:{get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]},get_radius:function(e){return e.buffer.f[e.fPos+2]}},openfl_display__$internal_DrawEllipseView={__properties__:{get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]},get_width:function(e){return e.buffer.f[e.fPos+2]},get_height:function(e){return e.buffer.f[e.fPos+3]}},openfl_display__$internal_DrawQuadsView={__properties__:{get_transforms:"get_transforms",get_indices:"get_indices",get_rects:"get_rects"},_new:function(e){return e},get_rects:function(e){return e.buffer.o[e.oPos]},get_indices:function(e){return e.buffer.o[e.oPos+1]},get_transforms:function(e){return e.buffer.o[e.oPos+2]}},openfl_display__$internal_DrawRectView={__properties__:{get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]},get_width:function(e){return e.buffer.f[e.fPos+2]},get_height:function(e){return e.buffer.f[e.fPos+3]}},openfl_display__$internal_DrawRoundRectView={__properties__:{get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]},get_width:function(e){return e.buffer.f[e.fPos+2]},get_height:function(e){return e.buffer.f[e.fPos+3]},get_ellipseWidth:function(e){return e.buffer.f[e.fPos+4]},get_ellipseHeight:function(e){return e.buffer.o[e.oPos]}},openfl_display__$internal_DrawTrianglesView={__properties__:{get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},_new:function(e){return e},get_vertices:function(e){return e.buffer.o[e.oPos]},get_indices:function(e){return e.buffer.o[e.oPos+1]},get_uvtData:function(e){return e.buffer.o[e.oPos+2]},get_culling:function(e){return e.buffer.o[e.oPos+3]}},openfl_display__$internal_EndFillView={_new:function(e){return e}},openfl_display__$internal_LineBitmapStyleView={__properties__:{get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},_new:function(e){return e},get_bitmap:function(e){return e.buffer.o[e.oPos]},get_matrix:function(e){return e.buffer.o[e.oPos+1]},get_repeat:function(e){return e.buffer.b[e.bPos]},get_smooth:function(e){return e.buffer.b[e.bPos+1]}},openfl_display__$internal_LineGradientStyleView={__properties__:{get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},_new:function(e){return e},get_type:function(e){return e.buffer.o[e.oPos]},get_colors:function(e){return e.buffer.ii[e.iiPos]},get_alphas:function(e){return e.buffer.ff[e.ffPos]},get_ratios:function(e){return e.buffer.ii[e.iiPos+1]},get_matrix:function(e){return e.buffer.o[e.oPos+1]},get_spreadMethod:function(e){return e.buffer.o[e.oPos+2]},get_interpolationMethod:function(e){return e.buffer.o[e.oPos+3]},get_focalPointRatio:function(e){return e.buffer.f[e.fPos]}},openfl_display__$internal_LineStyleView={__properties__:{get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},_new:function(e){return e},get_thickness:function(e){return e.buffer.o[e.oPos]},get_color:function(e){return e.buffer.i[e.iPos]},get_alpha:function(e){return e.buffer.f[e.fPos]},get_pixelHinting:function(e){return e.buffer.b[e.bPos]},get_scaleMode:function(e){return e.buffer.o[e.oPos+1]},get_caps:function(e){return e.buffer.o[e.oPos+2]},get_joints:function(e){return e.buffer.o[e.oPos+3]},get_miterLimit:function(e){return e.buffer.f[e.fPos+1]}},openfl_display__$internal_LineToView={__properties__:{get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]}},openfl_display__$internal_MoveToView={__properties__:{get_y:"get_y",get_x:"get_x"},_new:function(e){return e},get_x:function(e){return e.buffer.f[e.fPos]},get_y:function(e){return e.buffer.f[e.fPos+1]}},openfl_display__$internal_OverrideBlendModeView={__properties__:{get_blendMode:"get_blendMode"},_new:function(e){return e},get_blendMode:function(e){return e.buffer.o[e.oPos]}},openfl_display__$internal_OverrideMatrixView={__properties__:{get_matrix:"get_matrix"},_new:function(e){return e},get_matrix:function(e){return e.buffer.o[e.oPos]}},openfl_display__$internal_WindingEvenOddView={_new:function(e){return e}},openfl_display__$internal_WindingNonZeroView={_new:function(e){return e}},openfl_display__$internal_DrawCommandType=$hxEnums["openfl.display._internal.DrawCommandType"]={__ename__:"openfl.display._internal.DrawCommandType",__constructs__:["BEGIN_BITMAP_FILL","BEGIN_FILL","BEGIN_GRADIENT_FILL","BEGIN_SHADER_FILL","CUBIC_CURVE_TO","CURVE_TO","DRAW_CIRCLE","DRAW_ELLIPSE","DRAW_QUADS","DRAW_RECT","DRAW_ROUND_RECT","DRAW_TILES","DRAW_TRIANGLES","END_FILL","LINE_BITMAP_STYLE","LINE_GRADIENT_STYLE","LINE_STYLE","LINE_TO","MOVE_TO","OVERRIDE_BLEND_MODE","OVERRIDE_MATRIX","WINDING_EVEN_ODD","WINDING_NON_ZERO","UNKNOWN"],BEGIN_BITMAP_FILL:{_hx_index:0,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},BEGIN_FILL:{_hx_index:1,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},BEGIN_GRADIENT_FILL:{_hx_index:2,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},BEGIN_SHADER_FILL:{_hx_index:3,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},CUBIC_CURVE_TO:{_hx_index:4,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},CURVE_TO:{_hx_index:5,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_CIRCLE:{_hx_index:6,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_ELLIPSE:{_hx_index:7,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_QUADS:{_hx_index:8,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_RECT:{_hx_index:9,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_ROUND_RECT:{_hx_index:10,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_TILES:{_hx_index:11,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},DRAW_TRIANGLES:{_hx_index:12,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},END_FILL:{_hx_index:13,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},LINE_BITMAP_STYLE:{_hx_index:14,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},LINE_GRADIENT_STYLE:{_hx_index:15,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},LINE_STYLE:{_hx_index:16,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},LINE_TO:{_hx_index:17,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},MOVE_TO:{_hx_index:18,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},OVERRIDE_BLEND_MODE:{_hx_index:19,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},OVERRIDE_MATRIX:{_hx_index:20,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},WINDING_EVEN_ODD:{_hx_index:21,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},WINDING_NON_ZERO:{_hx_index:22,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr},UNKNOWN:{_hx_index:23,__enum__:"openfl.display._internal.DrawCommandType",toString:$estr}},openfl_display__$internal_FlashRenderer=function(){};$hxClasses["openfl.display._internal.FlashRenderer"]=openfl_display__$internal_FlashRenderer,openfl_display__$internal_FlashRenderer.__name__="openfl.display._internal.FlashRenderer",openfl_display__$internal_FlashRenderer.register=function(e){null==openfl_display__$internal_FlashRenderer.instances&&(openfl_display__$internal_FlashRenderer.instances=openfl_utils_Dictionary.toObjectMap(null,!0),openfl_Lib.get_current().stage.addEventListener("enterFrame",openfl_display__$internal_FlashRenderer.render,!1,-2147483648)),openfl_display__$internal_FlashRenderer.instances.set(e,!0)},openfl_display__$internal_FlashRenderer.render=function(e){for(var t=openfl_display__$internal_FlashRenderer.instances.keys();t.hasNext();){t.next().__renderFlash()}};var openfl_display__$internal_IDisplayObject=function(){};$hxClasses["openfl.display._internal.IDisplayObject"]=openfl_display__$internal_IDisplayObject,openfl_display__$internal_IDisplayObject.__name__="openfl.display._internal.IDisplayObject",openfl_display__$internal_IDisplayObject.__isInterface__=!0,openfl_display__$internal_IDisplayObject.prototype={__class__:openfl_display__$internal_IDisplayObject};var openfl_display__$internal_FlashTilemap=function(){};$hxClasses["openfl.display._internal.FlashTilemap"]=openfl_display__$internal_FlashTilemap,openfl_display__$internal_FlashTilemap.__name__="openfl.display._internal.FlashTilemap",openfl_display__$internal_FlashTilemap.render=function(e){},openfl_display__$internal_FlashTilemap.renderTileContainer=function(e,t,a,n,i,s,_,r,o,l,h,u){};var openfl_display__$internal_PerlinNoise=function(e,t,a,n,i,s,_){null==_&&(_=.05),null==s&&(s=!1),openfl_display__$internal_AbstractNoise.call(this,e,t,a,n,i,s,_),this.p_perm=[];for(var r=0;r<512;){var o=r++;this.p_perm[o]=openfl_display__$internal_PerlinNoise.P[255&o]}this.base_factor=.03125,this.setSeed(e)};$hxClasses["openfl.display._internal.PerlinNoise"]=openfl_display__$internal_PerlinNoise,openfl_display__$internal_PerlinNoise.__name__="openfl.display._internal.PerlinNoise",openfl_display__$internal_PerlinNoise.__super__=openfl_display__$internal_AbstractNoise,openfl_display__$internal_PerlinNoise.prototype=$extend(openfl_display__$internal_AbstractNoise.prototype,{fill:function(e,t,a,n){var i=e.width,s=e.height,_=this.octaves,r=this.octaves_frequencies,o=this.octaves_persistences,l=1==(1&this.channels),h=2==(2&this.channels),u=4==(4&this.channels),p=0;l&&++p,h&&++p,u&&++p;var c=this.grayscale,d=this.stitch_threshold*i|0,f=this.stitch_threshold*s|0,m=t*this.base_factor+this.x_offset;a=a*this.base_factor+this.y_offset,n=n*this.base_factor+this.z_offset;for(var g=0,x=s;g<x;){var k=g++;t=m;for(var y=0,b=i;y<b;){for(var v=y++,P=0,w=0,T=0,C=0,S=_;C<S;){var A=C++,E=r[A],D=o[A];P+=this.noise(t*E,a*E,n*E)*D,c||(1<p&&(w+=this.noise((t+1)*E,(a+1)*E,n*E)*D),2<p&&(T+=this.noise((t+2)*E,(a+2)*E,n*E)*D))}var M=0;c?M=this.color(P,P,P):l&&h&&u?M=this.color(P,w,T):l&&h?M=this.color(P,w,null):l&&u?M=this.color(P,null,w):h&&u?M=this.color(null,P,w):l?M=this.color(P,null,null):h?M=this.color(null,P,null):u&&(M=this.color(null,null,P)),this.stitch&&(M=this.stitching(e,M,v,k,d,f,i,s)),e.setPixel32(v,k,M),t+=this.base_factor}a+=this.base_factor}},noise:function(e,t,a){var n=e-e%1,i=t-t%1,s=a-a%1;e-=n,t-=i,a-=s;var _=255&(0|n),r=255&(0|i),o=255&(0|s),l=this.fade(e),h=this.fade(t),u=this.fade(a),p=this.p_perm[_]+r,c=this.p_perm[p]+o,d=this.p_perm[p+1]+o,f=this.p_perm[_+1]+r,m=this.p_perm[f]+o,g=this.p_perm[f+1]+o,x=e-1,k=t-1,y=a-1,b=15&this.p_perm[g+1],v=(0==(1&b)?b<8?x:k:b<8?-x:-k)+(0==(2&b)?b<4?k:12==b?x:y:b<4?-k:14==b?-x:-y),P=(0==(1&(b=15&this.p_perm[d+1]))?b<8?e:k:b<8?-e:-k)+(0==(2&b)?b<4?k:12==b?e:y:b<4?-k:14==b?-e:-y),w=(0==(1&(b=15&this.p_perm[m+1]))?b<8?x:t:b<8?-x:-t)+(0==(2&b)?b<4?t:12==b?x:y:b<4?-t:14==b?-x:-y),T=(0==(1&(b=15&this.p_perm[c+1]))?b<8?e:t:b<8?-e:-t)+(0==(2&b)?b<4?t:12==b?e:y:b<4?-t:14==b?-e:-y),C=(0==(1&(b=15&this.p_perm[g]))?b<8?x:k:b<8?-x:-k)+(0==(2&b)?b<4?k:12==b?x:a:b<4?-k:14==b?-x:-a),S=(0==(1&(b=15&this.p_perm[d]))?b<8?e:k:b<8?-e:-k)+(0==(2&b)?b<4?k:12==b?e:a:b<4?-k:14==b?-e:-a),A=(0==(1&(b=15&this.p_perm[m]))?b<8?x:t:b<8?-x:-t)+(0==(2&b)?b<4?t:12==b?x:a:b<4?-t:14==b?-x:-a),E=(0==(1&(b=15&this.p_perm[c]))?b<8?e:t:b<8?-e:-t)+(0==(2&b)?b<4?t:12==b?e:a:b<4?-t:14==b?-e:-a);return T+=l*(w-T),E+=l*(A-E),(E+=h*((S+=l*(C-S))-E))+u*((T+=h*((P+=l*(v-P))-T))-E)},setSeed:function(e){e=16807*e%2147483647|0,this.x_offset=e,e=16807*e%2147483647|0,this.y_offset=e,e=16807*e%2147483647|0,this.z_offset=e},__class__:openfl_display__$internal_PerlinNoise});var openfl_display__$internal_SamplerState=function(e,t,a,n,i,s,_){null==_&&(_=!1),null==s&&(s=!1),null==i&&(i=!1),null==n&&(n=0),null==a&&(a=2),null==t&&(t=5),null==e&&(e=0),this.wrap=e,this.filter=t,this.mipfilter=a,this.lodBias=n,this.ignoreSampler=i,this.centroid=s,this.textureAlpha=_};$hxClasses["openfl.display._internal.SamplerState"]=openfl_display__$internal_SamplerState,openfl_display__$internal_SamplerState.__name__="openfl.display._internal.SamplerState",openfl_display__$internal_SamplerState.prototype={clone:function(){var e=new openfl_display__$internal_SamplerState(this.wrap,this.filter,this.mipfilter,this.lodBias,this.ignoreSampler,this.centroid,this.textureAlpha);return e.mipmapGenerated=this.mipmapGenerated,e},copyFrom:function(e){null==e||e.ignoreSampler||(this.wrap=e.wrap,this.filter=e.filter,this.mipfilter=e.mipfilter,this.lodBias=e.lodBias,this.centroid=e.centroid,this.textureAlpha=e.textureAlpha)},equals:function(e){return null!=e&&(this.wrap==e.wrap&&this.filter==e.filter&&this.mipfilter==e.mipfilter&&this.lodBias==e.lodBias&&this.textureAlpha==e.textureAlpha)},__class__:openfl_display__$internal_SamplerState};var openfl_display__$internal_ShaderBuffer=function(){this.inputRefs=[],this.inputFilter=[],this.inputMipFilter=[],this.inputs=[],this.inputWrap=[],this.overrideIntNames=[],this.overrideIntValues=[],this.overrideFloatNames=[],this.overrideFloatValues=[],this.overrideBoolNames=[],this.overrideBoolValues=[],this.paramLengths=[],this.paramPositions=[],this.paramRefs_Bool=[],this.paramRefs_Float=[],this.paramRefs_Int=[],this.paramTypes=[]};$hxClasses["openfl.display._internal.ShaderBuffer"]=openfl_display__$internal_ShaderBuffer,openfl_display__$internal_ShaderBuffer.__name__="openfl.display._internal.ShaderBuffer",openfl_display__$internal_ShaderBuffer.prototype={addBoolOverride:function(e,t){this.overrideBoolNames[this.overrideBoolCount]=e,this.overrideBoolValues[this.overrideBoolCount]=t,this.overrideBoolCount++},addFloatOverride:function(e,t){this.overrideFloatNames[this.overrideFloatCount]=e,this.overrideFloatValues[this.overrideFloatCount]=t,this.overrideFloatCount++},addIntOverride:function(e,t){this.overrideIntNames[this.overrideIntCount]=e,this.overrideIntValues[this.overrideIntCount]=t,this.overrideIntCount++},clearOverride:function(){this.overrideIntCount=0,this.overrideFloatCount=0,this.overrideBoolCount=0},update:function(e){if(this.inputCount=0,this.overrideIntCount=0,this.overrideFloatCount=0,this.overrideBoolCount=0,this.paramBoolCount=0,this.paramCount=0,this.paramDataLength=0,this.paramFloatCount=0,this.paramIntCount=0,this.shader=null,null!=e){var t;e.__init(),this.inputCount=e.__inputBitmapData.length;for(var a=0,n=this.inputCount;a<n;){var i=a++;t=e.__inputBitmapData[i],this.inputs[i]=t.input,this.inputFilter[i]=t.filter,this.inputMipFilter[i]=t.mipFilter,this.inputRefs[i]=t,this.inputWrap[i]=t.wrap}var s=e.__paramBool.length,_=e.__paramFloat.length,r=e.__paramInt.length;this.paramCount=s+_+r,this.paramBoolCount=s,this.paramFloatCount=_,this.paramIntCount=r;var o=0,l=0;for(a=0,n=s;a<n;){i=a++;h=e.__paramBool[i],this.paramPositions[l]=this.paramDataLength,o=null!=h.value?h.value.length:0,this.paramLengths[l]=o,this.paramDataLength+=o,this.paramTypes[l]=0,this.paramRefs_Bool[i]=h,++l}var h;for(a=0,n=_;a<n;){i=a++;h=e.__paramFloat[i],this.paramPositions[l]=this.paramDataLength,o=null!=h.value?h.value.length:0,this.paramLengths[l]=o,this.paramDataLength+=o,this.paramTypes[l]=1,this.paramRefs_Float[i]=h,++l}for(a=0,n=r;a<n;){i=a++;h=e.__paramInt[i],this.paramPositions[l]=this.paramDataLength,o=null!=h.value?h.value.length:0,this.paramLengths[l]=o,this.paramDataLength+=o,this.paramTypes[l]=2,this.paramRefs_Int[i]=h,++l}if(this.paramDataLength>0)if(null==this.paramData){var u=null,p=null,c=null,d=null,f=null;g=null!=(m=this.paramDataLength)?new Float32Array(m):null!=u?new Float32Array(u):null!=p?new Float32Array(p.__array):null!=c?new Float32Array(c):null!=d?null==f?new Float32Array(d,0):new Float32Array(d,0,f):null,this.paramData=g}else if(this.paramDataLength>this.paramData.length){u=null,p=null,c=null,d=null,f=null;var m,g,x=g=null!=(m=this.paramDataLength)?new Float32Array(m):null!=u?new Float32Array(u):null!=p?new Float32Array(p.__array):null!=c?new Float32Array(c):null!=d?null==f?new Float32Array(d,0):new Float32Array(d,0,f):null;x.set(this.paramData),this.paramData=x}var k,y,b,v=0,P=0,w=0,T=0;for(a=0,n=this.paramCount;a<n;){i=a++;if(o=this.paramLengths[i],i<s){k=this.paramRefs_Bool[v],++v;for(var C=0,S=o;C<S;){var A=C++;this.paramData[T]=k.value[A]?1:0,++T}}else if(i<s+_){y=this.paramRefs_Float[P],++P;for(var E=0,D=o;E<D;){var M=E++;this.paramData[T]=y.value[M],++T}}else{b=this.paramRefs_Int[w],++w;for(var R=0,L=o;R<L;){var I=R++;this.paramData[T]=b.value[I],++T}}}this.shader=e}},__class__:openfl_display__$internal_ShaderBuffer};var openfl_display3D_Context3D=function(e,t,a){this.profile=3,this.driverInfo="OpenGL (Direct blitting)",this.backBufferWidth=0,this.backBufferHeight=0,openfl_events_EventDispatcher.call(this),this.__stage=e,this.__contextState=t,this.__stage3D=a,this.__context=e.window.context,this.gl=this.__context.webgl,null==this.__contextState&&(this.__contextState=new openfl_display3D__$internal_Context3DState),this.__state=new openfl_display3D__$internal_Context3DState;var n=null,i=null,s=null,_=null,r=null,o=new Float32Array(512);this.__vertexConstants=o;n=null,i=null,s=null,_=null,r=null,o=new Float32Array(512);this.__fragmentConstants=o;var l;n=[1,1,1,1],i=null,s=null,_=null,r=null;(o=null!=(d=null)?new Float32Array(d):null!=n?new Float32Array(n):null!=i?new Float32Array(i.__array):null!=s?new Float32Array(s):null!=_?null==r?new Float32Array(_,0):new Float32Array(_,0,r):null,this.__positionScale=o,this.__programs=new haxe_ds_StringMap,-1==openfl_display3D_Context3D.__glMaxViewportDims&&(openfl_display3D_Context3D.__glMaxViewportDims=this.gl.getParameter(this.gl.MAX_VIEWPORT_DIMS)),this.maxBackBufferWidth=openfl_display3D_Context3D.__glMaxViewportDims,this.maxBackBufferHeight=openfl_display3D_Context3D.__glMaxViewportDims,-1==openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy)&&(null!=(l=this.gl.getExtension("EXT_texture_filter_anisotropic"))&&Object.prototype.hasOwnProperty.call(l,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(l=this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=l&&Object.prototype.hasOwnProperty.call(l,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(l=this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),null!=l?(openfl_display3D_Context3D.__glTextureMaxAnisotropy=l.TEXTURE_MAX_ANISOTROPY_EXT,openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy=this.gl.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):(openfl_display3D_Context3D.__glTextureMaxAnisotropy=0,openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy=0));(-1==openfl_display3D_Context3D.__glDepthStencil&&(openfl_display3D_Context3D.__glDepthStencil=this.gl.DEPTH_STENCIL),-1==openfl_display3D_Context3D.__glMemoryTotalAvailable)&&(null!=(l=this.gl.getExtension("NVX_gpu_memory_info"))&&(openfl_display3D_Context3D.__glMemoryTotalAvailable=l.GPU_MEMORY_INFO_DEDICATED_VIDMEM_NVX,openfl_display3D_Context3D.__glMemoryCurrentAvailable=l.GPU_MEMORY_INFO_CURRENT_AVAILABLE_VIDMEM_NVX));if(null==openfl_display3D_Context3D.__driverInfo){var h=this.gl.getParameter(this.gl.VENDOR),u=this.gl.getParameter(this.gl.VERSION),p=this.gl.getParameter(this.gl.RENDERER),c=this.gl.getParameter(this.gl.SHADING_LANGUAGE_VERSION);openfl_display3D_Context3D.__driverInfo="OpenGL Vendor="+h+" Version="+u+" Renderer="+p+" GLSL="+c}this.driverInfo=openfl_display3D_Context3D.__driverInfo,this.__quadIndexBufferElements=16383,this.__quadIndexBufferCount=6*this.__quadIndexBufferElements;n=null,i=null,s=null,_=null,r=null;for(var d,f=o=null!=(d=this.__quadIndexBufferCount)?new Uint16Array(d):null!=n?new Uint16Array(n):null!=i?new Uint16Array(i.__array):null!=s?new Uint16Array(s):null!=_?null==r?new Uint16Array(_,0):new Uint16Array(_,0,r):null,m=0,g=0,x=0,k=this.__quadIndexBufferElements;x<k;){x++;f[m]=g,f[m+1]=g+1,f[m+2]=g+2,f[m+3]=g+2,f[m+4]=g+1,f[m+5]=g+3,m+=6,g+=4}this.__quadIndexBuffer=this.createIndexBuffer(this.__quadIndexBufferCount),this.__quadIndexBuffer.uploadFromTypedArray(f)};$hxClasses["openfl.display3D.Context3D"]=openfl_display3D_Context3D,openfl_display3D_Context3D.__name__="openfl.display3D.Context3D",openfl_display3D_Context3D.__super__=openfl_events_EventDispatcher,openfl_display3D_Context3D.prototype=$extend(openfl_events_EventDispatcher.prototype,{clear:function(e,t,a,n,i,s,_){null==_&&(_=7),null==s&&(s=0),null==i&&(i=1),null==n&&(n=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.__flushGLFramebuffer(),this.__flushGLViewport();var r=0;0!=(1&_)&&(null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared||(this.__stage.__renderer.__cleared=!0),this.__cleared=!0),r|=this.gl.COLOR_BUFFER_BIT,1==this.__contextState.colorMaskRed&&1==this.__contextState.colorMaskGreen&&1==this.__contextState.colorMaskBlue&&1==this.__contextState.colorMaskAlpha||(this.gl.colorMask(!0,!0,!0,!0),this.__contextState.colorMaskRed=!0,this.__contextState.colorMaskGreen=!0,this.__contextState.colorMaskBlue=!0,this.__contextState.colorMaskAlpha=!0),this.gl.clearColor(e,t,a,n)),0!=(2&_)&&(r|=this.gl.DEPTH_BUFFER_BIT,1!=this.__contextState.depthMask&&(this.gl.depthMask(!0),this.__contextState.depthMask=!0),this.gl.clearDepth(i)),0!=(4&_)&&(r|=this.gl.STENCIL_BUFFER_BIT,255!=this.__contextState.stencilWriteMask&&(this.gl.stencilMask(255),this.__contextState.stencilWriteMask=255),this.gl.clearStencil(s),this.__contextState.stencilWriteMask=255),0!=r&&(this.__setGLScissorTest(!1),this.gl.clear(r))},configureBackBuffer:function(e,t,a,n,i,s){if(null==s&&(s=!1),null==i&&(i=!1),null==n&&(n=!0),null==this.__stage3D)this.backBufferWidth=e,this.backBufferHeight=t,this.__backBufferAntiAlias=a,this.__state.backBufferEnableDepthAndStencil=n,this.__backBufferWantsBestResolution=i,this.__backBufferWantsBestResolutionOnBrowserZoom=s;else{if(null==this.__backBufferTexture||this.backBufferWidth!=e||this.backBufferHeight!=t){null!=this.__backBufferTexture&&this.__backBufferTexture.dispose(),null!=this.__frontBufferTexture&&this.__frontBufferTexture.dispose(),this.__backBufferTexture=this.createRectangleTexture(e,t,1,!0),this.__frontBufferTexture=this.createRectangleTexture(e,t,1,!0),null==this.__stage3D.__vertexBuffer&&(this.__stage3D.__vertexBuffer=this.createVertexBuffer(4,5));var _=openfl_Vector.toFloatVector(null,null,null,[e,t,0,1,1,0,t,0,0,1,e,0,0,1,0,0,0,0,0,0]);if(this.__stage3D.__vertexBuffer.uploadFromVector(_,0,20),null==this.__stage3D.__indexBuffer){this.__stage3D.__indexBuffer=this.createIndexBuffer(6);var r=openfl_Vector.toIntVector(null,null,null,[0,1,2,2,1,3]);this.__stage3D.__indexBuffer.uploadFromVector(r,0,6)}}this.backBufferWidth=e,this.backBufferHeight=t,this.__backBufferAntiAlias=a,this.__state.backBufferEnableDepthAndStencil=n,this.__backBufferWantsBestResolution=i,this.__backBufferWantsBestResolutionOnBrowserZoom=s,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(n,a,0),this.__frontBufferTexture.__getGLFramebuffer(n,a,0)}},createCubeTexture:function(e,t,a,n){return null==n&&(n=0),new openfl_display3D_textures_CubeTexture(this,e,t,a,n)},createIndexBuffer:function(e,t){return null==t&&(t=1),new openfl_display3D_IndexBuffer3D(this,e,t)},createProgram:function(e){return null==e&&(e=0),new openfl_display3D_Program3D(this,e)},createRectangleTexture:function(e,t,a,n){return new openfl_display3D_textures_RectangleTexture(this,e,t,openfl_display3D_Context3DTextureFormat.toString(a),n)},createTexture:function(e,t,a,n,i){return null==i&&(i=0),new openfl_display3D_textures_Texture(this,e,t,a,n,i)},createVertexBuffer:function(e,t,a){return null==a&&(a=1),new openfl_display3D_VertexBuffer3D(this,e,t,openfl_display3D_Context3DBufferUsage.toString(a))},createVideoTexture:function(){return new openfl_display3D_textures_VideoTexture(this)},dispose:function(e){null==e&&(e=!0),this.gl=null,this.__dispose()},drawToBitmapData:function(e,t,a){if(null!=e){var n=null!=t?t.__toLimeRectangle():new lime_math_Rectangle(0,0,this.backBufferWidth,this.backBufferHeight),i=null!=a?a.__toLimeVector2():new lime_math_Vector2;if(this.__stage.context3D==this){if(null!=this.__stage.window){if(null!=this.__stage3D){var s=0|-this.__stage3D.get_x(),_=0|-this.__stage3D.get_y();i.x=s,i.y=_}var r=this.__stage.window.readPixels();e.image.copyPixels(r,n,i)}}else if(null!=this.__backBufferTexture){var o=this.__state.renderToTexture;this.setRenderToBackBuffer(),this.__flushGLFramebuffer(),this.__flushGLViewport();var l=this.backBufferWidth*this.backBufferHeight*4,h=u=null!=l?new Uint8Array(l):null,u=this.gl,p=this.backBufferWidth,c=this.backBufferHeight,d=this.__backBufferTexture.__format,f=this.gl.UNSIGNED_BYTE,m=h;u.readPixels(0,0,p,c,d,f,m);r=new lime_graphics_Image(new lime_graphics_ImageBuffer(h,this.backBufferWidth,this.backBufferHeight,32,2));e.image.copyPixels(r,n,i),null!=o&&this.setRenderToTexture(o,this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector)}}},drawTriangles:function(e,t,a){null==a&&(a=-1),null==t&&(t=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush();var n=-1==a?e.__numIndices:3*a;this.__bindGLElementArrayBuffer(e.__id),this.gl.drawElements(this.gl.TRIANGLES,n,this.gl.UNSIGNED_SHORT,2*t)},present:function(){if(this.setRenderToBackBuffer(),null!=this.__stage3D&&null!=this.__backBufferTexture){this.__cleared||this.clear(0,0,0,0,1,0,1);var e=this.__backBufferTexture;this.__backBufferTexture=this.__frontBufferTexture,this.__frontBufferTexture=e,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(this.__state.backBufferEnableDepthAndStencil,this.__backBufferAntiAlias,0),this.__cleared=!1}this.__present=!0},setBlendFactors:function(e,t){this.setBlendFactorsSeparate(e,t,e,t)},setBlendFactorsSeparate:function(e,t,a,n){this.__state.blendSourceRGBFactor=e,this.__state.blendDestinationRGBFactor=t,this.__state.blendSourceAlphaFactor=a,this.__state.blendDestinationAlphaFactor=n,this.__setGLBlendEquation(this.gl.FUNC_ADD)},setColorMask:function(e,t,a,n){this.__state.colorMaskRed=e,this.__state.colorMaskGreen=t,this.__state.colorMaskBlue=a,this.__state.colorMaskAlpha=n},setCulling:function(e){this.__state.culling=e},setDepthTest:function(e,t){this.__state.depthMask=e,this.__state.depthCompareMode=t},setProgram:function(e){if(this.__state.program=e,this.__state.shader=null,null!=e)for(var t=0,a=e.__samplerStates.length;t<a;){var n=t++;null==this.__state.samplerStates[n]?this.__state.samplerStates[n]=e.__samplerStates[n].clone():this.__state.samplerStates[n].copyFrom(e.__samplerStates[n])}},setProgramConstantsFromByteArray:function(e,t,a,n,i){if(0!=a&&null!=this.__state.program&&(null==this.__state.program||1!=this.__state.program.__format)){-1==a&&(a=(openfl_utils_ByteArray.get_length(n)>>>2)-i);var s=1==e,_=s?this.__vertexConstants:this.__fragmentConstants,r=openfl_utils_ByteArray.toBytes(n),o=0,l=openfl_utils_ByteArray.get_length(n);null==o&&(o=0);for(var h=null==o?new Float32Array(r.b.bufferValue):null==l?new Float32Array(r.b.bufferValue,o):new Float32Array(r.b.bufferValue,o,l),u=4*t,p=UInt.toFloat(i)/UInt.toFloat(4)|0,c=0,d=4*a;c<d;){var f=c++;_[u+f]=h[p+f]}null!=this.__state.program&&this.__state.program.__markDirty(s,t,a)}},setProgramConstantsFromMatrix:function(e,t,a,n){if(null==n&&(n=!1),null!=this.__state.program&&1==this.__state.program.__format){this.__flushGLProgram();var i=new Float32Array(16);i[0]=a.rawData.get(0),i[1]=a.rawData.get(1),i[2]=a.rawData.get(2),i[3]=a.rawData.get(3),i[4]=a.rawData.get(4),i[5]=a.rawData.get(5),i[6]=a.rawData.get(6),i[7]=a.rawData.get(7),i[8]=a.rawData.get(8),i[9]=a.rawData.get(9),i[10]=a.rawData.get(10),i[11]=a.rawData.get(11),i[12]=a.rawData.get(12),i[13]=a.rawData.get(13),i[14]=a.rawData.get(14),i[15]=a.rawData.get(15),lime_graphics_WebGLRenderContext.uniformMatrix4fv(this.gl,t,n,i)}else{var s=1==e,_=s?this.__vertexConstants:this.__fragmentConstants,r=a.rawData,o=4*t;n?(_[o++]=r.get(0),_[o++]=r.get(4),_[o++]=r.get(8),_[o++]=r.get(12),_[o++]=r.get(1),_[o++]=r.get(5),_[o++]=r.get(9),_[o++]=r.get(13),_[o++]=r.get(2),_[o++]=r.get(6),_[o++]=r.get(10),_[o++]=r.get(14),_[o++]=r.get(3),_[o++]=r.get(7),_[o++]=r.get(11),_[o++]=r.get(15)):(_[o++]=r.get(0),_[o++]=r.get(1),_[o++]=r.get(2),_[o++]=r.get(3),_[o++]=r.get(4),_[o++]=r.get(5),_[o++]=r.get(6),_[o++]=r.get(7),_[o++]=r.get(8),_[o++]=r.get(9),_[o++]=r.get(10),_[o++]=r.get(11),_[o++]=r.get(12),_[o++]=r.get(13),_[o++]=r.get(14),_[o++]=r.get(15)),null!=this.__state.program&&this.__state.program.__markDirty(s,t,4)}},setProgramConstantsFromVector:function(e,t,a,n){if(null==n&&(n=-1),0!=n&&(null==this.__state.program||1!=this.__state.program.__format)){-1==n&&(n=a.get_length()>>2);for(var i=1==e,s=i?this.__vertexConstants:this.__fragmentConstants,_=a,r=0,o=4*t,l=0,h=n;l<h;){l++;s[o++]=_.get(r++),s[o++]=_.get(r++),s[o++]=_.get(r++),s[o++]=_.get(r++)}null!=this.__state.program&&this.__state.program.__markDirty(i,t,n)}},setRenderToBackBuffer:function(){this.__state.renderToTexture=null},setRenderToTexture:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=!1),this.__state.renderToTexture=e,this.__state.renderToTextureDepthStencil=t,this.__state.renderToTextureAntiAlias=a,this.__state.renderToTextureSurfaceSelector=n},setSamplerStateAt:function(e,t,a,n){null==this.__state.samplerStates[e]&&(this.__state.samplerStates[e]=new openfl_display__$internal_SamplerState);var i=this.__state.samplerStates[e];i.wrap=t,i.filter=a,i.mipfilter=n},setScissorRectangle:function(e){null!=e?(this.__state.scissorEnabled=!0,this.__state.scissorRectangle.copyFrom(e)):this.__state.scissorEnabled=!1},setStencilActions:function(e,t,a,n,i){null==i&&(i=5),null==n&&(n=5),null==a&&(a=5),null==t&&(t=0),null==e&&(e=2),this.__state.stencilTriangleFace=e,this.__state.stencilCompareMode=t,this.__state.stencilPass=a,this.__state.stencilDepthFail=n,this.__state.stencilFail=i},setStencilReferenceValue:function(e,t,a){null==a&&(a=255),null==t&&(t=255),this.__state.stencilReferenceValue=e,this.__state.stencilReadMask=t,this.__state.stencilWriteMask=a},setTextureAt:function(e,t){this.__state.textures[e]=t},setVertexBufferAt:function(e,t,a,n){if(null==n&&(n=4),null==a&&(a=0),null==t)return this.gl.disableVertexAttribArray(e),void this.__bindGLArrayBuffer(null);this.__bindGLArrayBuffer(t.__id),this.gl.enableVertexAttribArray(e);var i=4*a;switch(n){case 0:this.gl.vertexAttribPointer(e,4,this.gl.UNSIGNED_BYTE,!0,t.__stride,i);break;case 1:this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,t.__stride,i);break;case 2:this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,t.__stride,i);break;case 3:this.gl.vertexAttribPointer(e,3,this.gl.FLOAT,!1,t.__stride,i);break;case 4:this.gl.vertexAttribPointer(e,4,this.gl.FLOAT,!1,t.__stride,i);break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}},__bindGLArrayBuffer:function(e){this.__contextState.__currentGLArrayBuffer!=e&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.__contextState.__currentGLArrayBuffer=e)},__bindGLElementArrayBuffer:function(e){this.__contextState.__currentGLElementArrayBuffer!=e&&(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e),this.__contextState.__currentGLElementArrayBuffer=e)},__bindGLFramebuffer:function(e){this.__contextState.__currentGLFramebuffer!=e&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.__contextState.__currentGLFramebuffer=e)},__bindGLTexture2D:function(e){this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.__contextState.__currentGLTexture2D=e},__bindGLTextureCubeMap:function(e){this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,e),this.__contextState.__currentGLTextureCubeMap=e},__dispose:function(){this.driverInfo+=" (Disposed)",null!=this.__stage3D&&(this.__stage3D.__indexBuffer=null,this.__stage3D.__vertexBuffer=null,this.__stage3D.context3D=null,this.__stage3D=null),this.__backBufferTexture=null,this.__context=null,this.__renderStage3DProgram=null,this.__fragmentConstants=null,this.__frontBufferTexture=null,this.__positionScale=null,this.__present=!1,this.__quadIndexBuffer=null,this.__stage=null,this.__vertexConstants=null},__drawTriangles:function(e,t){null==e&&(e=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush(),this.gl.drawArrays(this.gl.TRIANGLES,e,t)},__flushGL:function(){this.__flushGLProgram(),this.__flushGLFramebuffer(),this.__flushGLViewport(),this.__flushGLBlend(),this.__contextState.colorMaskRed==this.__state.colorMaskRed&&this.__contextState.colorMaskGreen==this.__state.colorMaskGreen&&this.__contextState.colorMaskBlue==this.__state.colorMaskBlue&&this.__contextState.colorMaskAlpha==this.__state.colorMaskAlpha||(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha),this.__flushGLCulling(),this.__flushGLDepth(),this.__flushGLScissor(),this.__flushGLStencil(),this.__flushGLTextures()},__flushGLBlend:function(){this.__contextState.blendDestinationRGBFactor==this.__state.blendDestinationRGBFactor&&this.__contextState.blendSourceRGBFactor==this.__state.blendSourceRGBFactor&&this.__contextState.blendDestinationAlphaFactor==this.__state.blendDestinationAlphaFactor&&this.__contextState.blendSourceAlphaFactor==this.__state.blendSourceAlphaFactor||(this.__setGLBlend(!0),this.__state.blendDestinationRGBFactor==this.__state.blendDestinationAlphaFactor&&this.__state.blendSourceRGBFactor==this.__state.blendSourceAlphaFactor?this.gl.blendFunc(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor)):this.gl.blendFuncSeparate(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor),this.__getGLBlend(this.__state.blendSourceAlphaFactor),this.__getGLBlend(this.__state.blendDestinationAlphaFactor)),this.__contextState.blendDestinationRGBFactor=this.__state.blendDestinationRGBFactor,this.__contextState.blendSourceRGBFactor=this.__state.blendSourceRGBFactor,this.__contextState.blendDestinationAlphaFactor=this.__state.blendDestinationAlphaFactor,this.__contextState.blendSourceAlphaFactor=this.__state.blendSourceAlphaFactor)},__flushGLColor:function(){this.__contextState.colorMaskRed==this.__state.colorMaskRed&&this.__contextState.colorMaskGreen==this.__state.colorMaskGreen&&this.__contextState.colorMaskBlue==this.__state.colorMaskBlue&&this.__contextState.colorMaskAlpha==this.__state.colorMaskAlpha||(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha)},__flushGLCulling:function(){if(this.__contextState.culling!=this.__state.culling){if(3==this.__state.culling)this.__setGLCullFace(!1);else switch(this.__setGLCullFace(!0),this.__state.culling){case 0:this.gl.cullFace(this.gl.BACK);break;case 1:this.gl.cullFace(this.gl.FRONT);break;case 2:this.gl.cullFace(this.gl.FRONT_AND_BACK);break;case 3:break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}this.__contextState.culling=this.__state.culling}},__flushGLDepth:function(){var e=this.__state.depthMask&&(null!=this.__state.renderToTexture?this.__state.renderToTextureDepthStencil:this.__state.backBufferEnableDepthAndStencil);if(this.__contextState.depthMask!=e&&(this.gl.depthMask(e),this.__contextState.depthMask=e),this.__contextState.depthCompareMode!=this.__state.depthCompareMode){switch(this.__state.depthCompareMode){case 0:this.gl.depthFunc(this.gl.ALWAYS);break;case 1:this.gl.depthFunc(this.gl.EQUAL);break;case 2:this.gl.depthFunc(this.gl.GREATER);break;case 3:this.gl.depthFunc(this.gl.GEQUAL);break;case 4:this.gl.depthFunc(this.gl.LESS);break;case 5:this.gl.depthFunc(this.gl.LEQUAL);break;case 6:this.gl.depthFunc(this.gl.NEVER);break;case 7:this.gl.depthFunc(this.gl.NOTEQUAL);break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}this.__contextState.depthCompareMode=this.__state.depthCompareMode}},__flushGLFramebuffer:function(){if(null!=this.__state.renderToTexture){if(this.__contextState.renderToTexture!=this.__state.renderToTexture||this.__contextState.renderToTextureSurfaceSelector!=this.__state.renderToTextureSurfaceSelector){var e=this.__state.renderToTexture.__getGLFramebuffer(this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector);this.__bindGLFramebuffer(e),this.__contextState.renderToTexture=this.__state.renderToTexture,this.__contextState.renderToTextureAntiAlias=this.__state.renderToTextureAntiAlias,this.__contextState.renderToTextureDepthStencil=this.__state.renderToTextureDepthStencil,this.__contextState.renderToTextureSurfaceSelector=this.__state.renderToTextureSurfaceSelector}this.__setGLDepthTest(this.__state.renderToTextureDepthStencil),this.__setGLStencilTest(this.__state.renderToTextureDepthStencil),this.__setGLFrontFace(!0)}else{if(null==this.__stage&&0==this.backBufferWidth&&0==this.backBufferHeight)throw haxe_Exception.thrown(new openfl_errors_Error("Context3D backbuffer has not been configured"));null==this.__contextState.renderToTexture&&this.__contextState.__currentGLFramebuffer==this.__state.__primaryGLFramebuffer&&this.__contextState.backBufferEnableDepthAndStencil==this.__state.backBufferEnableDepthAndStencil||(this.__bindGLFramebuffer(this.__state.__primaryGLFramebuffer),this.__contextState.renderToTexture=null,this.__contextState.backBufferEnableDepthAndStencil=this.__state.backBufferEnableDepthAndStencil),this.__setGLDepthTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLStencilTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLFrontFace(this.__stage.context3D!=this)}},__flushGLProgram:function(){var e=this.__state.shader,t=this.__state.program;this.__contextState.shader!=e&&(null!=this.__contextState.shader&&this.__contextState.shader.__disable(),null!=e&&e.__enable(),this.__contextState.shader=e),this.__contextState.program!=t&&(null!=this.__contextState.program&&this.__contextState.program.__disable(),null!=t&&t.__enable(),this.__contextState.program=t),null!=t&&0==t.__format&&(this.__positionScale[1]=this.__stage.context3D==this&&null==this.__state.renderToTexture?1:-1,t.__setPositionScale(this.__positionScale))},__flushGLScissor:function(){if(this.__state.scissorEnabled){this.__setGLScissorTest(!0),this.__contextState.scissorEnabled=!0;var e=0|this.__state.scissorRectangle.x,t=0|this.__state.scissorRectangle.y,a=0|this.__state.scissorRectangle.width,n=0|this.__state.scissorRectangle.height;if(null==this.__state.renderToTexture&&null==this.__stage3D)t=(this.__stage.window.__height*this.__stage.window.__scale|0)-(0|this.__state.scissorRectangle.height)-t;this.__contextState.scissorRectangle.x==e&&this.__contextState.scissorRectangle.y==t&&this.__contextState.scissorRectangle.width==a&&this.__contextState.scissorRectangle.height==n||(this.gl.scissor(e,t,a,n),this.__contextState.scissorRectangle.setTo(e,t,a,n))}else this.__contextState.scissorEnabled!=this.__state.scissorEnabled&&(this.__setGLScissorTest(!1),this.__contextState.scissorEnabled=!1)},__flushGLStencil:function(){this.__contextState.stencilTriangleFace==this.__state.stencilTriangleFace&&this.__contextState.stencilPass==this.__state.stencilPass&&this.__contextState.stencilDepthFail==this.__state.stencilDepthFail&&this.__contextState.stencilFail==this.__state.stencilFail||(this.gl.stencilOpSeparate(this.__getGLTriangleFace(this.__state.stencilTriangleFace),this.__getGLStencilAction(this.__state.stencilFail),this.__getGLStencilAction(this.__state.stencilDepthFail),this.__getGLStencilAction(this.__state.stencilPass)),this.__contextState.stencilTriangleFace=this.__state.stencilTriangleFace,this.__contextState.stencilPass=this.__state.stencilPass,this.__contextState.stencilDepthFail=this.__state.stencilDepthFail,this.__contextState.stencilFail=this.__state.stencilFail),this.__contextState.stencilWriteMask!=this.__state.stencilWriteMask&&(this.gl.stencilMask(this.__state.stencilWriteMask),this.__contextState.stencilWriteMask=this.__state.stencilWriteMask),this.__contextState.stencilCompareMode==this.__state.stencilCompareMode&&this.__contextState.stencilReferenceValue==this.__state.stencilReferenceValue&&this.__contextState.stencilReadMask==this.__state.stencilReadMask||(this.gl.stencilFunc(this.__getGLCompareMode(this.__state.stencilCompareMode),this.__state.stencilReferenceValue,this.__state.stencilReadMask),this.__contextState.stencilCompareMode=this.__state.stencilCompareMode,this.__contextState.stencilReferenceValue=this.__state.stencilReferenceValue,this.__contextState.stencilReadMask=this.__state.stencilReadMask)},__flushGLTextures:function(){for(var e,t,a=0,n=0,i=this.__state.textures.length;n<i;){var s=n++;e=this.__state.textures[s],null==(t=this.__state.samplerStates[s])&&(this.__state.samplerStates[s]=new openfl_display__$internal_SamplerState,t=this.__state.samplerStates[s]),this.gl.activeTexture(this.gl.TEXTURE0+a),null!=e?(e.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(e.__getTexture()):this.__bindGLTextureCubeMap(e.__getTexture()),this.__contextState.textures[s]=e,e.__setSamplerState(t)):this.__bindGLTexture2D(null),null!=this.__state.program&&0==this.__state.program.__format&&t.textureAlpha&&(this.gl.activeTexture(this.gl.TEXTURE0+a+4),null!=e&&null!=e.__alphaTexture?(e.__alphaTexture.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(e.__alphaTexture.__getTexture()):this.__bindGLTextureCubeMap(e.__alphaTexture.__getTexture()),e.__alphaTexture.__setSamplerState(t),this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[a].location,1)):(this.__bindGLTexture2D(null),null!=this.__state.program.__agalAlphaSamplerEnabled[a]&&this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[a].location,0))),++a}},__flushGLViewport:function(){if(null==this.__state.renderToTexture)if(this.__stage.context3D==this){var e=null==this.__stage3D?0:0|this.__stage3D.get_x(),t=this.__stage.window.__height*this.__stage.window.__scale-this.backBufferHeight-(null==this.__stage3D?0:this.__stage3D.get_y())|0;this.gl.viewport(e,t,this.backBufferWidth,this.backBufferHeight)}else this.gl.viewport(0,0,this.backBufferWidth,this.backBufferHeight);else{var a=0,n=0;if(this.__state.renderToTexture instanceof openfl_display3D_textures_Texture){var i=this.__state.renderToTexture;a=i.__width,n=i.__height}else if(this.__state.renderToTexture instanceof openfl_display3D_textures_RectangleTexture){var s=this.__state.renderToTexture;a=s.__width,n=s.__height}else if(this.__state.renderToTexture instanceof openfl_display3D_textures_CubeTexture){var _=this.__state.renderToTexture;a=_.__size,n=_.__size}this.gl.viewport(0,0,a,n)}},__getGLBlend:function(e){switch(e){case 0:return this.gl.DST_ALPHA;case 1:return this.gl.DST_COLOR;case 2:return this.gl.ONE;case 3:return this.gl.ONE_MINUS_DST_ALPHA;case 4:return this.gl.ONE_MINUS_DST_COLOR;case 5:return this.gl.ONE_MINUS_SRC_ALPHA;case 6:return this.gl.ONE_MINUS_SRC_COLOR;case 7:return this.gl.SRC_ALPHA;case 8:return this.gl.SRC_COLOR;case 9:return this.gl.ZERO;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}},__getGLCompareMode:function(e){switch(e){case 0:return this.gl.ALWAYS;case 1:return this.gl.EQUAL;case 2:return this.gl.GREATER;case 3:return this.gl.GEQUAL;case 4:return this.gl.LESS;case 5:return this.gl.LEQUAL;case 6:return this.gl.NEVER;case 7:return this.gl.NOTEQUAL;default:return this.gl.EQUAL}},__getGLStencilAction:function(e){switch(e){case 0:return this.gl.DECR;case 1:return this.gl.DECR_WRAP;case 2:return this.gl.INCR;case 3:return this.gl.INCR_WRAP;case 4:return this.gl.INVERT;case 5:return this.gl.KEEP;case 6:return this.gl.REPLACE;case 7:return this.gl.ZERO;default:return this.gl.KEEP}},__getGLTriangleFace:function(e){switch(e){case 0:return this.gl.BACK;case 1:return this.gl.FRONT;case 2:return this.gl.FRONT_AND_BACK;case 3:return this.gl.NONE;default:return this.gl.FRONT_AND_BACK}},__renderStage3D:function(e){var t=e.context3D;if(null!=t&&t!=this&&null!=t.__frontBufferTexture&&e.visible&&this.backBufferHeight>0&&this.backBufferWidth>0){if(null==this.__renderStage3DProgram){var a=new openfl_utils_AGALMiniAssembler;a.assemble(openfl_display3D_Context3DProgramType.toString(1),"m44 op, va0, vc0\nmov v0, va1");var n=new openfl_utils_AGALMiniAssembler;n.assemble(openfl_display3D_Context3DProgramType.toString(0),"tex ft1, v0, fs0 <2d,nearest,nomip>\nmov oc, ft1"),this.__renderStage3DProgram=this.createProgram(),this.__renderStage3DProgram.upload(a.agalcode,n.agalcode)}this.setProgram(this.__renderStage3DProgram),this.setBlendFactors(2,9),this.setColorMask(!0,!0,!0,!0),this.setCulling(3),this.setDepthTest(!1,0),this.setStencilActions(),this.setStencilReferenceValue(0,0,0),this.setScissorRectangle(null),this.setTextureAt(0,t.__frontBufferTexture),this.setVertexBufferAt(0,e.__vertexBuffer,0,3),this.setVertexBufferAt(1,e.__vertexBuffer,3,2),this.setProgramConstantsFromMatrix(1,0,e.__renderTransform,!0),this.drawTriangles(e.__indexBuffer),this.__present=!0}},__setGLBlend:function(e){this.__contextState.__enableGLBlend!=e&&(e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.__contextState.__enableGLBlend=e)},__setGLBlendEquation:function(e){this.__contextState.__glBlendEquation!=e&&(this.gl.blendEquation(e),this.__contextState.__glBlendEquation=e)},__setGLCullFace:function(e){this.__contextState.__enableGLCullFace!=e&&(e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.__contextState.__enableGLCullFace=e)},__setGLDepthTest:function(e){this.__contextState.__enableGLDepthTest!=e&&(e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this.__contextState.__enableGLDepthTest=e)},__setGLFrontFace:function(e){this.__contextState.__frontFaceGLCCW!=e&&(this.gl.frontFace(e?this.gl.CCW:this.gl.CW),this.__contextState.__frontFaceGLCCW=e)},__setGLScissorTest:function(e){this.__contextState.__enableGLScissorTest!=e&&(e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.__contextState.__enableGLScissorTest=e)},__setGLStencilTest:function(e){this.__contextState.__enableGLStencilTest!=e&&(e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this.__contextState.__enableGLStencilTest=e)},get_enableErrorChecking:function(){return this.__enableErrorChecking},set_enableErrorChecking:function(e){return this.__enableErrorChecking=e},get_totalGPUMemory:function(){if(-1!=openfl_display3D_Context3D.__glMemoryCurrentAvailable){var e=this.gl.getParameter(openfl_display3D_Context3D.__glMemoryCurrentAvailable),t=this.gl.getParameter(openfl_display3D_Context3D.__glMemoryTotalAvailable);if(t>0)return 1024*(t-e)}return 0},__class__:openfl_display3D_Context3D,__properties__:{get_totalGPUMemory:"get_totalGPUMemory",set_enableErrorChecking:"set_enableErrorChecking",get_enableErrorChecking:"get_enableErrorChecking"}});var openfl_display3D_Context3DBlendFactor={fromString:function(e){switch(e){case"destinationAlpha":return 0;case"destinationColor":return 1;case"one":return 2;case"oneMinusDestinationAlpha":return 3;case"oneMinusDestinationColor":return 4;case"oneMinusSourceAlpha":return 5;case"oneMinusSourceColor":return 6;case"sourceAlpha":return 7;case"sourceColor":return 8;case"zero":return 9;default:return null}},toString:function(e){switch(e){case 0:return"destinationAlpha";case 1:return"destinationColor";case 2:return"one";case 3:return"oneMinusDestinationAlpha";case 4:return"oneMinusDestinationColor";case 5:return"oneMinusSourceAlpha";case 6:return"oneMinusSourceColor";case 7:return"sourceAlpha";case 8:return"sourceColor";case 9:return"zero";default:return null}}},openfl_display3D_Context3DBufferUsage={fromString:function(e){switch(e){case"dynamicDraw":return 0;case"staticDraw":return 1;default:return null}},toString:function(e){switch(e){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}}},openfl_display3D_Context3DCompareMode={fromString:function(e){switch(e){case"always":return 0;case"equal":return 1;case"greater":return 2;case"greaterEqual":return 3;case"less":return 4;case"lessEqual":return 5;case"never":return 6;case"notEqual":return 7;default:return null}},toString:function(e){switch(e){case 0:return"always";case 1:return"equal";case 2:return"greater";case 3:return"greaterEqual";case 4:return"less";case 5:return"lessEqual";case 6:return"never";case 7:return"notEqual";default:return null}}},openfl_display3D_Context3DMipFilter={fromString:function(e){switch(e){case"miplinear":return 0;case"mipnearest":return 1;case"mipnone":return 2;default:return null}},toString:function(e){switch(e){case 0:return"miplinear";case 1:return"mipnearest";case 2:return"mipnone";default:return null}}},openfl_display3D_Context3DProfile={fromString:function(e){switch(e){case"baseline":return 0;case"baselineConstrained":return 1;case"baselineExtended":return 2;case"standard":return 3;case"standardConstrained":return 4;case"standardExtended":return 5;default:return null}},toString:function(e){switch(e){case 0:return"baseline";case 1:return"baselineConstrained";case 2:return"baselineExtended";case 3:return"standard";case 4:return"standardConstrained";case 5:return"standardExtended";default:return null}}},openfl_display3D_Context3DProgramFormat={fromString:function(e){switch(e){case"agal":return 0;case"glsl":return 1;default:return null}},toString:function(e){switch(e){case 0:return"agal";case 1:return"glsl";default:return null}}},openfl_display3D_Context3DProgramType={fromString:function(e){switch(e){case"fragment":return 0;case"vertex":return 1;default:return null}},toString:function(e){switch(e){case 0:return"fragment";case 1:return"vertex";default:return null}}},openfl_display3D_Context3DRenderMode={fromString:function(e){switch(e){case"auto":return 0;case"software":return 1;default:return null}},toString:function(e){switch(e){case 0:return"auto";case 1:return"software";default:return null}}},openfl_display3D_Context3DStencilAction={fromString:function(e){switch(e){case"decrementSaturate":return 0;case"decrementWrap":return 1;case"incrementSaturate":return 2;case"incrementWrap":return 3;case"invert":return 4;case"keep":return 5;case"set":return 6;case"zero":return 7;default:return null}},toString:function(e){switch(e){case 0:return"decrementSaturate";case 1:return"decrementWrap";case 2:return"incrementSaturate";case 3:return"incrementWrap";case 4:return"invert";case 5:return"keep";case 6:return"set";case 7:return"zero";default:return null}}},openfl_display3D_Context3DTextureFilter={fromString:function(e){switch(e){case"anisotropic16x":return 0;case"anisotropic2x":return 1;case"anisotropic4x":return 2;case"anisotropic8x":return 3;case"linear":return 4;case"nearest":return 5;default:return null}},toString:function(e){switch(e){case 0:return"anisotropic16x";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"linear";case 5:return"nearest";default:return null}}},openfl_display3D_Context3DTextureFormat={fromString:function(e){switch(e){case"bgrPacked565":return 0;case"bgra":return 1;case"bgraPacked4444":return 2;case"compressed":return 3;case"compressedAlpha":return 4;case"rgbaHalfFloat":return 5;default:return null}},toString:function(e){switch(e){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}}},openfl_display3D_Context3DTriangleFace={fromString:function(e){switch(e){case"back":return 0;case"front":return 1;case"frontAndBack":return 2;case"none":return 3;default:return null}},toString:function(e){switch(e){case 0:return"back";case 1:return"front";case 2:return"frontAndBack";case 3:return"none";default:return null}}},openfl_display3D_Context3DVertexBufferFormat={fromString:function(e){switch(e){case"bytes4":return 0;case"float1":return 1;case"float2":return 2;case"float3":return 3;case"float4":return 4;default:return null}},toString:function(e){switch(e){case 0:return"bytes4";case 1:return"float1";case 2:return"float2";case 3:return"float3";case 4:return"float4";default:return null}}},openfl_display3D_Context3DWrapMode={fromString:function(e){switch(e){case"clamp":return 0;case"clamp_u_repeat_v":return 1;case"repeat":return 2;case"repeat_u_clamp_v":return 3;default:return null}},toString:function(e){switch(e){case 0:return"clamp";case 1:return"clamp_u_repeat_v";case 2:return"repeat";case 3:return"repeat_u_clamp_v";default:return null}}},openfl_display3D_IndexBuffer3D=function(e,t,a){this.__context=e,this.__numIndices=t;var n=this.__context.gl;this.__id=n.createBuffer(),this.__usage=0==a?n.DYNAMIC_DRAW:n.STATIC_DRAW};$hxClasses["openfl.display3D.IndexBuffer3D"]=openfl_display3D_IndexBuffer3D,openfl_display3D_IndexBuffer3D.__name__="openfl.display3D.IndexBuffer3D",openfl_display3D_IndexBuffer3D.prototype={dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(e,t,a,n){var i,s=t+2*a,_=openfl_utils_ByteArray.toArrayBuffer(e),r=s;null==r&&(r=0),i=null!=_?null==n?new Uint16Array(_,r):new Uint16Array(_,r,n):null,this.uploadFromTypedArray(i)},uploadFromTypedArray:function(e,t){if(null==t&&(t=-1),null!=e){var a=this.__context.gl;this.__context.__bindGLElementArrayBuffer(this.__id),lime_graphics_WebGLRenderContext.bufferData(a,a.ELEMENT_ARRAY_BUFFER,e,this.__usage)}},uploadFromVector:function(e,t,a){if(null!=e){this.__context.gl;var n=t+a,i=this.__tempUInt16Array;if(null==this.__tempUInt16Array||this.__tempUInt16Array.length<a){var s;s=null!=a?new Uint16Array(a):null,this.__tempUInt16Array=s,null!=i&&this.__tempUInt16Array.set(i)}for(var _=t,r=n;_<r;){var o=_++;this.__tempUInt16Array[o-t]=e.get(o)}this.uploadFromTypedArray(this.__tempUInt16Array)}},__class__:openfl_display3D_IndexBuffer3D};var openfl_display3D_Program3D=function(e,t){this.__context=e,this.__format=t,0==this.__format?(this.__agalSamplerUsageMask=0,this.__agalUniforms=new haxe_ds_List,this.__agalSamplerUniforms=new haxe_ds_List,this.__agalAlphaSamplerUniforms=new haxe_ds_List,this.__agalAlphaSamplerEnabled=[]):(this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslSamplerNames=[],this.__glslUniformLocations=[],this.__glslUniformNames=[],this.__glslUniformTypes=[]),this.__samplerStates=[]};$hxClasses["openfl.display3D.Program3D"]=openfl_display3D_Program3D,openfl_display3D_Program3D.__name__="openfl.display3D.Program3D",openfl_display3D_Program3D.prototype={dispose:function(){this.__deleteShaders()},getAttributeIndex:function(e){if(0==this.__format)return StringTools.startsWith(e,"va")?Std.parseInt(e.substring(2)):-1;for(var t=0,a=this.__glslAttribNames.length;t<a;){var n=t++;if(this.__glslAttribNames[n]==e)return n}return-1},getConstantIndex:function(e){if(0==this.__format)return StringTools.startsWith(e,"vc")||StringTools.startsWith(e,"fc")?Std.parseInt(e.substring(2)):-1;for(var t=0,a=this.__glslUniformNames.length;t<a;){var n=t++;if(this.__glslUniformNames[n]==e)return this.__glslUniformLocations[n]}return-1},upload:function(e,t){if(0==this.__format){var a=[],n=openfl_display3D__$internal_AGALConverter.convertToGLSL(e,null),i=openfl_display3D__$internal_AGALConverter.convertToGLSL(t,a);5==lime_utils_Log.level&&(lime_utils_Log.info(n,{fileName:"openfl/display3D/Program3D.hx",lineNumber:399,className:"openfl.display3D.Program3D",methodName:"upload"}),lime_utils_Log.info(i,{fileName:"openfl/display3D/Program3D.hx",lineNumber:400,className:"openfl.display3D.Program3D",methodName:"upload"})),this.__deleteShaders(),this.__uploadFromGLSL(n,i),this.__buildAGALUniformList();for(var s=0,_=a.length;s<_;){var r=s++;this.__samplerStates[r]=a[r]}}},uploadSources:function(e,t){if(1==this.__format){var a="#ifdef GL_ES\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t#endif\n\t\t\t",n=a+e,i=a+t;if(n!=this.__glVertexSource||i!=this.__glFragmentSource){this.__processGLSLData(e,"attribute"),this.__processGLSLData(e,"uniform"),this.__processGLSLData(t,"uniform"),this.__deleteShaders(),this.__uploadFromGLSL(n,i);var s=this.__glslSamplerNames,_=this.__glslAttribNames,r=this.__glslAttribTypes,o=this.__glslUniformNames;this.__glslSamplerNames=[],this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslUniformLocations=[];for(var l,h,u=this.__context.gl,p=0;p<s.length;){var c=s[p];++p,l=u.getUniformLocation(this.__glProgram,c),this.__glslSamplerNames[l]=c}p=0;for(var d=_.length;p<d;){var f=p++;l=u.getAttribLocation(this.__glProgram,_[f]),this.__glslAttribNames[l]=_[f],this.__glslAttribTypes[l]=r[f]}for(p=0,d=o.length;p<d;){f=p++;h=u.getUniformLocation(this.__glProgram,o[f]),this.__glslUniformLocations[f]=h}}}},__buildAGALUniformList:function(){if(1!=this.__format){var e=this.__context.gl;this.__agalUniforms.clear(),this.__agalSamplerUniforms.clear(),this.__agalAlphaSamplerUniforms.clear(),this.__agalAlphaSamplerEnabled=[],this.__agalSamplerUsageMask=0;var t;t=e.getProgramParameter(this.__glProgram,e.ACTIVE_UNIFORMS);for(var a=new haxe_ds_List,n=new haxe_ds_List,i=0,s=t;i<s;){var _=i++,r=e.getActiveUniform(this.__glProgram,_),o=r.name,l=r.size,h=r.type,u=new openfl_display3D_Uniform(this.__context);u.name=o,u.size=l,u.type=h,u.location=e.getUniformLocation(this.__glProgram,u.name);var p=u.name.indexOf("[");switch(p>=0&&(u.name=u.name.substring(0,p)),u.type){case 35674:u.regCount=2;break;case 35675:u.regCount=3;break;case 35676:u.regCount=4;break;default:u.regCount=1}if(u.regCount*=u.size,this.__agalUniforms.add(u),"vcPositionScale"==u.name)this.__agalPositionScale=u;else if(StringTools.startsWith(u.name,"vc"))u.regIndex=Std.parseInt(u.name.substring(2)),u.regData=this.__context.__vertexConstants,a.add(u);else if(StringTools.startsWith(u.name,"fc"))u.regIndex=Std.parseInt(u.name.substring(2)),u.regData=this.__context.__fragmentConstants,n.add(u);else if(StringTools.startsWith(u.name,"sampler")&&-1==u.name.indexOf("alpha")){u.regIndex=Std.parseInt(u.name.substring(7)),this.__agalSamplerUniforms.add(u);for(var c=0,d=u.regCount;c<d;){var f=c++;this.__agalSamplerUsageMask|=1<<u.regIndex+f}}else if(StringTools.startsWith(u.name,"sampler")&&StringTools.endsWith(u.name,"_alpha")){var m=u.name.indexOf("_")-7;u.regIndex=Std.parseInt(u.name.substring(7,7+m))+4,this.__agalAlphaSamplerUniforms.add(u)}else StringTools.startsWith(u.name,"sampler")&&StringTools.endsWith(u.name,"_alphaEnabled")&&(u.regIndex=Std.parseInt(u.name.substring(7)),this.__agalAlphaSamplerEnabled[u.regIndex]=u);5==lime_utils_Log.level&&lime_utils_Log.verbose(_+" name:"+u.name+" type:"+u.type+" size:"+u.size+" location:"+Std.string(u.location),{fileName:"openfl/display3D/Program3D.hx",lineNumber:577,className:"openfl.display3D.Program3D",methodName:"__buildAGALUniformList"})}this.__agalVertexUniformMap=new openfl_display3D_UniformMap(Lambda.array(a)),this.__agalFragmentUniformMap=new openfl_display3D_UniformMap(Lambda.array(n))}},__deleteShaders:function(){var e=this.__context.gl;null!=this.__glProgram&&(this.__glProgram=null),null!=this.__glVertexShader&&(e.deleteShader(this.__glVertexShader),this.__glVertexShader=null),null!=this.__glFragmentShader&&(e.deleteShader(this.__glFragmentShader),this.__glFragmentShader=null)},__disable:function(){this.__format},__enable:function(){var e=this.__context.gl;if(e.useProgram(this.__glProgram),0==this.__format){this.__agalVertexUniformMap.markAllDirty(),this.__agalFragmentUniformMap.markAllDirty();for(var t=this.__agalSamplerUniforms.h;null!=t;){var a=t.item;if(t=t.next,1!=(i=a).regCount)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("!!! TODO: uniform location on webgl"));e.uniform1i(i.location,i.regIndex)}for(var n=this.__agalAlphaSamplerUniforms.h;null!=n;){var i;a=n.item;if(n=n.next,1!=(i=a).regCount)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("!!! TODO: uniform location on webgl"));e.uniform1i(i.location,i.regIndex)}}},__flush:function(){0==this.__format&&(this.__agalVertexUniformMap.flush(),this.__agalFragmentUniformMap.flush())},__getSamplerState:function(e){return this.__samplerStates[e]},__markDirty:function(e,t,a){1!=this.__format&&(e?this.__agalVertexUniformMap.markDirty(t,a):this.__agalFragmentUniformMap.markDirty(t,a))},__processGLSLData:function(e,t){var a,n,i,s,_=0;for(n=new EReg("uniform"==t?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");n.matchSub(e,_);)if(s=n.matched(1),i=n.matched(2),!StringTools.startsWith(i,"gl_")){if(StringTools.startsWith(s,"sampler"))this.__glslSamplerNames.push(i);else{var r;switch(s){case"bool":r=0;break;case"bvec2":r=1;break;case"bvec3":r=2;break;case"bvec4":r=3;break;case"dvec2":case"vec2":r=5;break;case"dvec3":case"vec3":r=6;break;case"double":case"float":r=4;break;case"ivec3":case"uvec3":r=10;break;case"ivec4":case"uvec4":r=11;break;case"mat2":case"mat2x2":r=12;break;case"mat2x3":r=13;break;case"mat2x4":r=14;break;case"mat3x2":r=15;break;case"mat3":case"mat3x3":r=16;break;case"mat3x4":r=17;break;case"mat4":case"mat4x4":r=20;break;case"mat4x2":r=18;break;case"mat4x3":r=19;break;case"int":case"uint":r=8;break;case"ivec2":case"uvec2":r=9;break;case"dvec4":case"vec4":r=7;break;default:r=null}"uniform"==t?(this.__glslUniformNames.push(i),this.__glslUniformTypes.push(r)):(this.__glslAttribNames.push(i),this.__glslAttribTypes.push(r))}_=(a=n.matchedPos()).pos+a.len}},__setPositionScale:function(e){if(1!=this.__format&&null!=this.__agalPositionScale){var t=this.__context.gl,a=this.__agalPositionScale.location,n=e;t.uniform4fv(a,n)}},__setSamplerState:function(e,t){this.__samplerStates[e]=t},__uploadFromGLSL:function(e,t){var a=this.__context.gl;if(this.__glVertexSource=e,this.__glFragmentSource=t,this.__glVertexShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this.__glVertexShader,e),a.compileShader(this.__glVertexShader),0==a.getShaderParameter(this.__glVertexShader,a.COMPILE_STATUS)){var n="Error compiling vertex shader";n+="\n"+a.getShaderInfoLog(this.__glVertexShader),n+="\n"+e,lime_utils_Log.error(n,{fileName:"openfl/display3D/Program3D.hx",lineNumber:869,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glFragmentShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this.__glFragmentShader,t),a.compileShader(this.__glFragmentShader),0==a.getShaderParameter(this.__glFragmentShader,a.COMPILE_STATUS)){n="Error compiling fragment shader";n+="\n"+a.getShaderInfoLog(this.__glFragmentShader),n+="\n"+t,lime_utils_Log.error(n,{fileName:"openfl/display3D/Program3D.hx",lineNumber:881,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glProgram=a.createProgram(),0==this.__format)for(var i=0;i<16;){var s=i++,_="va"+s;-1!=e.indexOf(" "+_)&&a.bindAttribLocation(this.__glProgram,s,_)}else{i=0;for(var r=this.__glslAttribNames;i<r.length;){_=r[i];if(++i,_.indexOf("Position")>-1&&StringTools.startsWith(_,"openfl_")){a.bindAttribLocation(this.__glProgram,0,_);break}}}if(a.attachShader(this.__glProgram,this.__glVertexShader),a.attachShader(this.__glProgram,this.__glFragmentShader),a.linkProgram(this.__glProgram),0==a.getProgramParameter(this.__glProgram,a.LINK_STATUS)){n="Unable to initialize the shader program";n+="\n"+a.getProgramInfoLog(this.__glProgram),lime_utils_Log.error(n,{fileName:"openfl/display3D/Program3D.hx",lineNumber:922,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}},__class__:openfl_display3D_Program3D};var openfl_display3D_Uniform=function(e){this.context=e,this.isDirty=!0;var t=new lime_utils_BytePointerData(null,0);this.regDataPointer=t};$hxClasses["openfl.display3D.Uniform"]=openfl_display3D_Uniform,openfl_display3D_Uniform.__name__="openfl.display3D.Uniform",openfl_display3D_Uniform.prototype={flush:function(){var e=this.context.gl,t=4*this.regIndex;switch(this.type){case 35664:lime_graphics_WebGL2RenderContext.uniform2fv(e,this.location,this.regData.subarray(t,t+2*this.regCount));break;case 35665:var a=this.location,n=this.regData.subarray(t,t+3*this.regCount);null!=(i=null)?e.uniform3fv(a,n,i,null):e.uniform3fv(a,n);break;case 35666:a=this.location,n=this.regData.subarray(t,t+4*this.regCount);null!=(i=null)?e.uniform4fv(a,n,i,null):e.uniform4fv(a,n);break;case 35674:lime_graphics_WebGLRenderContext.uniformMatrix2fv(e,this.location,!1,this.regData.subarray(t,t+2*this.size*2));break;case 35675:lime_graphics_WebGLRenderContext.uniformMatrix3fv(e,this.location,!1,this.regData.subarray(t,t+3*this.size*3));break;case 35676:lime_graphics_WebGLRenderContext.uniformMatrix4fv(e,this.location,!1,this.regData.subarray(t,t+4*this.size*4));break;default:var i;a=this.location,n=this.regData.subarray(t,t+4*this.regCount);null!=(i=null)?e.uniform4fv(a,n,i,null):e.uniform4fv(a,n)}},__getUniformRegisters:function(e,t){return this.regData.subarray(e,e+t)},__class__:openfl_display3D_Uniform};var openfl_display3D_UniformMap=function(e){this.__uniforms=e,this.__uniforms.sort((function(e,t){return Reflect.compare(e.regIndex,t.regIndex)}));for(var t=0,a=0,n=this.__uniforms;a<n.length;){var i=n[a];++a,i.regIndex+i.regCount>t&&(t=i.regIndex+i.regCount)}this.__registerLookup=openfl_Vector.toObjectVector(null,t);for(a=0,n=this.__uniforms;a<n.length;){i=n[a];++a;for(var s=0,_=i.regCount;s<_;){var r=s++;this.__registerLookup.set(i.regIndex+r,i)}}this.__anyDirty=this.__allDirty=!0};$hxClasses["openfl.display3D.UniformMap"]=openfl_display3D_UniformMap,openfl_display3D_UniformMap.__name__="openfl.display3D.UniformMap",openfl_display3D_UniformMap.prototype={flush:function(){if(this.__anyDirty){for(var e=0,t=this.__uniforms;e<t.length;){var a=t[e];++e,(this.__allDirty||a.isDirty)&&(a.flush(),a.isDirty=!1)}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__allDirty=!0,this.__anyDirty=!0},markDirty:function(e,t){if(!this.__allDirty){var a=e+t;a>this.__registerLookup.get_length()&&(a=this.__registerLookup.get_length());for(var n=e;n<a;){var i=this.__registerLookup.get(n);null!=i?(i.isDirty=!0,this.__anyDirty=!0,n=i.regIndex+i.regCount):++n}}},__class__:openfl_display3D_UniformMap};var openfl_display3D_VertexBuffer3D=function(e,t,a,n){this.__context=e,this.__numVertices=t,this.__vertexSize=a;var i=this.__context.gl;this.__id=i.createBuffer(),this.__stride=4*this.__vertexSize,this.__usage=0==openfl_display3D_Context3DBufferUsage.fromString(n)?i.DYNAMIC_DRAW:i.STATIC_DRAW};$hxClasses["openfl.display3D.VertexBuffer3D"]=openfl_display3D_VertexBuffer3D,openfl_display3D_VertexBuffer3D.__name__="openfl.display3D.VertexBuffer3D",openfl_display3D_VertexBuffer3D.prototype={dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(e,t,a,n){var i,s=t+a*this.__stride,_=n*this.__vertexSize,r=openfl_utils_ByteArray.toArrayBuffer(e),o=s;null==o&&(o=0),i=null!=r?null==_?new Float32Array(r,o):new Float32Array(r,o,_):null,this.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(i))},uploadFromTypedArray:function(e,t){if(null==t&&(t=-1),null!=e){var a=this.__context.gl;this.__context.__bindGLArrayBuffer(this.__id),lime_graphics_WebGLRenderContext.bufferData(a,a.ARRAY_BUFFER,e,this.__usage)}},uploadFromVector:function(e,t,a){if(null!=e){this.__context.gl;var n=t*this.__vertexSize,i=a*this.__vertexSize,s=n+i,_=this.__tempFloat32Array;if(null==this.__tempFloat32Array||this.__tempFloat32Array.length<i){var r;r=null!=i?new Float32Array(i):null,this.__tempFloat32Array=r,null!=_&&this.__tempFloat32Array.set(_)}for(var o=n,l=s;o<l;){var h=o++;this.__tempFloat32Array[h-n]=e.get(h)}this.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__tempFloat32Array))}},__class__:openfl_display3D_VertexBuffer3D};var openfl_display3D__$internal_AGALConverter=function(){};$hxClasses["openfl.display3D._internal.AGALConverter"]=openfl_display3D__$internal_AGALConverter,openfl_display3D__$internal_AGALConverter.__name__="openfl.display3D._internal.AGALConverter",openfl_display3D__$internal_AGALConverter.prefixFromType=function(e,t){switch(e){case 0:return"va";case 1:return t==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX?"vc":"fc";case 2:return t==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Invalid data!"))}},openfl_display3D__$internal_AGALConverter.readUInt64=function(e){var t=e.readInt(),a=e.readInt();return new haxe__$Int64__$_$_$Int64(a,t)},openfl_display3D__$internal_AGALConverter.convertToGLSL=function(e,t){e.position=0,e.__endian=1;var a=255&e.readByte();if(176==a)return e.readUTF();if(160!=a)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Magic value must be 0xA0, may not be AGAL"));if(1!=(x=e.readInt()))throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Version must be 1"));if(161!=(255&e.readByte()))throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Shader type ID must be 0xA1"));for(var n=0==(255&e.readByte())?openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX:openfl_display3D__$internal__$AGALConverter_ProgramType.FRAGMENT,i=new openfl_display3D__$internal_RegisterMap,s="";;){var _=e.position;if(!UInt.gt(openfl_utils_ByteArray.get_length(e),_))break;var r=e.readInt(),o=e.readUnsignedInt(),l=openfl_display3D__$internal_AGALConverter.readUInt64(e),h=openfl_display3D__$internal_AGALConverter.readUInt64(e),u=openfl_display3D__$internal__$AGALConverter_DestRegister.parse(o,n),p=openfl_display3D__$internal__$AGALConverter_SourceRegister.parse(l,n,u.mask),c=openfl_display3D__$internal__$AGALConverter_SourceRegister.parse(h,n,u.mask);switch(s+="\t",r){case 0:s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+"; // mov"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 1:s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" + "+c.toGLSL()+"; // add"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 2:s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" - "+c.toGLSL()+"; // sub"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 3:s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" * "+c.toGLSL()+"; // mul"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 4:s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" / "+c.toGLSL()+"; // div"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 5:p.toGLSL().indexOf(".")>-1?s+=Std.string(u.toGLSL()+" = 1.0 / "+p.toGLSL()+"; // rcp"):s+=Std.string(u.toGLSL()+" = vec4(1) / "+p.toGLSL()+"; // rcp"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 6:s+=Std.string(u.toGLSL()+" = min("+p.toGLSL()+", "+c.toGLSL()+"); // min"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 7:s+=Std.string(u.toGLSL()+" = max("+p.toGLSL()+", "+c.toGLSL()+"); // max"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 8:s+=Std.string(u.toGLSL()+" = fract("+p.toGLSL()+"); // frc"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 9:s+=Std.string(u.toGLSL()+" = sqrt("+p.toGLSL()+"); // sqrt"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 10:s+=Std.string(u.toGLSL()+" = inversesqrt("+p.toGLSL()+"); // rsq"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 11:s+=Std.string(u.toGLSL()+" = pow("+p.toGLSL()+", "+c.toGLSL()+"); // pow"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 12:s+=Std.string(u.toGLSL()+" = log2("+p.toGLSL()+"); // log"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 13:s+=Std.string(u.toGLSL()+" = exp2("+p.toGLSL()+"); // exp"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 14:s+=Std.string(u.toGLSL()+" = normalize("+p.toGLSL()+"); // normalize"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 15:s+=Std.string(u.toGLSL()+" = sin("+p.toGLSL()+"); // sin"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 16:s+=Std.string(u.toGLSL()+" = cos("+p.toGLSL()+"); // cos"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 17:p.sourceMask=c.sourceMask=7,s+=Std.string(u.toGLSL()+" = cross(vec3("+p.toGLSL()+"), vec3("+c.toGLSL()+")); // crs"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 18:p.sourceMask=c.sourceMask=7,s+=Std.string(u.toGLSL()+" = vec4(dot(vec3("+p.toGLSL()+"), vec3("+c.toGLSL()+")))"+u.getWriteMask()+"; // dp3"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 19:p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(dot(vec4("+p.toGLSL()+"), vec4("+c.toGLSL()+")))"+u.getWriteMask()+"; // dp4"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 20:s+=Std.string(u.toGLSL()+" = abs("+p.toGLSL()+"); // abs"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 21:s+=Std.string(u.toGLSL()+" = -"+p.toGLSL()+"; // neg"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 22:s+=Std.string(u.toGLSL()+" = clamp("+p.toGLSL()+", 0.0, 1.0); // saturate"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 23:var d=i.getRegisterUsage(c);d!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4&&d!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY?(s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" * mat3("+c.toGLSL(!1)+"); // m33"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.MATRIX_4_4)):(p.sourceMask=c.sourceMask=7,s+=Std.string(u.toGLSL()+" = vec3(dot("+p.toGLSL(!0)+","+c.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+c.toGLSL(!0,1)+"),dot("+p.toGLSL(!0)+","+c.toGLSL(!0,2)+")); // m33"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,0),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,1),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,2));break;case 24:var f=i.getRegisterUsage(c);f!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4&&f!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY?(s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" * "+c.toGLSL(!1)+"; // m44"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.MATRIX_4_4)):(p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(dot("+p.toGLSL(!0)+","+c.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+c.toGLSL(!0,1)+"), dot("+p.toGLSL(!0)+","+c.toGLSL(!0,2)+"), dot("+p.toGLSL(!0)+","+c.toGLSL(!0,3)+")); // m44"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,0),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,1),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,2),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,3));break;case 25:u.mask&=7;var m=i.getRegisterUsage(c);m!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4&&m!=openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY?(s+=Std.string(u.toGLSL()+" = "+p.toGLSL()+" * "+c.toGLSL(!1)+"; // m34"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.MATRIX_4_4)):(p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec3(dot("+p.toGLSL(!0)+","+c.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+c.toGLSL(!0,1)+"),dot("+p.toGLSL(!0)+","+c.toGLSL(!0,2)+")); // m34"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,0),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,1),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4,2));break;case 39:p.sourceMask=15,s+=Std.string("if (any(lessThan("+p.toGLSL()+", vec4(0)))) discard;"),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 40:var g=openfl_display3D__$internal__$AGALConverter_SamplerRegister.parse(h,n);switch(g.d){case 0:2==g.t?(p.sourceMask=3,i.addSaR(g,openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_2D_ALPHA),s+=Std.string("if ("+g.toGLSL()+"_alphaEnabled) {\n"),s+=Std.string("\t\t"+u.toGLSL()+" = vec4(texture2D("+g.toGLSL()+", "+p.toGLSL()+").xyz, texture2D("+g.toGLSL()+"_alpha, "+p.toGLSL()+").x); // tex + alpha\n"),s+="\t} else {\n",s+=Std.string("\t\t"+u.toGLSL()+" = texture2D("+g.toGLSL()+", "+p.toGLSL()+"); // tex\n"),s+="\t}"):(p.sourceMask=3,i.addSaR(g,openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_2D),s+=Std.string(u.toGLSL()+" = texture2D("+g.toGLSL()+", "+p.toGLSL()+"); // tex"));break;case 1:2==g.t?(p.sourceMask=7,i.addSaR(g,openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_CUBE_ALPHA),s+=Std.string("if ("+g.toGLSL()+"_alphaEnabled) {\n"),s+=Std.string("\t\t"+u.toGLSL()+" = vec4(textureCube("+g.toGLSL()+", "+p.toGLSL()+").xyz, textureCube("+g.toGLSL()+"_alpha, "+p.toGLSL()+").x); // tex + alpha\n"),s+="\t} else {\n",s+=Std.string("\t\t"+u.toGLSL()+" = textureCube("+g.toGLSL()+", "+p.toGLSL()+"); // tex"),s+="\t}"):(p.sourceMask=7,s+=Std.string(u.toGLSL()+" = textureCube("+g.toGLSL()+", "+p.toGLSL()+"); // tex"),i.addSaR(g,openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_CUBE))}i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),null!=t&&(t[g.n]=g.toSamplerState());break;case 41:p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(greaterThanEqual("+p.toGLSL()+", "+c.toGLSL()+"))"+u.getWriteMask()+"; // ste"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 42:p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(lessThan("+p.toGLSL()+", "+c.toGLSL()+"))"+u.getWriteMask()+"; // slt"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 44:p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(equal("+p.toGLSL()+", "+c.toGLSL()+"))"+u.getWriteMask()+"; // seq"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;case 45:p.sourceMask=c.sourceMask=15,s+=Std.string(u.toGLSL()+" = vec4(notEqual("+p.toGLSL()+", "+c.toGLSL()+"))"+u.getWriteMask()+"; // sne"),i.addDR(u,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(p,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),i.addSR(c,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4);break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Opcode "+r))}s+="\n"}if(null==openfl_display3D__$internal_AGALConverter.limitedProfile){var x=lime_graphics_opengl_GL.context.getParameter(7938);openfl_display3D__$internal_AGALConverter.limitedProfile=x.indexOf("OpenGL ES")>-1||x.indexOf("WebGL")>-1}var k="";return k+=Std.string("// AGAL "+(n==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX?"vertex":"fragment")+" shader\n"),openfl_display3D__$internal_AGALConverter.limitedProfile?(k+="#version 100\n",k+="#ifdef GL_FRAGMENT_PRECISION_HIGH\n",k+="precision highp float;\n",k+="#else\n",k+="precision mediump float;\n",k+="#endif\n"):k+="#version 120\n",k+=Std.string(i.toGLSL(!1)),n==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX&&(k+="uniform vec4 vcPositionScale;\n"),k+="void main() {\n",k+=Std.string(i.toGLSL(!0)),k+=Std.string(s),n==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX&&(k+="\tgl_Position *= vcPositionScale;\n"),k+="}\n"};var openfl_display3D__$internal__$AGALConverter_DestRegister=function(){};$hxClasses["openfl.display3D._internal._AGALConverter.DestRegister"]=openfl_display3D__$internal__$AGALConverter_DestRegister,openfl_display3D__$internal__$AGALConverter_DestRegister.__name__="openfl.display3D._internal._AGALConverter.DestRegister",openfl_display3D__$internal__$AGALConverter_DestRegister.parse=function(e,t){var a=new openfl_display3D__$internal__$AGALConverter_DestRegister;return a.programType=t,a.type=e>>>24&15,a.mask=e>>>16&15,a.n=65535&e,a},openfl_display3D__$internal__$AGALConverter_DestRegister.prototype={getWriteMask:function(){var e=".";return 0!=(1&this.mask)&&(e+="x"),0!=(2&this.mask)&&(e+="y"),0!=(4&this.mask)&&(e+="z"),0!=(8&this.mask)&&(e+="w"),e},toGLSL:function(e){var t;return null==e&&(e=!0),t=3==this.type?this.programType==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX?"gl_Position":"gl_FragColor":openfl_display3D__$internal_AGALConverter.prefixFromType(this.type,this.programType)+this.n,e&&15!=this.mask&&(t+=this.getWriteMask()),t},__class__:openfl_display3D__$internal__$AGALConverter_DestRegister};var openfl_display3D__$internal__$AGALConverter_ProgramType=$hxEnums["openfl.display3D._internal._AGALConverter.ProgramType"]={__ename__:"openfl.display3D._internal._AGALConverter.ProgramType",__constructs__:["VERTEX","FRAGMENT"],VERTEX:{_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:$estr},FRAGMENT:{_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:$estr}},openfl_display3D__$internal_RegisterMap=function(){this.mEntries=[]};$hxClasses["openfl.display3D._internal.RegisterMap"]=openfl_display3D__$internal_RegisterMap,openfl_display3D__$internal_RegisterMap.__name__="openfl.display3D._internal.RegisterMap",openfl_display3D__$internal_RegisterMap.prototype={add:function(e,t,a,n){for(var i=0,s=this.mEntries;i<s.length;){var _=s[i];if(++i,_.type==e&&_.name==t&&_.number==a){if(_.usage!=n)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Cannot use register in multiple ways yet (mat4/vec4)"));return}}(_=new openfl_display3D__$internal__$AGALConverter_RegisterMapEntry).type=e,_.name=t,_.number=a,_.usage=n,this.mEntries.push(_)},addDR:function(e,t){this.add(e.type,e.toGLSL(!1),e.n,t)},addSaR:function(e,t){this.add(e.type,e.toGLSL(),e.n,t)},addSR:function(e,t,a){if(null==a&&(a=0),0!=e.d)return this.add(e.itype,openfl_display3D__$internal_AGALConverter.prefixFromType(e.itype,e.programType)+e.n,e.n,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4),void this.add(e.type,openfl_display3D__$internal_AGALConverter.prefixFromType(e.type,e.programType)+e.o,e.o,openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY);this.add(e.type,e.toGLSL(!1,a),e.n+a,t)},getRegisterUsage:function(e){return 0!=e.d?openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY:this.getUsage(e.type,e.toGLSL(!1),e.n)},getUsage:function(e,t,a){for(var n=0,i=this.mEntries;n<i.length;){var s=i[n];if(++n,s.type==e&&s.name==t&&s.number==a)return s.usage}return openfl_display3D__$internal__$AGALConverter_RegisterUsage.UNUSED},toGLSL:function(e){var t;this.mEntries.sort((function(e,t){return e.number-t.number})),this.mEntries.sort((function(e,t){return js_Boot.__cast(e.type,Int)-js_Boot.__cast(t.type,Int)}));for(var a="",n=0,i=this.mEntries.length;n<i;){var s=n++;if(t=this.mEntries[s],!(e&&2!=t.type||!e&&2==t.type)&&3!=t.type){switch(t.type){case 0:a+="attribute ";break;case 1:a+="uniform ";break;case 2:a+="\t";break;case 3:break;case 4:a+="varying ";break;case 5:a+="uniform ";break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}switch(t.usage._hx_index){case 0:lime_utils_Log.info("Missing switch patten: RegisterUsage.UNUSED",{fileName:"openfl/display3D/_internal/AGALConverter.hx",lineNumber:750,className:"openfl.display3D._internal.RegisterMap",methodName:"toGLSL"});break;case 1:a+="vec4 ";break;case 2:a+="mat4 ";break;case 3:a+="sampler2D ";break;case 4:break;case 5:a+="samplerCube ";break;case 6:break;case 7:a+="vec4 "}t.usage==openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_2D_ALPHA?(a+="sampler2D ",a+=Std.string(t.name),a+=";\n",a+="uniform ",a+="sampler2D ",a+=Std.string(t.name+"_alpha"),a+=";\n",a+="uniform ",a+="bool ",a+=Std.string(t.name+"_alphaEnabled"),a+=";\n"):t.usage==openfl_display3D__$internal__$AGALConverter_RegisterUsage.SAMPLER_CUBE_ALPHA?(a+="samplerCube ",a+=Std.string(t.name),a+=";\n",a+="uniform ",a+="samplerCube ",a+=Std.string(t.name+"_alpha"),a+=";\n",a+="uniform ",a+="bool ",a+=Std.string(t.name+"_alphaEnabled"),a+=";\n"):t.usage==openfl_display3D__$internal__$AGALConverter_RegisterUsage.VECTOR_4_ARRAY?(a+=Std.string(t.name+"[128]"),a+=";\n"):(a+=Std.string(t.name),a+=";\n")}}return a},__class__:openfl_display3D__$internal_RegisterMap};var openfl_display3D__$internal__$AGALConverter_RegisterMapEntry=function(){};$hxClasses["openfl.display3D._internal._AGALConverter.RegisterMapEntry"]=openfl_display3D__$internal__$AGALConverter_RegisterMapEntry,openfl_display3D__$internal__$AGALConverter_RegisterMapEntry.__name__="openfl.display3D._internal._AGALConverter.RegisterMapEntry",openfl_display3D__$internal__$AGALConverter_RegisterMapEntry.prototype={__class__:openfl_display3D__$internal__$AGALConverter_RegisterMapEntry};var openfl_display3D__$internal__$AGALConverter_RegisterUsage=$hxEnums["openfl.display3D._internal._AGALConverter.RegisterUsage"]={__ename__:"openfl.display3D._internal._AGALConverter.RegisterUsage",__constructs__:["UNUSED","VECTOR_4","MATRIX_4_4","SAMPLER_2D","SAMPLER_2D_ALPHA","SAMPLER_CUBE","SAMPLER_CUBE_ALPHA","VECTOR_4_ARRAY"],UNUSED:{_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},VECTOR_4:{_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},MATRIX_4_4:{_hx_index:2,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},SAMPLER_2D:{_hx_index:3,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},SAMPLER_2D_ALPHA:{_hx_index:4,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},SAMPLER_CUBE:{_hx_index:5,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},SAMPLER_CUBE_ALPHA:{_hx_index:6,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr},VECTOR_4_ARRAY:{_hx_index:7,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:$estr}},openfl_display3D__$internal__$AGALConverter_SamplerRegister=function(){};$hxClasses["openfl.display3D._internal._AGALConverter.SamplerRegister"]=openfl_display3D__$internal__$AGALConverter_SamplerRegister,openfl_display3D__$internal__$AGALConverter_SamplerRegister.__name__="openfl.display3D._internal._AGALConverter.SamplerRegister",openfl_display3D__$internal__$AGALConverter_SamplerRegister.parse=function(e,t){var a=new openfl_display3D__$internal__$AGALConverter_SamplerRegister;a.programType=t;var n=60;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}var i=0,s=15,_=(r.high,r.low&s);a.f=_;n=56;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.m=_;n=52;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.w=_;n=48;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.s=_;n=44;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.d=_;n=40;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.t=_;n=32;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=15,r.high,_=r.low&s;a.type=_;var r;n=16;if(0==(n&=63))r=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(n<32){r=new haxe__$Int64__$_$_$Int64(e.high>>n,e.high<<32-n|e.low>>>n)}else{r=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>n-32)}i=0,s=255,r.high,_=r.low&s;a.b=_;i=0,s=65535,e.high,_=e.low&s;return a.n=_,a},openfl_display3D__$internal__$AGALConverter_SamplerRegister.prototype={toGLSL:function(){return openfl_display3D__$internal_AGALConverter.prefixFromType(this.type,this.programType)+this.n},toSamplerState:function(){var e,t,a;switch(this.f){case 0:t=5;break;case 1:t=4;break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}switch(this.m){case 0:a=2;break;case 1:a=1;break;case 2:a=0;break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}switch(this.w){case 0:e=0;break;case 1:e=2;break;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}var n=4==(4&this.s),i=1==(1&this.s),s=2==this.t,_=(this.b<<24>>24)/8;return new openfl_display__$internal_SamplerState(e,t,a,_,n,i,s)},__class__:openfl_display3D__$internal__$AGALConverter_SamplerRegister};var openfl_display3D__$internal__$AGALConverter_SourceRegister=function(){};$hxClasses["openfl.display3D._internal._AGALConverter.SourceRegister"]=openfl_display3D__$internal__$AGALConverter_SourceRegister,openfl_display3D__$internal__$AGALConverter_SourceRegister.__name__="openfl.display3D._internal._AGALConverter.SourceRegister",openfl_display3D__$internal__$AGALConverter_SourceRegister.parse=function(e,t,a){var n=new openfl_display3D__$internal__$AGALConverter_SourceRegister;n.programType=t;var i=63;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}var s=0,_=1,r=(o.high,o.low&_);n.d=r;i=48;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}s=0,_=3,o.high,r=o.low&_;n.q=r;i=40;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}s=0,_=15,o.high,r=o.low&_;n.itype=r;i=32;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}s=0,_=15,o.high,r=o.low&_;n.type=r;i=24;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}s=0,_=255,o.high,r=o.low&_;n.s=r;var o;i=16;if(0==(i&=63))o=new haxe__$Int64__$_$_$Int64(e.high,e.low);else if(i<32){o=new haxe__$Int64__$_$_$Int64(e.high>>i,e.high<<32-i|e.low>>>i)}else{o=new haxe__$Int64__$_$_$Int64(e.high>>31,e.high>>i-32)}s=0,_=255,o.high,r=o.low&_;n.o=r;s=0,_=65535,e.high,r=e.low&_;return n.n=r,n.sourceMask=a,n},openfl_display3D__$internal__$AGALConverter_SourceRegister.prototype={toGLSL:function(e,t){if(null==t&&(t=0),null==e&&(e=!0),3==this.type)return this.programType==openfl_display3D__$internal__$AGALConverter_ProgramType.VERTEX?"gl_Position":"gl_FragColor";var a=228==this.s&&15==this.sourceMask,n="";if(5!=this.type&&!a){if(0!=(1&this.sourceMask))switch(3&this.s){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(0!=(2&this.sourceMask))switch(this.s>>2&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(0!=(4&this.sourceMask))switch(this.s>>4&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}if(0!=(8&this.sourceMask))switch(this.s>>6&3){case 0:n+="x";break;case 1:n+="y";break;case 2:n+="z";break;case 3:n+="w"}}var i=openfl_display3D__$internal_AGALConverter.prefixFromType(this.type,this.programType);if(0==this.d)i+=this.n+t;else{i+=this.o;var s="";switch(this.q){case 0:s="x";break;case 1:s="y";break;case 2:s="z";break;case 3:s="w"}i+="[ int("+(openfl_display3D__$internal_AGALConverter.prefixFromType(this.itype,this.programType)+this.n+"."+s)+") +"+t+"]"}return e&&""!=n&&(i+="."+n),i},__class__:openfl_display3D__$internal__$AGALConverter_SourceRegister};var openfl_display3D__$internal_ATFReader=function(e,t){this.version=0,e.position=t;var a=e.readUTFBytes(3);if(e.position=t,"ATF"!=a)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("ATF signature not found"));var n=0;if(255==e.b[t+6]?(this.version=e.b[t+7],e.position=t+8,n=this.__readUInt32(e)):(this.version=0,e.position=t+3,n=this.__readUInt24(e)),UInt.gt(js_Boot.__cast(t+n,Int),openfl_utils_ByteArray.get_length(e)))throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("ATF length exceeds byte array length"));this.data=e};$hxClasses["openfl.display3D._internal.ATFReader"]=openfl_display3D__$internal_ATFReader,openfl_display3D__$internal_ATFReader.__name__="openfl.display3D._internal.ATFReader",openfl_display3D__$internal_ATFReader.prototype={readHeader:function(e,t,a){var n=this.data.readUnsignedByte(),i=n>>>7;if(!a&&0!=i)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("ATF Cube map not expected"));if(a&&1!=i)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("ATF Cube map expected"));if(this.cubeMap=a,this.atfFormat=127&n,3!=this.atfFormat&&5!=this.atfFormat&&lime_utils_Log.warn("Only ATF block compressed textures without JPEG-XR+LZMA are supported",{fileName:"openfl/display3D/_internal/ATFReader.hx",lineNumber:96,className:"openfl.display3D._internal.ATFReader",methodName:"readHeader"}),this.width=1<<this.data.readUnsignedByte(),this.height=1<<this.data.readUnsignedByte(),this.width!=e||this.height!=t)throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("ATF width and height dont match"));return this.mipCount=this.data.readUnsignedByte(),5==this.atfFormat},readTextures:function(e){for(var t=this.version<3?3:4,a=0,n=this.cubeMap?6:1;a<n;)for(var i=a++,s=0,_=this.mipCount;s<_;)for(var r=s++,o=0,l=t;o<l;){var h=o++,u=0==this.version?this.__readUInt24(this.data):this.__readUInt32(this.data);if(UInt.gt(this.data.position+u,openfl_utils_ByteArray.get_length(this.data)))throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError("Block length exceeds ATF file length"));if(UInt.gt(u,0)){var p=new haxe_io_Bytes(new ArrayBuffer(u)),c=this.data,d=openfl_utils_ByteArray.fromBytes(p),f=0,m=u;null==m&&(m=0),null==f&&(f=0),c.readBytes(d,f,m),e(i,r,h,this.width>>r,this.height>>r,u,p)}}},__readUInt24:function(e){var t=e.readUnsignedByte()<<16;return t|=e.readUnsignedByte()<<8,t|=e.readUnsignedByte()},__readUInt32:function(e){var t=e.readUnsignedByte()<<24;return t|=e.readUnsignedByte()<<16,t|=e.readUnsignedByte()<<8,t|=e.readUnsignedByte()},__class__:openfl_display3D__$internal_ATFReader};var openfl_display3D__$internal_Context3DState=function(){this.backBufferEnableDepthAndStencil=!1,this.blendDestinationAlphaFactor=9,this.blendSourceAlphaFactor=2,this.blendDestinationRGBFactor=9,this.blendSourceRGBFactor=2,this.colorMaskRed=!0,this.colorMaskGreen=!0,this.colorMaskBlue=!0,this.colorMaskAlpha=!0,this.culling=3,this.depthCompareMode=4,this.depthMask=!0,this.samplerStates=[],this.scissorRectangle=new openfl_geom_Rectangle,this.stencilCompareMode=0,this.stencilDepthFail=5,this.stencilFail=5,this.stencilPass=5,this.stencilReadMask=255,this.stencilReferenceValue=0,this.stencilTriangleFace=2,this.stencilWriteMask=255,this.textures=[],this.__frontFaceGLCCW=!0,this.__glBlendEquation=32774};$hxClasses["openfl.display3D._internal.Context3DState"]=openfl_display3D__$internal_Context3DState,openfl_display3D__$internal_Context3DState.__name__="openfl.display3D._internal.Context3DState",openfl_display3D__$internal_Context3DState.prototype={__class__:openfl_display3D__$internal_Context3DState};var openfl_display3D_textures_TextureBase=function(e){openfl_events_EventDispatcher.call(this),this.__context=e;var t=this.__context.gl;if(this.__textureID=t.createTexture(),this.__textureContext=this.__context.__context,null==openfl_display3D_textures_TextureBase.__supportsBGRA){openfl_display3D_textures_TextureBase.__textureInternalFormat=t.RGBA;openfl_display3D_textures_TextureBase.__supportsBGRA=!1,openfl_display3D_textures_TextureBase.__textureFormat=t.RGBA,openfl_display3D_textures_TextureBase.__compressedFormats=new haxe_ds_IntMap,openfl_display3D_textures_TextureBase.__compressedFormatsAlpha=new haxe_ds_IntMap;var a=t.getExtension("WEBGL_compressed_texture_s3tc"),n=t.getExtension("WEBGL_compressed_texture_etc1"),i=t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");if(null!=a){var s=a.COMPRESSED_RGBA_S3TC_DXT1_EXT;openfl_display3D_textures_TextureBase.__compressedFormats.h[0]=s;s=a.COMPRESSED_RGBA_S3TC_DXT5_EXT;openfl_display3D_textures_TextureBase.__compressedFormatsAlpha.h[0]=s}if(null!=n){s=n.COMPRESSED_RGB_ETC1_WEBGL;openfl_display3D_textures_TextureBase.__compressedFormats.h[2]=s;s=n.COMPRESSED_RGB_ETC1_WEBGL;openfl_display3D_textures_TextureBase.__compressedFormatsAlpha.h[2]=s}if(null!=i){s=i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;openfl_display3D_textures_TextureBase.__compressedFormats.h[1]=s;s=i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;openfl_display3D_textures_TextureBase.__compressedFormatsAlpha.h[1]=s}}this.__internalFormat=openfl_display3D_textures_TextureBase.__textureInternalFormat,this.__format=openfl_display3D_textures_TextureBase.__textureFormat};$hxClasses["openfl.display3D.textures.TextureBase"]=openfl_display3D_textures_TextureBase,openfl_display3D_textures_TextureBase.__name__="openfl.display3D.textures.TextureBase",openfl_display3D_textures_TextureBase.__super__=openfl_events_EventDispatcher,openfl_display3D_textures_TextureBase.prototype=$extend(openfl_events_EventDispatcher.prototype,{dispose:function(){var e=this.__context.gl;null!=this.__alphaTexture&&(this.__alphaTexture.dispose(),this.__alphaTexture=null),null!=this.__textureID&&(e.deleteTexture(this.__textureID),this.__textureID=null),null!=this.__glFramebuffer&&(e.deleteFramebuffer(this.__glFramebuffer),this.__glFramebuffer=null),null!=this.__glDepthRenderbuffer&&(e.deleteRenderbuffer(this.__glDepthRenderbuffer),this.__glDepthRenderbuffer=null),null!=this.__glStencilRenderbuffer&&(e.deleteRenderbuffer(this.__glStencilRenderbuffer),this.__glStencilRenderbuffer=null)},__getGLFramebuffer:function(e,t,a){var n=this.__context.gl;null==this.__glFramebuffer&&(this.__glFramebuffer=n.createFramebuffer(),this.__context.__bindGLFramebuffer(this.__glFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.__textureID,0),this.__context.__enableErrorChecking&&(i=n.checkFramebufferStatus(n.FRAMEBUFFER))!=n.FRAMEBUFFER_COMPLETE&&lime_utils_Log.warn("Error: Context3D.setRenderToTexture status:"+i+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:201,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"}));if(e&&null==this.__glDepthRenderbuffer){var i;if(this.__context.__bindGLFramebuffer(this.__glFramebuffer),0!=openfl_display3D_Context3D.__glDepthStencil?(this.__glDepthRenderbuffer=n.createRenderbuffer(),this.__glStencilRenderbuffer=this.__glDepthRenderbuffer,n.bindRenderbuffer(n.RENDERBUFFER,this.__glDepthRenderbuffer),n.renderbufferStorage(n.RENDERBUFFER,openfl_display3D_Context3D.__glDepthStencil,this.__width,this.__height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,this.__glDepthRenderbuffer)):(this.__glDepthRenderbuffer=n.createRenderbuffer(),this.__glStencilRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.__glDepthRenderbuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,this.__width,this.__height),n.bindRenderbuffer(n.RENDERBUFFER,this.__glStencilRenderbuffer),n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX8,this.__width,this.__height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.__glDepthRenderbuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,this.__glStencilRenderbuffer)),this.__context.__enableErrorChecking)(i=n.checkFramebufferStatus(n.FRAMEBUFFER))!=n.FRAMEBUFFER_COMPLETE&&lime_utils_Log.warn("Error: Context3D.setRenderToTexture status:"+i+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:239,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"});n.bindRenderbuffer(n.RENDERBUFFER,null)}return this.__glFramebuffer},__getImage:function(e){var t=e.image;if(!e.__isValid||null==t)return null;lime__$internal_graphics_ImageCanvasUtil.sync(t,!1);var a=this.__context.gl;return t.type==lime_graphics_ImageType.DATA||t.get_premultiplied()?!t.get_premultiplied()&&t.get_transparent()&&(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),(t=t.clone()).set_premultiplied(!0)):a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),0!=t.get_format()&&((t=t.clone()).set_format(0),t.buffer.premultiplied=!0),t},__getTexture:function(){return this.__textureID},__setSamplerState:function(e){if(!e.equals(this.__samplerState)){var t=this.__context.gl;this.__textureTarget==this.__context.gl.TEXTURE_CUBE_MAP?this.__context.__bindGLTextureCubeMap(this.__textureID):this.__context.__bindGLTexture2D(this.__textureID);var a=0,n=0;switch(e.wrap){case 0:a=t.CLAMP_TO_EDGE,n=t.CLAMP_TO_EDGE;break;case 1:a=t.CLAMP_TO_EDGE,n=t.REPEAT;break;case 2:a=t.REPEAT,n=t.REPEAT;break;case 3:a=t.REPEAT,n=t.CLAMP_TO_EDGE;break;default:throw haxe_Exception.thrown(new openfl_errors_Error("wrap bad enum"))}var i=0,s=0;switch(i=5==e.filter?t.NEAREST:t.LINEAR,e.mipfilter){case 0:s=5==e.filter?t.NEAREST_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR;break;case 1:s=5==e.filter?t.NEAREST_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST;break;case 2:s=5==e.filter?t.NEAREST:t.LINEAR;break;default:throw haxe_Exception.thrown(new openfl_errors_Error("mipfiter bad enum"))}t.texParameteri(this.__textureTarget,t.TEXTURE_MIN_FILTER,s),t.texParameteri(this.__textureTarget,t.TEXTURE_MAG_FILTER,i),t.texParameteri(this.__textureTarget,t.TEXTURE_WRAP_S,a),t.texParameteri(this.__textureTarget,t.TEXTURE_WRAP_T,n);e.lodBias;return null==this.__samplerState&&(this.__samplerState=e.clone()),this.__samplerState.copyFrom(e),!0}return!1},__uploadFromImage:function(e){var t,a,n=this.__context.gl;this.__textureTarget==n.TEXTURE_2D&&(1==e.buffer.bitsPerPixel?(t=n.ALPHA,a=n.ALPHA):(t=openfl_display3D_textures_TextureBase.__textureInternalFormat,a=openfl_display3D_textures_TextureBase.__textureFormat),this.__context.__bindGLTexture2D(this.__textureID),e.type==lime_graphics_ImageType.DATA||e.get_premultiplied()?!e.get_premultiplied()&&e.get_transparent()&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.type==lime_graphics_ImageType.DATA?lime_graphics_WebGLRenderContext.texImage2D(n,n.TEXTURE_2D,0,t,e.buffer.width,e.buffer.height,0,a,n.UNSIGNED_BYTE,e.get_data()):lime_graphics_WebGLRenderContext.texImage2D(n,n.TEXTURE_2D,0,t,a,n.UNSIGNED_BYTE,e.get_src()),this.__context.__bindGLTexture2D(null))},__class__:openfl_display3D_textures_TextureBase});var openfl_display3D_textures_CubeTexture=function(e,t,a,n,i){openfl_display3D_textures_TextureBase.call(this,e),this.__size=t,this.__width=this.__height=this.__size,this.__optimizeForRenderToTexture=n,this.__streamingLevels=i,this.__textureTarget=this.__context.gl.TEXTURE_CUBE_MAP,this.__uploadedSides=0};$hxClasses["openfl.display3D.textures.CubeTexture"]=openfl_display3D_textures_CubeTexture,openfl_display3D_textures_CubeTexture.__name__="openfl.display3D.textures.CubeTexture",openfl_display3D_textures_CubeTexture.__super__=openfl_display3D_textures_TextureBase,openfl_display3D_textures_CubeTexture.prototype=$extend(openfl_display3D_textures_TextureBase.prototype,{uploadCompressedTextureFromByteArray:function(e,t,a){null==a&&(a=!1);var n=this;a?haxe_Timer.delay((function(){n.__uploadCompressedTextureFromByteArray(e,t);var a;a=new openfl_events_Event("textureReady"),n.dispatchEvent(a)}),1):this.__uploadCompressedTextureFromByteArray(e,t)},uploadFromBitmapData:function(e,t,a,n){if((null==n&&(n=!1),null==a&&(a=0),null!=e)&&0!=this.__size>>a){var i=this.__getImage(e);if(null!=i){if(0==a&&null!=i.buffer&&null==i.buffer.data&&null!=i.buffer.get_src()){var s=this.__context.gl;if(0==this.__size>>a)return;var _=this.__sideToTarget(t);return this.__context.__bindGLTextureCubeMap(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(s,_,a,this.__internalFormat,this.__format,s.UNSIGNED_BYTE,i.buffer.get_src()),this.__context.__bindGLTextureCubeMap(null),void(this.__uploadedSides|=1<<t)}this.uploadFromTypedArray(i.get_data(),t,a)}}},uploadFromByteArray:function(e,t,a,n){if(null==n&&(n=0),0!=t){var i,s=openfl_utils_ByteArray.toArrayBuffer(e),_=t;null==_&&(_=0),i=null!=s?new Uint8Array(s,_):null,this.uploadFromTypedArray(i,a,n)}else this.uploadFromTypedArray(e.b,a,n)},uploadFromTypedArray:function(e,t,a){if(null==a&&(a=0),null!=e){var n=this.__context.gl,i=this.__size>>a;if(0!=i){var s=this.__sideToTarget(t);this.__context.__bindGLTextureCubeMap(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(n,s,a,this.__internalFormat,i,i,0,this.__format,n.UNSIGNED_BYTE,e),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<t}}},__getGLFramebuffer:function(e,t,a){var n=this.__context.gl;if(null==this.__glFramebuffer&&(this.__glFramebuffer=n.createFramebuffer(),this.__framebufferSurface=-1),this.__framebufferSurface!=a&&(this.__framebufferSurface=a,this.__context.__bindGLFramebuffer(this.__glFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+a,this.__textureID,0),this.__context.__enableErrorChecking)){var i=n.checkFramebufferStatus(n.FRAMEBUFFER);i!=n.FRAMEBUFFER_COMPLETE&&lime_utils_Log.error("Error: Context3D.setRenderToTexture status:"+i+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/CubeTexture.hx",lineNumber:278,className:"openfl.display3D.textures.CubeTexture",methodName:"__getGLFramebuffer"})}return openfl_display3D_textures_TextureBase.prototype.__getGLFramebuffer.call(this,e,t,a)},__setSamplerState:function(e){if(openfl_display3D_textures_TextureBase.prototype.__setSamplerState.call(this,e)){var t=this.__context.gl;if(2==e.mipfilter||this.__samplerState.mipmapGenerated||(t.generateMipmap(t.TEXTURE_CUBE_MAP),this.__samplerState.mipmapGenerated=!0),0!=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy){var a;switch(e.filter){case 0:a=16;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8;break;default:a=1}a>openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy&&(a=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy),t.texParameterf(t.TEXTURE_CUBE_MAP,openfl_display3D_Context3D.__glTextureMaxAnisotropy,a)}return!0}return!1},__sideToTarget:function(e){var t=this.__context.gl;switch(e){case 0:return t.TEXTURE_CUBE_MAP_POSITIVE_X;case 1:return t.TEXTURE_CUBE_MAP_NEGATIVE_X;case 2:return t.TEXTURE_CUBE_MAP_POSITIVE_Y;case 3:return t.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 4:return t.TEXTURE_CUBE_MAP_POSITIVE_Z;case 5:return t.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:throw haxe_Exception.thrown(new openfl_errors_IllegalOperationError)}},__uploadCompressedTextureFromByteArray:function(e,t){var a=this,n=new openfl_display3D__$internal_ATFReader(e,t),i=n.readHeader(this.__size,this.__size,!0),s=this.__context.gl;this.__context.__bindGLTextureCubeMap(this.__textureID);var _=!1;if(n.readTextures((function(e,t,n,r,o,l,h){var u=i?openfl_display3D_textures_TextureBase.__compressedFormatsAlpha.h[n]:openfl_display3D_textures_TextureBase.__compressedFormats.h[n];if(0!=u){_=!0;var p=a.__sideToTarget(e);if(a.__format=u,a.__internalFormat=u,i&&2==n){var c=l/2|0,d=null,f=null,m=null,g=null,x=h.b.buffer;null==(y=0)&&(y=0),b=null!=d?new Uint8Array(d):null!=f?new Uint8Array(f):null!=m?new Uint8Array(m.__array):null!=g?new Uint8Array(g):null!=x?null==c?new Uint8Array(x,y):new Uint8Array(x,y,c):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,p,t,a.__internalFormat,r,o,0,b);var k=new openfl_display3D_textures_CubeTexture(a.__context,a.__size,3,a.__optimizeForRenderToTexture,a.__streamingLevels);k.__format=u,k.__internalFormat=u,a.__context.__bindGLTextureCubeMap(k.__textureID);d=null,f=null,m=null,g=null,x=h.b.buffer;null==(y=c)&&(y=0),b=null!=d?new Uint8Array(d):null!=f?new Uint8Array(f):null!=m?new Uint8Array(m.__array):null!=g?new Uint8Array(g):null!=x?null==c?new Uint8Array(x,y):new Uint8Array(x,y,c):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,p,t,k.__internalFormat,r,o,0,b),a.__alphaTexture=k}else{var y,b;d=null,f=null,m=null,g=null,x=h.b.buffer;null==(y=0)&&(y=0),b=null!=d?new Uint8Array(d):null!=f?new Uint8Array(f):null!=m?new Uint8Array(m.__array):null!=g?new Uint8Array(g):null!=x?null==l?new Uint8Array(x,y):new Uint8Array(x,y,l):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,p,t,a.__internalFormat,r,o,0,b)}}})),!_){var r=null,o=null,l=null,h=null,u=null;e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(0),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e);r=null,o=null,l=null,h=null,u=null,e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(1),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e);r=null,o=null,l=null,h=null,u=null,e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(2),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e);r=null,o=null,l=null,h=null,u=null,e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(3),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e);r=null,o=null,l=null,h=null,u=null,e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(4),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e);var p;r=null,o=null,l=null,h=null,u=null,e=null!=(p=this.__size*this.__size*4)?new Uint8Array(p):null!=r?new Uint8Array(r):null!=o?new Uint8Array(o.__array):null!=l?new Uint8Array(l):null!=h?null==u?new Uint8Array(h,0):new Uint8Array(h,0,u):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__sideToTarget(5),0,this.__internalFormat,this.__size,this.__size,0,this.__format,s.UNSIGNED_BYTE,e)}this.__context.__bindGLTextureCubeMap(null)},__class__:openfl_display3D_textures_CubeTexture});var openfl_display3D_textures_RectangleTexture=function(e,t,a,n,i){openfl_display3D_textures_TextureBase.call(this,e),this.__width=t,this.__height=a,this.__optimizeForRenderToTexture=i,this.__textureTarget=this.__context.gl.TEXTURE_2D,this.uploadFromTypedArray(null),i&&this.__getGLFramebuffer(!0,0,0)};$hxClasses["openfl.display3D.textures.RectangleTexture"]=openfl_display3D_textures_RectangleTexture,openfl_display3D_textures_RectangleTexture.__name__="openfl.display3D.textures.RectangleTexture",openfl_display3D_textures_RectangleTexture.__super__=openfl_display3D_textures_TextureBase,openfl_display3D_textures_RectangleTexture.prototype=$extend(openfl_display3D_textures_TextureBase.prototype,{uploadFromBitmapData:function(e){if(null!=e){var t=this.__getImage(e);if(null!=t){if(null!=t.buffer&&null==t.buffer.data&&null!=t.buffer.get_src()){var a=this.__context.gl;return this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(a,this.__textureTarget,0,this.__internalFormat,this.__format,a.UNSIGNED_BYTE,t.buffer.get_src()),void this.__context.__bindGLTexture2D(null)}this.uploadFromTypedArray(t.get_data())}}},uploadFromByteArray:function(e,t){if(0!=t){var a,n=openfl_utils_ByteArray.toArrayBuffer(e),i=t;null==i&&(i=0),a=null!=n?new Uint8Array(n,i):null,this.uploadFromTypedArray(a)}else this.uploadFromTypedArray(e.b)},uploadFromTypedArray:function(e){var t=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(t,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,t.UNSIGNED_BYTE,e),this.__context.__bindGLTexture2D(null)},__setSamplerState:function(e){if(openfl_display3D_textures_TextureBase.prototype.__setSamplerState.call(this,e)){var t=this.__context.gl;if(0!=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy){var a;switch(e.filter){case 0:a=16;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8;break;default:a=1}a>openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy&&(a=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy),t.texParameterf(t.TEXTURE_2D,openfl_display3D_Context3D.__glTextureMaxAnisotropy,a)}return!0}return!1},__class__:openfl_display3D_textures_RectangleTexture});var openfl_display3D_textures_Texture=function(e,t,a,n,i,s){openfl_display3D_textures_TextureBase.call(this,e),this.__width=t,this.__height=a,this.__optimizeForRenderToTexture=i,this.__streamingLevels=s;var _=this.__context.gl;this.__textureTarget=_.TEXTURE_2D,this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(_,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,_.UNSIGNED_BYTE,null),this.__context.__bindGLTexture2D(null),i&&this.__getGLFramebuffer(!0,0,0)};$hxClasses["openfl.display3D.textures.Texture"]=openfl_display3D_textures_Texture,openfl_display3D_textures_Texture.__name__="openfl.display3D.textures.Texture",openfl_display3D_textures_Texture.__super__=openfl_display3D_textures_TextureBase,openfl_display3D_textures_Texture.prototype=$extend(openfl_display3D_textures_TextureBase.prototype,{uploadCompressedTextureFromByteArray:function(e,t,a){null==a&&(a=!1);var n=this;a?haxe_Timer.delay((function(){n.__uploadCompressedTextureFromByteArray(e,t);var a;a=new openfl_events_Event("textureReady"),n.dispatchEvent(a)}),1):this.__uploadCompressedTextureFromByteArray(e,t)},uploadFromBitmapData:function(e,t,a){if(null==a&&(a=!1),null==t&&(t=0),null!=e){var n=this.__width>>t,i=this.__height>>t;if(0!=n||0!=i){if(0==n&&(n=1),0==i&&(i=1),e.width!=n||e.height!=i){var s=new openfl_display_BitmapData(n,i,!0,0);s.draw(e),e=s}var _=this.__getImage(e);if(null!=_){if(0==t&&null!=_.buffer&&null==_.buffer.data&&null!=_.buffer.get_src()){var r=this.__context.gl;n=this.__width>>t,i=this.__height>>t;if(0==n&&0==i)return;return 0==n&&(n=1),0==i&&(i=1),this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(r,this.__textureTarget,t,this.__internalFormat,this.__format,r.UNSIGNED_BYTE,_.buffer.get_src()),void this.__context.__bindGLTexture2D(null)}this.uploadFromTypedArray(_.get_data(),t)}}}},uploadFromByteArray:function(e,t,a){if(null==a&&(a=0),0!=t){var n,i=openfl_utils_ByteArray.toArrayBuffer(e),s=t;null==s&&(s=0),n=null!=i?new Uint8Array(i,s):null,this.uploadFromTypedArray(n,a)}else this.uploadFromTypedArray(e.b,a)},uploadFromTypedArray:function(e,t){if(null==t&&(t=0),null!=e){var a=this.__context.gl,n=this.__width>>t,i=this.__height>>t;0==n&&0==i||(0==n&&(n=1),0==i&&(i=1),this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(a,this.__textureTarget,t,this.__internalFormat,n,i,0,this.__format,a.UNSIGNED_BYTE,e),this.__context.__bindGLTexture2D(null))}},__setSamplerState:function(e){if(openfl_display3D_textures_TextureBase.prototype.__setSamplerState.call(this,e)){var t=this.__context.gl;if(2==e.mipfilter||this.__samplerState.mipmapGenerated||(t.generateMipmap(t.TEXTURE_2D),this.__samplerState.mipmapGenerated=!0),0!=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy){var a;switch(e.filter){case 0:a=16;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8;break;default:a=1}a>openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy&&(a=openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy),t.texParameterf(t.TEXTURE_2D,openfl_display3D_Context3D.__glTextureMaxAnisotropy,a)}return!0}return!1},__uploadCompressedTextureFromByteArray:function(e,t){var a=this,n=new openfl_display3D__$internal_ATFReader(e,t),i=n.readHeader(this.__width,this.__height,!1),s=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID);var _=!1;if(n.readTextures((function(e,t,n,r,o,l,h){var u=i?openfl_display3D_textures_TextureBase.__compressedFormatsAlpha.h[n]:openfl_display3D_textures_TextureBase.__compressedFormats.h[n];if(0!=u)if(_=!0,a.__format=u,a.__internalFormat=u,i&&2==n){var p=l/2|0,c=null,d=null,f=null,m=null,g=h.b.buffer;null==(k=0)&&(k=0),y=null!=c?new Uint8Array(c):null!=d?new Uint8Array(d):null!=f?new Uint8Array(f.__array):null!=m?new Uint8Array(m):null!=g?null==p?new Uint8Array(g,k):new Uint8Array(g,k,p):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,a.__textureTarget,t,a.__internalFormat,r,o,0,y);var x=new openfl_display3D_textures_Texture(a.__context,a.__width,a.__height,3,a.__optimizeForRenderToTexture,a.__streamingLevels);x.__format=u,x.__internalFormat=u,a.__context.__bindGLTexture2D(x.__textureID);c=null,d=null,f=null,m=null,g=h.b.buffer;null==(k=p)&&(k=0),y=null!=c?new Uint8Array(c):null!=d?new Uint8Array(d):null!=f?new Uint8Array(f.__array):null!=m?new Uint8Array(m):null!=g?null==p?new Uint8Array(g,k):new Uint8Array(g,k,p):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,x.__textureTarget,t,x.__internalFormat,r,o,0,y),a.__alphaTexture=x}else{var k,y;c=null,d=null,f=null,m=null,g=h.b.buffer;null==(k=0)&&(k=0),y=null!=c?new Uint8Array(c):null!=d?new Uint8Array(d):null!=f?new Uint8Array(f.__array):null!=m?new Uint8Array(m):null!=g?null==l?new Uint8Array(g,k):new Uint8Array(g,k,l):null,lime_graphics_WebGLRenderContext.compressedTexImage2D(s,a.__textureTarget,t,a.__internalFormat,r,o,0,y)}})),!_){var r=this.__width*this.__height*4;e=null!=r?new Uint8Array(r):null;lime_graphics_WebGLRenderContext.texImage2D(s,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,s.UNSIGNED_BYTE,e)}this.__context.__bindGLTexture2D(null)},__class__:openfl_display3D_textures_Texture});var openfl_display3D_textures_VideoTexture=function(e){openfl_display3D_textures_TextureBase.call(this,e),this.__textureTarget=this.__context.gl.TEXTURE_2D};$hxClasses["openfl.display3D.textures.VideoTexture"]=openfl_display3D_textures_VideoTexture,openfl_display3D_textures_VideoTexture.__name__="openfl.display3D.textures.VideoTexture",openfl_display3D_textures_VideoTexture.__super__=openfl_display3D_textures_TextureBase,openfl_display3D_textures_VideoTexture.prototype=$extend(openfl_display3D_textures_TextureBase.prototype,{attachNetStream:function(e){var t=this;null!=this.__netStream&&this.__netStream.__video.removeEventListener("canplay",$bind(this,this.__onCanPlay),!1),this.__cacheTime=-1,this.__netStream=e,null!=this.__netStream&&(this.__netStream.__video.readyState>=2?haxe_Timer.delay((function(){t.__textureReady()}),0):this.__netStream.__video.addEventListener("canplay",$bind(this,this.__onCanPlay),!1))},dispose:function(){null!=this.__netStream&&null!=this.__netStream.__video&&this.__netStream.__video.removeEventListener("timeupdate",$bind(this,this.__onTimeUpdate)),openfl_display3D_textures_TextureBase.prototype.dispose.call(this)},__onCanPlay:function(e){this.__netStream.__video.addEventListener("timeupdate",$bind(this,this.__onTimeUpdate)),this.__textureReady()},__onTimeUpdate:function(e){null!=this.__netStream&&this.__netStream.__video.currentTime!=this.__cacheTime&&this.__netStream.__video.readyState>=2&&this.__textureReady()},__getTexture:function(){if(this.__netStream.__video.currentTime!=this.__cacheTime&&this.__netStream.__video.readyState>=2){var e=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),lime_graphics_WebGLRenderContext.texImage2D(e,e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.__netStream.__video),this.__cacheTime=this.__netStream.__video.currentTime}return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth,this.videoHeight=this.__netStream.__video.videoHeight;var e;e=new openfl_events_Event("textureReady"),this.dispatchEvent(e)},__class__:openfl_display3D_textures_VideoTexture});var openfl_errors_Error=function(e,t){null==t&&(t=0),null==e&&(e=""),this.message=e,this.errorID=t,this.name="Error"};$hxClasses["openfl.errors.Error"]=openfl_errors_Error,openfl_errors_Error.__name__="openfl.errors.Error",openfl_errors_Error.prototype={getStackTrace:function(){return haxe_CallStack.toString(haxe_CallStack.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:openfl_errors_Error};var openfl_errors_ArgumentError=function(e){null==e&&(e=""),openfl_errors_Error.call(this,e),this.name="ArgumentError"};$hxClasses["openfl.errors.ArgumentError"]=openfl_errors_ArgumentError,openfl_errors_ArgumentError.__name__="openfl.errors.ArgumentError",openfl_errors_ArgumentError.__super__=openfl_errors_Error,openfl_errors_ArgumentError.prototype=$extend(openfl_errors_Error.prototype,{__class__:openfl_errors_ArgumentError});var openfl_errors_IOError=function(e){null==e&&(e=""),openfl_errors_Error.call(this,e),this.name="IOError"};$hxClasses["openfl.errors.IOError"]=openfl_errors_IOError,openfl_errors_IOError.__name__="openfl.errors.IOError",openfl_errors_IOError.__super__=openfl_errors_Error,openfl_errors_IOError.prototype=$extend(openfl_errors_Error.prototype,{__class__:openfl_errors_IOError});var openfl_errors_EOFError=function(e,t){null==t&&(t=0),openfl_errors_IOError.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};$hxClasses["openfl.errors.EOFError"]=openfl_errors_EOFError,openfl_errors_EOFError.__name__="openfl.errors.EOFError",openfl_errors_EOFError.__super__=openfl_errors_IOError,openfl_errors_EOFError.prototype=$extend(openfl_errors_IOError.prototype,{__class__:openfl_errors_EOFError});var openfl_errors_IllegalOperationError=function(e){null==e&&(e=""),openfl_errors_Error.call(this,e,0),this.name="IllegalOperationError"};$hxClasses["openfl.errors.IllegalOperationError"]=openfl_errors_IllegalOperationError,openfl_errors_IllegalOperationError.__name__="openfl.errors.IllegalOperationError",openfl_errors_IllegalOperationError.__super__=openfl_errors_Error,openfl_errors_IllegalOperationError.prototype=$extend(openfl_errors_Error.prototype,{__class__:openfl_errors_IllegalOperationError});var openfl_errors_RangeError=function(e){null==e&&(e=""),openfl_errors_Error.call(this,e,0),this.name="RangeError"};$hxClasses["openfl.errors.RangeError"]=openfl_errors_RangeError,openfl_errors_RangeError.__name__="openfl.errors.RangeError",openfl_errors_RangeError.__super__=openfl_errors_Error,openfl_errors_RangeError.prototype=$extend(openfl_errors_Error.prototype,{__class__:openfl_errors_RangeError});var openfl_errors_TypeError=function(e){null==e&&(e=""),openfl_errors_Error.call(this,e,0),this.name="TypeError"};$hxClasses["openfl.errors.TypeError"]=openfl_errors_TypeError,openfl_errors_TypeError.__name__="openfl.errors.TypeError",openfl_errors_TypeError.__super__=openfl_errors_Error,openfl_errors_TypeError.prototype=$extend(openfl_errors_Error.prototype,{__class__:openfl_errors_TypeError});var openfl_events_Event=function(e,t,a){null==a&&(a=!1),null==t&&(t=!1),this.type=e,this.bubbles=t,this.cancelable=a,this.eventPhase=2};$hxClasses["openfl.events.Event"]=openfl_events_Event,openfl_events_Event.__name__="openfl.events.Event",openfl_events_Event.prototype={clone:function(){var e=new openfl_events_Event(this.type,this.bubbles,this.cancelable);return e.eventPhase=this.eventPhase,e.target=this.target,e.currentTarget=this.currentTarget,e},formatToString:function(e,t,a,n,i,s){var _=[];return null!=t&&_.push(t),null!=a&&_.push(a),null!=n&&_.push(n),null!=i&&_.push(i),null!=s&&_.push(s),$bind(this,this.__formatToString).apply(this,[e,_])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(e,t){for(var a="["+e,n=null,i=0;i<t.length;){var s=t[i];++i,a+="string"==typeof(n=Reflect.field(this,s))?" "+s+'="'+Std.string(n)+'"':" "+s+"="+Std.string(n)}return a+="]"},__init:function(){this.target=null,this.currentTarget=null,this.bubbles=!1,this.cancelable=!1,this.eventPhase=2,this.__isCanceled=!1,this.__isCanceledNow=!1,this.__preventDefault=!1},__class__:openfl_events_Event};var openfl_events_ActivityEvent=function(e,t,a,n){null==n&&(n=!1),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.activating=n};$hxClasses["openfl.events.ActivityEvent"]=openfl_events_ActivityEvent,openfl_events_ActivityEvent.__name__="openfl.events.ActivityEvent",openfl_events_ActivityEvent.__super__=openfl_events_Event,openfl_events_ActivityEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_ActivityEvent(this.type,this.bubbles,this.cancelable,this.activating);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.activating=!1},__class__:openfl_events_ActivityEvent});var openfl_events_TextEvent=function(e,t,a,n){null==n&&(n=""),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.text=n};$hxClasses["openfl.events.TextEvent"]=openfl_events_TextEvent,openfl_events_TextEvent.__name__="openfl.events.TextEvent",openfl_events_TextEvent.__super__=openfl_events_Event,openfl_events_TextEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_TextEvent(this.type,this.bubbles,this.cancelable,this.text);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.text=""},__class__:openfl_events_TextEvent});var openfl_events_ErrorEvent=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=""),null==a&&(a=!1),null==t&&(t=!1),openfl_events_TextEvent.call(this,e,t,a,n),this.errorID=i};$hxClasses["openfl.events.ErrorEvent"]=openfl_events_ErrorEvent,openfl_events_ErrorEvent.__name__="openfl.events.ErrorEvent",openfl_events_ErrorEvent.__super__=openfl_events_TextEvent,openfl_events_ErrorEvent.prototype=$extend(openfl_events_TextEvent.prototype,{clone:function(){var e=new openfl_events_ErrorEvent(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__init:function(){openfl_events_TextEvent.prototype.__init.call(this),this.errorID=0},__class__:openfl_events_ErrorEvent});var openfl_events__$EventDispatcher_DispatchIterator=function(e){this.active=!1,this.reset(e)};$hxClasses["openfl.events._EventDispatcher.DispatchIterator"]=openfl_events__$EventDispatcher_DispatchIterator,openfl_events__$EventDispatcher_DispatchIterator.__name__="openfl.events._EventDispatcher.DispatchIterator",openfl_events__$EventDispatcher_DispatchIterator.prototype={copy:function(){this.isCopy||(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length},next:function(){return this.list[this.index++]},remove:function(e,t){if(this.active)if(this.isCopy)for(var a=this.index,n=this.list.length;a<n;){var i=a++;if(this.list[i]==e){this.list.splice(i,1);break}}else t<this.index&&this.index--},reset:function(e){this.list=e,this.isCopy=!1,this.index=0},start:function(){this.active=!0},stop:function(){this.active=!1},__class__:openfl_events__$EventDispatcher_DispatchIterator};var openfl_events__$EventDispatcher_Listener=function(e,t,a){this.callback=e,this.useCapture=t,this.priority=a};$hxClasses["openfl.events._EventDispatcher.Listener"]=openfl_events__$EventDispatcher_Listener,openfl_events__$EventDispatcher_Listener.__name__="openfl.events._EventDispatcher.Listener",openfl_events__$EventDispatcher_Listener.prototype={match:function(e,t){return!!Reflect.compareMethods(this.callback,e)&&this.useCapture==t},__class__:openfl_events__$EventDispatcher_Listener};var openfl_events_EventType={equals:function(e,t){return e==t},notEquals:function(e,t){return e!=t}},openfl_events_FocusEvent=function(e,t,a,n,i,s){null==s&&(s=0),null==i&&(i=!1),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.keyCode=s,this.shiftKey=i,this.relatedObject=n};$hxClasses["openfl.events.FocusEvent"]=openfl_events_FocusEvent,openfl_events_FocusEvent.__name__="openfl.events.FocusEvent",openfl_events_FocusEvent.__super__=openfl_events_Event,openfl_events_FocusEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_FocusEvent(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.keyCode=0,this.shiftKey=!1,this.relatedObject=null},__class__:openfl_events_FocusEvent});var openfl_events_FullScreenEvent=function(e,t,a,n,i){null==i&&(i=!1),null==n&&(n=!1),null==a&&(a=!1),null==t&&(t=!1),openfl_events_ActivityEvent.call(this,e,t,a),this.fullScreen=n,this.interactive=i};$hxClasses["openfl.events.FullScreenEvent"]=openfl_events_FullScreenEvent,openfl_events_FullScreenEvent.__name__="openfl.events.FullScreenEvent",openfl_events_FullScreenEvent.__super__=openfl_events_ActivityEvent,openfl_events_FullScreenEvent.prototype=$extend(openfl_events_ActivityEvent.prototype,{clone:function(){var e=new openfl_events_FullScreenEvent(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__init:function(){openfl_events_ActivityEvent.prototype.__init.call(this),this.fullScreen=!1,this.interactive=!1},__class__:openfl_events_FullScreenEvent});var openfl_events_GameInputEvent=function(e,t,a,n){null==a&&(a=!1),null==t&&(t=!0),openfl_events_Event.call(this,e,t,a),this.device=n};$hxClasses["openfl.events.GameInputEvent"]=openfl_events_GameInputEvent,openfl_events_GameInputEvent.__name__="openfl.events.GameInputEvent",openfl_events_GameInputEvent.__super__=openfl_events_Event,openfl_events_GameInputEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_GameInputEvent(this.type,this.bubbles,this.cancelable,this.device);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.device=null},__class__:openfl_events_GameInputEvent});var openfl_events_HTTPStatusEvent=function(e,t,a,n,i){null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),null==t&&(t=!1),this.status=n,this.redirected=i,openfl_events_Event.call(this,e,t,a)};$hxClasses["openfl.events.HTTPStatusEvent"]=openfl_events_HTTPStatusEvent,openfl_events_HTTPStatusEvent.__name__="openfl.events.HTTPStatusEvent",openfl_events_HTTPStatusEvent.__super__=openfl_events_Event,openfl_events_HTTPStatusEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_HTTPStatusEvent(this.type,this.bubbles,this.cancelable,this.status,this.redirected);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.status=0,this.redirected=!1},__class__:openfl_events_HTTPStatusEvent});var openfl_events_IOErrorEvent=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=""),null==a&&(a=!1),null==t&&(t=!0),openfl_events_ErrorEvent.call(this,e,t,a,n,i)};$hxClasses["openfl.events.IOErrorEvent"]=openfl_events_IOErrorEvent,openfl_events_IOErrorEvent.__name__="openfl.events.IOErrorEvent",openfl_events_IOErrorEvent.__super__=openfl_events_ErrorEvent,openfl_events_IOErrorEvent.prototype=$extend(openfl_events_ErrorEvent.prototype,{clone:function(){var e=new openfl_events_IOErrorEvent(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:openfl_events_IOErrorEvent});var openfl_events_KeyboardEvent=function(e,t,a,n,i,s,_,r,o,l,h){null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=!1),null==r&&(r=!1),null==_&&(_=!1),null==i&&(i=0),null==n&&(n=0),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.charCode=n,this.keyCode=i,this.keyLocation=null!=s?s:0,this.ctrlKey=_,this.altKey=r,this.shiftKey=o,this.controlKey=l,this.commandKey=h};$hxClasses["openfl.events.KeyboardEvent"]=openfl_events_KeyboardEvent,openfl_events_KeyboardEvent.__name__="openfl.events.KeyboardEvent",openfl_events_KeyboardEvent.__super__=openfl_events_Event,openfl_events_KeyboardEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_KeyboardEvent(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.charCode=0,this.keyCode=0,this.keyLocation=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.controlKey=!1,this.commandKey=!1},__class__:openfl_events_KeyboardEvent});var openfl_events_MouseEvent=function(e,t,a,n,i,s,_,r,o,l,h,u,p){null==p&&(p=0),null==u&&(u=!1),null==h&&(h=0),null==l&&(l=!1),null==o&&(o=!1),null==r&&(r=!1),null==_&&(_=!1),null==i&&(i=0),null==n&&(n=0),null==a&&(a=!1),null==t&&(t=!0),openfl_events_Event.call(this,e,t,a),this.shiftKey=o,this.altKey=r,this.ctrlKey=_,this.bubbles=t,this.relatedObject=s,this.delta=h,this.localX=n,this.localY=i,this.buttonDown=l,this.commandKey=u,this.clickCount=p,this.isRelatedObjectInaccessible=!1,this.stageX=NaN,this.stageY=NaN};$hxClasses["openfl.events.MouseEvent"]=openfl_events_MouseEvent,openfl_events_MouseEvent.__name__="openfl.events.MouseEvent",openfl_events_MouseEvent.__create=function(e,t,a,n,i,s,_){null==_&&(_=0);var r=new openfl_events_MouseEvent(e,!0,!1,i.x,i.y,null,openfl_events_MouseEvent.__ctrlKey,openfl_events_MouseEvent.__altKey,openfl_events_MouseEvent.__shiftKey,openfl_events_MouseEvent.__buttonDown,_,openfl_events_MouseEvent.__commandKey);return r.stageX=a,r.stageY=n,r.target=s,r},openfl_events_MouseEvent.__super__=openfl_events_Event,openfl_events_MouseEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_MouseEvent(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},__init:function(){openfl_events_Event.prototype.__init.call(this),this.shiftKey=!1,this.altKey=!1,this.ctrlKey=!1,this.bubbles=!1,this.relatedObject=null,this.delta=0,this.localX=0,this.localY=0,this.buttonDown=!1,this.commandKey=!1,this.clickCount=0,this.isRelatedObjectInaccessible=!1,this.stageX=NaN,this.stageY=NaN},__class__:openfl_events_MouseEvent});var openfl_events_NetStatusEvent=function(e,t,a,n){null==a&&(a=!1),null==t&&(t=!1),this.info=n,openfl_events_Event.call(this,e,t,a)};$hxClasses["openfl.events.NetStatusEvent"]=openfl_events_NetStatusEvent,openfl_events_NetStatusEvent.__name__="openfl.events.NetStatusEvent",openfl_events_NetStatusEvent.__super__=openfl_events_Event,openfl_events_NetStatusEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_NetStatusEvent(this.type,this.bubbles,this.cancelable,this.info);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.info=null},__class__:openfl_events_NetStatusEvent});var openfl_events_ProgressEvent=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=0),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.bytesLoaded=n,this.bytesTotal=i};$hxClasses["openfl.events.ProgressEvent"]=openfl_events_ProgressEvent,openfl_events_ProgressEvent.__name__="openfl.events.ProgressEvent",openfl_events_ProgressEvent.__super__=openfl_events_Event,openfl_events_ProgressEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_ProgressEvent(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.bytesLoaded=0,this.bytesTotal=0},__class__:openfl_events_ProgressEvent});var openfl_events_RenderEvent=function(e,t,a,n,i,s){null==s&&(s=!0),null==a&&(a=!1),null==t&&(t=!1),openfl_events_Event.call(this,e,t,a),this.objectMatrix=n,this.objectColorTransform=i,this.allowSmoothing=s};$hxClasses["openfl.events.RenderEvent"]=openfl_events_RenderEvent,openfl_events_RenderEvent.__name__="openfl.events.RenderEvent",openfl_events_RenderEvent.__super__=openfl_events_Event,openfl_events_RenderEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_RenderEvent(this.type,this.bubbles,this.cancelable,this.objectMatrix.clone(),this.objectColorTransform.__clone(),this.allowSmoothing);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("RenderEvent",["type","bubbles","cancelable"])},__init:function(){openfl_events_Event.prototype.__init.call(this),this.objectMatrix=null,this.objectColorTransform=null,this.allowSmoothing=!1,this.renderer=null},__class__:openfl_events_RenderEvent});var openfl_events_SecurityErrorEvent=function(e,t,a,n,i){null==i&&(i=0),null==n&&(n=""),null==a&&(a=!1),null==t&&(t=!1),openfl_events_ErrorEvent.call(this,e,t,a,n,i)};$hxClasses["openfl.events.SecurityErrorEvent"]=openfl_events_SecurityErrorEvent,openfl_events_SecurityErrorEvent.__name__="openfl.events.SecurityErrorEvent",openfl_events_SecurityErrorEvent.__super__=openfl_events_ErrorEvent,openfl_events_SecurityErrorEvent.prototype=$extend(openfl_events_ErrorEvent.prototype,{clone:function(){var e=new openfl_events_SecurityErrorEvent(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:openfl_events_SecurityErrorEvent});var openfl_events_TouchEvent=function(e,t,a,n,i,s,_,r,o,l,h,u,p,c,d,f,m,g,x,k){null==k&&(k=!1),null==m&&(m=0),null==f&&(f=!1),null==d&&(d=!1),null==c&&(c=!1),null==p&&(p=!1),null==u&&(u=!1),null==l&&(l=0),null==o&&(o=0),null==r&&(r=0),null==_&&(_=0),null==s&&(s=0),null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),null==t&&(t=!0),openfl_events_Event.call(this,e,t,a),this.touchPointID=n,this.isPrimaryTouchPoint=i,this.localX=s,this.localY=_,this.sizeX=r,this.sizeY=o,this.pressure=l,this.relatedObject=h,this.ctrlKey=u,this.altKey=p,this.shiftKey=c,this.commandKey=d,this.controlKey=f,this.stageX=NaN,this.stageY=NaN};$hxClasses["openfl.events.TouchEvent"]=openfl_events_TouchEvent,openfl_events_TouchEvent.__name__="openfl.events.TouchEvent",openfl_events_TouchEvent.__create=function(e,t,a,n,i,s){var _=new openfl_events_TouchEvent(e,!0,!1,0,!0,i.x,i.y,1,1,1);return _.stageX=a,_.stageY=n,_.target=s,_},openfl_events_TouchEvent.__super__=openfl_events_Event,openfl_events_TouchEvent.prototype=$extend(openfl_events_Event.prototype,{clone:function(){var e=new openfl_events_TouchEvent(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__init:function(){openfl_events_Event.prototype.__init.call(this),this.touchPointID=0,this.isPrimaryTouchPoint=!1,this.localX=0,this.localY=0,this.sizeX=0,this.sizeY=0,this.pressure=0,this.relatedObject=null,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.commandKey=!1,this.controlKey=!1,this.stageX=NaN,this.stageY=NaN},__class__:openfl_events_TouchEvent});var openfl_events_UncaughtErrorEvent=function(e,t,a,n){null==a&&(a=!0),null==t&&(t=!0),openfl_events_ErrorEvent.call(this,e,t,a),this.error=n};$hxClasses["openfl.events.UncaughtErrorEvent"]=openfl_events_UncaughtErrorEvent,openfl_events_UncaughtErrorEvent.__name__="openfl.events.UncaughtErrorEvent",openfl_events_UncaughtErrorEvent.__super__=openfl_events_ErrorEvent,openfl_events_UncaughtErrorEvent.prototype=$extend(openfl_events_ErrorEvent.prototype,{clone:function(){var e=new openfl_events_UncaughtErrorEvent(this.type,this.bubbles,this.cancelable,this.error);return e.target=this.target,e.currentTarget=this.currentTarget,e.eventPhase=this.eventPhase,e},toString:function(){return this.__formatToString("UncaughtErrorEvent",["type","bubbles","cancelable","error"])},__init:function(){openfl_events_ErrorEvent.prototype.__init.call(this),this.error=null},__class__:openfl_events_UncaughtErrorEvent});var openfl_events_UncaughtErrorEvents=function(){openfl_events_EventDispatcher.call(this)};$hxClasses["openfl.events.UncaughtErrorEvents"]=openfl_events_UncaughtErrorEvents,openfl_events_UncaughtErrorEvents.__name__="openfl.events.UncaughtErrorEvents",openfl_events_UncaughtErrorEvents.__super__=openfl_events_EventDispatcher,openfl_events_UncaughtErrorEvents.prototype=$extend(openfl_events_EventDispatcher.prototype,{__class__:openfl_events_UncaughtErrorEvents});var openfl_filters_BitmapFilter=function(){this.__bottomExtension=0,this.__leftExtension=0,this.__needSecondBitmapData=!0,this.__numShaderPasses=0,this.__preserveObject=!1,this.__rightExtension=0,this.__shaderBlendMode=10,this.__topExtension=0,this.__smooth=!0};$hxClasses["openfl.filters.BitmapFilter"]=openfl_filters_BitmapFilter,openfl_filters_BitmapFilter.__name__="openfl.filters.BitmapFilter",openfl_filters_BitmapFilter.prototype={clone:function(){return new openfl_filters_BitmapFilter},__applyFilter:function(e,t,a,n){return t},__initShader:function(e,t,a){return null},__class__:openfl_filters_BitmapFilter};var openfl_geom_Matrix3D=function(e){null!=e&&16==e.get_length()?this.rawData=e.concat(null):this.rawData=openfl_Vector.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};$hxClasses["openfl.geom.Matrix3D"]=openfl_geom_Matrix3D,openfl_geom_Matrix3D.__name__="openfl.geom.Matrix3D",openfl_geom_Matrix3D.create2D=function(e,t,a,n){null==n&&(n=0),null==a&&(a=1);var i=n*Math.PI/180,s=Math.cos(i),_=Math.sin(i);return new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[s*a,-_*a,0,0,_*a,s*a,0,0,0,0,1,0,e,t,0,1]))},openfl_geom_Matrix3D.createABCD=function(e,t,a,n,i,s){return new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[e,t,0,0,a,n,0,0,0,0,1,0,i,s,0,1]))},openfl_geom_Matrix3D.createOrtho=function(e,t,a,n,i,s){var _=1/(t-e),r=1/(n-a),o=1/(s-i);return new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[2*_,0,0,0,0,2*r,0,0,0,0,-2*o,0,-(e+t)*_,-(a+n)*r,-(i+s)*o,1]))},openfl_geom_Matrix3D.interpolate=function(e,t,a){for(var n=new openfl_geom_Matrix3D,i=0;i<16;){var s=i++;n.rawData.set(s,e.rawData.get(s)+(t.rawData.get(s)-e.rawData.get(s))*a)}return n},openfl_geom_Matrix3D.__getAxisRotation=function(e,t,a,n){var i=new openfl_geom_Matrix3D,s=new openfl_geom_Vector3D(e,t,a),_=-n*(Math.PI/180),r=Math.cos(_),o=Math.sin(_),l=1-r;i.rawData.set(0,r+s.x*s.x*l),i.rawData.set(5,r+s.y*s.y*l),i.rawData.set(10,r+s.z*s.z*l);var h=s.x*s.y*l,u=s.z*o;return i.rawData.set(4,h+u),i.rawData.set(1,h-u),h=s.x*s.z*l,u=s.y*o,i.rawData.set(8,h-u),i.rawData.set(2,h+u),h=s.y*s.z*l,u=s.x*o,i.rawData.set(9,h+u),i.rawData.set(6,h-u),i},openfl_geom_Matrix3D.prototype={append:function(e){var t=this.rawData.get(0),a=this.rawData.get(4),n=this.rawData.get(8),i=this.rawData.get(12),s=this.rawData.get(1),_=this.rawData.get(5),r=this.rawData.get(9),o=this.rawData.get(13),l=this.rawData.get(2),h=this.rawData.get(6),u=this.rawData.get(10),p=this.rawData.get(14),c=this.rawData.get(3),d=this.rawData.get(7),f=this.rawData.get(11),m=this.rawData.get(15),g=e.rawData.get(0),x=e.rawData.get(4),k=e.rawData.get(8),y=e.rawData.get(12),b=e.rawData.get(1),v=e.rawData.get(5),P=e.rawData.get(9),w=e.rawData.get(13),T=e.rawData.get(2),C=e.rawData.get(6),S=e.rawData.get(10),A=e.rawData.get(14),E=e.rawData.get(3),D=e.rawData.get(7),M=e.rawData.get(11),R=e.rawData.get(15);this.rawData.set(0,t*g+s*x+l*k+c*y),this.rawData.set(1,t*b+s*v+l*P+c*w),this.rawData.set(2,t*T+s*C+l*S+c*A),this.rawData.set(3,t*E+s*D+l*M+c*R),this.rawData.set(4,a*g+_*x+h*k+d*y),this.rawData.set(5,a*b+_*v+h*P+d*w),this.rawData.set(6,a*T+_*C+h*S+d*A),this.rawData.set(7,a*E+_*D+h*M+d*R),this.rawData.set(8,n*g+r*x+u*k+f*y),this.rawData.set(9,n*b+r*v+u*P+f*w),this.rawData.set(10,n*T+r*C+u*S+f*A),this.rawData.set(11,n*E+r*D+u*M+f*R),this.rawData.set(12,i*g+o*x+p*k+m*y),this.rawData.set(13,i*b+o*v+p*P+m*w),this.rawData.set(14,i*T+o*C+p*S+m*A),this.rawData.set(15,i*E+o*D+p*M+m*R)},appendRotation:function(e,t,a){var n=0,i=n,s=i;null!=a&&(s=a.x,i=a.y,n=a.z);var _=e*Math.PI/180,r=Math.cos(_),o=Math.sin(_),l=t.x,h=t.y,u=t.z,p=l*l,c=h*h,d=u*u,f=p+c+d;if(0!=f){var m=Math.sqrt(f);l/=m,h/=m,u/=m,p/=f,c/=f,d/=f}var g=1-r,x=new openfl_geom_Matrix3D,k=x.rawData;k.set(0,p+(c+d)*r),k.set(1,l*h*g+u*o),k.set(2,l*u*g-h*o),k.set(4,l*h*g-u*o),k.set(5,c+(p+d)*r),k.set(6,h*u*g+l*o),k.set(8,l*u*g+h*o),k.set(9,h*u*g-l*o),k.set(10,d+(p+c)*r),k.set(12,(s*(c+d)-l*(i*h+n*u))*g+(i*u-n*h)*o),k.set(13,(i*(p+d)-h*(s*l+n*u))*g+(n*l-s*u)*o),k.set(14,(n*(p+c)-u*(s*l+i*h))*g+(s*h-i*l)*o),this.append(x)},appendScale:function(e,t,a){this.append(new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[e,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1])))},appendTranslation:function(e,t,a){var n;(n=this.rawData).set(12,n.get(12)+e),(n=this.rawData).set(13,n.get(13)+t),(n=this.rawData).set(14,n.get(14)+a)},clone:function(){return new openfl_geom_Matrix3D(this.rawData.copy())},copyColumnFrom:function(e,t){switch(e){case 0:this.rawData.set(0,t.x),this.rawData.set(1,t.y),this.rawData.set(2,t.z),this.rawData.set(3,t.w);break;case 1:this.rawData.set(4,t.x),this.rawData.set(5,t.y),this.rawData.set(6,t.z),this.rawData.set(7,t.w);break;case 2:this.rawData.set(8,t.x),this.rawData.set(9,t.y),this.rawData.set(10,t.z),this.rawData.set(11,t.w);break;case 3:this.rawData.set(12,t.x),this.rawData.set(13,t.y),this.rawData.set(14,t.z),this.rawData.set(15,t.w)}},copyColumnTo:function(e,t){switch(e){case 0:t.x=this.rawData.get(0),t.y=this.rawData.get(1),t.z=this.rawData.get(2),t.w=this.rawData.get(3);break;case 1:t.x=this.rawData.get(4),t.y=this.rawData.get(5),t.z=this.rawData.get(6),t.w=this.rawData.get(7);break;case 2:t.x=this.rawData.get(8),t.y=this.rawData.get(9),t.z=this.rawData.get(10),t.w=this.rawData.get(11);break;case 3:t.x=this.rawData.get(12),t.y=this.rawData.get(13),t.z=this.rawData.get(14),t.w=this.rawData.get(15)}},copyFrom:function(e){this.rawData=e.rawData.copy()},copyRawDataFrom:function(e,t,a){null==a&&(a=!1),null==t&&(t=0),a&&this.transpose();for(var n=0,i=e.get_length()-t;n<i;){var s=n++;this.rawData.set(s,e.get(s+t))}a&&this.transpose()},copyRawDataTo:function(e,t,a){null==a&&(a=!1),null==t&&(t=0),a&&this.transpose();for(var n=0,i=this.rawData.get_length();n<i;){var s=n++;e.set(s+t,this.rawData.get(s))}a&&this.transpose()},copyRowFrom:function(e,t){switch(e){case 0:this.rawData.set(0,t.x),this.rawData.set(4,t.y),this.rawData.set(8,t.z),this.rawData.set(12,t.w);break;case 1:this.rawData.set(1,t.x),this.rawData.set(5,t.y),this.rawData.set(9,t.z),this.rawData.set(13,t.w);break;case 2:this.rawData.set(2,t.x),this.rawData.set(6,t.y),this.rawData.set(10,t.z),this.rawData.set(14,t.w);break;case 3:this.rawData.set(3,t.x),this.rawData.set(7,t.y),this.rawData.set(11,t.z),this.rawData.set(15,t.w)}},copyRowTo:function(e,t){switch(e){case 0:t.x=this.rawData.get(0),t.y=this.rawData.get(4),t.z=this.rawData.get(8),t.w=this.rawData.get(12);break;case 1:t.x=this.rawData.get(1),t.y=this.rawData.get(5),t.z=this.rawData.get(9),t.w=this.rawData.get(13);break;case 2:t.x=this.rawData.get(2),t.y=this.rawData.get(6),t.z=this.rawData.get(10),t.w=this.rawData.get(14);break;case 3:t.x=this.rawData.get(3),t.y=this.rawData.get(7),t.z=this.rawData.get(11),t.w=this.rawData.get(15)}},copyToMatrix3D:function(e){e.rawData=this.rawData.copy()},decompose:function(e){null==e&&(e=1);var t=openfl_Vector.toObjectVector(null),a=this.clone().rawData.copy(),n=new openfl_geom_Vector3D(a.get(12),a.get(13),a.get(14));a.set(12,0),a.set(13,0),a.set(14,0);var i,s=new openfl_geom_Vector3D;s.x=Math.sqrt(a.get(0)*a.get(0)+a.get(1)*a.get(1)+a.get(2)*a.get(2)),s.y=Math.sqrt(a.get(4)*a.get(4)+a.get(5)*a.get(5)+a.get(6)*a.get(6)),s.z=Math.sqrt(a.get(8)*a.get(8)+a.get(9)*a.get(9)+a.get(10)*a.get(10)),a.get(0)*(a.get(5)*a.get(10)-a.get(6)*a.get(9))-a.get(1)*(a.get(4)*a.get(10)-a.get(6)*a.get(8))+a.get(2)*(a.get(4)*a.get(9)-a.get(5)*a.get(8))<0&&(s.z=-s.z),(i=a).set(0,i.get(0)/s.x),(i=a).set(1,i.get(1)/s.x),(i=a).set(2,i.get(2)/s.x),(i=a).set(4,i.get(4)/s.y),(i=a).set(5,i.get(5)/s.y),(i=a).set(6,i.get(6)/s.y),(i=a).set(8,i.get(8)/s.z),(i=a).set(9,i.get(9)/s.z),(i=a).set(10,i.get(10)/s.z);var _=new openfl_geom_Vector3D;switch(e){case 0:_.w=Math.acos((a.get(0)+a.get(5)+a.get(10)-1)/2);var r=Math.sqrt((a.get(6)-a.get(9))*(a.get(6)-a.get(9))+(a.get(8)-a.get(2))*(a.get(8)-a.get(2))+(a.get(1)-a.get(4))*(a.get(1)-a.get(4)));0!=r?(_.x=(a.get(6)-a.get(9))/r,_.y=(a.get(8)-a.get(2))/r,_.z=(a.get(1)-a.get(4))/r):_.x=_.y=_.z=0;break;case 1:_.y=Math.asin(-a.get(2)),1!=a.get(2)&&-1!=a.get(2)?(_.x=Math.atan2(a.get(6),a.get(10)),_.z=Math.atan2(a.get(1),a.get(0))):(_.z=0,_.x=Math.atan2(a.get(4),a.get(5)));break;case 2:var o=a.get(0)+a.get(5)+a.get(10);o>0?(_.w=Math.sqrt(1+o)/2,_.x=(a.get(6)-a.get(9))/(4*_.w),_.y=(a.get(8)-a.get(2))/(4*_.w),_.z=(a.get(1)-a.get(4))/(4*_.w)):a.get(0)>a.get(5)&&a.get(0)>a.get(10)?(_.x=Math.sqrt(1+a.get(0)-a.get(5)-a.get(10))/2,_.w=(a.get(6)-a.get(9))/(4*_.x),_.y=(a.get(1)+a.get(4))/(4*_.x),_.z=(a.get(8)+a.get(2))/(4*_.x)):a.get(5)>a.get(10)?(_.y=Math.sqrt(1+a.get(5)-a.get(0)-a.get(10))/2,_.x=(a.get(1)+a.get(4))/(4*_.y),_.w=(a.get(8)-a.get(2))/(4*_.y),_.z=(a.get(6)+a.get(9))/(4*_.y)):(_.z=Math.sqrt(1+a.get(10)-a.get(0)-a.get(5))/2,_.x=(a.get(8)+a.get(2))/(4*_.z),_.y=(a.get(6)+a.get(9))/(4*_.z),_.w=(a.get(1)-a.get(4))/(4*_.z))}return t.push(n),t.push(_),t.push(s),t},deltaTransformVector:function(e){var t=e.x,a=e.y,n=e.z;return new openfl_geom_Vector3D(t*this.rawData.get(0)+a*this.rawData.get(4)+n*this.rawData.get(8),t*this.rawData.get(1)+a*this.rawData.get(5)+n*this.rawData.get(9),t*this.rawData.get(2)+a*this.rawData.get(6)+n*this.rawData.get(10),t*this.rawData.get(3)+a*this.rawData.get(7)+n*this.rawData.get(11))},identity:function(){this.rawData=openfl_Vector.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},interpolateTo:function(e,t){for(var a=0;a<16;){var n=a++;this.rawData.set(n,this.rawData.get(n)+(e.rawData.get(n)-this.rawData.get(n))*t)}},invert:function(){var e=this.get_determinant(),t=Math.abs(e)>1e-11;if(t){e=1/e;var a=this.rawData.get(0),n=this.rawData.get(4),i=this.rawData.get(8),s=this.rawData.get(12),_=this.rawData.get(1),r=this.rawData.get(5),o=this.rawData.get(9),l=this.rawData.get(13),h=this.rawData.get(2),u=this.rawData.get(6),p=this.rawData.get(10),c=this.rawData.get(14),d=this.rawData.get(3),f=this.rawData.get(7),m=this.rawData.get(11),g=this.rawData.get(15);this.rawData.set(0,e*(r*(p*g-c*m)-o*(u*g-c*f)+l*(u*m-p*f))),this.rawData.set(1,-e*(_*(p*g-c*m)-o*(h*g-c*d)+l*(h*m-p*d))),this.rawData.set(2,e*(_*(u*g-c*f)-r*(h*g-c*d)+l*(h*f-u*d))),this.rawData.set(3,-e*(_*(u*m-p*f)-r*(h*m-p*d)+o*(h*f-u*d))),this.rawData.set(4,-e*(n*(p*g-c*m)-i*(u*g-c*f)+s*(u*m-p*f))),this.rawData.set(5,e*(a*(p*g-c*m)-i*(h*g-c*d)+s*(h*m-p*d))),this.rawData.set(6,-e*(a*(u*g-c*f)-n*(h*g-c*d)+s*(h*f-u*d))),this.rawData.set(7,e*(a*(u*m-p*f)-n*(h*m-p*d)+i*(h*f-u*d))),this.rawData.set(8,e*(n*(o*g-l*m)-i*(r*g-l*f)+s*(r*m-o*f))),this.rawData.set(9,-e*(a*(o*g-l*m)-i*(_*g-l*d)+s*(_*m-o*d))),this.rawData.set(10,e*(a*(r*g-l*f)-n*(_*g-l*d)+s*(_*f-r*d))),this.rawData.set(11,-e*(a*(r*m-o*f)-n*(_*m-o*d)+i*(_*f-r*d))),this.rawData.set(12,-e*(n*(o*c-l*p)-i*(r*c-l*u)+s*(r*p-o*u))),this.rawData.set(13,e*(a*(o*c-l*p)-i*(_*c-l*h)+s*(_*p-o*h))),this.rawData.set(14,-e*(a*(r*c-l*u)-n*(_*c-l*h)+s*(_*u-r*h))),this.rawData.set(15,e*(a*(r*p-o*u)-n*(_*p-o*h)+i*(_*u-r*h)))}return t},pointAt:function(e,t,a){null==t&&(t=new openfl_geom_Vector3D(0,0,-1)),null==a&&(a=new openfl_geom_Vector3D(0,-1,0));var n=t.subtract(e),i=a.clone();n.normalize(),i.normalize();var s=n.clone();s.scaleBy(i.dotProduct(n)),(i=i.subtract(s)).get_length()>0?i.normalize():i=0!=n.x?new openfl_geom_Vector3D(-n.y,n.x,0):new openfl_geom_Vector3D(1,0,0);var _=i.crossProduct(n);_.normalize(),this.rawData.set(0,_.x),this.rawData.set(4,_.y),this.rawData.set(8,_.z),this.rawData.set(12,0),this.rawData.set(1,i.x),this.rawData.set(5,i.y),this.rawData.set(9,i.z),this.rawData.set(13,0),this.rawData.set(2,n.x),this.rawData.set(6,n.y),this.rawData.set(10,n.z),this.rawData.set(14,0),this.rawData.set(3,e.x),this.rawData.set(7,e.y),this.rawData.set(11,e.z),this.rawData.set(15,1)},prepend:function(e){var t=e.rawData.get(0),a=e.rawData.get(4),n=e.rawData.get(8),i=e.rawData.get(12),s=e.rawData.get(1),_=e.rawData.get(5),r=e.rawData.get(9),o=e.rawData.get(13),l=e.rawData.get(2),h=e.rawData.get(6),u=e.rawData.get(10),p=e.rawData.get(14),c=e.rawData.get(3),d=e.rawData.get(7),f=e.rawData.get(11),m=e.rawData.get(15),g=this.rawData.get(0),x=this.rawData.get(4),k=this.rawData.get(8),y=this.rawData.get(12),b=this.rawData.get(1),v=this.rawData.get(5),P=this.rawData.get(9),w=this.rawData.get(13),T=this.rawData.get(2),C=this.rawData.get(6),S=this.rawData.get(10),A=this.rawData.get(14),E=this.rawData.get(3),D=this.rawData.get(7),M=this.rawData.get(11),R=this.rawData.get(15);this.rawData.set(0,t*g+s*x+l*k+c*y),this.rawData.set(1,t*b+s*v+l*P+c*w),this.rawData.set(2,t*T+s*C+l*S+c*A),this.rawData.set(3,t*E+s*D+l*M+c*R),this.rawData.set(4,a*g+_*x+h*k+d*y),this.rawData.set(5,a*b+_*v+h*P+d*w),this.rawData.set(6,a*T+_*C+h*S+d*A),this.rawData.set(7,a*E+_*D+h*M+d*R),this.rawData.set(8,n*g+r*x+u*k+f*y),this.rawData.set(9,n*b+r*v+u*P+f*w),this.rawData.set(10,n*T+r*C+u*S+f*A),this.rawData.set(11,n*E+r*D+u*M+f*R),this.rawData.set(12,i*g+o*x+p*k+m*y),this.rawData.set(13,i*b+o*v+p*P+m*w),this.rawData.set(14,i*T+o*C+p*S+m*A),this.rawData.set(15,i*E+o*D+p*M+m*R)},prependRotation:function(e,t,a){var n=0,i=n,s=i;null!=a&&(s=a.x,i=a.y,n=a.z);var _=e*Math.PI/180,r=Math.cos(_),o=Math.sin(_),l=t.x,h=t.y,u=t.z,p=l*l,c=h*h,d=u*u,f=p+c+d;if(0!=f){var m=Math.sqrt(f);l/=m,h/=m,u/=m,p/=f,c/=f,d/=f}var g=1-r,x=new openfl_geom_Matrix3D,k=x.rawData;k.set(0,p+(c+d)*r),k.set(1,l*h*g+u*o),k.set(2,l*u*g-h*o),k.set(4,l*h*g-u*o),k.set(5,c+(p+d)*r),k.set(6,h*u*g+l*o),k.set(8,l*u*g+h*o),k.set(9,h*u*g-l*o),k.set(10,d+(p+c)*r),k.set(12,(s*(c+d)-l*(i*h+n*u))*g+(i*u-n*h)*o),k.set(13,(i*(p+d)-h*(s*l+n*u))*g+(n*l-s*u)*o),k.set(14,(n*(p+c)-u*(s*l+i*h))*g+(s*h-i*l)*o),this.prepend(x)},prependScale:function(e,t,a){this.prepend(new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[e,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1])))},prependTranslation:function(e,t,a){var n=new openfl_geom_Matrix3D;n.set_position(new openfl_geom_Vector3D(e,t,a)),this.prepend(n)},recompose:function(e,t){if(null==t&&(t=1),e.get_length()<3||0==e.get(2).x||0==e.get(2).y||0==e.get(2).z)return!1;this.identity();var a=[];if(a[0]=a[1]=a[2]=e.get(2).x,a[4]=a[5]=a[6]=e.get(2).y,a[8]=a[9]=a[10]=e.get(2).z,1==t){var n=Math.cos(e.get(1).x),i=Math.cos(e.get(1).y),s=Math.cos(e.get(1).z),_=Math.sin(e.get(1).x),r=Math.sin(e.get(1).y),o=Math.sin(e.get(1).z);this.rawData.set(0,i*s*a[0]),this.rawData.set(1,i*o*a[1]),this.rawData.set(2,-r*a[2]),this.rawData.set(3,0),this.rawData.set(4,(_*r*s-n*o)*a[4]),this.rawData.set(5,(_*r*o+n*s)*a[5]),this.rawData.set(6,_*i*a[6]),this.rawData.set(7,0),this.rawData.set(8,(n*r*s+_*o)*a[8]),this.rawData.set(9,(n*r*o-_*s)*a[9]),this.rawData.set(10,n*i*a[10]),this.rawData.set(11,0),this.rawData.set(12,e.get(0).x),this.rawData.set(13,e.get(0).y),this.rawData.set(14,e.get(0).z),this.rawData.set(15,1)}else{var l=e.get(1).x,h=e.get(1).y,u=e.get(1).z,p=e.get(1).w;0==t&&(l*=Math.sin(p/2),h*=Math.sin(p/2),u*=Math.sin(p/2),p=Math.cos(p/2)),this.rawData.set(0,(1-2*h*h-2*u*u)*a[0]),this.rawData.set(1,(2*l*h+2*p*u)*a[1]),this.rawData.set(2,(2*l*u-2*p*h)*a[2]),this.rawData.set(3,0),this.rawData.set(4,(2*l*h-2*p*u)*a[4]),this.rawData.set(5,(1-2*l*l-2*u*u)*a[5]),this.rawData.set(6,(2*h*u+2*p*l)*a[6]),this.rawData.set(7,0),this.rawData.set(8,(2*l*u+2*p*h)*a[8]),this.rawData.set(9,(2*h*u-2*p*l)*a[9]),this.rawData.set(10,(1-2*l*l-2*h*h)*a[10]),this.rawData.set(11,0),this.rawData.set(12,e.get(0).x),this.rawData.set(13,e.get(0).y),this.rawData.set(14,e.get(0).z),this.rawData.set(15,1)}return 0==e.get(2).x&&this.rawData.set(0,1e-15),0==e.get(2).y&&this.rawData.set(5,1e-15),0==e.get(2).z&&this.rawData.set(10,1e-15),!(0==e.get(2).x||0==e.get(2).y||0==e.get(2).y)},transformVector:function(e){var t=e.x,a=e.y,n=e.z;return new openfl_geom_Vector3D(t*this.rawData.get(0)+a*this.rawData.get(4)+n*this.rawData.get(8)+this.rawData.get(12),t*this.rawData.get(1)+a*this.rawData.get(5)+n*this.rawData.get(9)+this.rawData.get(13),t*this.rawData.get(2)+a*this.rawData.get(6)+n*this.rawData.get(10)+this.rawData.get(14),t*this.rawData.get(3)+a*this.rawData.get(7)+n*this.rawData.get(11)+this.rawData.get(15))},transformVectors:function(e,t){for(var a,n,i,s=0;s+3<=e.get_length();)a=e.get(s),n=e.get(s+1),i=e.get(s+2),t.set(s,a*this.rawData.get(0)+n*this.rawData.get(4)+i*this.rawData.get(8)+this.rawData.get(12)),t.set(s+1,a*this.rawData.get(1)+n*this.rawData.get(5)+i*this.rawData.get(9)+this.rawData.get(13)),t.set(s+2,a*this.rawData.get(2)+n*this.rawData.get(6)+i*this.rawData.get(10)+this.rawData.get(14)),s+=3},transpose:function(){var e=this.rawData.copy();this.rawData.set(1,e.get(4)),this.rawData.set(2,e.get(8)),this.rawData.set(3,e.get(12)),this.rawData.set(4,e.get(1)),this.rawData.set(6,e.get(9)),this.rawData.set(7,e.get(13)),this.rawData.set(8,e.get(2)),this.rawData.set(9,e.get(6)),this.rawData.set(11,e.get(14)),this.rawData.set(12,e.get(3)),this.rawData.set(13,e.get(7)),this.rawData.set(14,e.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},get_position:function(){return new openfl_geom_Vector3D(this.rawData.get(12),this.rawData.get(13),this.rawData.get(14))},set_position:function(e){return this.rawData.set(12,e.x),this.rawData.set(13,e.y),this.rawData.set(14,e.z),e},__class__:openfl_geom_Matrix3D,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var openfl_geom_Orientation3D={fromString:function(e){switch(e){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},toString:function(e){switch(e){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}}},openfl_geom_Transform=function(e){this.__colorTransform=new openfl_geom_ColorTransform,this.concatenatedColorTransform=new openfl_geom_ColorTransform,this.pixelBounds=new openfl_geom_Rectangle,this.__displayObject=e,this.__hasMatrix=!0};$hxClasses["openfl.geom.Transform"]=openfl_geom_Transform,openfl_geom_Transform.__name__="openfl.geom.Transform",openfl_geom_Transform.prototype={get_colorTransform:function(){return this.__colorTransform.__clone()},set_colorTransform:function(e){if(!this.__colorTransform.__equals(e,!1)){this.__colorTransform.__copyFrom(e),null!=e&&this.__displayObject.set_alpha(e.alphaMultiplier);var t=this.__displayObject;t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())}return this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},set_matrix:function(e){return null==e?(this.__hasMatrix=!1,null):(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject&&this.__setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),e)},get_matrix3D:function(){if(this.__hasMatrix3D){var e=this.__displayObject.__transform;return new openfl_geom_Matrix3D(openfl_Vector.toFloatVector(null,null,null,[e.a,e.b,0,0,e.c,e.d,0,0,0,0,1,0,e.tx,e.ty,0,1]))}return null},set_matrix3D:function(e){return null==e?(this.__hasMatrix3D=!1,null):(this.__hasMatrix=!1,this.__hasMatrix3D=!0,this.__setTransform(e.rawData.get(0),e.rawData.get(1),e.rawData.get(5),e.rawData.get(6),e.rawData.get(12),e.rawData.get(13)),e)},__setTransform:function(e,t,a,n,i,s){if(null!=this.__displayObject){var _=this.__displayObject.__transform;if(_.a==e&&_.b==t&&_.c==a&&_.d==n&&_.tx==i&&_.ty==s)return;var r=0,o=0;r=0==t?e:Math.sqrt(e*e+t*t),o=0==a?n:Math.sqrt(a*a+n*n),this.__displayObject.__scaleX=r,this.__displayObject.__scaleY=o;var l=180/Math.PI*Math.atan2(n,a)-90;if(l!=this.__displayObject.__rotation){this.__displayObject.__rotation=l;var h=l*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(h),this.__displayObject.__rotationCosine=Math.cos(h)}_.a=e,_.b=t,_.c=a,_.d=n,_.tx=i,_.ty=s,this.__displayObject.__setTransformDirty()}},__class__:openfl_geom_Transform,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var openfl_geom_Vector3D=function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.w=n,this.x=e,this.y=t,this.z=a};$hxClasses["openfl.geom.Vector3D"]=openfl_geom_Vector3D,openfl_geom_Vector3D.__name__="openfl.geom.Vector3D",openfl_geom_Vector3D.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},openfl_geom_Vector3D.angleBetween=function(e,t){var a=e.get_length(),n=t.get_length(),i=e.dotProduct(t);return 0!=a&&(i/=a),0!=n&&(i/=n),Math.acos(i)},openfl_geom_Vector3D.distance=function(e,t){var a=t.x-e.x,n=t.y-e.y,i=t.z-e.z;return Math.sqrt(a*a+n*n+i*i)},openfl_geom_Vector3D.get_X_AXIS=function(){return new openfl_geom_Vector3D(1,0,0)},openfl_geom_Vector3D.get_Y_AXIS=function(){return new openfl_geom_Vector3D(0,1,0)},openfl_geom_Vector3D.get_Z_AXIS=function(){return new openfl_geom_Vector3D(0,0,1)},openfl_geom_Vector3D.prototype={add:function(e){return new openfl_geom_Vector3D(this.x+e.x,this.y+e.y,this.z+e.z)},clone:function(){return new openfl_geom_Vector3D(this.x,this.y,this.z,this.w)},copyFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z},crossProduct:function(e){return new openfl_geom_Vector3D(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,1)},decrementBy:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},dotProduct:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},equals:function(e,t){return null==t&&(t=!1),this.x==e.x&&this.y==e.y&&this.z==e.z&&(!t||this.w==e.w)},incrementBy:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},nearEquals:function(e,t,a){return null==a&&(a=!1),Math.abs(this.x-e.x)<t&&Math.abs(this.y-e.y)<t&&Math.abs(this.z-e.z)<t&&(!a||Math.abs(this.w-e.w)<t)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var e=this.get_length();return 0!=e&&(this.x/=e,this.y/=e,this.z/=e),e},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(e){this.x*=e,this.y*=e,this.z*=e},setTo:function(e,t,a){this.x=e,this.y=t,this.z=a},subtract:function(e){return new openfl_geom_Vector3D(this.x-e.x,this.y-e.y,this.z-e.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:openfl_geom_Vector3D,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var openfl_media_ID3Info=function(){};$hxClasses["openfl.media.ID3Info"]=openfl_media_ID3Info,openfl_media_ID3Info.__name__="openfl.media.ID3Info",openfl_media_ID3Info.prototype={__class__:openfl_media_ID3Info};var openfl_media_Sound=function(e,t){openfl_events_EventDispatcher.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.isBuffering=!1,this.url=null,null!=e&&this.load(e,t)};$hxClasses["openfl.media.Sound"]=openfl_media_Sound,openfl_media_Sound.__name__="openfl.media.Sound",openfl_media_Sound.fromAudioBuffer=function(e){var t=new openfl_media_Sound;return t.__buffer=e,t},openfl_media_Sound.fromFile=function(e){return openfl_media_Sound.fromAudioBuffer(lime_media_AudioBuffer.fromFile(e))},openfl_media_Sound.loadFromFile=function(e){return lime_media_AudioBuffer.loadFromFile(e).then((function(e){return lime_app_Future.withValue(openfl_media_Sound.fromAudioBuffer(e))}))},openfl_media_Sound.loadFromFiles=function(e){return lime_media_AudioBuffer.loadFromFiles(e).then((function(e){return lime_app_Future.withValue(openfl_media_Sound.fromAudioBuffer(e))}))},openfl_media_Sound.__super__=openfl_events_EventDispatcher,openfl_media_Sound.prototype=$extend(openfl_events_EventDispatcher.prototype,{close:function(){null!=this.__buffer&&(this.__buffer.dispose(),this.__buffer=null)},load:function(e,t){var a=this;this.url=e.url;var n=lime_utils_Assets.getLibrary("default");null!=n&&Object.prototype.hasOwnProperty.call(n.cachedAudioBuffers.h,this.url)?this.AudioBuffer_onURLLoad(n.cachedAudioBuffers.h[this.url]):lime_media_AudioBuffer.loadFromFile(this.url).onComplete($bind(this,this.AudioBuffer_onURLLoad)).onError((function(e){a.AudioBuffer_onURLLoad(null)}))},loadCompressedDataFromByteArray:function(e,t){if(null==e||t<=0)this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"));else{if(UInt.gt(e.position,0)||UInt.gt(openfl_utils_ByteArray.get_length(e),t)){null==(a=t)&&(a=0);var a,n=new openfl_utils_ByteArrayData(a),i=e.position;null==(a=t)&&(a=0),null==i&&(i=0),n.writeBytes(e,i,a),e=n}this.__buffer=lime_media_AudioBuffer.fromBytes(openfl_utils_ByteArray.toBytes(e)),null==this.__buffer?this.dispatchEvent(new openfl_events_IOErrorEvent("ioError")):this.dispatchEvent(new openfl_events_Event("complete"))}},loadPCMFromByteArray:function(e,t,a,n,i){if(null==i&&(i=44100),null==n&&(n=!0),null==a&&(a="float"),null!=e){var s="float"==a?32:16,_=n?2:1,r=t*_*(s/8)|0;if(UInt.gt(e.position,0)||UInt.gt(openfl_utils_ByteArray.get_length(e),r)){null==(o=r)&&(o=0);var o,l=p=new openfl_utils_ByteArrayData(o),h=e.position;null==(o=r)&&(o=0),null==h&&(h=0),l.writeBytes(e,h,o),e=l}var u=new lime_media_AudioBuffer;u.bitsPerSample=s,u.channels=_;var p,c=openfl_utils_ByteArray.toArrayBuffer(e);p=null!=c?new Uint8Array(c,0):null,u.data=p,u.sampleRate=0|i,this.__buffer=u,this.dispatchEvent(new openfl_events_Event("complete"))}else this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"))},play:function(e,t,a){if(null==t&&(t=0),null==e&&(e=0),null==this.__buffer||openfl_media_SoundMixer.__soundChannels.length>=32)return null;a=null==a?new openfl_media_SoundTransform:a.clone();var n=openfl_media_SoundMixer.__soundTransform.pan+a.pan;n>1&&(n=1),n<-1&&(n=-1);var i=openfl_media_SoundMixer.__soundTransform.volume*a.volume,s=new lime_media_AudioSource(this.__buffer);s.offset=0|e,t>1&&s.set_loops(t-1),s.set_gain(i);var _=s.get_position();return _.x=n,_.z=-1*Math.sqrt(1-Math.pow(n,2)),s.set_position(_),new openfl_media_SoundChannel(s,a)},get_id3:function(){return new openfl_media_ID3Info},get_length:function(){return null!=this.__buffer?1e3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(e){null==e?this.dispatchEvent(new openfl_events_IOErrorEvent("ioError")):(this.__buffer=e,this.dispatchEvent(new openfl_events_Event("complete")))},__class__:openfl_media_Sound,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var openfl_media_SoundChannel=function(e,t){openfl_events_EventDispatcher.call(this,this),this.leftPeak=1,this.rightPeak=1,this.__soundTransform=null!=t?t:new openfl_media_SoundTransform,null!=e&&(this.__source=e,this.__source.onComplete.add($bind(this,this.source_onComplete)),this.__isValid=!0,this.__source.play()),openfl_media_SoundMixer.__registerSoundChannel(this)};$hxClasses["openfl.media.SoundChannel"]=openfl_media_SoundChannel,openfl_media_SoundChannel.__name__="openfl.media.SoundChannel",openfl_media_SoundChannel.__super__=openfl_events_EventDispatcher,openfl_media_SoundChannel.prototype=$extend(openfl_events_EventDispatcher.prototype,{stop:function(){openfl_media_SoundMixer.__unregisterSoundChannel(this),this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove($bind(this,this.source_onComplete)),this.__source.dispose(),this.__source=null,this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(e){return this.__isValid?(this.__source.set_currentTime((0|e)-this.__source.offset),e):0},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(e){if(null!=e){this.__soundTransform.pan=e.pan,this.__soundTransform.volume=e.volume;var t=openfl_media_SoundMixer.__soundTransform.pan+this.__soundTransform.pan;t<-1&&(t=-1),t>1&&(t=1);var a=openfl_media_SoundMixer.__soundTransform.volume*this.__soundTransform.volume;if(this.__isValid){this.__source.set_gain(a);var n=this.__source.get_position();return n.x=t,n.z=-1*Math.sqrt(1-Math.pow(t,2)),this.__source.set_position(n),e}}return e},source_onComplete:function(){openfl_media_SoundMixer.__unregisterSoundChannel(this),this.__dispose(),this.dispatchEvent(new openfl_events_Event("soundComplete"))},__class__:openfl_media_SoundChannel,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var openfl_media_SoundLoaderContext=function(e,t){null==t&&(t=!1),null==e&&(e=1e3),this.bufferTime=e,this.checkPolicyFile=t};$hxClasses["openfl.media.SoundLoaderContext"]=openfl_media_SoundLoaderContext,openfl_media_SoundLoaderContext.__name__="openfl.media.SoundLoaderContext",openfl_media_SoundLoaderContext.prototype={__class__:openfl_media_SoundLoaderContext};var openfl_media_SoundTransform=function(e,t){null==t&&(t=0),null==e&&(e=1),this.volume=e,this.pan=t,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};$hxClasses["openfl.media.SoundTransform"]=openfl_media_SoundTransform,openfl_media_SoundTransform.__name__="openfl.media.SoundTransform",openfl_media_SoundTransform.prototype={clone:function(){return new openfl_media_SoundTransform(this.volume,this.pan)},__class__:openfl_media_SoundTransform};var openfl_media_SoundMixer=function(){};$hxClasses["openfl.media.SoundMixer"]=openfl_media_SoundMixer,openfl_media_SoundMixer.__name__="openfl.media.SoundMixer",openfl_media_SoundMixer.__properties__={set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"},openfl_media_SoundMixer.areSoundsInaccessible=function(){return!1},openfl_media_SoundMixer.stopAll=function(){for(var e=0,t=openfl_media_SoundMixer.__soundChannels;e<t.length;){var a=t[e];++e,a.stop()}},openfl_media_SoundMixer.__registerSoundChannel=function(e){openfl_media_SoundMixer.__soundChannels.push(e)},openfl_media_SoundMixer.__unregisterSoundChannel=function(e){HxOverrides.remove(openfl_media_SoundMixer.__soundChannels,e)},openfl_media_SoundMixer.get_soundTransform=function(){return openfl_media_SoundMixer.__soundTransform},openfl_media_SoundMixer.set_soundTransform=function(e){openfl_media_SoundMixer.__soundTransform=e.clone();for(var t=0,a=openfl_media_SoundMixer.__soundChannels;t<a.length;){var n=a[t];++t,n.__updateTransform()}return e};var openfl_media_Video=function(e,t){null==t&&(t=240),null==e&&(e=320),openfl_display_DisplayObject.call(this),this.__drawableType=8,this.__width=e,this.__height=t,this.__textureTime=-1,this.smoothing=!1,this.deblocking=0};$hxClasses["openfl.media.Video"]=openfl_media_Video,openfl_media_Video.__name__="openfl.media.Video",openfl_media_Video.__super__=openfl_display_DisplayObject,openfl_media_Video.prototype=$extend(openfl_display_DisplayObject.prototype,{attachNetStream:function(e){this.__stream=e,null==this.__stream||null==this.__stream.__video||this.__stream.__closed||this.__stream.__video.play()},clear:function(){},__enterFrame:function(e){this.__renderable&&null!=this.__stream&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__getBounds:function(e,t){var a=openfl_geom_Rectangle.__pool.get();a.setTo(0,0,this.__width,this.__height),a.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)},__getIndexBuffer:function(e){e.gl;if(null==this.__indexBuffer||this.__indexBufferContext!=e.__context){var t=new Uint16Array(6);this.__indexBufferData=t,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferContext=e.__context,this.__indexBuffer=e.createIndexBuffer(6),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},__getTexture:function(e){if(null==this.__stream||null==this.__stream.__video)return null;var t=e.__context.webgl,a=t.RGBA,n=t.RGBA;return this.__stream.__closed||this.__stream.__video.currentTime==this.__textureTime||(null==this.__texture&&(this.__texture=e.createRectangleTexture(this.__stream.__video.videoWidth,this.__stream.__video.videoHeight,1,!1)),e.__bindGLTexture2D(this.__texture.__textureID),lime_graphics_WebGLRenderContext.texImage2D(t,t.TEXTURE_2D,0,a,n,t.UNSIGNED_BYTE,this.__stream.__video),this.__textureTime=this.__stream.__video.currentTime),this.__texture},__getVertexBuffer:function(e){e.gl;if(null==this.__vertexBuffer||this.__vertexBufferContext!=e.__context){var t=new Float32Array(20);this.__vertexBufferData=t,this.__vertexBufferData[0]=this.get_width(),this.__vertexBufferData[1]=this.get_height(),this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[6]=this.get_height(),this.__vertexBufferData[9]=1,this.__vertexBufferData[10]=this.get_width(),this.__vertexBufferData[13]=1,this.__vertexBufferContext=e.__context,this.__vertexBuffer=e.createVertexBuffer(3,5),this.__vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},__hitTest:function(e,t,a,n,i,s){if(!s.get_visible()||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;this.__getRenderTransform();var _,r,o=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.tx:1/r*(_.c*(_.ty-t)+_.d*(e-_.tx)),l=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.ty:1/r*(_.a*(t-_.ty)+_.b*(_.tx-e));return o>0&&l>0&&o<=this.__width&&l<=this.__height&&(null==n||i||n.push(s),!0)},__hitTestMask:function(e,t){var a=openfl_geom_Point.__pool.get();a.setTo(e,t),this.__globalToLocal(a,a);var n=a.x>0&&a.y>0&&a.x<=this.__width&&a.y<=this.__height;return openfl_geom_Point.__pool.release(a),n},get_height:function(){return this.__height*this.get_scaleY()},set_height:function(e){return 1==this.get_scaleY()&&e==this.__height||(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleY(1),this.__height=e},get_videoHeight:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoHeight:0},get_videoWidth:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoWidth:0},get_width:function(){return this.__width*this.__scaleX},set_width:function(e){return 1==this.__scaleX&&this.__width==e||(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleX(1),this.__width=e},__class__:openfl_media_Video,__properties__:$extend(openfl_display_DisplayObject.prototype.__properties__,{get_videoWidth:"get_videoWidth",get_videoHeight:"get_videoHeight"})});var openfl_net_NetConnection=function(){openfl_events_EventDispatcher.call(this)};$hxClasses["openfl.net.NetConnection"]=openfl_net_NetConnection,openfl_net_NetConnection.__name__="openfl.net.NetConnection",openfl_net_NetConnection.__super__=openfl_events_EventDispatcher,openfl_net_NetConnection.prototype=$extend(openfl_events_EventDispatcher.prototype,{connect:function(e,t,a,n,i,s){if(null!=e)throw haxe_Exception.thrown('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new openfl_events_NetStatusEvent("netStatus",!1,!0,{code:"NetConnection.Connect.Success"}))},__class__:openfl_net_NetConnection});var openfl_net_NetStream=function(e,t){openfl_events_EventDispatcher.call(this),this.__connection=e,this.__soundTransform=new openfl_media_SoundTransform,this.__video=window.document.createElement("video"),this.__video.setAttribute("playsinline",""),this.__video.setAttribute("webkit-playsinline",""),this.__video.setAttribute("crossorigin","anonymous"),this.__video.addEventListener("error",$bind(this,this.video_onError),!1),this.__video.addEventListener("waiting",$bind(this,this.video_onWaiting),!1),this.__video.addEventListener("ended",$bind(this,this.video_onEnd),!1),this.__video.addEventListener("pause",$bind(this,this.video_onPause),!1),this.__video.addEventListener("seeking",$bind(this,this.video_onSeeking),!1),this.__video.addEventListener("playing",$bind(this,this.video_onPlaying),!1),this.__video.addEventListener("timeupdate",$bind(this,this.video_onTimeUpdate),!1),this.__video.addEventListener("loadstart",$bind(this,this.video_onLoadStart),!1),this.__video.addEventListener("stalled",$bind(this,this.video_onStalled),!1),this.__video.addEventListener("durationchanged",$bind(this,this.video_onDurationChanged),!1),this.__video.addEventListener("canplay",$bind(this,this.video_onCanPlay),!1),this.__video.addEventListener("canplaythrough",$bind(this,this.video_onCanPlayThrough),!1),this.__video.addEventListener("loadedmetadata",$bind(this,this.video_onLoadMetaData),!1)};$hxClasses["openfl.net.NetStream"]=openfl_net_NetStream,openfl_net_NetStream.__name__="openfl.net.NetStream",openfl_net_NetStream.__super__=openfl_events_EventDispatcher,openfl_net_NetStream.prototype=$extend(openfl_events_EventDispatcher.prototype,{close:function(){null!=this.__video&&(this.__closed=!0,this.__video.pause(),this.__video.src="",this.time=0)},dispose:function(){this.close(),this.__video=null},pause:function(){null!=this.__video&&this.__video.pause()},play:function(e,t,a,n,i,s){null!=this.__video&&(this.__video.volume=openfl_media_SoundMixer.__soundTransform.volume*this.__soundTransform.volume,"string"==typeof e?this.__video.src=e:this.__video.srcObject=e,this.__video.play())},requestVideoStatus:function(){var e=this;null!=this.__video&&(null==this.__timer&&(this.__timer=new haxe_Timer(1)),this.__timer.run=function(){e.__video.paused?e.__playStatus("NetStream.Play.pause"):e.__playStatus("NetStream.Play.playing"),e.__timer.stop()})},resume:function(){null!=this.__video&&this.__video.play()},seek:function(e){null!=this.__video&&(e<0?e=0:e>this.__video.duration&&(e=this.__video.duration),this.__dispatchStatus("NetStream.SeekStart.Notify"),this.__video.currentTime=e)},togglePause:function(){null!=this.__video&&(this.__video.paused?this.__video.play():this.__video.pause())},__dispatchStatus:function(e){var t=new openfl_events_NetStatusEvent("netStatus",!1,!1,{code:e});this.__connection.dispatchEvent(t),this.dispatchEvent(t)},__playStatus:function(e){if(null!=this.__video&&null!=this.client)try{(0,this.client.onPlayStatus)({code:e,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(e){haxe_NativeStackTrace.lastError=e}},video_onCanPlay:function(e){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(e){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(e){this.__playStatus("NetStream.Play.durationchanged")},video_onEnd:function(e){this.__dispatchStatus("NetStream.Play.Stop"),this.__dispatchStatus("NetStream.Play.Complete"),this.__playStatus("NetStream.Play.Complete")},video_onError:function(e){this.__dispatchStatus("NetStream.Play.Stop"),this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(e){if(null!=this.__video&&null!=this.client)try{(0,this.client.onMetaData)({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(e){haxe_NativeStackTrace.lastError=e}},video_onLoadStart:function(e){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(e){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(e){this.__dispatchStatus("NetStream.Play.Start"),this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(e){this.__playStatus("NetStream.Play.seeking"),this.__dispatchStatus("NetStream.Seek.Complete")},video_onStalled:function(e){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(e){null!=this.__video&&(this.time=this.__video.currentTime,this.__playStatus("NetStream.Play.timeupdate"))},video_onWaiting:function(e){this.__playStatus("NetStream.Play.waiting")},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(e){return null!=e&&(this.__soundTransform.pan=e.pan,this.__soundTransform.volume=e.volume,null!=this.__video&&(this.__video.volume=openfl_media_SoundMixer.__soundTransform.volume*this.__soundTransform.volume)),e},get_speed:function(){return null!=this.__video?this.__video.playbackRate:1},set_speed:function(e){return null!=this.__video?this.__video.playbackRate=e:e},__class__:openfl_net_NetStream,__properties__:{set_speed:"set_speed",get_speed:"get_speed",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"}});var openfl_net_SharedObject=function(){openfl_events_EventDispatcher.call(this),this.client=this,this.objectEncoding=openfl_net_SharedObject.defaultObjectEncoding};$hxClasses["openfl.net.SharedObject"]=openfl_net_SharedObject,openfl_net_SharedObject.__name__="openfl.net.SharedObject",openfl_net_SharedObject.getLocal=function(e,t,a){null==a&&(a=!1);var n=[" ","~","%","&","\\",";",":",'"',"'",",","<",">","?","#"],i=!0;if(null==e||""==e)i=!1;else for(var s=0;s<n.length;){var _=n[s];if(++s,e.indexOf(_)>-1){i=!1;break}}if(!i)throw haxe_Exception.thrown(new openfl_errors_Error("Error #2134: Cannot create SharedObject."));null==openfl_net_SharedObject.__sharedObjects&&(openfl_net_SharedObject.__sharedObjects=new haxe_ds_StringMap,null!=lime_app_Application.current&&lime_app_Application.current.onExit.add(openfl_net_SharedObject.application_onExit));var r=t+"/"+e;if(!Object.prototype.hasOwnProperty.call(openfl_net_SharedObject.__sharedObjects.h,r)){var o=null;try{var l=js_Browser.getLocalStorage();null==t&&(null!=l&&(o=l.getItem(window.location.href+":"+e),l.removeItem(window.location.href+":"+e)),t=window.location.pathname),null!=l&&null==o&&(o=l.getItem(t+":"+e))}catch(s){haxe_NativeStackTrace.lastError=s}var h=new openfl_net_SharedObject;if(h.data={},h.__localPath=t,h.__name=e,null!=o&&""!=o)try{var u=new haxe_Unserializer(o);u.setResolver({resolveEnum:Type.resolveEnum,resolveClass:openfl_net_SharedObject.__resolveClass}),h.data=u.unserialize()}catch(s){haxe_NativeStackTrace.lastError=s}openfl_net_SharedObject.__sharedObjects.h[r]=h}return openfl_net_SharedObject.__sharedObjects.h[r]},openfl_net_SharedObject.getRemote=function(e,t,a,n){return null==n&&(n=!1),null==a&&(a=!1),openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:808,className:"openfl.net.SharedObject",methodName:"getRemote"}),null},openfl_net_SharedObject.__getPath=function(e,t){var a=lime_system_System.get_applicationStorageDirectory()+"/"+e+"/";if(t=StringTools.replace(t,"//","/"),t=StringTools.replace(t,"//","/"),StringTools.startsWith(t,"/")&&(t=HxOverrides.substr(t,1,null)),StringTools.endsWith(t,"/")&&(t=t.substring(0,t.length-1)),t.indexOf("/")>-1){var n=t.split("/");t="";for(var i=0,s=n.length-1;i<s;){t+="#"+n[i++]+"/"}t+=n[n.length-1]}return a+t+".sol"},openfl_net_SharedObject.__mkdir=function(e){},openfl_net_SharedObject.__resolveClass=function(e){return null!=e?(StringTools.startsWith(e,"neash.")&&(e=StringTools.replace(e,"neash.","openfl.")),StringTools.startsWith(e,"native.")&&(e=StringTools.replace(e,"native.","openfl.")),StringTools.startsWith(e,"flash.")&&(e=StringTools.replace(e,"flash.","openfl.")),StringTools.startsWith(e,"openfl._v2.")&&(e=StringTools.replace(e,"openfl._v2.","openfl.")),StringTools.startsWith(e,"openfl._legacy.")&&(e=StringTools.replace(e,"openfl._legacy.","openfl.")),$hxClasses[e]):null},openfl_net_SharedObject.application_onExit=function(e){for(var t=haxe_ds_StringMap.valueIterator(openfl_net_SharedObject.__sharedObjects.h);t.hasNext();){t.next().flush()}},openfl_net_SharedObject.__super__=openfl_events_EventDispatcher,openfl_net_SharedObject.prototype=$extend(openfl_events_EventDispatcher.prototype,{clear:function(){this.data={};try{var e=js_Browser.getLocalStorage();null!=e&&e.removeItem(this.__localPath+":"+this.__name)}catch(e){haxe_NativeStackTrace.lastError=e}},close:function(){},connect:function(e,t){openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:392,className:"openfl.net.SharedObject",methodName:"connect"})},flush:function(e){if(null==e&&(e=0),0==Reflect.fields(this.data).length)return 0;var t=haxe_Serializer.run(this.data);try{var a=js_Browser.getLocalStorage();null!=a&&(a.removeItem(this.__localPath+":"+this.__name),a.setItem(this.__localPath+":"+this.__name,t))}catch(e){return haxe_NativeStackTrace.lastError=e,1}return 0},send:function(e){openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:824,className:"openfl.net.SharedObject",methodName:"send"})},setDirty:function(e){},setProperty:function(e,t){null!=this.data&&(this.data[e]=t)},get_size:function(){try{var e=haxe_Serializer.run(this.data);return haxe_io_Bytes.ofString(e).length}catch(e){return haxe_NativeStackTrace.lastError=e,0}},__class__:openfl_net_SharedObject,__properties__:{get_size:"get_size"}});var openfl_net_SharedObjectFlushStatus={fromString:function(e){switch(e){case"flushed":return 0;case"pending":return 1;default:return null}},toString:function(e){switch(e){case 0:return"flushed";case 1:return"pending";default:return null}}},openfl_net_URLLoader=function(e){openfl_events_EventDispatcher.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.dataFormat=1,null!=e&&this.load(e)};$hxClasses["openfl.net.URLLoader"]=openfl_net_URLLoader,openfl_net_URLLoader.__name__="openfl.net.URLLoader",openfl_net_URLLoader.__super__=openfl_events_EventDispatcher,openfl_net_URLLoader.prototype=$extend(openfl_events_EventDispatcher.prototype,{close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(e){var t=this;if(0==this.dataFormat){var a=new lime_net__$HTTPRequest_$openfl_$utils_$ByteArray;this.__prepareRequest(a,e),a.load().onProgress($bind(this,this.httpRequest_onProgress)).onError($bind(this,this.httpRequest_onError)).onComplete((function(e){t.__dispatchStatus(),t.data=e;var a=new openfl_events_Event("complete");t.dispatchEvent(a)}))}else{a=new lime_net__$HTTPRequest_$String;this.__prepareRequest(a,e),a.load().onProgress($bind(this,this.httpRequest_onProgress)).onError($bind(this,this.httpRequest_onError)).onComplete((function(e){t.__dispatchStatus(),t.data=e;var a=new openfl_events_Event("complete");t.dispatchEvent(a)}))}},__dispatchStatus:function(){var e=new openfl_events_HTTPStatusEvent("httpStatus",!1,!1,this.__httpRequest.responseStatus);e.responseURL=this.__httpRequest.uri;var t=[];if(this.__httpRequest.enableResponseHeaders&&null!=this.__httpRequest.responseHeaders)for(var a=0,n=this.__httpRequest.responseHeaders;a<n.length;){var i=n[a];++a,t.push(new openfl_net_URLRequestHeader(i.name,i.value))}e.responseHeaders=t,this.dispatchEvent(e)},__prepareRequest:function(e,t){if(this.__httpRequest=e,this.__httpRequest.uri=t.url,this.__httpRequest.method=t.method,null!=t.data)if(Type.typeof(t.data)==ValueType.TObject)for(var a=Reflect.fields(t.data),n=0;n<a.length;){var i=a[n];++n,this.__httpRequest.formData.h[i]=Reflect.field(t.data,i)}else t.data instanceof haxe_io_Bytes?this.__httpRequest.data=t.data:this.__httpRequest.data=haxe_io_Bytes.ofString(Std.string(t.data));if(this.__httpRequest.contentType=t.contentType,null!=t.requestHeaders){n=0;for(var s=t.requestHeaders;n<s.length;){var _=s[n];++n,this.__httpRequest.headers.push(new lime_net_HTTPRequestHeader(_.name,_.value))}}this.__httpRequest.followRedirects=t.followRedirects,this.__httpRequest.timeout=0|t.idleTimeout,this.__httpRequest.withCredentials=t.manageCookies;var r=t.userAgent;null==r&&(r="Mozilla/5.0 (Windows; U; en) AppleWebKit/420+ (KHTML, like Gecko) OpenFL/1.0"),this.__httpRequest.userAgent=t.userAgent,this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(e){var t;(this.__dispatchStatus(),403==e)?((t=new openfl_events_SecurityErrorEvent("securityError")).text=Std.string(e),this.dispatchEvent(t)):((t=new openfl_events_IOErrorEvent("ioError")).text=Std.string(e),this.dispatchEvent(t))},httpRequest_onProgress:function(e,t){var a=new openfl_events_ProgressEvent("progress");a.bytesLoaded=e,a.bytesTotal=t,this.dispatchEvent(a)},__class__:openfl_net_URLLoader});var openfl_net_URLLoaderDataFormat={fromString:function(e){switch(e){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},toString:function(e){switch(e){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}}},openfl_net_URLRequest=function(e){null!=e&&(this.url=e),this.contentType=null,this.followRedirects=openfl_net_URLRequestDefaults.followRedirects,openfl_net_URLRequestDefaults.idleTimeout>0?this.idleTimeout=openfl_net_URLRequestDefaults.idleTimeout:this.idleTimeout=3e4,this.manageCookies=openfl_net_URLRequestDefaults.manageCookies,this.method="GET",this.requestHeaders=[],this.userAgent=openfl_net_URLRequestDefaults.userAgent};$hxClasses["openfl.net.URLRequest"]=openfl_net_URLRequest,openfl_net_URLRequest.__name__="openfl.net.URLRequest",openfl_net_URLRequest.prototype={__class__:openfl_net_URLRequest};var openfl_net_URLRequestDefaults=function(){};$hxClasses["openfl.net.URLRequestDefaults"]=openfl_net_URLRequestDefaults,openfl_net_URLRequestDefaults.__name__="openfl.net.URLRequestDefaults";var openfl_net_URLRequestHeader=function(e,t){null==t&&(t=""),null==e&&(e=""),this.name=e,this.value=t};$hxClasses["openfl.net.URLRequestHeader"]=openfl_net_URLRequestHeader,openfl_net_URLRequestHeader.__name__="openfl.net.URLRequestHeader",openfl_net_URLRequestHeader.prototype={__class__:openfl_net_URLRequestHeader};var openfl_system_ApplicationDomain=function(e){this.parentDomain=null!=e?e:openfl_system_ApplicationDomain.currentDomain};$hxClasses["openfl.system.ApplicationDomain"]=openfl_system_ApplicationDomain,openfl_system_ApplicationDomain.__name__="openfl.system.ApplicationDomain",openfl_system_ApplicationDomain.prototype={getDefinition:function(e){return $hxClasses[e]},hasDefinition:function(e){return null!=$hxClasses[e]},__class__:openfl_system_ApplicationDomain};var openfl_system_LoaderContext=function(e,t,a){null==e&&(e=!1),this.checkPolicyFile=e,this.securityDomain=a,this.applicationDomain=t,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0};$hxClasses["openfl.system.LoaderContext"]=openfl_system_LoaderContext,openfl_system_LoaderContext.__name__="openfl.system.LoaderContext",openfl_system_LoaderContext.prototype={__class__:openfl_system_LoaderContext};var openfl_system_SecurityDomain=function(){};$hxClasses["openfl.system.SecurityDomain"]=openfl_system_SecurityDomain,openfl_system_SecurityDomain.__name__="openfl.system.SecurityDomain",openfl_system_SecurityDomain.prototype={__class__:openfl_system_SecurityDomain};var openfl_system_System=function(){};$hxClasses["openfl.system.System"]=openfl_system_System,openfl_system_System.__name__="openfl.system.System",openfl_system_System.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"},openfl_system_System.disposeXML=function(e){},openfl_system_System.exit=function(e){lime_system_System.exit(e)},openfl_system_System.gc=function(){},openfl_system_System.pause=function(){openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/system/System.hx",lineNumber:213,className:"openfl.system.System",methodName:"pause"})},openfl_system_System.resume=function(){openfl_utils__$internal_Lib.notImplemented({fileName:"openfl/system/System.hx",lineNumber:229,className:"openfl.system.System",methodName:"resume"})},openfl_system_System.setClipboard=function(e){lime_system_Clipboard.set_text(e)},openfl_system_System.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0},openfl_system_System.get_vmVersion=function(){return"1.0.0"};var openfl_text_AntiAliasType={fromString:function(e){switch(e){case"advanced":return 0;case"normal":return 1;default:return null}},toString:function(e){switch(e){case 0:return"advanced";case 1:return"normal";default:return null}}},openfl_text_FontStyle={fromString:function(e){switch(e){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},toString:function(e){switch(e){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}}},openfl_text_FontType={fromString:function(e){switch(e){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},toString:function(e){switch(e){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}}},openfl_text_GridFitType={fromString:function(e){switch(e){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},toString:function(e){switch(e){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}}},openfl_text_TextField=function(){this.__forceCachedBitmapUpdate=!1,this.__renderedOnCanvasWhileOnDOM=!1,this.__mouseScrollVCounter=0,openfl_display_InteractiveObject.call(this),this.__drawableType=7,this.__caretIndex=-1,this.__displayAsPassword=!1,this.__graphics=new openfl_display_Graphics(this),this.__textEngine=new openfl_text__$internal_TextEngine(this),this.__layoutDirty=!0,this.__offsetX=0,this.__offsetY=0,this.__mouseWheelEnabled=!0,this.__text="",this.doubleClickEnabled=!0,null==openfl_text_TextField.__defaultTextFormat&&(openfl_text_TextField.__defaultTextFormat=new openfl_text_TextFormat("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),openfl_text_TextField.__defaultTextFormat.blockIndent=0,openfl_text_TextField.__defaultTextFormat.bullet=!1,openfl_text_TextField.__defaultTextFormat.letterSpacing=0,openfl_text_TextField.__defaultTextFormat.kerning=!1),this.__textFormat=openfl_text_TextField.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new openfl_text__$internal_TextFormatRange(this.__textFormat,0,0)),this.addEventListener("mouseDown",$bind(this,this.this_onMouseDown)),this.addEventListener("focusIn",$bind(this,this.this_onFocusIn)),this.addEventListener("focusOut",$bind(this,this.this_onFocusOut)),this.addEventListener("keyDown",$bind(this,this.this_onKeyDown)),this.addEventListener("mouseWheel",$bind(this,this.this_onMouseWheel)),this.addEventListener("doubleClick",$bind(this,this.this_onDoubleClick))};$hxClasses["openfl.text.TextField"]=openfl_text_TextField,openfl_text_TextField.__name__="openfl.text.TextField",openfl_text_TextField.__super__=openfl_display_InteractiveObject,openfl_text_TextField.prototype=$extend(openfl_display_InteractiveObject.prototype,{appendText:function(e){null!=e&&""!=e&&(this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__updateText(this.__text+e),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end=this.__text.length,this.__selectionIndex=this.__caretIndex=this.__text.length)},getCharBoundaries:function(e){if(e<0||e>this.__text.length-1)return null;var t=new openfl_geom_Rectangle;return this.__getCharBoundaries(e,t)?t:null},getCharIndexAtPoint:function(e,t){if(e<=2||e>this.get_width()+4||t<=0||t>this.get_height()+4)return-1;this.__updateLayout(),e+=this.get_scrollH();for(var a=0,n=this.get_scrollV()-1;a<n;){var i=a++;t+=this.__textEngine.lineHeights.get(i)}for(var s=this.__textEngine.layoutGroups.iterator();s.hasNext();){var _=s.next();if(t>=_.offsetY&&t<=_.offsetY+_.height&&e>=_.offsetX&&e<=_.offsetX+_.width){var r=0;for(a=0,n=_.positions.length;a<n;){i=a++;if(r+=_.positions[i],e<=_.offsetX+r)return _.startIndex+i}return _.endIndex}}return-1},getFirstCharInParagraph:function(e){if(e<0||e>this.get_text().length)return-1;if(0==this.__textEngine.lineBreaks.get_length())return 0;for(var t=0,a=this.__textEngine.lineBreaks.get_length();t<a;){var n=t++;if(e<=this.__textEngine.lineBreaks.get(n))return 0==n?0:this.__textEngine.lineBreaks.get(n-1)+1}return this.__textEngine.lineBreaks.get(this.__textEngine.lineBreaks.get_length()-1)+1},getLineIndexAtPoint:function(e,t){if(this.__updateLayout(),e<=2||e>this.get_width()+4||t<=0||t>this.get_height()+4)return-1;for(var a=0,n=this.get_scrollV()-1;a<n;){var i=a++;t+=this.__textEngine.lineHeights.get(i)}for(var s=this.__textEngine.layoutGroups.iterator();s.hasNext();){var _=s.next();if(t>=_.offsetY&&t<=_.offsetY+_.height)return _.lineIndex}return-1},getLineIndexOfChar:function(e){if(e<0||e>this.__text.length)return-1;this.__updateLayout();for(var t=this.__textEngine.layoutGroups.iterator();t.hasNext();){var a=t.next();if(a.startIndex<=e&&a.endIndex>=e)return a.lineIndex}return-1},getLineLength:function(e){if(this.__updateLayout(),e<0||e>this.__textEngine.numLines-1)return 0;for(var t=-1,a=-1,n=this.__textEngine.layoutGroups.iterator();n.hasNext();){var i=n.next();if(i.lineIndex==e)-1==t&&(t=i.startIndex);else if(i.lineIndex==e+1){a=i.startIndex;break}}return-1==a&&(a=this.__text.length),a-t},getLineMetrics:function(e){this.__updateLayout();var t,a=this.__textEngine.lineAscents.get(e),n=this.__textEngine.lineDescents.get(e),i=this.__textEngine.lineLeadings.get(e),s=this.__textEngine.lineHeights.get(e),_=this.__textEngine.lineWidths.get(e);switch(this.__textFormat.align){case 0:t=(this.__textEngine.width-_)/2;break;case 1:case 4:t=this.__textEngine.width-_-2;break;case 2:case 3:case 5:t=2}return new openfl_text_TextLineMetrics(t,_,s,a,n,i)},getLineOffset:function(e){if(this.__updateLayout(),e<0||e>this.__textEngine.numLines-1)return-1;for(var t=this.__textEngine.layoutGroups.iterator();t.hasNext();){var a=t.next();if(a.lineIndex==e)return a.startIndex}return 0},getLineText:function(e){if(this.__updateLayout(),e<0||e>this.__textEngine.numLines-1)return null;for(var t=-1,a=-1,n=this.__textEngine.layoutGroups.iterator();n.hasNext();){var i=n.next();if(i.lineIndex==e)-1==t&&(t=i.startIndex);else if(i.lineIndex==e+1){a=i.startIndex;break}}return-1==a&&(a=this.__text.length),this.__textEngine.text.substring(t,a)},getParagraphLength:function(e){if(e<0||e>this.get_text().length)return-1;var t=this.getFirstCharInParagraph(e);if(e>=this.get_text().length)return this.get_text().length-t+1;var a=this.__textEngine.getLineBreakIndex(e)+1;return 0==a&&(a=this.__text.length),a-t},getTextFormat:function(e,t){null==t&&(t=-1),null==e&&(e=-1);var a=null;if(e>=this.get_text().length||e<-1||t>this.get_text().length||t<-1)throw haxe_Exception.thrown(new openfl_errors_RangeError("The supplied index is out of bounds"));if(-1==e&&(e=0),-1==t&&(t=this.get_text().length),e>=t)return new openfl_text_TextFormat;for(var n=this.__textEngine.textFormatRanges.iterator();n.hasNext();){var i=n.next();(i.start<=e&&i.end>e||i.start<t&&i.end>=t)&&(null==a?a=i.format.clone():(i.format.font!=a.font&&(a.font=null),i.format.size!=a.size&&(a.size=null),i.format.color!=a.color&&(a.color=null),i.format.bold!=a.bold&&(a.bold=null),i.format.italic!=a.italic&&(a.italic=null),i.format.underline!=a.underline&&(a.underline=null),i.format.url!=a.url&&(a.url=null),i.format.target!=a.target&&(a.target=null),i.format.align!=a.align&&(a.align=null),i.format.leftMargin!=a.leftMargin&&(a.leftMargin=null),i.format.rightMargin!=a.rightMargin&&(a.rightMargin=null),i.format.indent!=a.indent&&(a.indent=null),i.format.leading!=a.leading&&(a.leading=null),i.format.blockIndent!=a.blockIndent&&(a.blockIndent=null),i.format.bullet!=a.bullet&&(a.bullet=null),i.format.kerning!=a.kerning&&(a.kerning=null),i.format.letterSpacing!=a.letterSpacing&&(a.letterSpacing=null),i.format.tabStops!=a.tabStops&&(a.tabStops=null)))}return null==a&&(a=new openfl_text_TextFormat),a},replaceSelectedText:function(e){this.__replaceSelectedText(e,!1)},replaceText:function(e,t,a){this.__replaceText(e,t,a,!1)},setSelection:function(e,t){this.__selectionIndex=e,this.__caretIndex=t,this.__updateScrollV(),this.__updateScrollH(),null!=this.stage&&this.stage.get_focus()==this&&(this.__stopCursorTimer(),this.__startCursorTimer())},setTextFormat:function(e,t,a){null==a&&(a=-1),null==t&&(t=-1);var n,i=this.get_text().length;if(-1==t?(-1==a&&(a=i),t=0):-1==a&&(a=t+1),t!=a){if(t<0||a<=0||a<t||t>=i||a>i)throw haxe_Exception.thrown(new openfl_errors_RangeError);if(0==t&&a==i)this.__textEngine.textFormatRanges.set_length(1),(n=this.__textEngine.textFormatRanges.get(0)).start=0,n.end=i,n.format.__merge(e);else for(var s,_=0;_<this.__textEngine.textFormatRanges.get_length();)if((n=this.__textEngine.textFormatRanges.get(_)).end<=t)++_;else{if(n.start>=a)break;if(n.start<=t&&n.end>=a){if(n.start==t&&n.end==a){n.format=n.format.clone(),n.format.__merge(e);break}if(n.start!=t){if(n.end==a){(s=new openfl_text__$internal_TextFormatRange(n.format.clone(),t,a)).format.__merge(e),this.__textEngine.textFormatRanges.insertAt(_+1,s),n.end=t;break}(s=new openfl_text__$internal_TextFormatRange(n.format.clone(),t,a)).format.__merge(e),this.__textEngine.textFormatRanges.insertAt(_+1,s),s=new openfl_text__$internal_TextFormatRange(n.format.clone(),a,n.end),this.__textEngine.textFormatRanges.insertAt(_+2,s),n.end=t;break}(s=new openfl_text__$internal_TextFormatRange(n.format.clone(),t,a)).format.__merge(e),this.__textEngine.textFormatRanges.insertAt(_,s),n.start=a,_+=2}else if(n.start>=t&&n.end<=a)n.start==t?(n.format=n.format.clone(),n.format.__merge(e),n.end=a):this.__textEngine.textFormatRanges.removeAt(_);else{if(n.start>t&&n.end>t){n.start=a;break}n.start<t&&n.end<=a?((s=new openfl_text__$internal_TextFormatRange(n.format.clone(),t,a)).format.__merge(e),this.__textEngine.textFormatRanges.insertAt(_+1,s),n.end=t,_+=2):(++_,lime_utils_Log.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/TextField.hx",lineNumber:1562,className:"openfl.text.TextField",methodName:"setTextFormat"}))}}this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__allowMouseFocus:function(){return!(1!=this.__textEngine.type&&!this.get_tabEnabled())||this.get_selectable()},__caretBeginningOfLine:function(){this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))},__caretBeginningOfNextLine:function(){var e=this.getLineIndexOfChar(this.__caretIndex);e<this.__textEngine.numLines-1?this.__caretIndex=this.getLineOffset(e+1):this.__caretIndex=this.__text.length},__caretBeginningOfPreviousLine:function(){var e=this.getLineIndexOfChar(this.__caretIndex);if(e>0){var t=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex));this.__caretIndex==t?this.__caretIndex=this.getLineOffset(e-1):this.__caretIndex=t}},__caretEndOfLine:function(){var e=this.getLineIndexOfChar(this.__caretIndex);e<this.__textEngine.numLines-1?this.__caretIndex=this.getLineOffset(e+1)-1:this.__caretIndex=this.__text.length},__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(){var e=this.getLineIndexOfChar(this.__caretIndex);e<this.__textEngine.numLines-1&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),e+1))},__caretPreviousCharacter:function(){this.__caretIndex>0&&this.__caretIndex--},__caretPreviousLine:function(){var e=this.getLineIndexOfChar(this.__caretIndex);e>0&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),e-1))},__disableInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.__backend.setTextInputEnabled(!1),this.stage.window.onTextInput.remove($bind(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove($bind(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(e){if(2==e.eventPhase&&"mouseUp"==e.type){var t=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);if(null!=t){var a=t.format.url;null!=a&&""!=a&&(StringTools.startsWith(a,"event:")?this.dispatchEvent(new openfl_events_TextEvent("link",!1,!1,HxOverrides.substr(a,6,null))):openfl_Lib.getURL(new openfl_net_URLRequest(a)))}}return openfl_display_InteractiveObject.prototype.__dispatch.call(this,e)},__enableInput:function(){null!=this.stage&&(this.stage.window.__backend.setTextInputEnabled(!0),this.__inputEnabled||(this.stage.window.__backend.setTextInputEnabled(!0),this.stage.window.onTextInput.has($bind(this,this.window_onTextInput))||(this.stage.window.onTextInput.add($bind(this,this.window_onTextInput)),this.stage.window.onKeyDown.add($bind(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__getAdvance:function(e){return e},__getBounds:function(e,t){this.__updateLayout();var a=openfl_geom_Rectangle.__pool.get();a.copyFrom(this.__textEngine.bounds),t.tx+=this.__offsetX,t.ty+=this.__offsetY,a.__transform(a,t),e.__expand(a.x,a.y,a.width,a.height),openfl_geom_Rectangle.__pool.release(a)},__getCharBoundaries:function(e,t){if(e<0||e>this.__text.length-1)return!1;this.__updateLayout();for(var a=this.__textEngine.layoutGroups.iterator();a.hasNext();){var n=a.next();if(e>=n.startIndex&&e<n.endIndex)try{for(var i=n.offsetX,s=0,_=e-n.startIndex;s<_;){var r=s++;i+=n.positions[r]}var o=n.positions[e-n.startIndex];return t.setTo(i,n.offsetY,o,n.ascent+n.descent),!0}catch(e){haxe_NativeStackTrace.lastError=e}}return!1},__getCharIndexOnDifferentLine:function(e,t){if(e<0||e>this.__text.length)return-1;if(t<0||t>this.__textEngine.numLines-1)return-1;for(var a=null,n=null,i=this.__textEngine.layoutGroups.iterator();i.hasNext();){var s=i.next();if(e>=s.startIndex&&e<=s.endIndex){a=s.offsetX;for(var _=0,r=e-s.startIndex;_<r;){var o=_++;a+=s.positions[o]}if(null!=n)return this.__getPosition(a,n)}if(s.lineIndex==t){n=s.offsetY+s.height/2;for(var l=0,h=this.get_scrollV()-1;l<h;){var u=l++;n-=this.__textEngine.lineHeights.get(u)}if(null!=a)return this.__getPosition(a,n)}}return-1},__getCursor:function(){var e=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=e&&""!=e.format.url?"button":this.__textEngine.selectable?"ibeam":null},__getGroup:function(e,t,a){null==a&&(a=!1),this.__updateLayout(),e+=this.get_scrollH();for(var n=0,i=this.get_scrollV()-1;n<i;){var s=n++;t+=this.__textEngine.lineHeights.get(s)}!a&&t>this.__textEngine.textHeight&&(t=this.__textEngine.textHeight);var _,r,o=!0;for(n=0,i=this.__textEngine.layoutGroups.get_length();n<i;){s=n++;if(_=this.__textEngine.layoutGroups.get(s),r=s<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(s+1):null,o&&(t<_.offsetY&&(t=_.offsetY),e<_.offsetX&&(e=_.offsetX),o=!1),(t>=_.offsetY&&t<=_.offsetY+_.height||!a&&null==r)&&(e>=_.offsetX&&e<=_.offsetX+_.width||!a&&(null==r||r.lineIndex!=_.lineIndex)))return _}return null},__getPosition:function(e,t){var a=this.__getGroup(e,t);if(null==a)return this.__text.length;for(var n=0,i=0,s=a.positions.length;i<s;){var _=i++;if(n+=a.positions[_],e<=a.offsetX+n)return e<=a.offsetX+(n-a.positions[_])+a.positions[_]/2?a.startIndex+_:a.startIndex+_<a.endIndex?a.startIndex+_+1:a.endIndex}return a.endIndex},__hitTest:function(e,t,a,n,i,s){if(!s.get_visible()||this.__isMask||i&&!this.mouseEnabled)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(e,t))return!1;this.__getRenderTransform(),this.__updateLayout();var _,r,o=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.tx:1/r*(_.c*(_.ty-t)+_.d*(e-_.tx)),l=0==(r=(_=this.__renderTransform).a*_.d-_.b*_.c)?-_.ty:1/r*(_.a*(t-_.ty)+_.b*(_.tx-e));return!!this.__textEngine.bounds.contains(o,l)&&(null!=n&&n.push(s),!0)},__hitTestMask:function(e,t){this.__getRenderTransform(),this.__updateLayout();var a,n,i=0==(n=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.tx:1/n*(a.c*(a.ty-t)+a.d*(e-a.tx)),s=0==(n=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.ty:1/n*(a.a*(t-a.ty)+a.b*(a.tx-e));return!!this.__textEngine.bounds.contains(i,s)},__replaceSelectedText:function(e,t){if(null==t&&(t=!0),null==e&&(e=""),""!=e||this.__selectionIndex!=this.__caretIndex){var a=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,n=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;if(!(a==n&&this.__textEngine.maxChars>0&&this.__text.length==this.__textEngine.maxChars)){if(a>this.__text.length&&(a=this.__text.length),n>this.__text.length&&(n=this.__text.length),n<a){var i=n;n=a,a=i}a<0&&(a=0),this.__replaceText(a,n,e,t)}}},__replaceText:function(e,t,a,n){if(!(t<e||e<0||t>this.__text.length||null==a)){if(n&&(a=this.__textEngine.restrictText(a),this.__textEngine.maxChars>0)){var i=t-e,s=this.__textEngine.maxChars-this.__text.length+i;s<=0?a="":s<a.length&&(a=HxOverrides.substr(a,0,s))}this.__updateText(this.__text.substring(0,e)+a+this.__text.substring(t));for(var _,r=a.length-(t-e),o=0;o<this.__textEngine.textFormatRanges.get_length();)_=this.__textEngine.textFormatRanges.get(o),e==t?_.start==_.end?0!=_.start?lime_utils_Log.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/TextField.hx",lineNumber:2051,className:"openfl.text.TextField",methodName:"__replaceText"}):_.end+=r:_.end>=e&&(_.start>=e?(_.start+=r,_.end+=r):_.start<e&&_.end>=t&&(_.end+=r)):_.end>e&&(_.start>t?(_.start+=r,_.end+=r):_.start<=e&&_.end>t?_.end+=r:_.start>=e&&_.end<=t?this.__textEngine.textFormatRanges.splice(o--,1):_.end>t&&_.start>e&&_.start<=t?(_.start=e,_.end+=r):_.start<e&&_.end>e&&_.end<=t&&(_.end=e)),++o;0==this.__textEngine.textFormatRanges.get_length()?this.__textEngine.textFormatRanges.push(new openfl_text__$internal_TextFormatRange(this.get_defaultTextFormat().clone(),0,a.length)):e==t&&this.__textEngine.textFormatRanges.get(0).start>0?this.__textEngine.textFormatRanges.unshift(new openfl_text__$internal_TextFormatRange(this.get_defaultTextFormat().clone(),0,this.__textEngine.textFormatRanges.get(0).start)):e!=t&&this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end<this.__text.length&&this.__textEngine.textFormatRanges.push(new openfl_text__$internal_TextFormatRange(this.get_defaultTextFormat().clone(),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end,this.__text.length)),this.__selectionIndex=this.__caretIndex=e+a.length,this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__startCursorTimer:function(){1==this.get_type()&&(this.__cursorTimer=haxe_Timer.delay($bind(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__text.length,this.__selectionIndex=this.__caretIndex),(!openfl_display_DisplayObject.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__enableInput()},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__stopTextInput:function(){(!openfl_display_DisplayObject.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var e=this.__textEngine.width;if(this.__textEngine.update(),2!=this.__textEngine.autoSize){if(this.__textEngine.width!=e)switch(this.__textEngine.autoSize){case 0:(t=this).set_x(t.get_x()+(e-this.__textEngine.width)/2);break;case 3:var t;(t=this).set_x(t.get_x()+(e-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1,this.setSelection(this.__selectionIndex,this.__caretIndex)}},__updateScrollH:function(){if(this.__updateLayout(),this.get_textWidth()<=this.get_width()-4)this.set_scrollH(0);else{var e=this.get_scrollH();if(0==this.__caretIndex||this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))==this.__caretIndex)e=0;else{var t=openfl_geom_Rectangle.__pool.get(),a=!1;for(this.__caretIndex<this.__text.length&&(a=this.__getCharBoundaries(this.__caretIndex,t)),a||(this.__getCharBoundaries(this.__caretIndex-1,t),t.x+=t.width);t.x<e&&e>0;)e-=24;for(;t.x>e+this.get_width()-4;)e+=24;openfl_geom_Rectangle.__pool.release(t)}if(e>0&&1!=this.get_type()){var n=this.getLineLength(this.getLineIndexOfChar(this.__caretIndex));this.get_scrollH()+this.get_width()-4>n&&this.set_scrollH(Math.ceil(n-this.get_width()+4))}e<0?this.set_scrollH(0):e>this.get_maxScrollH()?this.set_scrollH(this.get_maxScrollH()):this.set_scrollH(e)}},__updateScrollV:function(){if(this.__updateLayout(),this.get_textHeight()<=this.get_height()-4)this.set_scrollV(1);else{var e=this.getLineIndexOfChar(this.__caretIndex);if(-1==e&&this.__caretIndex>0&&(e=this.getLineIndexOfChar(this.__caretIndex-1)+1),e+1<this.get_scrollV())this.set_scrollV(e+1);else if(e+1>this.get_bottomScrollV()){for(var t=e,a=0;t>=0&&a+this.__textEngine.lineHeights.get(t)<=this.get_height()-4;)a+=this.__textEngine.lineHeights.get(t),--t;this.set_scrollV(t+2)}else this.set_scrollV(this.get_scrollV())}},__updateMouseDrag:function(){if(this.get_mouseX()>this.get_width()-1)(e=this).set_scrollH(e.get_scrollH()+(0|Math.max(Math.min(.1*(this.get_mouseX()-this.get_width()),10),1)));else if(this.get_mouseX()<1){(e=this).set_scrollH(e.get_scrollH()-(0|Math.max(Math.min(-.1*this.get_mouseX(),10),1)))}if(this.__mouseScrollVCounter++,this.__mouseScrollVCounter>this.stage.get_frameRate()/10){if(this.get_mouseY()>this.get_height()-2)(e=this).set_scrollV(e.get_scrollV()+(0|Math.max(Math.min(.03*(this.get_mouseY()-this.get_height()),5),1)));else if(this.get_mouseY()<2){var e;(e=this).set_scrollV(e.get_scrollV()-(0|Math.max(Math.min(-.03*this.get_mouseY(),5),1)))}this.__mouseScrollVCounter=0}this.stage_onMouseMove(null)},__updateText:function(e){if(openfl_display_DisplayObject.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=this.__text!=e),this.__textEngine.set_text(e),this.__text=this.__textEngine.text,this.__text.length<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length),!this.__displayAsPassword||openfl_display_DisplayObject.__supportDOM&&!this.__renderedOnCanvasWhileOnDOM)this.__textEngine.set_text(this.__text);else{for(var t="",a=0,n=this.get_text().length;a<n;){a++;t+="*"}this.__textEngine.set_text(t)}},__updateTransforms:function(e){openfl_display_InteractiveObject.prototype.__updateTransforms.call(this,e);var t=this.__renderTransform,a=this.__offsetX,n=this.__offsetY;t.tx=a*t.a+n*t.c+t.tx,t.ty=a*t.b+n*t.d+t.ty},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(e){this.__textEngine.antiAliasType;return this.__textEngine.antiAliasType=e},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(e){return e!=this.__textEngine.autoSize&&(this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.autoSize=e},get_background:function(){return this.__textEngine.background},set_background:function(e){return e!=this.__textEngine.background&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.background=e},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(e){return e!=this.__textEngine.backgroundColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.backgroundColor=e},get_border:function(){return this.__textEngine.border},set_border:function(e){return e!=this.__textEngine.border&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.border=e},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(e){return e!=this.__textEngine.borderColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.borderColor=e},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.get_bottomScrollV()},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(e){return this.__textFormat.__merge(e),this.__layoutDirty=!0,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),e},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(e){return e!=this.__displayAsPassword&&(this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__displayAsPassword=e,this.__updateText(this.__text)),e},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(e){return this.__textEngine.embedFonts=e},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(e){return this.__textEngine.gridFitType=e},get_height:function(){return this.__updateLayout(),this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(e){return e!=this.__textEngine.height&&(this.__setTransformDirty(),this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.height=e),this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__isHTML?this.__rawHtmlText:this.__text},set_htmlText:function(e){if(this.__isHTML&&this.__text==e||(this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__isHTML=!0,this.__rawHtmlText=e,e=openfl_text__$internal_HTMLParser.parse(e,this.__textFormat,this.__textEngine.textFormatRanges),openfl_display_DisplayObject.__supportDOM){this.__textEngine.textFormatRanges.get_length()>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var t=this.__textEngine.textFormatRanges.get(0);t.format=this.__textFormat,t.start=0,this.__renderedOnCanvasWhileOnDOM?(t.end=e.length,this.__updateText(e)):(t.end=this.__rawHtmlText.length,this.__updateText(this.__rawHtmlText))}else this.__updateText(e);return this.__selectionIndex=this.__caretIndex=this.get_length(),e},get_length:function(){return null!=this.__text?this.__text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(e){return e!=this.__textEngine.maxChars&&(this.__textEngine.maxChars=e,this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),e},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.get_maxScrollV()},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(e){return this.__mouseWheelEnabled=e},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(e){return e!=this.__textEngine.multiline&&(this.__dirty=!0,this.__layoutDirty=!0,this.__updateText(this.__text),this.__updateScrollH(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.multiline=e},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(e){return this.__textEngine.restrict!=e&&(this.__textEngine.set_restrict(e),this.__updateText(this.__text)),e},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(e){return this.__updateLayout(),e>this.__textEngine.maxScrollH&&(e=this.__textEngine.maxScrollH),e<0&&(e=0),e!=this.__textEngine.scrollH&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.scrollH=e,this.dispatchEvent(new openfl_events_Event("scroll"))),this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.get_scrollV()},set_scrollV:function(e){return this.__updateLayout(),e>0&&e!=this.__textEngine.get_scrollV()&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.set_scrollV(e),this.dispatchEvent(new openfl_events_Event("scroll"))),this.__textEngine.get_scrollV()},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(e){return e!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():e||this.__stopTextInput()),this.__textEngine.selectable=e},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(e){return e!=this.__textEngine.sharpness&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.sharpness=e},get_tabEnabled:function(){return null==this.__tabEnabled?1==this.__textEngine.type:this.__tabEnabled},get_text:function(){return this.__text},set_text:function(e){if(!this.__isHTML&&this.__text==e)return e;this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.textFormatRanges.get_length()>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var t=e,a=this.__textEngine.textFormatRanges.get(0);return a.format=this.__textFormat,a.start=0,a.end=t.length,this.__isHTML=!1,this.__updateText(e),this.__selectionIndex=this.__caretIndex=0,e},get_textColor:function(){return this.__textFormat.color},set_textColor:function(e){e!=this.__textFormat.color&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));for(var t=this.__textEngine.textFormatRanges.iterator();t.hasNext();){t.next().format.color=e}return this.__textFormat.color=e},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(e){return e!=this.__textEngine.type&&(1==e?(this.addEventListener("addedToStage",$bind(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("addedToStage",$bind(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.type=e},get_width:function(){return this.__updateLayout(),this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(e){return e!=this.__textEngine.width&&(this.__setTransformDirty(),this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.width=e),this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(e){return e!=this.__textEngine.wordWrap&&(this.__dirty=!0,this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.wordWrap=e},get_x:function(){return this.__transform.tx+this.__offsetX},set_x:function(e){return e!=this.__transform.tx+this.__offsetX&&this.__setTransformDirty(),this.__transform.tx=e-this.__offsetX},get_y:function(){return this.__transform.ty+this.__offsetY},set_y:function(e){return e!=this.__transform.ty+this.__offsetY&&this.__setTransformDirty(),this.__transform.ty=e-this.__offsetY},stage_onMouseMove:function(e){if(null!=this.stage&&this.get_selectable()&&this.__selectionIndex>=0){this.__updateLayout();var t=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY());if(t!=this.__caretIndex){this.__caretIndex=t;var a=!0;openfl_display_DisplayObject.__supportDOM&&(this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0),a=!1),a&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))}}},stage_onMouseUp:function(e){if(null!=this.stage&&(this.stage.removeEventListener("enterFrame",$bind(this,this.this_onEnterFrame)),this.stage.removeEventListener("mouseMove",$bind(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",$bind(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform(),this.__updateLayout();var t=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),a=0|Math.min(this.__selectionIndex,t),n=0|Math.max(this.__selectionIndex,t);this.__selectionIndex=a,this.__caretIndex=n,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer(),openfl_display_DisplayObject.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0))}},this_onAddedToStage:function(e){this.this_onFocusIn(null)},this_onEnterFrame:function(e){this.__updateMouseDrag()},this_onFocusIn:function(e){1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(e){this.__stopCursorTimer(),null!=e.relatedObject&&e.relatedObject instanceof openfl_text_TextField?(null!=this.stage&&(this.stage.window.onTextInput.remove($bind(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove($bind(this,this.window_onKeyDown))),this.__inputEnabled=!1):this.__stopTextInput(),this.__selectionIndex!=this.__caretIndex&&(this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},this_onKeyDown:function(e){this.get_selectable()&&1!=this.get_type()&&67==e.keyCode&&(e.commandKey||e.ctrlKey)&&this.__caretIndex!=this.__selectionIndex&&lime_system_Clipboard.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex))},this_onMouseDown:function(e){(this.get_selectable()||1==this.get_type())&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,openfl_display_DisplayObject.__supportDOM||(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.stage.addEventListener("enterFrame",$bind(this,this.this_onEnterFrame)),this.stage.addEventListener("mouseMove",$bind(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",$bind(this,this.stage_onMouseUp)))},this_onMouseWheel:function(e){if(this.get_mouseWheelEnabled()){this.set_scrollV(this.get_scrollV()-e.delta)}},this_onDoubleClick:function(e){if(this.get_selectable()){this.__updateLayout();var t=["\n",".","!","?",","," ",";",":","(",")","-","_","/"],a=this.__text,n=-1,i=a.length,s=0,_=0|Math.max(this.__caretIndex,1);if(a.length>0&&this.__caretIndex>=0&&i>=this.__caretIndex){for(var r=0;r<t.length;){var o=t[r];++r,(s=a.lastIndexOf(o,_-1))>n&&(n=s+1),(s=a.indexOf(o,_))<i&&-1!=s&&(i=s)}if(n!=i){this.setSelection(n,i);var l=!0;openfl_display_DisplayObject.__supportDOM&&(this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0),l=!1),l&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))}}}},window_onKeyDown:function(e,t){switch(e){case 8:this.__selectionIndex==this.__caretIndex&&this.__caretIndex>0&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new openfl_events_Event("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 97:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t))&&this.setSelection(0,this.__text.length);break;case 99:(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t))&&this.__caretIndex!=this.__selectionIndex&&lime_system_Clipboard.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t))&&this.__caretIndex!=this.__selectionIndex&&(lime_system_Clipboard.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.replaceSelectedText(""),this.dispatchEvent(new openfl_events_Event("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new openfl_events_Event("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741898:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretIndex=0:this.__caretBeginningOfLine(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741901:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretIndex=this.__text.length:this.__caretEndOfLine(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741903:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretBeginningOfNextLine():this.__caretNextCharacter(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741904:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretBeginningOfPreviousLine():this.__caretPreviousCharacter(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741905:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretIndex=this.__text.length:this.__caretNextLine(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741906:this.get_selectable()&&(lime_ui_KeyModifier.get_metaKey(t)||lime_ui_KeyModifier.get_ctrlKey(t)?this.__caretIndex=0:this.__caretPreviousLine(),lime_ui_KeyModifier.get_shiftKey(t)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 13:case 1073741912:if(this.__textEngine.multiline){var a=new openfl_events_TextEvent("textInput",!0,!0,"\n");this.dispatchEvent(a),a.isDefaultPrevented()||(this.__replaceSelectedText("\n",!0),this.dispatchEvent(new openfl_events_Event("change",!0)))}else this.__stopCursorTimer(),this.__startCursorTimer()}},window_onTextInput:function(e){this.__replaceSelectedText(e,!0),this.dispatchEvent(new openfl_events_Event("change",!0))},__class__:openfl_text_TextField,__properties__:$extend(openfl_display_InteractiveObject.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",set_mouseWheelEnabled:"set_mouseWheelEnabled",get_mouseWheelEnabled:"get_mouseWheelEnabled",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var openfl_text_TextFieldAutoSize={fromString:function(e){switch(e){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},toString:function(e){switch(e){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}}},openfl_text_TextFieldType={fromString:function(e){switch(e){case"dynamic":return 0;case"input":return 1;default:return null}},toString:function(e){switch(e){case 0:return"dynamic";case 1:return"input";default:return null}}},openfl_text_TextFormat=function(e,t,a,n,i,s,_,r,o,l,h,u,p){this.font=e,this.size=t,this.color=a,this.bold=n,this.italic=i,this.underline=s,this.url=_,this.target=r,this.align=o,this.leftMargin=l,this.rightMargin=h,this.indent=u,this.leading=p};$hxClasses["openfl.text.TextFormat"]=openfl_text_TextFormat,openfl_text_TextFormat.__name__="openfl.text.TextFormat",openfl_text_TextFormat.prototype={clone:function(){var e=new openfl_text_TextFormat(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return e.align=this.align,e.leftMargin=this.leftMargin,e.rightMargin=this.rightMargin,e.indent=this.indent,e.leading=this.leading,e.blockIndent=this.blockIndent,e.bullet=this.bullet,e.kerning=this.kerning,e.letterSpacing=this.letterSpacing,e.tabStops=this.tabStops,e.__ascent=this.__ascent,e.__descent=this.__descent,e.__cacheKey=this.__toCacheKey(),e},__merge:function(e){null!=e.font&&(this.font=e.font),null!=e.size&&(this.size=e.size),null!=e.color&&(this.color=e.color),null!=e.bold&&(this.bold=e.bold),null!=e.italic&&(this.italic=e.italic),null!=e.underline&&(this.underline=e.underline),null!=e.url&&(this.url=e.url),null!=e.target&&(this.target=e.target),null!=e.align&&(this.align=e.align),null!=e.leftMargin&&(this.leftMargin=e.leftMargin),null!=e.rightMargin&&(this.rightMargin=e.rightMargin),null!=e.indent&&(this.indent=e.indent),null!=e.leading&&(this.leading=e.leading),null!=e.blockIndent&&(this.blockIndent=e.blockIndent),null!=e.bullet&&(this.bullet=e.bullet),null!=e.kerning&&(this.kerning=e.kerning),null!=e.letterSpacing&&(this.letterSpacing=e.letterSpacing),null!=e.tabStops&&(this.tabStops=e.tabStops),null!=e.__ascent&&(this.__ascent=e.__ascent),null!=e.__descent&&(this.__descent=e.__descent),this.__toCacheKey()},__toCacheKey:function(){return this.__cacheKey=""+this.font+this.size+Std.string(this.bold)+Std.string(this.italic)},__class__:openfl_text_TextFormat};var openfl_text_TextFormatAlign={fromString:function(e){switch(e){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},toString:function(e){switch(e){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}}},openfl_text_TextLineMetrics=function(e,t,a,n,i,s){this.x=e,this.width=t,this.height=a,this.ascent=n,this.descent=i,this.leading=s};$hxClasses["openfl.text.TextLineMetrics"]=openfl_text_TextLineMetrics,openfl_text_TextLineMetrics.__name__="openfl.text.TextLineMetrics",openfl_text_TextLineMetrics.prototype={__class__:openfl_text_TextLineMetrics};var openfl_text__$internal_CacheMeasurement=function(e,t){this.__collisions=[],this.__wordMap=new haxe_ds_IntMap,this.set(e,t)};$hxClasses["openfl.text._internal.CacheMeasurement"]=openfl_text__$internal_CacheMeasurement,openfl_text__$internal_CacheMeasurement.__name__="openfl.text._internal.CacheMeasurement",openfl_text__$internal_CacheMeasurement.prototype={set:function(e,t){this.__addCollision(e,t)},get:function(e){return this.__collisions.length>1?this.__wordMap.h[this.__collisions.indexOf(e)]:this.__wordMap.h[0]},__addCollision:function(e,t){if(!this.exists(e)){var a=this.__wordMap,n=this.__collisions.push(e)-1;a.h[n]=t}},exists:function(e){return 0!=this.__collisions.length&&this.__collisions.indexOf(e)>-1},__class__:openfl_text__$internal_CacheMeasurement};var openfl_text__$internal_GlyphPosition=function(e,t,a){this.glyph=e,this.advance=t,this.offset=null!=a?a:new lime_math_Vector2};$hxClasses["openfl.text._internal.GlyphPosition"]=openfl_text__$internal_GlyphPosition,openfl_text__$internal_GlyphPosition.__name__="openfl.text._internal.GlyphPosition",openfl_text__$internal_GlyphPosition.prototype={__class__:openfl_text__$internal_GlyphPosition};var openfl_text__$internal_HTMLParser=function(){};$hxClasses["openfl.text._internal.HTMLParser"]=openfl_text__$internal_HTMLParser,openfl_text__$internal_HTMLParser.__name__="openfl.text._internal.HTMLParser",openfl_text__$internal_HTMLParser.parse=function(e,t,a){var n=(e=(e=e.replace(openfl_text__$internal_HTMLParser.__regexBreakTag.r,"\n")).replace(openfl_text__$internal_HTMLParser.__regexEntities[5].r," ")).split("<");if(1==n.length){e=StringTools.htmlUnescape(e.replace(openfl_text__$internal_HTMLParser.__regexHTMLTag.r,"")),a.get_length()>1&&a.splice(1,a.get_length()-1);var i=a.get(0);return i.format=t,i.start=0,i.end=e.length,e}a.splice(0,a.get_length()),e="";for(var s,_=[t.clone()],r=[],o=!1,l=0;l<n.length;){var h=n[l];if(++l,""!=h){var u,p="/"==HxOverrides.substr(h,0,1),c=h.indexOf(">"),d=c+1,f=h.indexOf(" "),m=h.substring(p?1:0,f>-1&&f<c?f:c);if(p){if(0==r.length||m.toLowerCase()!=r[r.length-1].toLowerCase()){lime_utils_Log.info("Invalid HTML, unexpected closing tag ignored: "+m,{fileName:"openfl/text/_internal/HTMLParser.hx",lineNumber:82,className:"openfl.text._internal.HTMLParser",methodName:"parse"});continue}r.pop(),_.pop(),u=_[_.length-1].clone(),"p"==m.toLowerCase()&&a.get_length()>0&&(e+="\n",o=!0),d<h.length&&(s=StringTools.htmlUnescape(HxOverrides.substr(h,d,null)),a.push(new openfl_text__$internal_TextFormatRange(u,e.length,e.length+s.length)),e+=s,o=!1)}else if(u=_[_.length-1].clone(),c>-1){switch(m.toLowerCase()){case"a":openfl_text__$internal_HTMLParser.__regexHref.match(h)&&(u.url=openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexHref));break;case"b":u.bold=!0;break;case"em":case"i":u.italic=!0;break;case"font":if(openfl_text__$internal_HTMLParser.__regexFace.match(h)&&(u.font=openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexFace)),openfl_text__$internal_HTMLParser.__regexColor.match(h)&&(u.color=Std.parseInt("0x"+openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexColor))),openfl_text__$internal_HTMLParser.__regexSize.match(h)){var g=openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexSize),x=HxOverrides.cca(g,0);if(43==x||45==x){var k=_.length>=2?_[_.length-2]:t;u.size=k.size+Std.parseInt(g)}else u.size=Std.parseInt(g)}break;case"p":if(a.get_length()>0&&!o&&(e+="\n"),openfl_text__$internal_HTMLParser.__regexAlign.match(h)){var y=openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexAlign).toLowerCase();u.align=openfl_text_TextFormatAlign.fromString(y)}break;case"textformat":if(openfl_text__$internal_HTMLParser.__regexBlockIndent.match(h)&&(u.blockIndent=Std.parseInt(openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexBlockIndent))),openfl_text__$internal_HTMLParser.__regexIndent.match(h)&&(u.indent=Std.parseInt(openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexIndent))),openfl_text__$internal_HTMLParser.__regexLeading.match(h)&&(u.leading=Std.parseInt(openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexLeading))),openfl_text__$internal_HTMLParser.__regexLeftMargin.match(h)&&(u.leftMargin=Std.parseInt(openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexLeftMargin))),openfl_text__$internal_HTMLParser.__regexRightMargin.match(h)&&(u.rightMargin=Std.parseInt(openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexRightMargin))),openfl_text__$internal_HTMLParser.__regexTabStops.match(h)){for(var b=openfl_text__$internal_HTMLParser.__getAttributeMatch(openfl_text__$internal_HTMLParser.__regexTabStops).split(" "),v=[],P=0;P<b.length;){var w=b[P];++P,v.push(Std.parseInt(w))}u.tabStops=v}break;case"u":u.underline=!0}_.push(u),r.push(m),d<h.length&&(s=StringTools.htmlUnescape(h.substring(d)),a.push(new openfl_text__$internal_TextFormatRange(u,e.length,e.length+s.length)),e+=s,o=!1)}else s=StringTools.htmlUnescape(h),a.push(new openfl_text__$internal_TextFormatRange(u,e.length,e.length+s.length)),e+=s,o=!1}}return 0==a.get_length()&&a.push(new openfl_text__$internal_TextFormatRange(_[0],0,0)),e},openfl_text__$internal_HTMLParser.__getAttributeMatch=function(e){return null!=e.matched(2)?e.matched(2):e.matched(3)};var openfl_text__$internal_ShapeCache=function(){this.__shortWordMap=new haxe_ds_StringMap,this.__longWordMap=new haxe_ds_StringMap};$hxClasses["openfl.text._internal.ShapeCache"]=openfl_text__$internal_ShapeCache,openfl_text__$internal_ShapeCache.__name__="openfl.text._internal.ShapeCache",openfl_text__$internal_ShapeCache.hashFunction=function(e){for(var t=0,a=0,n=e.length;a<n;){var i=a++;t=(t<<5)-t+HxOverrides.cca(e,i),t|=0}return t},openfl_text__$internal_ShapeCache.prototype={cache:function(e,t,a){var n=e.format.__cacheKey;return a.length>15?this.__cacheLongWord(a,n,t):this.__cacheShortWord(a,n,t)},__cacheShortWord:function(e,t,a){if(Object.prototype.hasOwnProperty.call(this.__shortWordMap.h,t)){var n=this.__shortWordMap.h[t];if(Object.prototype.hasOwnProperty.call(n.h,e))return n.h[e];var i=a();n.h[e]=i}else{n=new haxe_ds_StringMap,i=a();n.h[e]=i,this.__shortWordMap.h[t]=n}return a()},__cacheLongWord:function(e,t,a){var n=openfl_text__$internal_ShapeCache.hashFunction(e);if(Object.prototype.hasOwnProperty.call(this.__longWordMap.h,t)){if((s=this.__longWordMap.h[t]).h.hasOwnProperty(n)){if((i=s.h[n]).exists(e))return i.get(e);i.set(e,a())}else{var i=new openfl_text__$internal_CacheMeasurement(e,a());s.h[n]=i}}else{var s=new haxe_ds_IntMap;(i=new openfl_text__$internal_CacheMeasurement(e,a())).hash=n,s.h[n]=i,this.__longWordMap.h[t]=s}return a()},__class__:openfl_text__$internal_ShapeCache};var openfl_text__$internal_TextEngine=function(e){this.__shapeCache=new openfl_text__$internal_ShapeCache,this.textField=e,this.width=100,this.height=100,this.set_text(""),this.bounds=new openfl_geom_Rectangle(0,0,0,0),this.textBounds=new openfl_geom_Rectangle(0,0,0,0),this.type=0,this.autoSize=2,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.numLines=1,this.sharpness=0,this.scrollH=0,this.set_scrollV(1),this.wordWrap=!1,this.lineAscents=openfl_Vector.toFloatVector(null),this.lineBreaks=openfl_Vector.toIntVector(null),this.lineDescents=openfl_Vector.toFloatVector(null),this.lineLeadings=openfl_Vector.toFloatVector(null),this.lineHeights=openfl_Vector.toFloatVector(null),this.lineWidths=openfl_Vector.toFloatVector(null),this.layoutGroups=openfl_Vector.toObjectVector(null),this.textFormatRanges=openfl_Vector.toObjectVector(null),null==openfl_text__$internal_TextEngine.__context&&(openfl_text__$internal_TextEngine.__context=window.document.createElement("canvas").getContext("2d"))};$hxClasses["openfl.text._internal.TextEngine"]=openfl_text__$internal_TextEngine,openfl_text__$internal_TextEngine.__name__="openfl.text._internal.TextEngine",openfl_text__$internal_TextEngine.findFont=function(e){return openfl_text_Font.__fontByName.h[e]},openfl_text__$internal_TextEngine.findFontVariant=function(e){var t=e.font,a=e.bold,n=e.italic;null==t&&(t="_serif");var i=StringTools.replace(StringTools.replace(t," Normal","")," Regular","");return a&&n&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Bold Italic")?openfl_text__$internal_TextEngine.findFont(i+" Bold Italic"):a&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Bold")?openfl_text__$internal_TextEngine.findFont(i+" Bold"):n&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Italic")?openfl_text__$internal_TextEngine.findFont(i+" Italic"):openfl_text__$internal_TextEngine.findFont(t)},openfl_text__$internal_TextEngine.getFormatHeight=function(e){var t,a;openfl_text__$internal_TextEngine.__context.font=openfl_text__$internal_TextEngine.getFont(e);var n=openfl_text__$internal_TextEngine.getFontInstance(e);return null!=e.__ascent?(t=e.size*e.__ascent,a=e.size*e.__descent):null!=n&&0!=n.unitsPerEM?(t=n.ascender/n.unitsPerEM*e.size,a=Math.abs(n.descender/n.unitsPerEM*e.size)):(t=e.size,a=.185*e.size),t+a+e.leading},openfl_text__$internal_TextEngine.getFont=function(e){var t=e.font,a=e.bold,n=e.italic;null==t&&(t="_serif");var i=StringTools.replace(StringTools.replace(t," Normal","")," Regular","");a&&n&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Bold Italic")?(t=i+" Bold Italic",a=!1,n=!1):a&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Bold")?(t=i+" Bold",a=!1):n&&Object.prototype.hasOwnProperty.call(openfl_text_Font.__fontByName.h,i+" Italic")?(t=i+" Italic",n=!1):(a&&(t.indexOf(" Bold ")>-1||StringTools.endsWith(t," Bold"))&&(a=!1),n&&(t.indexOf(" Italic ")>-1||StringTools.endsWith(t," Italic"))&&(n=!1));var s,_=n?"italic ":"normal ";switch(_+="normal ",_+=a?"bold ":"normal ",_+=e.size+"px",_+="/"+(e.leading+e.size+3)+"px ",t){case"_sans":s="sans-serif";break;case"_serif":s="serif";break;case"_typewriter":s="monospace";break;default:var r=new RegExp("^[\\s'\"]+(.*)[\\s'\"]+$","".split("u").join(""));s="'"+t.replace(r,"$1")+"'"}return _+=""+s},openfl_text__$internal_TextEngine.getFontInstance=function(e){return openfl_text__$internal_TextEngine.findFontVariant(e)},openfl_text__$internal_TextEngine.prototype={createRestrictRegexp:function(e){var t=new EReg("\\^(.-.|.)","gu"),a="",n=[];return t.map(e,(function(e){return a+=e.matched(1),""})).length>0&&n.push("[^"+e+"]"),a.length>0&&n.push("["+a+"]"),new EReg("("+n.join("|")+")","g")},getBounds:function(){var e=this.border?1:0;this.bounds.width=this.width+e,this.bounds.height=this.height+e;for(var t=this.width,a=this.width,n=this.layoutGroups.iterator();n.hasNext();){var i=n.next();i.offsetX<t&&(t=i.offsetX),i.offsetY<a&&(a=i.offsetY)}t>=this.width&&(t=2),a>=this.height&&(a=2);var s=1.185*this.textHeight;this.textBounds.setTo(Math.max(t-2,0),Math.max(a-2,0),Math.min(this.textWidth+4,this.bounds.width+4),Math.min(s+4,this.bounds.height+4))},getLine:function(e){return e<0||e>this.lineBreaks.get_length()+1?null:0==this.lineBreaks.get_length()?this.text:this.text.substring(e>0?this.lineBreaks.get(e-1):0,this.lineBreaks.get(e))},getLineBreaks:function(){this.lineBreaks.set_length(0);for(var e=-1,t=-1,a=-1;e<this.text.length&&(a=this.text.indexOf("\n",e+1),(e=-1==(t=this.text.indexOf("\r",e+1))?a:-1==a||t<a?t:a)>-1);)this.lineBreaks.push(e)},getLineBreakIndex:function(e){null==e&&(e=0);for(var t=this.lineBreaks.iterator();t.hasNext();){var a=t.next();if(a>=e)return a}return-1},getLineMeasurements:function(){this.lineAscents.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0);var e=0,t=0,a=null,n=0,i=0,s=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0;for(var _=this.layoutGroups.iterator();_.hasNext();){for(var r=_.next();r.lineIndex>this.numLines-1;)this.lineAscents.push(e),this.lineDescents.push(t),this.lineLeadings.push(null!=a?a:0),this.lineHeights.push(n),this.lineWidths.push(i),e=0,t=0,a=null,n=0,i=0,this.numLines++;e=Math.max(e,r.ascent),t=Math.max(t,r.descent),a=null==a?r.leading:0|Math.max(a,r.leading),n=Math.max(n,r.height),(i=r.offsetX-2+r.width)>this.textWidth&&(this.textWidth=i),(s=r.offsetY-2+r.ascent+r.descent)>this.textHeight&&(this.textHeight=s)}if(0==this.textHeight&&null!=this.textField&&1==this.textField.get_type()){var o,l,h=this.textField.__textFormat,u=openfl_text__$internal_TextEngine.getFontInstance(h);null!=h.__ascent?(o=h.size*h.__ascent,l=h.size*h.__descent):null!=u&&0!=u.unitsPerEM?(o=u.ascender/u.unitsPerEM*h.size,l=Math.abs(u.descender/u.unitsPerEM*h.size)):(o=h.size,l=.185*h.size);var p=h.leading;e=o,t=l,a=p,s=o+l,this.textHeight=s}(this.lineAscents.push(e),this.lineDescents.push(t),this.lineLeadings.push(null!=a?a:0),this.lineHeights.push(n),this.lineWidths.push(i),1==this.numLines&&a>0&&(this.textHeight+=a),this.layoutGroups.get_length()>0)&&(null!=(_=this.layoutGroups.get(this.layoutGroups.get_length()-1))&&_.startIndex==_.endIndex&&(this.textHeight-=n));if(2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.scrollH>this.maxScrollH&&(this.scrollH=this.maxScrollH)},getLayoutGroups:function(){var e=this;if(this.layoutGroups.set_length(0),null!=this.text&&""!=this.text){var t,a=-1,n=null,i=null,s=openfl_text_TextField.__defaultTextFormat.clone(),_=0,r=0,o=0,l=0,h=3,u=0,p=0,c=0,d=0,f=!0,m=null,g=null,x=0,k=0,y=0,b=-2,v=-1,P=this.text.indexOf(" "),w=0,T=w<this.lineBreaks.get_length()?this.lineBreaks.get(w):-1,C=0,S=0,A=0,E=0,D=function(t,a,i){null!=n.format.letterSpacing&&n.format.letterSpacing;return e.__shapeCache.cache(n,(function(){var n=[];if(null==e.__useIntAdvances){var s=new EReg("Trident/7.0","");e.__useIntAdvances=s.match($global.navigator.userAgent)}if(e.__useIntAdvances)for(var _,r=0,o=a,l=i;o<l;){var h=o++;_=openfl_text__$internal_TextEngine.__context.measureText(t.substring(a,h+1)).width,n.push(_-r),r=_}else for(o=a,l=i;o<l;){var u;if((h=o++)<t.length-1){var p=openfl_text__$internal_TextEngine.__context.measureText(t.charAt(h+1)).width;u=openfl_text__$internal_TextEngine.__context.measureText(HxOverrides.substr(t,h,2)).width-p}else u=openfl_text__$internal_TextEngine.__context.measureText(t.charAt(h)).width;n.push(u)}return n}),t.substring(a,i))},M=function(e){for(var t=0,a=0;a<e.length;){var n=e[a];++a,t+=n}return t},R=function(){return 2+c+u+(f?p:0)},L=function(){return e.width-2-d-R()},I=function(t,a){null==m||m.startIndex!=m.endIndex?(m=new openfl_text__$internal_TextLayoutGroup(n.format,t,a),e.layoutGroups.push(m)):(m.format=n.format,m.startIndex=t,m.endIndex=a)},$=function(){null!=s.__ascent?(r=s.size*s.__ascent,l=s.size*s.__descent):null!=i&&0!=i.unitsPerEM?(r=i.ascender/i.unitsPerEM*s.size,l=Math.abs(i.descender/i.unitsPerEM*s.size)):(r=s.size,l=.185*s.size),_=s.leading,(k=Math.ceil(r+l+_))>y&&(y=k),r>o&&(o=r)},B=function(){f=!0,h=null!=s.align?s.align:3,u=null!=s.blockIndent?s.blockIndent:0,p=null!=s.indent?s.indent:0,c=null!=s.leftMargin?s.leftMargin:0,d=null!=s.rightMargin?s.rightMargin:0;s.bullet,s.tabStops},O=function(){return a<e.textFormatRanges.get_length()-1&&(a+=1,n=e.textFormatRanges.get(a),s.__merge(n.format),openfl_text__$internal_TextEngine.__context.font=openfl_text__$internal_TextEngine.getFont(s),i=openfl_text__$internal_TextEngine.getFontInstance(s),!0)},G=function(t,i){if(t>=i)g=[],x=0;else if(i<=n.end)g=D(e.text,t,i),x=M(g);else{var s=t,_=n.end,r=0;for(g=[],x=0;;){if(s!=_){var o=D(e.text,s,_);g=g.concat(o)}if(_==i){x=M(g);break}if(!O()){lime_utils_Log.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/_internal/TextEngine.hx",lineNumber:1092,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}s=_,_=i<n.end?i:n.end,++r}a-=r+1,O()}},F=function(t){if(t<=n.end){g=D(e.text,A,t),x=M(g),I(A,t),m.positions=g;var a=C,i=R();m.offsetX=a+i,m.ascent=r,m.descent=l,m.leading=_,m.lineIndex=E,m.offsetY=S+2,m.width=x,m.height=k,C+=x,t==n.end&&(m=null,O(),$())}else for(;;){var s=t<n.end?t:n.end;if(A!=s){g=D(e.text,A,s),x=M(g),I(A,s),m.positions=g;a=C,i=R();m.offsetX=a+i,m.ascent=r,m.descent=l,m.leading=_,m.lineIndex=E,m.offsetY=S+2,m.width=x,m.height=k,C+=x,A=s}if(s==n.end&&(m=null),s==t)break;if(!O()){lime_utils_Log.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/_internal/TextEngine.hx",lineNumber:1180,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}$()}A=t},N=function(){$();for(var t=e.layoutGroups.get_length();--t>-1;){var a=e.layoutGroups.get(t);if(a.lineIndex<E)break;a.lineIndex>E||(a.ascent=o,a.height=y)}S+=y,o=0,y=0,E+=1,C=0,f=!1},H=function(t){e.width>=4&&e.wordWrap&&function(e){for(var t,a,n,i,s,_=g,r=M(_);_.length>0&&C+r>L();){for(t=a=0,i=0;C+i<L();)0==(s=_[t])?(++t,++a):(i+=s,++t);if(t==a)t=a+1;else for(;t>1&&C+i>L();)--t-a>0?(G(A,A+t-a),i=x):(t=1,a=0,G(A,A+1),i=0);F(n=A+t-a),N(),G(n,e),_=g,r=x}}(t),F(t)};O(),B(),$();for(var U=this.text.length+1;A<U;)if(T>-1&&(-1==P||T<P))A<=T?(G(A,T),H(T),m=null):null!=m&&m.startIndex!=m.endIndex&&(m.endIndex==P&&(m.width-=m.positions[m.positions.length-1]),m=null),N(),n.end==T&&(O(),$()),A=T+1,v=T,T=++w<this.lineBreaks.get_length()?this.lineBreaks.get(w):-1,B();else if(P>-1)for(null!=m&&m.startIndex!=m.endIndex&&(m=null),t=!1;A<this.text.length;){var X=-1;if(-1==P?X=T:(X=P+1,T>-1&&T<X&&(X=T)),-1==X&&(X=this.text.length),G(A,X),2==h){if(g.length>0&&A==b){A+=1;var V=g.shift();x-=V,C+=V}if(g.length>0&&X==P+1){--X;var j=g.pop();x-=j}}if(this.wordWrap&&C+x>L()&&(t=!0,g.length>0&&X==P+1)){var z=g[g.length-1];C+x-z<=L()&&(t=!1)}if(t){if(2!=h&&(null!=m||this.layoutGroups.get_length()>0)){var W=m;null==W&&(W=this.layoutGroups.get(this.layoutGroups.get_length()-1)),W.width-=W.positions[W.positions.length-1],W.endIndex--}for(var Y=this.layoutGroups.get_length()-1,K=0;m=this.layoutGroups.get(Y),Y>0&&m.startIndex>b;)++K,--Y;if(A==b+1&&N(),C=0,K>0)for(var q=this.layoutGroups.get(this.layoutGroups.get_length()-K).offsetX,J=this.layoutGroups.get_length()-K,Z=this.layoutGroups.get_length();J<Z;){var Q=J++;(m=this.layoutGroups.get(Q)).offsetX-=q,m.offsetY=S+2,m.lineIndex=E,C+=m.width}H(X),t=!1}else if(null!=m&&A==P)2!=h&&(m.endIndex=P,m.positions=m.positions.concat(g),m.width+=x),C+=x,A=X;else if(null==m||2==h)H(X),X==this.text.length&&N();else{var ee=X<n.end?X:n.end;ee<X&&(g=D(this.text,A,ee),x=M(g)),m.endIndex=ee,m.positions=m.positions.concat(g),m.width+=x,C+=x,ee==n.end&&(m=null,O(),$(),A=ee,ee!=X&&F(X)),T==X&&++X,A=X,X==this.text.length&&N()}var te=this.text.indexOf(" ",A);if(T==b&&(m.endIndex=T,T-m.startIndex-m.positions.length<0&&m.positions.push(0),A=T+1),b=P,P=te,T>-1&&T<=A&&(P>T||-1==P)||A>this.text.length)break}else A<this.text.length&&(G(A,this.text.length),H(this.text.length),N()),A+=1;if(v==A-2&&v>-1){I(A-1,A-1),m.positions=[],m.ascent=r,m.descent=l,m.leading=_,m.lineIndex=E,m.offsetX=R(),m.offsetY=S+2,m.width=0;var ae="input"==openfl_text_TextFieldType.toString(this.type)?k:0;m.height=ae}}},restrictText:function(e){return null==e||null!=this.__restrictRegexp&&(e=this.__restrictRegexp.split(e).join("")),e},setTextAlignment:function(){for(var e,t,a=-1,n=0,i=this.width-4,s=!1,_=0,r=this.layoutGroups.get_length();_<r;){var o=_++;if((e=this.layoutGroups.get(o)).lineIndex!=a)switch(a=e.lineIndex,i=this.width-4-e.format.rightMargin,e.format.align){case 0:n=this.lineWidths.get(a)<i?Math.round((i-this.lineWidths.get(a))/2):0;break;case 2:if(this.lineWidths.get(a)<i){t=1;for(var l=o+1,h=this.layoutGroups.get_length();l<h;){var u=l++;if(this.layoutGroups.get(u).lineIndex!=a)break;0!=u&&32!=HxOverrides.cca(this.text,this.layoutGroups.get(u).startIndex-1)||++t}if(t>1){e=this.layoutGroups.get(o+t-1);var p=HxOverrides.cca(this.text,e.endIndex);if(e.endIndex<this.text.length&&10!=p&&13!=p){n=(i-this.lineWidths.get(a))/(t-1),s=!0;for(var c=1;this.layoutGroups.get(o+c).offsetX+=n*c,++c<t;);}}}n=0;break;case 4:n=this.lineWidths.get(a)<i?Math.round(i-this.lineWidths.get(a)):0;break;default:n=0}n>0&&(e.offsetX+=n)}s&&this.getLineMeasurements()},trimText:function(e){return null==e||this.maxChars>0&&e.length>this.maxChars&&(e=HxOverrides.substr(e,0,this.maxChars)),e},update:function(){null==this.text||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLineBreaks(),this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},get_bottomScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;for(var e=this.lineHeights.get_length(),t=this.lineLeadings.get_length()==e?-this.lineLeadings.get(e-1):0,a=this.get_scrollV()-1,n=this.lineHeights.get_length();a<n;){var i=a++;if(!(t+this.lineHeights.get(i)<=this.height-4)){e=i;break}t+=this.lineHeights.get(i)}return e<this.get_scrollV()?this.get_scrollV():e},get_maxScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;for(var e=this.numLines-1,t=0,a=e;e>=0&&t+this.lineHeights.get(e)<=this.height-4;)t+=this.lineHeights.get(e),--e;return e==a?e=this.numLines:e+=2,e<1?1:e},set_restrict:function(e){return this.restrict==e||(this.restrict=e,null==this.restrict||0==this.restrict.length?this.__restrictRegexp=null:this.__restrictRegexp=this.createRestrictRegexp(e)),this.restrict},get_scrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;var e=this.get_maxScrollV();return this.scrollV>e?e:this.scrollV},set_scrollV:function(e){return e<1&&(e=1),this.scrollV=e},set_text:function(e){return this.text=e},__class__:openfl_text__$internal_TextEngine,__properties__:{set_text:"set_text",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_restrict:"set_restrict",get_maxScrollV:"get_maxScrollV",get_bottomScrollV:"get_bottomScrollV"}};var openfl_text__$internal_TextFormatRange=function(e,t,a){this.format=e,this.start=t,this.end=a};$hxClasses["openfl.text._internal.TextFormatRange"]=openfl_text__$internal_TextFormatRange,openfl_text__$internal_TextFormatRange.__name__="openfl.text._internal.TextFormatRange",openfl_text__$internal_TextFormatRange.prototype={__class__:openfl_text__$internal_TextFormatRange};var openfl_text__$internal_TextLayout=function(e,t,a,n,i,s){null==s&&(s="en"),null==i&&(i="Zyyy"),null==n&&(n=4),null==a&&(a=12),null==e&&(e=""),this.letterSpacing=0,this.set_text(e),this.set_font(t),this.set_size(a),this.__direction=n,this.__script=i,this.__language=s,this.positions=[],this.__dirty=!0,this.__create(this.__direction,this.__script,this.__language)};$hxClasses["openfl.text._internal.TextLayout"]=openfl_text__$internal_TextLayout,openfl_text__$internal_TextLayout.__name__="openfl.text._internal.TextLayout",openfl_text__$internal_TextLayout.prototype={__create:function(e,t,a){if(4==a.length){this.__hbBuffer=lime_text_harfbuzz_HBBuffer._new();this.__hbBuffer,lime_text_harfbuzz_HBLanguage._new(a)}},__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(e){return e==this.__direction||(this.__direction=e,this.__dirty=!0),e},set_font:function(e){return e==this.font||(this.font=e,this.__dirty=!0),e},get_glyphs:function(){for(var e=[],t=0,a=this.get_positions();t<a.length;){var n=a[t];++t,e.push(n.glyph)}return e},get_language:function(){return this.__language},set_language:function(e){return e==this.__language||(this.__language=e,this.__dirty=!0),e},get_script:function(){return this.__script},set_script:function(e){return e==this.__script||(this.__script=e,this.__dirty=!0),e},set_size:function(e){return e==this.size||(this.size=e,this.__dirty=!0),e},set_text:function(e){return e==this.text||(this.text=e,this.__dirty=!0),e},__class__:openfl_text__$internal_TextLayout,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var openfl_text__$internal_TextDirection={__properties__:{get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},reverse:function(e){1},toString:function(e){switch(e){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},toHBDirection:function(e){switch(e){case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;default:return 0}},get_backward:function(e){return 5==(-3&e)},get_forward:function(e){return 4==(-3&e)},get_horizontal:function(e){return 4==(-2&e)},get_vertical:function(e){return 6==(-2&e)}},openfl_text__$internal_TextScript={__properties__:{get_rightToLeft:"get_rightToLeft"},toHBScript:function(e){return 1517910393},get_rightToLeft:function(e){switch(e){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}}},openfl_text__$internal_TextLayoutGroup=function(e,t,a){this.format=e,this.startIndex=t,this.endIndex=a};$hxClasses["openfl.text._internal.TextLayoutGroup"]=openfl_text__$internal_TextLayoutGroup,openfl_text__$internal_TextLayoutGroup.__name__="openfl.text._internal.TextLayoutGroup",openfl_text__$internal_TextLayoutGroup.prototype={getAdvance:function(e){return this.positions[e]},__class__:openfl_text__$internal_TextLayoutGroup};var openfl_ui_GameInput=function(){openfl_events_EventDispatcher.call(this),openfl_ui_GameInput.__instances.push(this)};$hxClasses["openfl.ui.GameInput"]=openfl_ui_GameInput,openfl_ui_GameInput.__name__="openfl.ui.GameInput",openfl_ui_GameInput.getDeviceAt=function(e){return e>=0&&e<openfl_ui_GameInput.__deviceList.length?openfl_ui_GameInput.__deviceList[e]:null},openfl_ui_GameInput.__getDevice=function(e){if(null==e)return null;if(null==openfl_ui_GameInput.__devices.h.__keys__[e.__id__]){var t=(a=lime_ui_Joystick.__getDeviceData())[e.id].id,a=lime_ui_Joystick.__getDeviceData(),n=new openfl_ui_GameInputDevice(t,a[e.id].id);openfl_ui_GameInput.__deviceList.push(n),openfl_ui_GameInput.__devices.set(e,n),openfl_ui_GameInput.numDevices=openfl_ui_GameInput.__deviceList.length}return openfl_ui_GameInput.__devices.h[e.__id__]},openfl_ui_GameInput.__onGamepadAxisMove=function(e,t,a){var n=openfl_ui_GameInput.__getDevice(e);if(null!=n&&n.enabled){if(!n.__axis.h.hasOwnProperty(t)){if(null==t)s="null";else switch(t){case 0:s="LEFT_X";break;case 1:s="LEFT_Y";break;case 2:s="RIGHT_X";break;case 3:s="RIGHT_Y";break;case 4:s="TRIGGER_LEFT";break;case 5:s="TRIGGER_RIGHT";break;default:s="UNKNOWN ("+t+")"}var i=new openfl_ui_GameInputControl(n,"AXIS_"+s,-1,1);n.__axis.h[t]=i,n.__controls.push(i)}var s;(s=n.__axis.h[t]).value=a,s.dispatchEvent(new openfl_events_Event("change"))}},openfl_ui_GameInput.__onGamepadButtonDown=function(e,t){var a=openfl_ui_GameInput.__getDevice(e);if(null!=a&&a.enabled){if(!a.__button.h.hasOwnProperty(t)){if(null==t)i="null";else switch(t){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+t+")"}var n=new openfl_ui_GameInputControl(a,"BUTTON_"+i,0,1);a.__button.h[t]=n,a.__controls.push(n)}var i;(i=a.__button.h[t]).value=1,i.dispatchEvent(new openfl_events_Event("change"))}},openfl_ui_GameInput.__onGamepadButtonUp=function(e,t){var a=openfl_ui_GameInput.__getDevice(e);if(null!=a&&a.enabled){if(!a.__button.h.hasOwnProperty(t)){if(null==t)i="null";else switch(t){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+t+")"}var n=new openfl_ui_GameInputControl(a,"BUTTON_"+i,0,1);a.__button.h[t]=n,a.__controls.push(n)}var i;(i=a.__button.h[t]).value=0,i.dispatchEvent(new openfl_events_Event("change"))}},openfl_ui_GameInput.__onGamepadConnect=function(e){var t=openfl_ui_GameInput.__getDevice(e);if(null!=t)for(var a=0,n=openfl_ui_GameInput.__instances;a<n.length;){var i=n[a];++a,i.dispatchEvent(new openfl_events_GameInputEvent("deviceAdded",!0,!1,t))}},openfl_ui_GameInput.__onGamepadDisconnect=function(e){var t=openfl_ui_GameInput.__devices.h[e.__id__];if(null!=t){null!=openfl_ui_GameInput.__devices.h.__keys__[e.__id__]&&(HxOverrides.remove(openfl_ui_GameInput.__deviceList,openfl_ui_GameInput.__devices.h[e.__id__]),openfl_ui_GameInput.__devices.remove(e)),openfl_ui_GameInput.numDevices=openfl_ui_GameInput.__deviceList.length;for(var a=0,n=openfl_ui_GameInput.__instances;a<n.length;){var i=n[a];++a,i.dispatchEvent(new openfl_events_GameInputEvent("deviceRemoved",!0,!1,t))}}},openfl_ui_GameInput.__super__=openfl_events_EventDispatcher,openfl_ui_GameInput.prototype=$extend(openfl_events_EventDispatcher.prototype,{addEventListener:function(e,t,a,n,i){if(null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),openfl_events_EventDispatcher.prototype.addEventListener.call(this,e,t,a,n,i),"deviceAdded"==e)for(var s=0,_=openfl_ui_GameInput.__deviceList;s<_.length;){var r=_[s];++s,this.dispatchEvent(new openfl_events_GameInputEvent("deviceAdded",!0,!1,r))}},__class__:openfl_ui_GameInput});var openfl_ui_GameInputControl=function(e,t,a,n,i){null==i&&(i=0),openfl_events_EventDispatcher.call(this),this.device=e,this.id=t,this.minValue=a,this.maxValue=n,this.value=i};$hxClasses["openfl.ui.GameInputControl"]=openfl_ui_GameInputControl,openfl_ui_GameInputControl.__name__="openfl.ui.GameInputControl",openfl_ui_GameInputControl.__super__=openfl_events_EventDispatcher,openfl_ui_GameInputControl.prototype=$extend(openfl_events_EventDispatcher.prototype,{__class__:openfl_ui_GameInputControl});var openfl_ui_GameInputDevice=function(e,t){var a;this.__controls=[],this.__button=new haxe_ds_IntMap,this.__axis=new haxe_ds_IntMap,this.id=e,this.name=t,a=new openfl_ui_GameInputControl(this,"AXIS_0",-1,1),this.__axis.h[0]=a,this.__controls.push(a),a=new openfl_ui_GameInputControl(this,"AXIS_1",-1,1),this.__axis.h[1]=a,this.__controls.push(a),a=new openfl_ui_GameInputControl(this,"AXIS_2",-1,1),this.__axis.h[2]=a,this.__controls.push(a),a=new openfl_ui_GameInputControl(this,"AXIS_3",-1,1),this.__axis.h[3]=a,this.__controls.push(a),a=new openfl_ui_GameInputControl(this,"AXIS_4",-1,1),this.__axis.h[4]=a,this.__controls.push(a),a=new openfl_ui_GameInputControl(this,"AXIS_5",-1,1),this.__axis.h[5]=a,this.__controls.push(a);for(var n=0;n<15;){var i=n++;a=new openfl_ui_GameInputControl(this,"BUTTON_"+i,0,1),this.__button.h[i]=a,this.__controls.push(a)}};$hxClasses["openfl.ui.GameInputDevice"]=openfl_ui_GameInputDevice,openfl_ui_GameInputDevice.__name__="openfl.ui.GameInputDevice",openfl_ui_GameInputDevice.prototype={getCachedSamples:function(e,t){return null==t&&(t=!1),0},getControlAt:function(e){return e>=0&&e<this.__controls.length?this.__controls[e]:null},startCachingSamples:function(e,t){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:openfl_ui_GameInputDevice,__properties__:{get_numControls:"get_numControls"}};var openfl_ui_Keyboard=function(){};$hxClasses["openfl.ui.Keyboard"]=openfl_ui_Keyboard,openfl_ui_Keyboard.__name__="openfl.ui.Keyboard",openfl_ui_Keyboard.isAccessible=function(){return!1},openfl_ui_Keyboard.__convertKeyCode=function(e){switch(e){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 13;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return e}},openfl_ui_Keyboard.__getCharCode=function(e,t){if(null==t&&(t=!1),t){switch(e){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(e>=65&&e<=90)return e-65+65}else{switch(e){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(e>=48&&e<=57)return e-48+48;if(e>=65&&e<=90)return e-65+97}if(e>=96&&e<=105)return e-96+48;switch(e){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},openfl_ui_Keyboard.__getKeyLocation=function(e){switch(e){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var openfl_ui_Mouse=function(){};$hxClasses["openfl.ui.Mouse"]=openfl_ui_Mouse,openfl_ui_Mouse.__name__="openfl.ui.Mouse",openfl_ui_Mouse.__properties__={set_cursor:"set_cursor",get_cursor:"get_cursor"},openfl_ui_Mouse.hide=function(){openfl_ui_Mouse.__hidden=!0;for(var e=0,t=lime_app_Application.current.__windows;e<t.length;){var a=t[e];++e,a.set_cursor(null)}},openfl_ui_Mouse.show=function(){openfl_ui_Mouse.__hidden=!1;var e=openfl_ui_Mouse.__cursor;openfl_ui_Mouse.__cursor=null,openfl_ui_Mouse.set_cursor(e)},openfl_ui_Mouse.get_cursor=function(){return openfl_ui_Mouse.__cursor},openfl_ui_Mouse.set_cursor=function(e){null==e&&(e="auto");var t=null;switch(e){case"arrow":t=lime_ui_MouseCursor.ARROW;break;case"button":t=lime_ui_MouseCursor.POINTER;break;case"crosshair":t=lime_ui_MouseCursor.CROSSHAIR;break;case"custom":t=lime_ui_MouseCursor.CUSTOM;break;case"hand":t=lime_ui_MouseCursor.MOVE;break;case"ibeam":t=lime_ui_MouseCursor.TEXT;break;case"resize_nesw":t=lime_ui_MouseCursor.RESIZE_NESW;break;case"resize_ns":t=lime_ui_MouseCursor.RESIZE_NS;break;case"resize_nwse":t=lime_ui_MouseCursor.RESIZE_NWSE;break;case"resize_we":t=lime_ui_MouseCursor.RESIZE_WE;break;case"wait":t=lime_ui_MouseCursor.WAIT;break;case"waitarrow":t=lime_ui_MouseCursor.WAIT_ARROW}if(null!=t&&!openfl_ui_Mouse.__hidden)for(var a=0,n=lime_app_Application.current.__windows;a<n.length;){var i=n[a];++a,i.set_cursor(t)}return openfl_ui_Mouse.__cursor=e};var openfl_ui_MouseCursor={fromLimeCursor:function(e){switch(e._hx_index){case 0:return"arrow";case 1:return"crosshair";case 2:return"auto";case 3:return"hand";case 4:return"button";case 5:return"resize_nesw";case 6:return"resize_ns";case 7:return"resize_nwse";case 8:return"resize_we";case 9:return"ibeam";case 10:return"wait";case 11:return"waitarrow";case 12:return"custom"}},toLimeCursor:function(e){switch(e){case"arrow":return lime_ui_MouseCursor.ARROW;case"auto":return lime_ui_MouseCursor.DEFAULT;case"button":return lime_ui_MouseCursor.POINTER;case"crosshair":return lime_ui_MouseCursor.CROSSHAIR;case"custom":return lime_ui_MouseCursor.CUSTOM;case"hand":return lime_ui_MouseCursor.MOVE;case"ibeam":return lime_ui_MouseCursor.TEXT;case"resize_nesw":return lime_ui_MouseCursor.RESIZE_NESW;case"resize_ns":return lime_ui_MouseCursor.RESIZE_NS;case"resize_nwse":return lime_ui_MouseCursor.RESIZE_NWSE;case"resize_we":return lime_ui_MouseCursor.RESIZE_WE;case"wait":return lime_ui_MouseCursor.WAIT;case"waitarrow":return lime_ui_MouseCursor.WAIT_ARROW;default:return lime_ui_MouseCursor.DEFAULT}}},openfl_ui_Multitouch=function(){};$hxClasses["openfl.ui.Multitouch"]=openfl_ui_Multitouch,openfl_ui_Multitouch.__name__="openfl.ui.Multitouch",openfl_ui_Multitouch.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"},openfl_ui_Multitouch.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)};var openfl_ui_MultitouchInputMode={fromString:function(e){switch(e){case"gesture":return 0;case"none":return 1;case"touchPoint":return 2;default:return null}},toString:function(e){switch(e){case 0:return"gesture";case 1:return"none";case 2:return"touchPoint";default:return null}}},openfl_utils_AGALMiniAssembler=function(e){null==e&&(e=!1),this.debugEnabled=!1,this.debugEnabled=e,openfl_utils_AGALMiniAssembler.initialized||openfl_utils_AGALMiniAssembler.init()};$hxClasses["openfl.utils.AGALMiniAssembler"]=openfl_utils_AGALMiniAssembler,openfl_utils_AGALMiniAssembler.__name__="openfl.utils.AGALMiniAssembler",openfl_utils_AGALMiniAssembler.init=function(){openfl_utils_AGALMiniAssembler.initialized=!0;var e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("mov",2,0,0);e.h.mov=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("add",3,1,0);e.h.add=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sub",3,2,0);e.h.sub=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("mul",3,3,0);e.h.mul=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("div",3,4,0);e.h.div=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("rcp",2,5,0);e.h.rcp=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("min",3,6,0);e.h.min=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("max",3,7,0);e.h.max=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("frc",2,8,0);e.h.frc=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sqt",2,9,0);e.h.sqt=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("rsq",2,10,0);e.h.rsq=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("pow",3,11,0);e.h.pow=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("log",2,12,0);e.h.log=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("exp",2,13,0);e.h.exp=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("nrm",2,14,0);e.h.nrm=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sin",2,15,0);e.h.sin=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("cos",2,16,0);e.h.cos=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("crs",3,17,0);e.h.crs=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("dp3",3,18,0);e.h.dp3=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("dp4",3,19,0);e.h.dp4=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("abs",2,20,0);e.h.abs=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("neg",2,21,0);e.h.neg=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sat",2,22,0);e.h.sat=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("m33",3,23,16);e.h.m33=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("m44",3,24,16);e.h.m44=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("m34",3,25,16);e.h.m34=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ddx",2,26,288);e.h.ddx=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ddy",2,27,288);e.h.ddy=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ife",2,28,897);e.h.ife=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ine",2,29,897);e.h.ine=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ifg",2,30,897);e.h.ifg=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("ifl",2,31,897);e.h.ifl=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("els",0,32,1921);e.h.els=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("eif",0,33,1409);e.h.eif=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("kil",1,39,160);e.h.kil=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("tex",3,40,40);e.h.tex=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sge",3,41,0);e.h.sge=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("slt",3,42,0);e.h.slt=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sgn",2,43,0);e.h.sgn=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("seq",3,44,0);e.h.seq=t;e=openfl_utils_AGALMiniAssembler.OPMAP,t=new openfl_utils__$AGALMiniAssembler_OpCode("sne",3,45,0);e.h.sne=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("rgba",8,0);e.h.rgba=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("compressed",8,1);e.h.compressed=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("compressedalpha",8,2);e.h.compressedalpha=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("dxt1",8,1);e.h.dxt1=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("dxt5",8,2);e.h.dxt5=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("video",8,3);e.h.video=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("2d",12,0);e.h["2d"]=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("3d",12,2);e.h["3d"]=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("cube",12,1);e.h.cube=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("mipnearest",24,1);e.h.mipnearest=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("miplinear",24,2);e.h.miplinear=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("mipnone",24,0);e.h.mipnone=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("nomip",24,0);e.h.nomip=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("nearest",28,0);e.h.nearest=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("linear",28,1);e.h.linear=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("anisotropic2x",28,2);e.h.anisotropic2x=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("anisotropic4x",28,3);e.h.anisotropic4x=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("anisotropic8x",28,4);e.h.anisotropic8x=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("anisotropic16x",28,5);e.h.anisotropic16x=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("centroid",16,1);e.h.centroid=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("single",16,2);e.h.single=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("ignoresampler",16,4);e.h.ignoresampler=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("repeat",20,1);e.h.repeat=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("wrap",20,1);e.h.wrap=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("clamp",20,0);e.h.clamp=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("clamp_u_repeat_v",20,2);e.h.clamp_u_repeat_v=t;e=openfl_utils_AGALMiniAssembler.SAMPLEMAP,t=new openfl_utils__$AGALMiniAssembler_Sampler("repeat_u_clamp_v",20,3);e.h.repeat_u_clamp_v=t},openfl_utils_AGALMiniAssembler.prototype={assemble2:function(e,t,a,n){var i=this.assemble("vertex",a,t),s=this.assemble("fragment",n,t),_=e.createProgram();return _.upload(i,s),_},assemble:function(e,t,a,n){null==n&&(n=!1),null==a&&(a=1);var i=openfl_Lib.getTimer(),s=new openfl_utils_ByteArrayData(0);this.agalcode=s,this.error="";var _=!1;"fragment"==e?_=!0:"vertex"!=e&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+e+'".'),this.agalcode.__endian=1,this.agalcode.writeByte(160),this.agalcode.writeUnsignedInt(a),this.agalcode.writeByte(161),this.agalcode.writeByte(_?1:0),this.initregmap(a,n);for(var r=StringTools.replace(t,"\r","\n").split("\n"),o=0,l=r.length,h=new EReg("<.*>","g"),u=new EReg("([\\w\\.\\-\\+]+)","gi"),p=new EReg("^\\w{3}","ig"),c=new EReg("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?","gi"),d=new EReg("\\[.*\\]","ig"),f=new EReg("^\\b[A-Za-z]{1,3}","ig"),m=new EReg("\\d+",""),g=new EReg("(\\.[xyzw]{1,4})",""),x=new EReg("[A-Za-z]{1,3}","ig"),k=new EReg("(\\.[xyzw]{1,1})",""),y=new EReg("\\+\\d{1,3}","ig"),b=0;b<l&&""==this.error;){var v=StringTools.trim(r[b]),P=v.indexOf("//");-1!=P&&(v=HxOverrides.substr(v,0,P));var w=h.match(v)?h.matchedPos().pos:-1,T=null;-1!=w&&(T=this.match(HxOverrides.substr(v,w,null),u),v=HxOverrides.substr(v,0,w));var C=null,S=null;if(p.match(v)&&(C=p.matched(0),S=openfl_utils_AGALMiniAssembler.OPMAP.h[C]),null!=S)if(this.debugEnabled&&lime_utils_Log.info(S,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:272,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null!=S){if(v=HxOverrides.substr(v,v.indexOf(S.name)+S.name.length,null),0!=(256&S.flags)&&a<2){this.error="error: opcode requires version 2.";break}if(0!=(64&S.flags)&&_){this.error="error: opcode is only allowed in vertex programs.";break}if(0!=(32&S.flags)&&!_){this.error="error: opcode is only allowed in fragment programs.";break}if(this.verbose&&lime_utils_Log.info("emit opcode="+Std.string(S),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:308,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode.writeUnsignedInt(S.emitCode),++o>4096){this.error="error: too many opcodes. maximum is 4096.";break}var A=this.match(v,c);if(A.length!=S.numRegister){this.error="error: wrong number of operands. found "+A.length+" but expected "+S.numRegister+".";break}for(var E=!1,D=160,M=0,R=A.length;M<R;){var L=M++,I=!1,$=this.match(A[L],d);$.length>0&&(A[L]=StringTools.replace(A[L],$[0],"0"),this.verbose&&lime_utils_Log.info("IS REL",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:344,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),I=!0);var B=this.match(A[L],f);if(0==B.length){this.error="error: could not parse operand "+L+" ("+A[L]+").",E=!0;break}var O=openfl_utils_AGALMiniAssembler.REGMAP.h[B[0]];if(this.debugEnabled&&lime_utils_Log.info(O,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:363,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==O){this.error="error: could not find register name for operand "+L+" ("+A[L]+").",E=!0;break}if(_){if(0==(32&O.flags)){this.error="error: register operand "+L+" ("+A[L]+") only allowed in vertex programs.",E=!0;break}if(I){this.error="error: register operand "+L+" ("+A[L]+") relative adressing not allowed in fragment programs.",E=!0;break}}else if(0==(64&O.flags)){this.error="error: register operand "+L+" ("+A[L]+") only allowed in fragment programs.",E=!0;break}A[L]=HxOverrides.substr(A[L],A[L].indexOf(O.name)+O.name.length,null);var G=I?this.match($[0],m):this.match(A[L],m),F=0;if(G.length>0&&(F=Std.parseInt(G[0])),UInt.gt(F,O.range)){var N=O.range+1;this.error="error: register operand "+L+" ("+A[L]+") index exceeds limit of "+(null==N?"null":Std.string(UInt.toFloat(N)))+".",E=!0;break}var H=0,U=this.match(A[L],g),X=0==L&&0==(128&S.flags),V=2==L&&0!=(8&S.flags),j=0,z=0,W=0;if(X&&I){this.error="error: relative can not be destination",E=!0;break}if(U.length>0){H=0;for(var Y=0,K=U[0].length,q=1;q<K;)Y=HxOverrides.cca(U[0],q)-120,UInt.gt(Y,2)&&(Y=3),H|=X?1<<Y:Y<<(q-1<<1),++q;if(!X)for(;q<=4;)H|=Y<<(q-1<<1),++q}else H=X?15:228;if(I){var J=this.match($[0],x),Z=openfl_utils_AGALMiniAssembler.REGMAP.h[J[0]];if(null==Z){this.error="error: bad index register",E=!0;break}j=Z.emitCode;var Q=this.match($[0],k);if(0==Q.length){this.error="error: bad index register select",E=!0;break}z=HxOverrides.cca(Q[0],1)-120,UInt.gt(z,2)&&(z=3);var ee=this.match($[0],y);if(ee.length>0&&(W=Std.parseInt(ee[0])),W<0||W>255){this.error="error: index offset "+W+" out of bounds. [0..255]",E=!0;break}this.verbose&&lime_utils_Log.info("RELATIVE: type="+j+"=="+J[0]+" sel="+(null==z?"null":Std.string(UInt.toFloat(z)))+"=="+Q[0]+" idx="+(null==F?"null":Std.string(UInt.toFloat(F)))+" offset="+W,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:518,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}if(this.verbose&&lime_utils_Log.info("  emit argcode="+Std.string(O)+"["+(null==F?"null":Std.string(UInt.toFloat(F)))+"]["+H+"]",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:525,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),X)this.agalcode.writeShort(F),this.agalcode.writeByte(H),this.agalcode.writeByte(O.emitCode),D-=32;else if(V){this.verbose&&lime_utils_Log.info("  emit sampler",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:541,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});for(var te=5,ae=0,ne=0,ie=null==T?0:T.length;ne<ie;){var se=ne++;this.verbose&&lime_utils_Log.info("    opt: "+T[se],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:552,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});var _e=openfl_utils_AGALMiniAssembler.SAMPLEMAP.h[T[se]];null==_e?(ae=parseFloat(T[se]),this.verbose&&lime_utils_Log.info("    bias: "+ae,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:565,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})):(16!=_e.flag&&(te&=~(15<<_e.flag)),te|=_e.mask<<_e.flag)}this.agalcode.writeShort(F),this.agalcode.writeByte(8*ae|0),this.agalcode.writeByte(0),this.agalcode.writeUnsignedInt(te),this.verbose&&lime_utils_Log.info("    bits: "+(te-5),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:586,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),D-=64}else 0==L&&(this.agalcode.writeUnsignedInt(0),D-=32),this.agalcode.writeShort(F),this.agalcode.writeByte(W),this.agalcode.writeByte(H),this.agalcode.writeByte(O.emitCode),this.agalcode.writeByte(j),this.agalcode.writeShort(I?32768|z:0),D-=64}for(var re=0;re<D;)this.agalcode.writeByte(0),re+=8;if(E)break;++b}else v.length>=3&&lime_utils_Log.warn("warning: bad line "+b+": "+r[b],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:279,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),++b;else v.length>=3&&lime_utils_Log.warn("warning: bad line "+b+": "+r[b],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:262,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),++b}if(""!=this.error&&(this.error+="\n  at line "+b+" "+r[b],openfl_utils_ByteArray.set_length(this.agalcode,0),lime_utils_Log.info(this.error,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:631,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})),this.debugEnabled){var oe="generated bytecode:";for(M=0,R=openfl_utils_ByteArray.get_length(this.agalcode);M<R;){var le=M++;le%16==0&&(oe+="\n"),le%4==0&&(oe+=" ");var he=StringTools.hex(this.agalcode.b[le],2);he.length<2&&(he="0"+he),oe+=he}lime_utils_Log.info(oe,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:662,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}return this.verbose&&lime_utils_Log.info("AGALMiniAssembler.assemble time: "+(openfl_Lib.getTimer()-i)/1e3+"s",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:667,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode},initregmap:function(e,t){var a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("va","vertex attribute",0,t?1024:1==e||2==e?7:15,66);a.h.va=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("vc","vertex constant",1,t?1024:1==e?127:249,66);a.h.vc=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("vt","vertex temporary",2,t?1024:1==e?7:25,67);a.h.vt=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("vo","vertex output",3,t?1024:0,65);a.h.vo=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("vi","varying",4,t?1024:1==e?7:9,99);a.h.vi=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("fc","fragment constant",1,t?1024:1==e?27:2==e?63:199,34);a.h.fc=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("ft","fragment temporary",2,t?1024:1==e?7:25,35);a.h.ft=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("fs","texture sampler",5,t?1024:7,34);a.h.fs=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("fo","fragment output",3,t?1024:1==e?0:3,33);a.h.fo=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("fd","fragment depth output",6,t?1024:1==e?-1:0,33);a.h.fd=n;a=openfl_utils_AGALMiniAssembler.REGMAP,n=new openfl_utils__$AGALMiniAssembler_Register("iid","instance id",7,t?1024:0,66);a.h.iid=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.vo;openfl_utils_AGALMiniAssembler.REGMAP.h.op=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.vi;openfl_utils_AGALMiniAssembler.REGMAP.h.i=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.vi;openfl_utils_AGALMiniAssembler.REGMAP.h.v=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.fo;openfl_utils_AGALMiniAssembler.REGMAP.h.oc=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.fd;openfl_utils_AGALMiniAssembler.REGMAP.h.od=n;n=openfl_utils_AGALMiniAssembler.REGMAP.h.vi;openfl_utils_AGALMiniAssembler.REGMAP.h.fi=n},match:function(e,t){for(var a,n=[],i=0;t.matchSub(e,i);)a=t.matched(0),n.push(a),i=t.matchedPos().pos+a.length;return n},__class__:openfl_utils_AGALMiniAssembler};var openfl_utils__$AGALMiniAssembler_OpCode=function(e,t,a,n){this.name=e,this.numRegister=t,this.emitCode=a,this.flags=n};$hxClasses["openfl.utils._AGALMiniAssembler.OpCode"]=openfl_utils__$AGALMiniAssembler_OpCode,openfl_utils__$AGALMiniAssembler_OpCode.__name__="openfl.utils._AGALMiniAssembler.OpCode",openfl_utils__$AGALMiniAssembler_OpCode.prototype={toString:function(){return'[OpCode name="'+this.name+'", numRegister='+this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"},__class__:openfl_utils__$AGALMiniAssembler_OpCode};var openfl_utils__$AGALMiniAssembler_Register=function(e,t,a,n,i){this.name=e,this.longName=t,this.emitCode=a,this.range=n,this.flags=i};$hxClasses["openfl.utils._AGALMiniAssembler.Register"]=openfl_utils__$AGALMiniAssembler_Register,openfl_utils__$AGALMiniAssembler_Register.__name__="openfl.utils._AGALMiniAssembler.Register",openfl_utils__$AGALMiniAssembler_Register.prototype={toString:function(){return'[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+(null==this.emitCode?"null":Std.string(UInt.toFloat(this.emitCode)))+", range="+(null==this.range?"null":Std.string(UInt.toFloat(this.range)))+", flags="+(null==this.flags?"null":Std.string(UInt.toFloat(this.flags)))+"]"},__class__:openfl_utils__$AGALMiniAssembler_Register};var openfl_utils__$AGALMiniAssembler_Sampler=function(e,t,a){this.name=e,this.flag=t,this.mask=a};$hxClasses["openfl.utils._AGALMiniAssembler.Sampler"]=openfl_utils__$AGALMiniAssembler_Sampler,openfl_utils__$AGALMiniAssembler_Sampler.__name__="openfl.utils._AGALMiniAssembler.Sampler",openfl_utils__$AGALMiniAssembler_Sampler.prototype={toString:function(){return'[Sampler name="'+this.name+'", flag="'+(null==this.flag?"null":Std.string(UInt.toFloat(this.flag)))+'", mask='+(null==this.mask?"null":Std.string(UInt.toFloat(this.mask)))+"]"},__class__:openfl_utils__$AGALMiniAssembler_Sampler};var openfl_utils_IAssetCache=function(){};$hxClasses["openfl.utils.IAssetCache"]=openfl_utils_IAssetCache,openfl_utils_IAssetCache.__name__="openfl.utils.IAssetCache",openfl_utils_IAssetCache.__isInterface__=!0,openfl_utils_IAssetCache.prototype={__class__:openfl_utils_IAssetCache,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var openfl_utils_AssetCache=function(){this.__enabled=!0,this.bitmapData=new haxe_ds_StringMap,this.font=new haxe_ds_StringMap,this.sound=new haxe_ds_StringMap};$hxClasses["openfl.utils.AssetCache"]=openfl_utils_AssetCache,openfl_utils_AssetCache.__name__="openfl.utils.AssetCache",openfl_utils_AssetCache.__interfaces__=[openfl_utils_IAssetCache],openfl_utils_AssetCache.prototype={clear:function(e){if(null==e)this.bitmapData=new haxe_ds_StringMap,this.font=new haxe_ds_StringMap,this.sound=new haxe_ds_StringMap;else{for(var t=haxe_ds_StringMap.keysIterator(this.bitmapData.h);t.hasNext();){var a=t.next();StringTools.startsWith(a,e)&&this.removeBitmapData(a)}for(t=haxe_ds_StringMap.keysIterator(this.font.h);t.hasNext();){a=t.next();StringTools.startsWith(a,e)&&this.removeFont(a)}for(t=haxe_ds_StringMap.keysIterator(this.sound.h);t.hasNext();){a=t.next();StringTools.startsWith(a,e)&&this.removeSound(a)}}},getBitmapData:function(e){return this.bitmapData.h[e]},getFont:function(e){return this.font.h[e]},getSound:function(e){return this.sound.h[e]},hasBitmapData:function(e){return Object.prototype.hasOwnProperty.call(this.bitmapData.h,e)},hasFont:function(e){return Object.prototype.hasOwnProperty.call(this.font.h,e)},hasSound:function(e){return Object.prototype.hasOwnProperty.call(this.sound.h,e)},removeBitmapData:function(e){var t=lime_utils_Assets.cache.image;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];t=this.bitmapData;return!!Object.prototype.hasOwnProperty.call(t.h,e)&&(delete t.h[e],!0)},removeFont:function(e){var t=lime_utils_Assets.cache.font;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];t=this.font;return!!Object.prototype.hasOwnProperty.call(t.h,e)&&(delete t.h[e],!0)},removeSound:function(e){var t=lime_utils_Assets.cache.audio;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];t=this.sound;return!!Object.prototype.hasOwnProperty.call(t.h,e)&&(delete t.h[e],!0)},setBitmapData:function(e,t){this.bitmapData.h[e]=t},setFont:function(e,t){this.font.h[e]=t},setSound:function(e,t){this.sound.h[e]=t},get_enabled:function(){return this.__enabled},set_enabled:function(e){return this.__enabled=e},__class__:openfl_utils_AssetCache,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var openfl_utils_AssetLibrary=function(){lime_utils_AssetLibrary.call(this)};$hxClasses["openfl.utils.AssetLibrary"]=openfl_utils_AssetLibrary,openfl_utils_AssetLibrary.__name__="openfl.utils.AssetLibrary",openfl_utils_AssetLibrary.fromBytes=function(e,t){return openfl_utils_AssetLibrary.fromManifest(lime_utils_AssetManifest.fromBytes(openfl_utils_ByteArray.toBytes(e),t))},openfl_utils_AssetLibrary.fromFile=function(e,t){return openfl_utils_AssetLibrary.fromManifest(lime_utils_AssetManifest.fromFile(e,t))},openfl_utils_AssetLibrary.fromManifest=function(e){var t=lime_utils_AssetLibrary.fromManifest(e);if(null!=t){if(t instanceof openfl_utils_AssetLibrary)return t;var a=new openfl_utils_AssetLibrary;return a.__proxy=t,a}return null},openfl_utils_AssetLibrary.loadFromBytes=function(e,t){return lime_utils_AssetManifest.loadFromBytes(openfl_utils_ByteArray.toBytes(e),t).then((function(e){return openfl_utils_AssetLibrary.loadFromManifest(e)}))},openfl_utils_AssetLibrary.loadFromFile=function(e,t){return lime_utils_AssetManifest.loadFromFile(e,t).then((function(e){return openfl_utils_AssetLibrary.loadFromManifest(e)}))},openfl_utils_AssetLibrary.loadFromManifest=function(e){var t=openfl_utils_AssetLibrary.fromManifest(e);return null!=t?t.load().then((function(e){return lime_app_Future.withValue(e)})):lime_app_Future.withError("Could not load asset manifest")},openfl_utils_AssetLibrary.__super__=lime_utils_AssetLibrary,openfl_utils_AssetLibrary.prototype=$extend(lime_utils_AssetLibrary.prototype,{exists:function(e,t){return null!=this.__proxy?this.__proxy.exists(e,t):lime_utils_AssetLibrary.prototype.exists.call(this,e,t)},getAsset:function(e,t){return null!=this.__proxy?this.__proxy.getAsset(e,t):lime_utils_AssetLibrary.prototype.getAsset.call(this,e,t)},getAudioBuffer:function(e){return null!=this.__proxy?this.__proxy.getAudioBuffer(e):lime_utils_AssetLibrary.prototype.getAudioBuffer.call(this,e)},getBytes:function(e){return null!=this.__proxy?this.__proxy.getBytes(e):lime_utils_AssetLibrary.prototype.getBytes.call(this,e)},getFont:function(e){return null!=this.__proxy?this.__proxy.getFont(e):lime_utils_AssetLibrary.prototype.getFont.call(this,e)},getImage:function(e){return null!=this.__proxy?this.__proxy.getImage(e):lime_utils_AssetLibrary.prototype.getImage.call(this,e)},getMovieClip:function(e){return null},getPath:function(e){return null!=this.__proxy?this.__proxy.getPath(e):lime_utils_AssetLibrary.prototype.getPath.call(this,e)},getText:function(e){return null!=this.__proxy?this.__proxy.getText(e):lime_utils_AssetLibrary.prototype.getText.call(this,e)},isLocal:function(e,t){return null!=this.__proxy?this.__proxy.isLocal(e,t):lime_utils_AssetLibrary.prototype.isLocal.call(this,e,t)},list:function(e){return null!=this.__proxy?this.__proxy.list(e):lime_utils_AssetLibrary.prototype.list.call(this,e)},loadAsset:function(e,t){return null!=this.__proxy?this.__proxy.loadAsset(e,t):lime_utils_AssetLibrary.prototype.loadAsset.call(this,e,t)},load:function(){return null!=this.__proxy?this.__proxy.load():lime_utils_AssetLibrary.prototype.load.call(this)},loadAudioBuffer:function(e){return null!=this.__proxy?this.__proxy.loadAudioBuffer(e):lime_utils_AssetLibrary.prototype.loadAudioBuffer.call(this,e)},loadBytes:function(e){return null!=this.__proxy?this.__proxy.loadBytes(e):lime_utils_AssetLibrary.prototype.loadBytes.call(this,e)},loadFont:function(e){return null!=this.__proxy?this.__proxy.loadFont(e):lime_utils_AssetLibrary.prototype.loadFont.call(this,e)},loadImage:function(e){return null!=this.__proxy?this.__proxy.loadImage(e):lime_utils_AssetLibrary.prototype.loadImage.call(this,e)},loadMovieClip:function(e){return lime_app_Future.withValue(this.getMovieClip(e))},loadText:function(e){return null!=this.__proxy?this.__proxy.loadText(e):lime_utils_AssetLibrary.prototype.loadText.call(this,e)},unload:function(){return null!=this.__proxy?void this.__proxy.unload():void lime_utils_AssetLibrary.prototype.unload.call(this)},__class__:openfl_utils_AssetLibrary});var openfl_utils_Assets=function(){};$hxClasses["openfl.utils.Assets"]=openfl_utils_Assets,openfl_utils_Assets.__name__="openfl.utils.Assets",openfl_utils_Assets.addEventListener=function(e,t,a,n,i){null==i&&(i=!1),null==n&&(n=0),null==a&&(a=!1),lime_utils_Assets.onChange.has(openfl_utils_Assets.LimeAssets_onChange)||lime_utils_Assets.onChange.add(openfl_utils_Assets.LimeAssets_onChange),openfl_utils_Assets.dispatcher.addEventListener(e,t,a,n,i)},openfl_utils_Assets.dispatchEvent=function(e){return openfl_utils_Assets.dispatcher.dispatchEvent(e)},openfl_utils_Assets.exists=function(e,t){return lime_utils_Assets.exists(e,t)},openfl_utils_Assets.getBitmapData=function(e,t){if(null==t&&(t=!0),t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.hasBitmapData(e)){var a=openfl_utils_Assets.cache.getBitmapData(e);if(openfl_utils_Assets.isValidBitmapData(a))return a}var n=lime_utils_Assets.getImage(e,!1);if(null!=n){a=openfl_display_BitmapData.fromImage(n);return t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setBitmapData(e,a),a}return null},openfl_utils_Assets.getBytes=function(e){return openfl_utils_ByteArray.fromBytes(lime_utils_Assets.getBytes(e))},openfl_utils_Assets.getFont=function(e,t){if(null==t&&(t=!0),t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.hasFont(e))return openfl_utils_Assets.cache.getFont(e);var a=lime_utils_Assets.getFont(e,!1);if(null!=a){var n=new openfl_text_Font;return n.__fromLimeFont(a),t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setFont(e,n),n}return new openfl_text_Font},openfl_utils_Assets.getLibrary=function(e){return lime_utils_Assets.getLibrary(e)},openfl_utils_Assets.getMovieClip=function(e){var t=e.substring(0,e.indexOf(":")),a=HxOverrides.substr(e,e.indexOf(":")+1,null),n=openfl_utils_Assets.getLibrary(t);if(null!=n){if(n instanceof openfl_utils_AssetLibrary){var i=n;if(i.exists(a,"MOVIE_CLIP"))return i.isLocal(a,"MOVIE_CLIP")?i.getMovieClip(a):(lime_utils_Log.error('MovieClip asset "'+e+'" exists, but only asynchronously',{fileName:"openfl/utils/Assets.hx",lineNumber:207,className:"openfl.utils.Assets",methodName:"getMovieClip"}),null)}lime_utils_Log.error('There is no MovieClip asset with an ID of "'+e+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:213,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else lime_utils_Log.error('There is no asset library named "'+t+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:217,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null},openfl_utils_Assets.getMusic=function(e,t){return null==t&&(t=!0),openfl_utils_Assets.getSound(e,t)},openfl_utils_Assets.getPath=function(e){return lime_utils_Assets.getPath(e)},openfl_utils_Assets.getSound=function(e,t){if(null==t&&(t=!0),t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.hasSound(e)){var a=openfl_utils_Assets.cache.getSound(e);if(openfl_utils_Assets.isValidSound(a))return a}var n=lime_utils_Assets.getAudioBuffer(e,!1);if(null!=n){a=openfl_media_Sound.fromAudioBuffer(n);return t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setSound(e,a),a}return null},openfl_utils_Assets.getText=function(e){return lime_utils_Assets.getText(e)},openfl_utils_Assets.hasEventListener=function(e){return openfl_utils_Assets.dispatcher.hasEventListener(e)},openfl_utils_Assets.hasLibrary=function(e){return lime_utils_Assets.hasLibrary(e)},openfl_utils_Assets.isLocal=function(e,t,a){if(null==a&&(a=!0),a&&openfl_utils_Assets.cache.get_enabled()){if(("IMAGE"==t||null==t)&&openfl_utils_Assets.cache.hasBitmapData(e))return!0;if(("FONT"==t||null==t)&&openfl_utils_Assets.cache.hasFont(e))return!0;if(("SOUND"==t||"MUSIC"==t||null==t)&&openfl_utils_Assets.cache.hasSound(e))return!0}var n=e.substring(0,e.indexOf(":")),i=HxOverrides.substr(e,e.indexOf(":")+1,null),s=openfl_utils_Assets.getLibrary(n);return null!=s&&s.isLocal(i,t)},openfl_utils_Assets.isValidBitmapData=function(e){return null!=e&&null!=e.image},openfl_utils_Assets.isValidSound=function(e){return!0},openfl_utils_Assets.list=function(e){return lime_utils_Assets.list(e)},openfl_utils_Assets.loadBitmapData=function(e,t){null==t&&(t=!0),null==t&&(t=!0);var a=new lime_app_Promise;if(t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.hasBitmapData(e)){var n=openfl_utils_Assets.cache.getBitmapData(e);if(openfl_utils_Assets.isValidBitmapData(n))return a.complete(n),a.future}return lime_utils_Assets.loadImage(e,!1).onComplete((function(n){if(null!=n){var i=openfl_display_BitmapData.fromImage(n);t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setBitmapData(e,i),a.complete(i)}else a.error('[Assets] Could not load Image "'+e+'"')})).onError($bind(a,a.error)).onProgress($bind(a,a.progress)),a.future},openfl_utils_Assets.loadBytes=function(e){var t=new lime_app_Promise,a=lime_utils_Assets.loadBytes(e);return a.onComplete((function(e){t.complete(openfl_utils_ByteArray.fromBytes(e))})),a.onProgress((function(e,a){t.progress(e,a)})),a.onError((function(e){t.error(e)})),t.future},openfl_utils_Assets.loadFont=function(e,t){null==t&&(t=!0),null==t&&(t=!0);var a=new lime_app_Promise;return t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.hasFont(e)?(a.complete(openfl_utils_Assets.cache.getFont(e)),a.future):(lime_utils_Assets.loadFont(e).onComplete((function(n){var i=new openfl_text_Font;i.__fromLimeFont(n),t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setFont(e,i),a.complete(i)})).onError($bind(a,a.error)).onProgress($bind(a,a.progress)),a.future)},openfl_utils_Assets.loadLibrary=function(e){return lime_utils_Assets.loadLibrary(e).then((function(t){var a=null;return null!=t&&(t instanceof openfl_utils_AssetLibrary?a=t:((a=new openfl_utils_AssetLibrary).__proxy=t,lime_utils_Assets.registerLibrary(e,a))),lime_app_Future.withValue(a)}))},openfl_utils_Assets.loadMusic=function(e,t){return null==t&&(t=!0),null==t&&(t=!0),new lime_app_Future((function(){return openfl_utils_Assets.getMusic(e,t)}))},openfl_utils_Assets.loadMovieClip=function(e){var t=new lime_app_Promise,a=e.substring(0,e.indexOf(":")),n=HxOverrides.substr(e,e.indexOf(":")+1,null),i=openfl_utils_Assets.getLibrary(a);if(null!=i){if(i instanceof openfl_utils_AssetLibrary){var s=i;if(s.exists(n,"MOVIE_CLIP"))return t.completeWith(s.loadMovieClip(n)),t.future}t.error('[Assets] There is no MovieClip asset with an ID of "'+e+'"')}else t.error('[Assets] There is no asset library named "'+a+'"');return t.future},openfl_utils_Assets.loadSound=function(e,t){null==t&&(t=!0),null==t&&(t=!0);var a=new lime_app_Promise;return lime_utils_Assets.loadAudioBuffer(e,t).onComplete((function(n){if(null!=n){var i=openfl_media_Sound.fromAudioBuffer(n);t&&openfl_utils_Assets.cache.get_enabled()&&openfl_utils_Assets.cache.setSound(e,i),a.complete(i)}else a.error('[Assets] Could not load Sound "'+e+'"')})).onError($bind(a,a.error)).onProgress($bind(a,a.progress)),a.future},openfl_utils_Assets.loadText=function(e){return lime_utils_Assets.loadText(e)},openfl_utils_Assets.registerLibrary=function(e,t){lime_utils_Assets.registerLibrary(e,t)},openfl_utils_Assets.removeEventListener=function(e,t,a){null==a&&(a=!1),openfl_utils_Assets.dispatcher.removeEventListener(e,t,a)},openfl_utils_Assets.resolveClass=function(e){return $hxClasses[e]},openfl_utils_Assets.resolveEnum=function(e){return $hxEnums[e]},openfl_utils_Assets.unloadLibrary=function(e){lime_utils_Assets.unloadLibrary(e)},openfl_utils_Assets.LimeAssets_onChange=function(){openfl_utils_Assets.dispatchEvent(new openfl_events_Event("change"))};var openfl_utils_ByteArray={__properties__:{set_position:"set_position",get_position:"get_position",set_length:"set_length",get_length:"get_length",get_bytesAvailable:"get_bytesAvailable",set_defaultObjectEncoding:"set_defaultObjectEncoding",get_defaultObjectEncoding:"get_defaultObjectEncoding",set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},_new:function(e){return null==e&&(e=0),new openfl_utils_ByteArrayData(e)},clear:function(e){e.clear()},compress:function(e,t){e.compress(t)},deflate:function(e){e.deflate()},fromArrayBuffer:function(e){return null==e?null:openfl_utils_ByteArrayData.fromBytes(haxe_io_Bytes.ofData(e))},fromBytes:function(e){return null==e?null:e instanceof openfl_utils_ByteArrayData?e:openfl_utils_ByteArrayData.fromBytes(e)},fromBytesData:function(e){return null==e?null:openfl_utils_ByteArrayData.fromBytes(haxe_io_Bytes.ofData(e))},fromFile:function(e){return openfl_utils_ByteArray.fromBytes(lime_utils_Bytes.fromFile(e))},fromLimeBytes:function(e){return openfl_utils_ByteArray.fromBytes(e)},get:function(e,t){return e.b[t]},inflate:function(e){e.inflate()},loadFromBytes:function(e){return lime_utils_Bytes.loadFromBytes(e).then((function(e){var t=openfl_utils_ByteArray.fromBytes(e);return lime_app_Future.withValue(t)}))},loadFromFile:function(e){return lime_utils_Bytes.loadFromFile(e).then((function(e){var t=openfl_utils_ByteArray.fromBytes(e);return lime_app_Future.withValue(t)}))},readBoolean:function(e){return e.readBoolean()},readByte:function(e){return e.readByte()},readBytes:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),e.readBytes(t,a,n)},readDouble:function(e){return e.readDouble()},readFloat:function(e){return e.readFloat()},readInt:function(e){return e.readInt()},readMultiByte:function(e,t,a){return e.readMultiByte(t,a)},readObject:function(e){return e.readObject()},readShort:function(e){return e.readShort()},readUTF:function(e){return e.readUTF()},readUTFBytes:function(e,t){return e.readUTFBytes(t)},readUnsignedByte:function(e){return e.readUnsignedByte()},readUnsignedInt:function(e){return e.readUnsignedInt()},readUnsignedShort:function(e){return e.readUnsignedShort()},set:function(e,t,a){return e.__resize(t+1),e.b[t]=255&a,a},toArrayBuffer:function(e){return e.b.bufferValue},toBytePointer:function(e){return lime_utils_BytePointer.set(openfl_utils_ByteArray.__bytePointer,e,null,null,e.position),openfl_utils_ByteArray.__bytePointer},toBytes:function(e){return e},toBytesData:function(e){return e.b.bufferValue},toLimeBytes:function(e){return e},toString:function(e){return e.toString()},uncompress:function(e,t){e.uncompress(t)},writeBoolean:function(e,t){e.writeBoolean(t)},writeByte:function(e,t){e.writeByte(t)},writeBytes:function(e,t,a,n){null==n&&(n=0),null==a&&(a=0),e.writeBytes(t,a,n)},writeDouble:function(e,t){e.writeDouble(t)},writeFloat:function(e,t){e.writeFloat(t)},writeInt:function(e,t){e.writeInt(t)},writeMultiByte:function(e,t,a){e.writeMultiByte(t,a)},writeObject:function(e,t){e.writeObject(t)},writeShort:function(e,t){e.writeShort(t)},writeUTF:function(e,t){e.writeUTF(t)},writeUTFBytes:function(e,t){e.writeUTFBytes(t)},writeUnsignedInt:function(e,t){e.writeUnsignedInt(t)},get_bytesAvailable:function(e){return e.length-e.position},get_defaultEndian:function(){return null==openfl_utils_ByteArrayData.__defaultEndian&&(lime_system_System.get_endianness()==lime_system_Endian.LITTLE_ENDIAN?openfl_utils_ByteArrayData.__defaultEndian=1:openfl_utils_ByteArrayData.__defaultEndian=0),openfl_utils_ByteArrayData.__defaultEndian},set_defaultEndian:function(e){return openfl_utils_ByteArrayData.__defaultEndian=e},get_defaultObjectEncoding:function(){return openfl_utils_ByteArrayData.defaultObjectEncoding},set_defaultObjectEncoding:function(e){return openfl_utils_ByteArrayData.defaultObjectEncoding=e},get_endian:function(e){return e.__endian},set_endian:function(e,t){return e.__endian=t},get_length:function(e){return null==e?0:e.length},set_length:function(e,t){return t>0&&(e.__resize(t),t<e.position&&(e.position=t)),e.length=t,t},get_objectEncoding:function(e){return e.objectEncoding},set_objectEncoding:function(e,t){return e.objectEncoding=t},get_position:function(e){return e.position},set_position:function(e,t){return e.position=t}},openfl_utils_IDataOutput=function(){};$hxClasses["openfl.utils.IDataOutput"]=openfl_utils_IDataOutput,openfl_utils_IDataOutput.__name__="openfl.utils.IDataOutput",openfl_utils_IDataOutput.__isInterface__=!0,openfl_utils_IDataOutput.prototype={__class__:openfl_utils_IDataOutput,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var openfl_utils_IDataInput=function(){};$hxClasses["openfl.utils.IDataInput"]=openfl_utils_IDataInput,openfl_utils_IDataInput.__name__="openfl.utils.IDataInput",openfl_utils_IDataInput.__isInterface__=!0,openfl_utils_IDataInput.prototype={__class__:openfl_utils_IDataInput,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var openfl_utils_ByteArrayData=function(e){null==e&&(e=0);var t=new haxe_io_Bytes(new ArrayBuffer(e));haxe_io_Bytes.call(this,t.b.buffer),this.__length=e,null==openfl_utils_ByteArrayData.__defaultEndian&&(lime_system_System.get_endianness()==lime_system_Endian.LITTLE_ENDIAN?openfl_utils_ByteArrayData.__defaultEndian=1:openfl_utils_ByteArrayData.__defaultEndian=0),this.__endian=openfl_utils_ByteArrayData.__defaultEndian,this.objectEncoding=openfl_utils_ByteArrayData.defaultObjectEncoding,this.position=0};$hxClasses["openfl.utils.ByteArrayData"]=openfl_utils_ByteArrayData,openfl_utils_ByteArrayData.__name__="openfl.utils.ByteArrayData",openfl_utils_ByteArrayData.__interfaces__=[openfl_utils_IDataOutput,openfl_utils_IDataInput],openfl_utils_ByteArrayData.__properties__={set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},openfl_utils_ByteArrayData.fromBytes=function(e){var t=new openfl_utils_ByteArrayData;return t.__fromBytes(e),t},openfl_utils_ByteArrayData.get_defaultEndian=function(){return null==openfl_utils_ByteArrayData.__defaultEndian&&(lime_system_System.get_endianness()==lime_system_Endian.LITTLE_ENDIAN?openfl_utils_ByteArrayData.__defaultEndian=1:openfl_utils_ByteArrayData.__defaultEndian=0),openfl_utils_ByteArrayData.__defaultEndian},openfl_utils_ByteArrayData.set_defaultEndian=function(e){return openfl_utils_ByteArrayData.__defaultEndian=e},openfl_utils_ByteArrayData.__super__=haxe_io_Bytes,openfl_utils_ByteArrayData.prototype=$extend(haxe_io_Bytes.prototype,{clear:function(){this.length=0,this.position=0},compress:function(e){if(null==e&&(e=2),this.__length>this.length){var t=this.length;this.length=this.__length;var a=new haxe_io_Bytes(new ArrayBuffer(t));a.blit(0,this,0,t),this.b=a.b,this.__length=a.length,this.data=a.data,this.length=t}var n;switch(e){case 0:n=lime_utils_Bytes.compress(this,lime_utils_CompressionAlgorithm.DEFLATE);break;case 1:n=lime_utils_Bytes.compress(this,lime_utils_CompressionAlgorithm.LZMA);break;default:n=lime_utils_Bytes.compress(this,lime_utils_CompressionAlgorithm.ZLIB)}null!=n&&(this.b=n.b,this.__length=n.length,this.data=n.data,this.length=this.__length,this.position=this.length)},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw haxe_Exception.thrown(new openfl_errors_EOFError)},readByte:function(){var e=this.readUnsignedByte();return 0!=(128&e)?e-256:e},readBytes:function(e,t,a){if(null==a&&(a=0),null==t&&(t=0),0==a&&(a=this.length-this.position),this.position+a>this.length)throw haxe_Exception.thrown(new openfl_errors_EOFError);e.length<t+a&&e.__resize(t+a),e.blit(t,this,this.position,a),this.position+=a},readDouble:function(){if(1==this.__endian){if(this.position+8>this.length)throw haxe_Exception.thrown(new openfl_errors_EOFError);return this.position+=8,this.getDouble(this.position-8)}var e=this.readInt(),t=this.readInt();return haxe_io_FPHelper.i64ToDouble(t,e)},readFloat:function(){if(1==this.__endian){if(this.position+4>this.length)throw haxe_Exception.thrown(new openfl_errors_EOFError);return this.position+=4,this.getFloat(this.position-4)}return haxe_io_FPHelper.i32ToFloat(this.readInt())},readInt:function(){var e=this.readUnsignedByte(),t=this.readUnsignedByte(),a=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|a<<16|t<<8|e:e<<24|t<<16|a<<8|n},readMultiByte:function(e,t){return this.readUTFBytes(e)},readObject:function(){switch(this.objectEncoding){case 10:var e=this.readUTF();return haxe_Unserializer.run(e);case 12:e=this.readUTF();return JSON.parse(e);default:return null}},readShort:function(){var e,t=this.readUnsignedByte(),a=this.readUnsignedByte();return 0!=(32768&(e=1==this.__endian?a<<8|t:t<<8|a))?e-65536:e},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw haxe_Exception.thrown(new openfl_errors_EOFError)},readUnsignedInt:function(){var e=this.readUnsignedByte(),t=this.readUnsignedByte(),a=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|a<<16|t<<8|e:e<<24|t<<16|a<<8|n},readUnsignedShort:function(){var e=this.readUnsignedByte(),t=this.readUnsignedByte();return 1==this.__endian?(t<<8)+e:e<<8|t},readUTF:function(){var e=this.readUnsignedShort();return this.readUTFBytes(e)},readUTFBytes:function(e){if(this.position+e>this.length)throw haxe_Exception.thrown(new openfl_errors_EOFError);return this.position+=e,this.getString(this.position-e,e)},uncompress:function(e){if(null==e&&(e=2),this.__length>this.length){var t=this.length;this.length=this.__length;var a=new haxe_io_Bytes(new ArrayBuffer(t));a.blit(0,this,0,t),this.b=a.b,this.__length=a.length,this.data=a.data,this.length=t}var n;switch(e){case 0:n=lime_utils_Bytes.decompress(this,lime_utils_CompressionAlgorithm.DEFLATE);break;case 1:n=lime_utils_Bytes.decompress(this,lime_utils_CompressionAlgorithm.LZMA);break;default:n=lime_utils_Bytes.decompress(this,lime_utils_CompressionAlgorithm.ZLIB)}null!=n&&(this.b=n.b,this.__length=n.length,this.data=n.data,this.length=this.__length),this.position=0},writeBoolean:function(e){this.writeByte(e?1:0)},writeByte:function(e){this.__resize(this.position+1),this.b[this.position++]=255&e},writeBytes:function(e,t,a){null==a&&(a=0),null==t&&(t=0),0!=openfl_utils_ByteArray.get_length(e)&&(0==a&&(a=openfl_utils_ByteArray.get_length(e)-t),this.__resize(this.position+a),this.blit(this.position,e,t,a),this.position=this.position+a)},writeDouble:function(e){var t=haxe_io_FPHelper.doubleToI64(e);1==this.__endian?(this.writeInt(t.low),this.writeInt(t.high)):(this.writeInt(t.high),this.writeInt(t.low))},writeFloat:function(e){if(1==this.__endian)this.__resize(this.position+4),this.setFloat(this.position,e),this.position+=4;else{var t=haxe_io_FPHelper.floatToI32(e);this.writeInt(t)}},writeInt:function(e){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&e,this.b[this.position++]=255&e>>8,this.b[this.position++]=255&e>>16,this.b[this.position++]=255&e>>24):(this.b[this.position++]=255&e>>24,this.b[this.position++]=255&e>>16,this.b[this.position++]=255&e>>8,this.b[this.position++]=255&e)},writeMultiByte:function(e,t){this.writeUTFBytes(e)},writeObject:function(e){switch(this.objectEncoding){case 10:var t=haxe_Serializer.run(e);this.writeUTF(t);break;case 12:t=JSON.stringify(e);this.writeUTF(t);break;default:return}},writeShort:function(e){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&e,this.b[this.position++]=e>>8&255):(this.b[this.position++]=e>>8&255,this.b[this.position++]=255&e)},writeUnsignedInt:function(e){this.writeInt(e)},writeUTF:function(e){var t=haxe_io_Bytes.ofString(e);this.writeShort(t.length),this.writeBytes(openfl_utils_ByteArray.fromBytes(t))},writeUTFBytes:function(e){var t=haxe_io_Bytes.ofString(e);this.writeBytes(openfl_utils_ByteArray.fromBytes(t))},__fromBytes:function(e){this.b=e.b,this.__length=e.length,this.data=e.data,this.length=e.length},__resize:function(e){if(e>this.__length){var t=new haxe_io_Bytes(new ArrayBuffer(3*(e+1)>>1));if(this.__length>0){var a=this.length;this.length=this.__length,t.blit(0,this,0,this.__length),this.length=a}this.b=t.b,this.__length=t.length,this.data=t.data}this.length<e&&(this.length=e)},__setData:function(e){this.b=e.b,this.__length=e.length,this.data=e.data},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.__endian},set_endian:function(e){return this.__endian=e},__class__:openfl_utils_ByteArrayData,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var openfl_utils_CompressionAlgorithm={fromString:function(e){switch(e){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},toString:function(e){switch(e){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}}},openfl_utils_Dictionary={exists:function(e,t){return e.exists(t)},get:function(e,t){return e.get(t)},keyValueIterator:function(e){return e.keyValueIterator()},remove:function(e,t){return e.remove(t)},set:function(e,t,a){return e.set(t,a),a},iterator:function(e){return e.keys()},each:function(e){return e.iterator()},toStringMap:function(e,t){return new haxe_ds_StringMap},toIntMap:function(e,t){return new haxe_ds_IntMap},toFloatMap:function(e,t){return new openfl_utils__$Dictionary_FloatMap},toEnumValueMapMap:function(e,t){return new haxe_ds_EnumValueMap},toObjectMap:function(e,t){return new haxe_ds_ObjectMap},toUtilsObjectMap:function(e,t){return new openfl_utils__$Dictionary_UtilsObjectMap},toClassMap:function(e,t){return new openfl_utils__$Dictionary_ClassMap},fromStringMap:function(e){return e},fromIntMap:function(e){return e},fromFloatMap:function(e){return e},fromObjectMap:function(e){return e},fromUtilsObjectMap:function(e){return e},fromClassMap:function(e){return e}},openfl_utils__$Dictionary_ClassMap=function(){this.types=new haxe_ds_StringMap,this.values=new haxe_ds_StringMap};$hxClasses["openfl.utils._Dictionary.ClassMap"]=openfl_utils__$Dictionary_ClassMap,openfl_utils__$Dictionary_ClassMap.__name__="openfl.utils._Dictionary.ClassMap",openfl_utils__$Dictionary_ClassMap.__interfaces__=[haxe_IMap],openfl_utils__$Dictionary_ClassMap.prototype={clear:function(){this.types.h=Object.create(null),this.values.h=Object.create(null)},copy:function(){for(var e=new openfl_utils__$Dictionary_ClassMap,t=this.keys();t.hasNext();){var a=t.next();e.set(a,this.get(a))}return e},exists:function(e){var t=this.types,a=e.__name__;return Object.prototype.hasOwnProperty.call(t.h,a)},get:function(e){var t=this.values,a=e.__name__;return t.h[a]},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},keys:function(){return haxe_ds_StringMap.valueIterator(this.types.h)},iterator:function(){return haxe_ds_StringMap.valueIterator(this.values.h)},remove:function(e){var t,a=e.__name__,n=this.types;if(Object.prototype.hasOwnProperty.call(n.h,a)?(delete n.h[a],t=!0):t=!1,t)return!0;n=this.values;return!!Object.prototype.hasOwnProperty.call(n.h,a)&&(delete n.h[a],!0)},set:function(e,t){var a=e.__name__;this.types.h[a]=e,this.values.h[a]=t},toString:function(){return haxe_ds_StringMap.stringify(this.values.h)},__class__:openfl_utils__$Dictionary_ClassMap};var openfl_utils__$Dictionary_FloatMap=function(){this.floatKeys=[],this.values=[]};$hxClasses["openfl.utils._Dictionary.FloatMap"]=openfl_utils__$Dictionary_FloatMap,openfl_utils__$Dictionary_FloatMap.__name__="openfl.utils._Dictionary.FloatMap",openfl_utils__$Dictionary_FloatMap.__interfaces__=[haxe_IMap],openfl_utils__$Dictionary_FloatMap.prototype={clear:function(){this.floatKeys=[],this.values=[]},copy:function(){for(var e=new openfl_utils__$Dictionary_FloatMap,t=this.keys();t.hasNext();){var a=t.next();e.set(a,this.get(a))}return e},exists:function(e){return this.indexOf(e)>-1},get:function(e){var t=this.indexOf(e);return t>-1?this.values[t]:null},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},keys:function(){return new haxe_iterators_ArrayIterator(this.floatKeys.slice())},iterator:function(){return new haxe_iterators_ArrayIterator(this.values.slice())},remove:function(e){var t=this.indexOf(e);return t>-1&&(this.floatKeys.splice(t,1),this.values.splice(t,1),!0)},set:function(e,t){this.insertSorted(e,t)},indexOf:function(e){var t=this.floatKeys.length,a=0,n=t-1;if(0==t)return-1;for(var i=0;a<n;){if(i=Math.floor((a+n)/2),this.floatKeys[i]==e)return i;this.floatKeys[i]>e?n=i-1:a=i+1}return this.floatKeys[a]==e?a:-1},insertSorted:function(e,t){var a=this.floatKeys.length,n=0,i=a-1;if(0==a)return this.floatKeys.push(e),void this.values.push(t);for(var s=0;n<i;){if(s=Math.floor((n+i)/2),this.floatKeys[s]==e)return void(this.values[s]=t);this.floatKeys[s]>e?i=s-1:n=s+1}this.floatKeys[n]>e?(this.floatKeys.splice(n,0,e),this.values.splice(n,0,t)):this.floatKeys[n]<e?(this.floatKeys.splice(n+1,0,e),this.values.splice(n+1,0,t)):this.values[n]=t},toString:function(){return this.values.toString()},__class__:openfl_utils__$Dictionary_FloatMap};var openfl_utils__$Dictionary_UtilsObjectMap=function(){this.map=new haxe_ds_ObjectMap};$hxClasses["openfl.utils._Dictionary.UtilsObjectMap"]=openfl_utils__$Dictionary_UtilsObjectMap,openfl_utils__$Dictionary_UtilsObjectMap.__name__="openfl.utils._Dictionary.UtilsObjectMap",openfl_utils__$Dictionary_UtilsObjectMap.__interfaces__=[haxe_IMap],openfl_utils__$Dictionary_UtilsObjectMap.prototype={clear:function(){this.map.h={__keys__:{}}},copy:function(){for(var e=new openfl_utils__$Dictionary_UtilsObjectMap,t=this.keys();t.hasNext();){var a=t.next();e.set(a,this.get(a))}return e},exists:function(e){return null!=this.map.h.__keys__[e.__id__]},get:function(e){return this.map.h[e.__id__]},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},keys:function(){return this.map.keys()},iterator:function(){return this.map.iterator()},remove:function(e){return this.map.remove(e)},set:function(e,t){this.map.set(e,t)},toString:function(){return this.map.toString()},__class__:openfl_utils__$Dictionary_UtilsObjectMap};var openfl_utils_Endian={fromLimeEndian:function(e){switch(e._hx_index){case 0:return 1;case 1:return 0}},fromString:function(e){switch(e){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},toLimeEndian:function(e){switch(e){case 0:return lime_system_Endian.BIG_ENDIAN;case 1:return lime_system_Endian.LITTLE_ENDIAN;default:return null}},toString:function(e){switch(e){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}}},openfl_utils_Object={_new:function(){return{}},hasOwnProperty:function(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)},isPrototypeOf:function(e,t){for(var a=js_Boot.getClass(e);null!=a;){if(a==t)return!0;a=a.__super__}return!1},iterator:function(e){var t=Reflect.fields(e);return null==t&&(t=[]),new haxe_iterators_ArrayIterator(t)},propertyIsEnumerable:function(e,t){return!(null==e||!Object.prototype.hasOwnProperty.call(e,t))&&js_Boot.__implements(Reflect.field(e,t),haxe_lang_Iterable)},toLocaleString:function(e){return Std.string(e)},toString:function(e){return Std.string(e)},valueOf:function(e){return e},__fieldRead:function(e,t){return Reflect.getProperty(e,t)},__fieldWrite:function(e,t,a){return Reflect.setProperty(e,t,a),a},__get:function(e,t){return Reflect.getProperty(e,t)},__set:function(e,t,a){return Reflect.setProperty(e,t,a),a}},haxe_lang_Iterator=function(){};$hxClasses["haxe.lang.Iterator"]=haxe_lang_Iterator,haxe_lang_Iterator.__name__="haxe.lang.Iterator",haxe_lang_Iterator.__isInterface__=!0,haxe_lang_Iterator.prototype={__class__:haxe_lang_Iterator};var haxe_lang_Iterable=function(){};$hxClasses["haxe.lang.Iterable"]=haxe_lang_Iterable,haxe_lang_Iterable.__name__="haxe.lang.Iterable",haxe_lang_Iterable.__isInterface__=!0,haxe_lang_Iterable.prototype={__class__:haxe_lang_Iterable};var openfl_utils__$internal_Lib=function(){};$hxClasses["openfl.utils._internal.Lib"]=openfl_utils__$internal_Lib,openfl_utils__$internal_Lib.__name__="openfl.utils._internal.Lib",openfl_utils__$internal_Lib.notImplemented=function(e){var t=e.className+"."+e.methodName;Object.prototype.hasOwnProperty.call(openfl_utils__$internal_Lib.__sentWarnings.h,t)||(openfl_utils__$internal_Lib.__sentWarnings.h[t]=!0,lime_utils_Log.warn(e.methodName+" is not implemented",e))};var openfl_utils__$internal_TouchData=function(){this.rollOutStack=[]};function $getIterator(e){return e instanceof Array?new haxe_iterators_ArrayIterator(e):e.iterator()}function $bind(e,t){return null==t?null:(null==t.__id__&&(t.__id__=$global.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:a=e.hx__closures__[t.__id__],null==a&&(a=t.bind(e),e.hx__closures__[t.__id__]=a),a);var a}$hxClasses["openfl.utils._internal.TouchData"]=openfl_utils__$internal_TouchData,openfl_utils__$internal_TouchData.__name__="openfl.utils._internal.TouchData",openfl_utils__$internal_TouchData.prototype={reset:function(){this.touch=null,this.touchDownTarget=null,this.touchOverTarget=null,this.rollOutStack.splice(0,this.rollOutStack.length)},__class__:openfl_utils__$internal_TouchData},$global.$haxeUID|=0;var _init=lime__$internal_backend_html5_HTML5Application,init=lime_app_Application;"undefined"!=typeof performance&&"function"==typeof performance.now&&(HxOverrides.now=performance.now.bind(performance)),$hxClasses.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=$hxClasses.String=String,String.__name__="String",$hxClasses.Array=Array,Array.__name__="Array",Date.prototype.__class__=$hxClasses.Date=Date,Date.__name__="Date";var Int={},Dynamic={},Float=Number,Bool=Boolean,Class={},Enum={};haxe_ds_ObjectMap.count=0,js_Boot.__toStr={}.toString,null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=js_lib__$ArrayBuffer_ArrayBufferCompat.sliceImpl);var array=null,vector=null,view=null,buffer=null,len=null,this1=new Uint32Array(256);lime_math_RGBA.__alpha16=this1;for(var _g=0;_g<256;){var i=_g++;lime_math_RGBA.__alpha16[i]=Math.ceil(257.00392156862745*i)}var array=null,vector=null,view=null,buffer=null,len=null,this1=new Uint8Array(511);lime_math_RGBA.__clamp=this1;for(var _g=0;_g<255;){var i=_g++;lime_math_RGBA.__clamp[i]=i}for(var _g=255,_g1=511,h,x,y;_g<_g1;){var i=_g++;lime_math_RGBA.__clamp[i]=255}lime_system_CFFI.available=!1,lime_system_CFFI.enabled=!1,lime_utils_Log.level=5,"undefined"==typeof console&&(console={}),null==console.log&&(console.log=function(){}),openfl_display__$internal_CanvasGraphics.hitTestCanvas="undefined"!=typeof window?window.document.createElement("canvas"):null,openfl_display__$internal_CanvasGraphics.hitTestContext="undefined"!=typeof window?openfl_display__$internal_CanvasGraphics.hitTestCanvas.getContext("2d"):null,openfl_ui_Multitouch.maxTouchPoints=2,openfl_ui_Multitouch.supportedGestures=null,openfl_ui_Multitouch.supportsGestureEvents=!1,openfl_ui_Multitouch.inputMode=2,openfl_text_Font.__fontByName=new haxe_ds_StringMap,openfl_text_Font.__registeredFonts=[],Xml.Element=0,Xml.PCData=1,Xml.CData=2,Xml.Comment=3,Xml.DocType=4,Xml.ProcessingInstruction=5,Xml.Document=6,extension_ga_GameAnalytics.sdk_version_ios="ios 3.2.1",extension_ga_GameAnalytics.sdk_version_android="android 4.0.0",extension_ga_GameAnalytics.sdk_version_javascript="javascript 3.1.2",extension_ga_GameAnalytics.sdk_name="openfl",extension_ga_GameAnalytics.sdk_version="3.0.0",extension_ga_GameAnalytics.ready=!1,haxe_Serializer.USE_CACHE=!1,haxe_Serializer.USE_ENUM_INDEX=!1,haxe_Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_Template.splitter=new EReg('(::[A-Za-z0-9_ ()&|!+=/><*."-]+::|\\$\\$([A-Za-z0-9_-]+)\\()',""),haxe_Template.expr_splitter=new EReg('(\\(|\\)|[ \r\n\t]*"[^"]*"[ \r\n\t]*|[!+=/><*.&|-]+)',""),haxe_Template.expr_trim=new EReg("^[ ]*([^ ]+)[ ]*$",""),haxe_Template.expr_int=new EReg("^[0-9]+$",""),haxe_Template.expr_float=new EReg("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$",""),haxe_Template.globals={},haxe_Template.hxKeepArrayIterator=new haxe_iterators_ArrayIterator([]),haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_crypto_Base64.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",haxe_crypto_Base64.BYTES=haxe_io_Bytes.ofString(haxe_crypto_Base64.CHARS),haxe_io_FPHelper.i64tmp=new haxe__$Int64__$_$_$Int64(0,0),haxe_io_FPHelper.helper=new DataView(new ArrayBuffer(8)),haxe_xml_Parser.escapes=(h=new haxe_ds_StringMap,h.h.lt="<",h.h.gt=">",h.h.amp="&",h.h.quot='"',h.h.apos="'",h),haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],haxe_zip_InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],haxe_zip_InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],haxe_zip_InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],openfl_Vector.__meta__={statics:{toNullVector:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_DisplayObject.__meta__={fields:{__cairo:{SuppressWarnings:["checkstyle:Dynamic"]},addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]},removeEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_DisplayObject.__broadcastEvents=new haxe_ds_StringMap,openfl_display_DisplayObject.__instanceCount=0,openfl_display_DisplayObject.__tempStack=new lime_utils_ObjectPool((function(){return openfl_Vector.toObjectVector(null)}),(function(e){e.set_length(0)})),haxepunk_Entity._EMPTY=new haxepunk_Entity,haxepunk_Entity._point={x:0,y:0},haxepunk_Graphic.smoothDefault=!0,haxepunk_Graphic.pixelSnappingDefault=!1,haxepunk_HXP.VERSION="4.0.2",haxepunk_HXP.windowWidth=0,haxepunk_HXP.windowHeight=0,haxepunk_HXP.frameRate=0,haxepunk_HXP.rate=1,haxepunk_HXP.defaultFont="font/monofonto",haxepunk_HXP.tweener=new haxepunk_Tweener,haxepunk_HXP.focused=!1,haxepunk_HXP.orientations=[],haxepunk_HXP.needsResize=!1,haxepunk_HXP.volume=1,haxepunk_HXP._pan=0,haxepunk_HXP.point={x:0,y:0},haxepunk_HXP.point2={x:0,y:0},haxepunk_HXP.zeroCamera=new haxepunk_Camera,haxepunk_HXP.rect=new haxepunk_math_Rectangle,openfl_display_DefaultPreloader.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},haxepunk_Scene.drawContext=new haxepunk_utils_DrawContext,haxepunk_Scene._pooledEntityLists=[],haxepunk_Sfx._sounds=new haxe_ds_StringMap,haxepunk_Sfx._typePlaying=new haxe_ds_StringMap,haxepunk_Sfx._typeTransforms=new haxe_ds_StringMap,haxepunk__$internal_KeyInput._nativeCorrection=new haxe_ds_StringMap,haxepunk_assets_AssetCache.global=new haxepunk_assets_AssetCache("global"),haxepunk_assets_AssetCache.active=[haxepunk_assets_AssetCache.global],haxepunk_assets_AssetCache.customLoaders=new haxe_ds_StringMap,haxepunk_debug_Console.SAMPLE_TIME=.3333333333333333,haxepunk_debug_Console.DATA_SIZE=15,haxepunk_debug_Console.CAMERA_PAN_PER_SECOND=256,haxepunk_debug_Console.MIN_DRAG=8,haxepunk_debug_LogPanel.EXPAND_PER_SECOND=2048,haxepunk_debug_LogPanel.LOG_LINES=10,haxepunk_debug_LogPanel.MAX_HEIGHT=216,haxepunk_debug_LogPanel.MIN_HEIGHT=48,haxepunk_graphics_atlas_AtlasData._uniqueId=0,haxepunk_graphics_atlas_AtlasData._rect=new haxepunk_math_Rectangle,haxepunk_graphics_atlas_AtlasResolutions._rect=new haxepunk_math_Rectangle,haxepunk_graphics_atlas_AtlasResolutions._point={x:0,y:0},haxepunk_graphics_hardware_DrawCommand._pool=haxepunk_graphics_hardware_DrawCommand._prePopulatePool(32,4),haxepunk_graphics_hardware_DrawCommandBatch.maxTriangleChecks=128,haxepunk_graphics_hardware_DrawCommandBatch._bounds=new haxepunk_math_Rectangle,haxepunk_graphics_hardware_HardwareRenderer.drawCallLimit=-1,haxepunk_graphics_hardware_HardwareRenderer.UNIFORM_MATRIX="uMatrix",haxepunk_graphics_hardware_HardwareRenderer.triangleCount=0,haxepunk_graphics_hardware_HardwareRenderer.drawCallCount=0,haxepunk_graphics_hardware_HardwareRenderer._tracking=!0,haxepunk_graphics_hardware_RenderBuffer.INITIAL_SIZE=100,openfl_geom_Point.__pool=new lime_utils_ObjectPool((function(){return new openfl_geom_Point}),(function(e){e.setTo(0,0)})),haxepunk_graphics_hardware_Texture._zero=new openfl_geom_Point(0,0),haxepunk_graphics_shader_Shader.idSeq=0,haxepunk_graphics_shader_Shader._attribs=[],haxepunk_graphics_shader_ColorShader.VERTEX_SHADER="// HaxePunk color vertex shader\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec4 aPosition;\nattribute vec4 aColor;\nvarying vec4 vColor;\nuniform mat4 uMatrix;\n\nvoid main(void) {\n\tvColor = vec4(aColor.bgr * aColor.a, aColor.a);\n\tgl_Position = uMatrix * aPosition;\n}",haxepunk_graphics_shader_ColorShader.FRAGMENT_SHADER="// HaxePunk color fragment shader\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}",haxepunk_graphics_shader_SceneShader.DEFAULT_VERTEX_SHADER="\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = aPosition;\n}",haxepunk_graphics_shader_SceneShader.DEFAULT_FRAGMENT_SHADER="\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec2 vTexCoord;\nuniform sampler2D uImage0;\nuniform vec2 uResolution;\n\nvoid main () {\n\tgl_FragColor = texture2D(uImage0, vTexCoord);\n}",haxepunk_graphics_shader_SceneShader._vertices=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,-1,1,0,1,1,1,1,-1,1,0,1],haxepunk_graphics_shader_SceneShader._lastX=0,haxepunk_graphics_shader_SceneShader._lastY=0,haxepunk_graphics_shader_SceneShader._lastSx=0,haxepunk_graphics_shader_SceneShader._lastSy=0,haxepunk_graphics_shader_TextureShader.VERTEX_SHADER="// HaxePunk texture vertex shader\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nattribute vec4 aColor;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nuniform mat4 uMatrix;\n\nvoid main(void) {\n\tvColor = vec4(aColor.bgr * aColor.a, aColor.a);\n\tvTexCoord = aTexCoord;\n\tgl_Position = uMatrix * aPosition;\n}",haxepunk_graphics_shader_TextureShader.FRAGMENT_SHADER="// HaxePunk texture fragment shader\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\nuniform sampler2D uImage0;\n\nvoid main(void) {\n\tvec4 color = texture2D(uImage0, vTexCoord);\n\tif (color.a == 0.0) {\n\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n\t} else {\n\t\tgl_FragColor = color * vColor;\n\t}\n}",haxepunk_graphics_text_BitmapFontAtlas._DEFAULT_GLYPHS=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",haxepunk_graphics_text_AlignType.Left=0,haxepunk_graphics_text_AlignType.Center=1,haxepunk_graphics_text_AlignType.Right=2,haxepunk_graphics_text_BitmapText.FORMAT_TAG_RE=new EReg('<(([A-Za-z_-]+)( ([a-zA-Z-_]+)="([^"]*)")?/?|(/[A-Za-z_-]+))>',""),haxepunk_graphics_text_BitmapText.formatTags=function(e){var t=new haxe_ds_StringMap;return t.h.br=[haxepunk_graphics_text_TextOpcode.NewLine(0,0,0)],t.h.left=[haxepunk_graphics_text_TextOpcode.Align(0)],t.h["/left"]=[haxepunk_graphics_text_TextOpcode.Align(0)],t.h.right=[haxepunk_graphics_text_TextOpcode.Align(2)],t.h["/right"]=[haxepunk_graphics_text_TextOpcode.Align(0)],t.h.center=[haxepunk_graphics_text_TextOpcode.Align(1)],t.h["/center"]=[haxepunk_graphics_text_TextOpcode.Align(0)],t}(),haxepunk_graphics_text_BitmapText.dynamicTags=function(e){var t=new haxe_ds_StringMap;return t.h.img=haxepunk_graphics_text_BitmapText.dynamicImage,t}(),haxepunk_graphics_text_BitmapText._colorStack=[],haxepunk_graphics_text_BitmapText._alphaStack=[],haxepunk_graphics_text_BitmapText._scaleStack=[],haxepunk_graphics_text_BitmapText._fontStack=[],haxepunk_graphics_text_BitmapText._sizeStack=[],haxepunk_graphics_text_BitmapText._word=[],haxepunk_graphics_text_BitmapText._customStack=[],haxepunk_graphics_text_BitmapText._renderData=new haxepunk_graphics_text_RenderData,haxepunk_graphics_text_BitmapText._imgArray=[],haxepunk_input_Gamepad.deadZone=.15,haxepunk_input_Gamepad.gamepads=new haxe_ds_IntMap,haxepunk_input_Gamepad.onConnect=new haxepunk_Signal1,haxepunk_input_Gamepad.onDisconnect=new haxepunk_Signal1,haxepunk_input_Gamepad.gamepadCount=0,haxepunk_input_Gesture.TAP=1,haxepunk_input_Gesture.DOUBLE_TAP=2,haxepunk_input_Gesture.LONG_PRESS=3,haxepunk_input_Gesture.MOVE=4,haxepunk_input_Gesture.PINCH=5,haxepunk_input_Gesture.TWO_FINGER_TAP=6,haxepunk_input_Gesture.longPressTime=.5,haxepunk_input_Gesture.doubleTapTime=.5,haxepunk_input_Gesture.deadZone=5,haxepunk_input_Gesture.enabled=!1,haxepunk_input_Gesture.gestures=new haxe_ds_IntMap,haxepunk_input_Gesture._lastTap=0,haxepunk_input_Mouse.mouseDown=!1,haxepunk_input_Mouse.mouseUp=!1,haxepunk_input_Mouse.mousePressed=!1,haxepunk_input_Mouse.mouseReleased=!1,haxepunk_input_Mouse.rightMouseDown=!1,haxepunk_input_Mouse.rightMouseUp=!1,haxepunk_input_Mouse.rightMousePressed=!1,haxepunk_input_Mouse.rightMouseReleased=!1,haxepunk_input_Mouse.middleMouseDown=!1,haxepunk_input_Mouse.middleMouseUp=!1,haxepunk_input_Mouse.middleMousePressed=!1,haxepunk_input_Mouse.middleMouseReleased=!1,haxepunk_input_Mouse.mouseWheel=!1,haxepunk_input_Mouse._control=new haxe_ds_StringMap,haxepunk_input_Mouse._buttonMap=new haxe_ds_IntMap,haxepunk_input_Mouse._mouseWheelDelta=0,haxepunk_input_Mouse._mouseOnScreen=!0,haxepunk_input_Input.PRESS="press",haxepunk_input_Input.RELEASE="release",haxepunk_input_Input.handlers=[haxepunk_input_Handler,haxepunk_input_Mouse],haxepunk_input_Input.multiTouchSupported=!1,haxepunk_input_Input._signals=[],haxepunk_input_Input._enabled=!1,haxepunk_input_Key.keyString="",haxepunk_input_Key.ANY=-1,haxepunk_input_Key.LEFT=37,haxepunk_input_Key.UP=38,haxepunk_input_Key.RIGHT=39,haxepunk_input_Key.DOWN=40,haxepunk_input_Key.ENTER=13,haxepunk_input_Key.COMMAND=15,haxepunk_input_Key.CONTROL=17,haxepunk_input_Key.SPACE=32,haxepunk_input_Key.SHIFT=16,haxepunk_input_Key.BACKSPACE=8,haxepunk_input_Key.CAPS_LOCK=20,haxepunk_input_Key.DELETE=46,haxepunk_input_Key.END=35,haxepunk_input_Key.ESCAPE=27,haxepunk_input_Key.HOME=36,haxepunk_input_Key.INSERT=45,haxepunk_input_Key.TAB=9,haxepunk_input_Key.PAGE_DOWN=34,haxepunk_input_Key.PAGE_UP=33,haxepunk_input_Key.LEFT_SQUARE_BRACKET=219,haxepunk_input_Key.RIGHT_SQUARE_BRACKET=221,haxepunk_input_Key.TILDE=192,haxepunk_input_Key.A=65,haxepunk_input_Key.B=66,haxepunk_input_Key.C=67,haxepunk_input_Key.D=68,haxepunk_input_Key.E=69,haxepunk_input_Key.F=70,haxepunk_input_Key.G=71,haxepunk_input_Key.H=72,haxepunk_input_Key.I=73,haxepunk_input_Key.J=74,haxepunk_input_Key.K=75,haxepunk_input_Key.L=76,haxepunk_input_Key.M=77,haxepunk_input_Key.N=78,haxepunk_input_Key.O=79,haxepunk_input_Key.P=80,haxepunk_input_Key.Q=81,haxepunk_input_Key.R=82,haxepunk_input_Key.S=83,haxepunk_input_Key.T=84,haxepunk_input_Key.U=85,haxepunk_input_Key.V=86,haxepunk_input_Key.W=87,haxepunk_input_Key.X=88,haxepunk_input_Key.Y=89,haxepunk_input_Key.Z=90,haxepunk_input_Key.F1=112,haxepunk_input_Key.F2=113,haxepunk_input_Key.F3=114,haxepunk_input_Key.F4=115,haxepunk_input_Key.F5=116,haxepunk_input_Key.F6=117,haxepunk_input_Key.F7=118,haxepunk_input_Key.F8=119,haxepunk_input_Key.F9=120,haxepunk_input_Key.F10=121,haxepunk_input_Key.F11=122,haxepunk_input_Key.F12=123,haxepunk_input_Key.F13=124,haxepunk_input_Key.F14=125,haxepunk_input_Key.F15=126,haxepunk_input_Key.DIGIT_0=48,haxepunk_input_Key.DIGIT_1=49,haxepunk_input_Key.DIGIT_2=50,haxepunk_input_Key.DIGIT_3=51,haxepunk_input_Key.DIGIT_4=52,haxepunk_input_Key.DIGIT_5=53,haxepunk_input_Key.DIGIT_6=54,haxepunk_input_Key.DIGIT_7=55,haxepunk_input_Key.DIGIT_8=56,haxepunk_input_Key.DIGIT_9=57,haxepunk_input_Key.NUMPAD_0=96,haxepunk_input_Key.NUMPAD_1=97,haxepunk_input_Key.NUMPAD_2=98,haxepunk_input_Key.NUMPAD_3=99,haxepunk_input_Key.NUMPAD_4=100,haxepunk_input_Key.NUMPAD_5=101,haxepunk_input_Key.NUMPAD_6=102,haxepunk_input_Key.NUMPAD_7=103,haxepunk_input_Key.NUMPAD_8=104,haxepunk_input_Key.NUMPAD_9=105,haxepunk_input_Key.NUMPAD_ADD=107,haxepunk_input_Key.NUMPAD_DECIMAL=110,haxepunk_input_Key.NUMPAD_DIVIDE=111,haxepunk_input_Key.NUMPAD_ENTER=108,haxepunk_input_Key.NUMPAD_MULTIPLY=106,haxepunk_input_Key.NUMPAD_SUBTRACT=109,haxepunk_input_Key.kKeyStringMax=100,haxepunk_input_Key._key=new haxe_ds_IntMap,haxepunk_input_Key._keyNum=0,haxepunk_input_Key._press=[],haxepunk_input_Key._pressNum=0,haxepunk_input_Key._release=[],haxepunk_input_Key._releaseNum=0,haxepunk_input_Key._control=new haxe_ds_StringMap,haxepunk_input_Key._keyMap=new haxe_ds_IntMap,haxepunk_input_Touch._touches=new haxe_ds_IntMap,haxepunk_input_Touch._touchOrder=[],haxepunk_input_gamepad_GamepadAxis.all=[2,5,0,1,3,4],haxepunk_input_gamepad_GamepadAxis.LeftTrigger=2,haxepunk_input_gamepad_GamepadAxis.RightTrigger=5,haxepunk_input_gamepad_GamepadAxis.LeftX=0,haxepunk_input_gamepad_GamepadAxis.LeftY=1,haxepunk_input_gamepad_GamepadAxis.RightX=3,haxepunk_input_gamepad_GamepadAxis.RightY=4,haxepunk_input_gamepad_GamepadButton.all=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],haxepunk_input_gamepad_GamepadButton.BtnA=0,haxepunk_input_gamepad_GamepadButton.BtnB=1,haxepunk_input_gamepad_GamepadButton.BtnX=2,haxepunk_input_gamepad_GamepadButton.BtnY=3,haxepunk_input_gamepad_GamepadButton.LeftShoulder=4,haxepunk_input_gamepad_GamepadButton.RightShoulder=5,haxepunk_input_gamepad_GamepadButton.Back=6,haxepunk_input_gamepad_GamepadButton.Start=7,haxepunk_input_gamepad_GamepadButton.LeftStick=8,haxepunk_input_gamepad_GamepadButton.RightStick=9,haxepunk_input_gamepad_GamepadButton.Guide=10,haxepunk_input_gamepad_GamepadButton.DpadUp=11,haxepunk_input_gamepad_GamepadButton.DpadDown=12,haxepunk_input_gamepad_GamepadButton.DpadLeft=13,haxepunk_input_gamepad_GamepadButton.DpadRight=14,haxepunk_input_gamepad_GamepadType.controllers=new haxe_ds_StringMap,haxepunk_masks_Polygon.EPSILON=1e-9,haxepunk_masks_Polygon.firstProj=new haxepunk_math_Projection,haxepunk_masks_Polygon.secondProj=new haxepunk_math_Projection,haxepunk_masks_Polygon.vertical=(x=0,y=1,null==y&&(y=0),null==x&&(x=0),{x:x,y:y}),haxepunk_masks_Polygon.horizontal=function(e){var t=1,a=0;return null==a&&(a=0),null==t&&(t=0),{x:t,y:a}}(),haxepunk_masks_SlopedGrid._emptyTile={type:0},haxepunk_math_MathUtil.INT_MIN_VALUE=-2147483648,haxepunk_math_MathUtil.INT_MAX_VALUE=2147483647,haxepunk_math_MathUtil.PI=3.141592653589793,haxepunk_math_MathUtil.EPSILON=1e-10,haxepunk_math_MathUtil.point={x:0,y:0},haxepunk_math_Random._seed=0,haxepunk_utils_BlendMode.Add=0,haxepunk_utils_BlendMode.Alpha=1,haxepunk_utils_BlendMode.Multiply=9,haxepunk_utils_BlendMode.Screen=12,haxepunk_utils_BlendMode.Subtract=14,haxepunk_utils_Color.White=16777215,haxepunk_utils_Color.Black=0,haxepunk_utils_Ease.PI=3.141592653589793,haxepunk_utils_Ease.PI2=1.5707963267948966,haxepunk_utils_Ease.EL=13.962634015954636,haxepunk_utils_Ease.B1=.36363636363636365,haxepunk_utils_Ease.B2=.7272727272727273,haxepunk_utils_Ease.B3=.5454545454545454,haxepunk_utils_Ease.B4=.9090909090909091,haxepunk_utils_Ease.B5=.8181818181818182,haxepunk_utils_Ease.B6=.9545454545454546,haxepunk_utils_HaxelibInfo.$name="HaxePunk",haxepunk_utils_HaxelibInfo.description="A Haxe port of the FlashPunk AS3 engine.",haxepunk_utils_HaxelibInfo.url="http://haxepunk.com",haxepunk_utils_HaxelibInfo.install={lime:"7.6.3",munit:"",openfl:"8.9.1"},haxepunk_utils_HaxelibInfo.contributors=["heardtheword","_ibilon","bendmorris","matrefeytontias"],haxepunk_utils_HaxelibInfo.version="4.0.2",haxepunk_utils_HaxelibInfo.releasenote="See CHANGELOG.md",haxepunk_utils_HaxelibInfo.tags=["flash","game","cpp","openfl","nme"],haxepunk_utils_HaxelibInfo.license="MIT",haxepunk_utils_LogLevel.Debug=10,haxepunk_utils_LogLevel.Info=20,haxepunk_utils_LogLevel.Warning=30,haxepunk_utils_LogLevel.Error=40,haxepunk_utils_LogLevel.Critical=50,haxepunk_utils_LogLevel.longest=20,kro13_hxp_systems_HxpPhysicsSystem.UPD_FREQ=1,kro13_kk_Constants.DAY_IN_SECS=86400,kro13_kk_Constants.BASE_BLOCKS_COUNT=10,kro13_kk_Constants.DIFFICULTY_BLOCKS_COUNT=20,kro13_kk_Constants.TILE_SIZE=40,kro13_kk_Constants.THICK_BORDER_SIZE=20,kro13_kk_Constants.BORDER_SIZE=2,kro13_kk_Constants.GUI_COLOR=10066380,kro13_kk_Constants.GUI_TEXT_COLOR=11250647,kro13_kk_Constants.LIGHT_COLOR=16730531,kro13_kk_Constants.SPARK_COLOR=16757990,kro13_kk_Constants.PINK_COLOR=16731843,kro13_kk_Constants.GROUND_COLOR1=10066380,kro13_kk_Constants.GROUND_COLOR2=13421798,kro13_kk_Constants.GROUND_COLOR3=16250879,kro13_kk_Constants.SHADOW_COLOR=6776735,kro13_kk_Constants.PLAYER_COLOR=13369344,kro13_kk_Constants.BORDER_COLOR=7566220,kro13_kk_Constants.SPOT_COLOR=7697834,kro13_kk_Constants.GREEN_COLOR=65280,kro13_kk_Constants.RED_COLOR=16711680,kro13_kk_Constants.ARROW_SPEED=100,kro13_kk_Constants.ANGULAR_SPEED=40,kro13_kk_Constants.BASE_GRAVITY=400,kro13_kk_Constants.MAX_SPEED=775,kro13_kk_Constants.MIN_SPEED=50,kro13_kk_Constants.CRITICAL_HIT_SPEED=400,kro13_kk_Constants.HORIZONTAL_MOVE_COEF=.15,kro13_kk_Constants.GROUND_RESISTANCE_COEF=.001,kro13_kk_Constants.GYRO_SPEED=1e5,kro13_kk_Constants.TEXT_EMITTER_DELAY=1,kro13_kk_Constants.HIT_EVENT_INTERVAL=1,kro13_kk_Constants.SCORE_UPDATE_DELAY=1,kro13_kk_Constants.JUMP_TIME=.6,kro13_kk_Constants.SOCIAL_URL="https://vk.com/kanyonkarvergroup",kro13_kk_Constants.SOCIAL_URL_MOBILE="vk://vk.com/kanyonkarvergroup",kro13_kk_Constants.FREE_RESTARTS_COUNT=1,kro13_kk_Constants.BUTTON_HEIGHT=120,kro13_kk_Constants.POPUP_WIDTH=900,kro13_kk_Constants.UI_GAP=50,kro13_kk_Constants.SPEED_BAR_WIDTH=204,kro13_kk_Constants.SPEED_BAR_HEIGHT=40,kro13_kk_Constants.RD_BIG_TICK_SIZE=22,kro13_kk_Constants.RD_SMALL_TICK_SIZE=16,kro13_kk_Constants.RD_RADIUS=152,kro13_kk_Constants.BASE_TEXT_SIZE=60,kro13_kk_Constants.SMALL_TEXT_SIZE=46,kro13_kk_Constants.BIG_TEXT_SIZE=70,kro13_kk_Constants.VERY_BIG_TEXT_SIZE=76,kro13_kk_Constants.LOCALE="en",kro13_kk_Constants.MIN_PORTRAIT_H=1920,kro13_kk_Constants.MIN_LANDSCAPE_H=1400,kro13_kk_Constants.MIN_PORTRAIT_W=1080,kro13_kk_Constants.MIN_LANDSCAPE_W=2800,kro13_kk_Constants.RESTART_MAX_HP=90,kro13_kk_Constants.MAIN_MENU_ADS_TRIGGER=1,kro13_kk_Constants.AUDIO_FORMAT="mp3",kro13_kk_Constants.PORTRAIT=!0,kro13_kk_Constants.BOOM_COLOR_GREEN=16777215,kro13_kk_Constants.BOOM_COLOR_RED=16777215,kro13_kk_Constants.FONT="Norse-Bold-ru.fnt",kro13_kk_Constants.FORCE_PRECISION=1,kro13_kk_KKGame.isMe=!1,kro13_kk_KKGame.version="0.0.0",kro13_kk_data_DataUtils.adjectives=["bold","courageous","daring","epic","fearless","gallant","grand","gutsy","noble","valiant","classic","elevated","dauntless","doughty","exaggerated","fire-eating","grandiose","gritty","gutty","high-flown","impavid","inflated","intrepid","lion-hearted","mythological","stouthearted","unafraid","undaunted","valorous","almighty","backbreaking","colossal","courageous","forceful","gargantuan","gigantic","hard","heroic","huge","impressive","laborious","mighty","strenuous","tough","vigorous","altruistic","benevolent","bighearted","chivalrous","considerate","free","gracious","greathearted","heroic","liberal","lofty","magnanimous","noble","princely","unselfish"],kro13_kk_data_DataUtils.nouns=["alligator","crocodile","alpaca","ant","antelope","ape","armadillo","donkey","burro","baboon","badger","bat","bear","beaver","bee","beetle","buffalo","butterfly","camel","carabao","caribou","cat","cattle","cheetah","chimpanzee","chinchilla","cicada","clam","cockroach","cod","coyote","crab","cricket","crow","raven","deer","dinosaur","dog","dolphin","porpoise","duck","eagle","eel","elephant","elk","ferret","fish","fly","fox","frog","toad","gerbil","giraffe","gnat","gnu","wildebeest","goat","goldfish","goose","gorilla","grasshopper","guinea pig","hamster","hare","hedgehog","herring","hippopotamus","hornet","horse","hound","hyena","impala","insect","jackal","jellyfish","kangaroo","wallaby","koala","leopard","lion","lizard","llama","locust","louse","macaw","mallard","mammoth","manatee","marten","mink","minnow","mole","monkey","moose","mosquito","mouse","rat","mule","muskrat","otter","ox","oyster","panda","pig","hog","swine","platypus","porcupine","prairie dog","pug","rabbit","raccoon","reindeer","rhinoceros","salmon","sardine","scorpion","seal","sea lion","serval","shark","sheep","skunk","snail","snake","spider","squirrel","swan","termite","tiger","trout","turtle","walrus","wasp","weasel","whale","wolf","wombat","woodchuck","worm","yak","yellowjacket","zebra"],kro13_kk_data_EProfileTag.HELP_SEEN=0,kro13_kk_data_EProfileTag.MEMBER=1,kro13_kk_data_EProfileTag.SNOWMEN_HELP_SEEN=2,kro13_kk_data_EProfileTag.AVALANCHE_HELP_SEEN=3,kro13_kk_data_EProfileTag.FAUNA_HELP_SEEN=4,kro13_kk_data_EProfileTag.TUTOR_FINISHED=5,kro13_kk_data_EProfileTag.PRIVACY_POLICY_ACCEPED=6,kro13_kk_data_EProfileTag.MANDALA_HELP_SEEN=7,kro13_kk_guiObjects_popups_ConsolePopup.log=[],kro13_kk_guiObjects_popups_ConsolePopup.isLogDirty=!1,kro13_kk_systems_ChaseSystem.CHASE_START_TIME=60,kro13_kk_systems_DTSystem.multiplier=1,kro13_kk_systems_InGameMessagesSystem.MSG_TIMEOUT=2,kro13_kk_systems_RollbackSystem.EAGLE0="images/eagle1.png",kro13_kk_systems_RollbackSystem.EAGLE1="images/eagle.png",kro13_kk_systems_SoundControlSystem.MAIN_MUSIC_TIMEOUT=180,kro13_kk_utils_CollisionUtils.NORMAL_TOLERANCE=1e-4,kro13_kk_utils_GameObjetIds.id=0,kro13_kk_utils_TextUtils.greenTag="green",kro13_kk_utils_TextUtils.pinkTag="pink",kro13_kk_utils_TextUtils.guiTag="guiText",kro13_kk_utils_TextUtils.redTag="red",kro13_kk_utils_TextUtils.plusSign="+",kro13_vk_VK.API_VER="5.95",lime__$internal_backend_html5_HTML5HTTPRequest.OPTION_REVOKE_URL=1,lime__$internal_backend_html5_HTML5HTTPRequest.activeRequests=0,lime__$internal_backend_html5_HTML5HTTPRequest.requestLimit=17,lime__$internal_backend_html5_HTML5HTTPRequest.requestQueue=new haxe_ds_List,lime__$internal_backend_html5_HTML5Window.dummyCharacter="",lime__$internal_backend_html5_HTML5Window.windowID=0,lime__$internal_format_Base64.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),lime__$internal_format_Base64.EXTENDED_DICTIONARY=function(e){for(var t=[],a=0,n=lime__$internal_format_Base64.DICTIONARY;a<n.length;){var i=n[a];++a;for(var s=0,_=lime__$internal_format_Base64.DICTIONARY;s<_.length;){var r=_[s];++s,t.push(i+r)}}return t}(),lime__$internal_graphics_StackBlur.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],lime__$internal_graphics_StackBlur.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],lime_graphics_cairo_CairoFTFontFace.FT_LOAD_FORCE_AUTOHINT=32,lime_graphics_opengl_GL.DEPTH_BUFFER_BIT=256,lime_graphics_opengl_GL.STENCIL_BUFFER_BIT=1024,lime_graphics_opengl_GL.COLOR_BUFFER_BIT=16384,lime_graphics_opengl_GL.POINTS=0,lime_graphics_opengl_GL.LINES=1,lime_graphics_opengl_GL.LINE_LOOP=2,lime_graphics_opengl_GL.LINE_STRIP=3,lime_graphics_opengl_GL.TRIANGLES=4,lime_graphics_opengl_GL.TRIANGLE_STRIP=5,lime_graphics_opengl_GL.TRIANGLE_FAN=6,lime_graphics_opengl_GL.ZERO=0,lime_graphics_opengl_GL.ONE=1,lime_graphics_opengl_GL.SRC_COLOR=768,lime_graphics_opengl_GL.ONE_MINUS_SRC_COLOR=769,lime_graphics_opengl_GL.SRC_ALPHA=770,lime_graphics_opengl_GL.ONE_MINUS_SRC_ALPHA=771,lime_graphics_opengl_GL.DST_ALPHA=772,lime_graphics_opengl_GL.ONE_MINUS_DST_ALPHA=773,lime_graphics_opengl_GL.DST_COLOR=774,lime_graphics_opengl_GL.ONE_MINUS_DST_COLOR=775,lime_graphics_opengl_GL.SRC_ALPHA_SATURATE=776,lime_graphics_opengl_GL.FUNC_ADD=32774,lime_graphics_opengl_GL.BLEND_EQUATION=32777,lime_graphics_opengl_GL.BLEND_EQUATION_RGB=32777,lime_graphics_opengl_GL.BLEND_EQUATION_ALPHA=34877,lime_graphics_opengl_GL.FUNC_SUBTRACT=32778,lime_graphics_opengl_GL.FUNC_REVERSE_SUBTRACT=32779,lime_graphics_opengl_GL.BLEND_DST_RGB=32968,lime_graphics_opengl_GL.BLEND_SRC_RGB=32969,lime_graphics_opengl_GL.BLEND_DST_ALPHA=32970,lime_graphics_opengl_GL.BLEND_SRC_ALPHA=32971,lime_graphics_opengl_GL.CONSTANT_COLOR=32769,lime_graphics_opengl_GL.ONE_MINUS_CONSTANT_COLOR=32770,lime_graphics_opengl_GL.CONSTANT_ALPHA=32771,lime_graphics_opengl_GL.ONE_MINUS_CONSTANT_ALPHA=32772,lime_graphics_opengl_GL.BLEND_COLOR=32773,lime_graphics_opengl_GL.ARRAY_BUFFER=34962,lime_graphics_opengl_GL.ELEMENT_ARRAY_BUFFER=34963,lime_graphics_opengl_GL.ARRAY_BUFFER_BINDING=34964,lime_graphics_opengl_GL.ELEMENT_ARRAY_BUFFER_BINDING=34965,lime_graphics_opengl_GL.STREAM_DRAW=35040,lime_graphics_opengl_GL.STATIC_DRAW=35044,lime_graphics_opengl_GL.DYNAMIC_DRAW=35048,lime_graphics_opengl_GL.BUFFER_SIZE=34660,lime_graphics_opengl_GL.BUFFER_USAGE=34661,lime_graphics_opengl_GL.CURRENT_VERTEX_ATTRIB=34342,lime_graphics_opengl_GL.FRONT=1028,lime_graphics_opengl_GL.BACK=1029,lime_graphics_opengl_GL.FRONT_AND_BACK=1032,lime_graphics_opengl_GL.CULL_FACE=2884,lime_graphics_opengl_GL.BLEND=3042,lime_graphics_opengl_GL.DITHER=3024,lime_graphics_opengl_GL.STENCIL_TEST=2960,lime_graphics_opengl_GL.DEPTH_TEST=2929,lime_graphics_opengl_GL.SCISSOR_TEST=3089,lime_graphics_opengl_GL.POLYGON_OFFSET_FILL=32823,lime_graphics_opengl_GL.SAMPLE_ALPHA_TO_COVERAGE=32926,lime_graphics_opengl_GL.SAMPLE_COVERAGE=32928,lime_graphics_opengl_GL.NO_ERROR=0,lime_graphics_opengl_GL.INVALID_ENUM=1280,lime_graphics_opengl_GL.INVALID_VALUE=1281,lime_graphics_opengl_GL.INVALID_OPERATION=1282,lime_graphics_opengl_GL.OUT_OF_MEMORY=1285,lime_graphics_opengl_GL.CW=2304,lime_graphics_opengl_GL.CCW=2305,lime_graphics_opengl_GL.LINE_WIDTH=2849,lime_graphics_opengl_GL.ALIASED_POINT_SIZE_RANGE=33901,lime_graphics_opengl_GL.ALIASED_LINE_WIDTH_RANGE=33902,lime_graphics_opengl_GL.CULL_FACE_MODE=2885,lime_graphics_opengl_GL.FRONT_FACE=2886,lime_graphics_opengl_GL.DEPTH_RANGE=2928,lime_graphics_opengl_GL.DEPTH_WRITEMASK=2930,lime_graphics_opengl_GL.DEPTH_CLEAR_VALUE=2931,lime_graphics_opengl_GL.DEPTH_FUNC=2932,lime_graphics_opengl_GL.STENCIL_CLEAR_VALUE=2961,lime_graphics_opengl_GL.STENCIL_FUNC=2962,lime_graphics_opengl_GL.STENCIL_FAIL=2964,lime_graphics_opengl_GL.STENCIL_PASS_DEPTH_FAIL=2965,lime_graphics_opengl_GL.STENCIL_PASS_DEPTH_PASS=2966,lime_graphics_opengl_GL.STENCIL_REF=2967,lime_graphics_opengl_GL.STENCIL_VALUE_MASK=2963,lime_graphics_opengl_GL.STENCIL_WRITEMASK=2968,lime_graphics_opengl_GL.STENCIL_BACK_FUNC=34816,lime_graphics_opengl_GL.STENCIL_BACK_FAIL=34817,lime_graphics_opengl_GL.STENCIL_BACK_PASS_DEPTH_FAIL=34818,lime_graphics_opengl_GL.STENCIL_BACK_PASS_DEPTH_PASS=34819,lime_graphics_opengl_GL.STENCIL_BACK_REF=36003,lime_graphics_opengl_GL.STENCIL_BACK_VALUE_MASK=36004,lime_graphics_opengl_GL.STENCIL_BACK_WRITEMASK=36005,lime_graphics_opengl_GL.VIEWPORT=2978,lime_graphics_opengl_GL.SCISSOR_BOX=3088,lime_graphics_opengl_GL.COLOR_CLEAR_VALUE=3106,lime_graphics_opengl_GL.COLOR_WRITEMASK=3107,lime_graphics_opengl_GL.UNPACK_ALIGNMENT=3317,lime_graphics_opengl_GL.PACK_ALIGNMENT=3333,lime_graphics_opengl_GL.MAX_TEXTURE_SIZE=3379,lime_graphics_opengl_GL.MAX_VIEWPORT_DIMS=3386,lime_graphics_opengl_GL.SUBPIXEL_BITS=3408,lime_graphics_opengl_GL.RED_BITS=3410,lime_graphics_opengl_GL.GREEN_BITS=3411,lime_graphics_opengl_GL.BLUE_BITS=3412,lime_graphics_opengl_GL.ALPHA_BITS=3413,lime_graphics_opengl_GL.DEPTH_BITS=3414,lime_graphics_opengl_GL.STENCIL_BITS=3415,lime_graphics_opengl_GL.POLYGON_OFFSET_UNITS=10752,lime_graphics_opengl_GL.POLYGON_OFFSET_FACTOR=32824,lime_graphics_opengl_GL.TEXTURE_BINDING_2D=32873,lime_graphics_opengl_GL.SAMPLE_BUFFERS=32936,lime_graphics_opengl_GL.SAMPLES=32937,lime_graphics_opengl_GL.SAMPLE_COVERAGE_VALUE=32938,lime_graphics_opengl_GL.SAMPLE_COVERAGE_INVERT=32939,lime_graphics_opengl_GL.NUM_COMPRESSED_TEXTURE_FORMATS=34466,lime_graphics_opengl_GL.COMPRESSED_TEXTURE_FORMATS=34467,lime_graphics_opengl_GL.DONT_CARE=4352,lime_graphics_opengl_GL.FASTEST=4353,lime_graphics_opengl_GL.NICEST=4354,lime_graphics_opengl_GL.GENERATE_MIPMAP_HINT=33170,lime_graphics_opengl_GL.BYTE=5120,lime_graphics_opengl_GL.UNSIGNED_BYTE=5121,lime_graphics_opengl_GL.SHORT=5122,lime_graphics_opengl_GL.UNSIGNED_SHORT=5123,lime_graphics_opengl_GL.INT=5124,lime_graphics_opengl_GL.UNSIGNED_INT=5125,lime_graphics_opengl_GL.FLOAT=5126,lime_graphics_opengl_GL.DEPTH_COMPONENT=6402,lime_graphics_opengl_GL.ALPHA=6406,lime_graphics_opengl_GL.RGB=6407,lime_graphics_opengl_GL.RGBA=6408,lime_graphics_opengl_GL.LUMINANCE=6409,lime_graphics_opengl_GL.LUMINANCE_ALPHA=6410,lime_graphics_opengl_GL.UNSIGNED_SHORT_4_4_4_4=32819,lime_graphics_opengl_GL.UNSIGNED_SHORT_5_5_5_1=32820,lime_graphics_opengl_GL.UNSIGNED_SHORT_5_6_5=33635,lime_graphics_opengl_GL.FRAGMENT_SHADER=35632,lime_graphics_opengl_GL.VERTEX_SHADER=35633,lime_graphics_opengl_GL.MAX_VERTEX_ATTRIBS=34921,lime_graphics_opengl_GL.MAX_VERTEX_UNIFORM_VECTORS=36347,lime_graphics_opengl_GL.MAX_VARYING_VECTORS=36348,lime_graphics_opengl_GL.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,lime_graphics_opengl_GL.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,lime_graphics_opengl_GL.MAX_TEXTURE_IMAGE_UNITS=34930,lime_graphics_opengl_GL.MAX_FRAGMENT_UNIFORM_VECTORS=36349,lime_graphics_opengl_GL.SHADER_TYPE=35663,lime_graphics_opengl_GL.DELETE_STATUS=35712,lime_graphics_opengl_GL.LINK_STATUS=35714,lime_graphics_opengl_GL.VALIDATE_STATUS=35715,lime_graphics_opengl_GL.ATTACHED_SHADERS=35717,lime_graphics_opengl_GL.ACTIVE_UNIFORMS=35718,lime_graphics_opengl_GL.ACTIVE_ATTRIBUTES=35721,lime_graphics_opengl_GL.SHADING_LANGUAGE_VERSION=35724,lime_graphics_opengl_GL.CURRENT_PROGRAM=35725,lime_graphics_opengl_GL.NEVER=512,lime_graphics_opengl_GL.LESS=513,lime_graphics_opengl_GL.EQUAL=514,lime_graphics_opengl_GL.LEQUAL=515,lime_graphics_opengl_GL.GREATER=516,lime_graphics_opengl_GL.NOTEQUAL=517,lime_graphics_opengl_GL.GEQUAL=518,lime_graphics_opengl_GL.ALWAYS=519,lime_graphics_opengl_GL.KEEP=7680,lime_graphics_opengl_GL.REPLACE=7681,lime_graphics_opengl_GL.INCR=7682,lime_graphics_opengl_GL.DECR=7683,lime_graphics_opengl_GL.INVERT=5386,lime_graphics_opengl_GL.INCR_WRAP=34055,lime_graphics_opengl_GL.DECR_WRAP=34056,lime_graphics_opengl_GL.VENDOR=7936,lime_graphics_opengl_GL.RENDERER=7937,lime_graphics_opengl_GL.VERSION=7938,lime_graphics_opengl_GL.EXTENSIONS=7939,lime_graphics_opengl_GL.NEAREST=9728,lime_graphics_opengl_GL.LINEAR=9729,lime_graphics_opengl_GL.NEAREST_MIPMAP_NEAREST=9984,lime_graphics_opengl_GL.LINEAR_MIPMAP_NEAREST=9985,lime_graphics_opengl_GL.NEAREST_MIPMAP_LINEAR=9986,lime_graphics_opengl_GL.LINEAR_MIPMAP_LINEAR=9987,lime_graphics_opengl_GL.TEXTURE_MAG_FILTER=10240,lime_graphics_opengl_GL.TEXTURE_MIN_FILTER=10241,lime_graphics_opengl_GL.TEXTURE_WRAP_S=10242,lime_graphics_opengl_GL.TEXTURE_WRAP_T=10243,lime_graphics_opengl_GL.TEXTURE_2D=3553,lime_graphics_opengl_GL.TEXTURE=5890,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP=34067,lime_graphics_opengl_GL.TEXTURE_BINDING_CUBE_MAP=34068,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_POSITIVE_X=34069,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,lime_graphics_opengl_GL.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,lime_graphics_opengl_GL.MAX_CUBE_MAP_TEXTURE_SIZE=34076,lime_graphics_opengl_GL.TEXTURE0=33984,lime_graphics_opengl_GL.TEXTURE1=33985,lime_graphics_opengl_GL.TEXTURE2=33986,lime_graphics_opengl_GL.TEXTURE3=33987,lime_graphics_opengl_GL.TEXTURE4=33988,lime_graphics_opengl_GL.TEXTURE5=33989,lime_graphics_opengl_GL.TEXTURE6=33990,lime_graphics_opengl_GL.TEXTURE7=33991,lime_graphics_opengl_GL.TEXTURE8=33992,lime_graphics_opengl_GL.TEXTURE9=33993,lime_graphics_opengl_GL.TEXTURE10=33994,lime_graphics_opengl_GL.TEXTURE11=33995,lime_graphics_opengl_GL.TEXTURE12=33996,lime_graphics_opengl_GL.TEXTURE13=33997,lime_graphics_opengl_GL.TEXTURE14=33998,lime_graphics_opengl_GL.TEXTURE15=33999,lime_graphics_opengl_GL.TEXTURE16=34e3,lime_graphics_opengl_GL.TEXTURE17=34001,lime_graphics_opengl_GL.TEXTURE18=34002,lime_graphics_opengl_GL.TEXTURE19=34003,lime_graphics_opengl_GL.TEXTURE20=34004,lime_graphics_opengl_GL.TEXTURE21=34005,lime_graphics_opengl_GL.TEXTURE22=34006,lime_graphics_opengl_GL.TEXTURE23=34007,lime_graphics_opengl_GL.TEXTURE24=34008,lime_graphics_opengl_GL.TEXTURE25=34009,lime_graphics_opengl_GL.TEXTURE26=34010,lime_graphics_opengl_GL.TEXTURE27=34011,lime_graphics_opengl_GL.TEXTURE28=34012,lime_graphics_opengl_GL.TEXTURE29=34013,lime_graphics_opengl_GL.TEXTURE30=34014,lime_graphics_opengl_GL.TEXTURE31=34015,lime_graphics_opengl_GL.ACTIVE_TEXTURE=34016,lime_graphics_opengl_GL.REPEAT=10497,lime_graphics_opengl_GL.CLAMP_TO_EDGE=33071,lime_graphics_opengl_GL.MIRRORED_REPEAT=33648,lime_graphics_opengl_GL.FLOAT_VEC2=35664,lime_graphics_opengl_GL.FLOAT_VEC3=35665,lime_graphics_opengl_GL.FLOAT_VEC4=35666,lime_graphics_opengl_GL.INT_VEC2=35667,lime_graphics_opengl_GL.INT_VEC3=35668,lime_graphics_opengl_GL.INT_VEC4=35669,lime_graphics_opengl_GL.BOOL=35670,lime_graphics_opengl_GL.BOOL_VEC2=35671,lime_graphics_opengl_GL.BOOL_VEC3=35672,lime_graphics_opengl_GL.BOOL_VEC4=35673,lime_graphics_opengl_GL.FLOAT_MAT2=35674,lime_graphics_opengl_GL.FLOAT_MAT3=35675,lime_graphics_opengl_GL.FLOAT_MAT4=35676,lime_graphics_opengl_GL.SAMPLER_2D=35678,lime_graphics_opengl_GL.SAMPLER_CUBE=35680,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_ENABLED=34338,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_SIZE=34339,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_STRIDE=34340,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_TYPE=34341,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_POINTER=34373,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,lime_graphics_opengl_GL.IMPLEMENTATION_COLOR_READ_TYPE=35738,lime_graphics_opengl_GL.IMPLEMENTATION_COLOR_READ_FORMAT=35739,lime_graphics_opengl_GL.VERTEX_PROGRAM_POINT_SIZE=34370,lime_graphics_opengl_GL.POINT_SPRITE=34913,lime_graphics_opengl_GL.COMPILE_STATUS=35713,lime_graphics_opengl_GL.LOW_FLOAT=36336,lime_graphics_opengl_GL.MEDIUM_FLOAT=36337,lime_graphics_opengl_GL.HIGH_FLOAT=36338,lime_graphics_opengl_GL.LOW_INT=36339,lime_graphics_opengl_GL.MEDIUM_INT=36340,lime_graphics_opengl_GL.HIGH_INT=36341,lime_graphics_opengl_GL.FRAMEBUFFER=36160,lime_graphics_opengl_GL.RENDERBUFFER=36161,lime_graphics_opengl_GL.RGBA4=32854,lime_graphics_opengl_GL.RGB5_A1=32855,lime_graphics_opengl_GL.RGB565=36194,lime_graphics_opengl_GL.DEPTH_COMPONENT16=33189,lime_graphics_opengl_GL.STENCIL_INDEX=6401,lime_graphics_opengl_GL.STENCIL_INDEX8=36168,lime_graphics_opengl_GL.DEPTH_STENCIL=34041,lime_graphics_opengl_GL.RENDERBUFFER_WIDTH=36162,lime_graphics_opengl_GL.RENDERBUFFER_HEIGHT=36163,lime_graphics_opengl_GL.RENDERBUFFER_INTERNAL_FORMAT=36164,lime_graphics_opengl_GL.RENDERBUFFER_RED_SIZE=36176,lime_graphics_opengl_GL.RENDERBUFFER_GREEN_SIZE=36177,lime_graphics_opengl_GL.RENDERBUFFER_BLUE_SIZE=36178,lime_graphics_opengl_GL.RENDERBUFFER_ALPHA_SIZE=36179,lime_graphics_opengl_GL.RENDERBUFFER_DEPTH_SIZE=36180,lime_graphics_opengl_GL.RENDERBUFFER_STENCIL_SIZE=36181,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,lime_graphics_opengl_GL.COLOR_ATTACHMENT0=36064,lime_graphics_opengl_GL.DEPTH_ATTACHMENT=36096,lime_graphics_opengl_GL.STENCIL_ATTACHMENT=36128,lime_graphics_opengl_GL.DEPTH_STENCIL_ATTACHMENT=33306,lime_graphics_opengl_GL.NONE=0,lime_graphics_opengl_GL.FRAMEBUFFER_COMPLETE=36053,lime_graphics_opengl_GL.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,lime_graphics_opengl_GL.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,lime_graphics_opengl_GL.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,lime_graphics_opengl_GL.FRAMEBUFFER_UNSUPPORTED=36061,lime_graphics_opengl_GL.FRAMEBUFFER_BINDING=36006,lime_graphics_opengl_GL.RENDERBUFFER_BINDING=36007,lime_graphics_opengl_GL.MAX_RENDERBUFFER_SIZE=34024,lime_graphics_opengl_GL.INVALID_FRAMEBUFFER_OPERATION=1286,lime_graphics_opengl_GL.UNPACK_FLIP_Y_WEBGL=37440,lime_graphics_opengl_GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,lime_graphics_opengl_GL.CONTEXT_LOST_WEBGL=37442,lime_graphics_opengl_GL.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,lime_graphics_opengl_GL.BROWSER_DEFAULT_WEBGL=37444,lime_graphics_opengl_GL.READ_BUFFER=3074,lime_graphics_opengl_GL.UNPACK_ROW_LENGTH=3314,lime_graphics_opengl_GL.UNPACK_SKIP_ROWS=3315,lime_graphics_opengl_GL.UNPACK_SKIP_PIXELS=3316,lime_graphics_opengl_GL.PACK_ROW_LENGTH=3330,lime_graphics_opengl_GL.PACK_SKIP_ROWS=3331,lime_graphics_opengl_GL.PACK_SKIP_PIXELS=3332,lime_graphics_opengl_GL.TEXTURE_BINDING_3D=32874,lime_graphics_opengl_GL.UNPACK_SKIP_IMAGES=32877,lime_graphics_opengl_GL.UNPACK_IMAGE_HEIGHT=32878,lime_graphics_opengl_GL.MAX_3D_TEXTURE_SIZE=32883,lime_graphics_opengl_GL.MAX_ELEMENTS_VERTICES=33e3,lime_graphics_opengl_GL.MAX_ELEMENTS_INDICES=33001,lime_graphics_opengl_GL.MAX_TEXTURE_LOD_BIAS=34045,lime_graphics_opengl_GL.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,lime_graphics_opengl_GL.MAX_VERTEX_UNIFORM_COMPONENTS=35658,lime_graphics_opengl_GL.MAX_ARRAY_TEXTURE_LAYERS=35071,lime_graphics_opengl_GL.MIN_PROGRAM_TEXEL_OFFSET=35076,lime_graphics_opengl_GL.MAX_PROGRAM_TEXEL_OFFSET=35077,lime_graphics_opengl_GL.MAX_VARYING_COMPONENTS=35659,lime_graphics_opengl_GL.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,lime_graphics_opengl_GL.RASTERIZER_DISCARD=35977,lime_graphics_opengl_GL.VERTEX_ARRAY_BINDING=34229,lime_graphics_opengl_GL.MAX_VERTEX_OUTPUT_COMPONENTS=37154,lime_graphics_opengl_GL.MAX_FRAGMENT_INPUT_COMPONENTS=37157,lime_graphics_opengl_GL.MAX_SERVER_WAIT_TIMEOUT=37137,lime_graphics_opengl_GL.MAX_ELEMENT_INDEX=36203,lime_graphics_opengl_GL.RED=6403,lime_graphics_opengl_GL.RGB8=32849,lime_graphics_opengl_GL.RGBA8=32856,lime_graphics_opengl_GL.RGB10_A2=32857,lime_graphics_opengl_GL.TEXTURE_3D=32879,lime_graphics_opengl_GL.TEXTURE_WRAP_R=32882,lime_graphics_opengl_GL.TEXTURE_MIN_LOD=33082,lime_graphics_opengl_GL.TEXTURE_MAX_LOD=33083,lime_graphics_opengl_GL.TEXTURE_BASE_LEVEL=33084,lime_graphics_opengl_GL.TEXTURE_MAX_LEVEL=33085,lime_graphics_opengl_GL.TEXTURE_COMPARE_MODE=34892,lime_graphics_opengl_GL.TEXTURE_COMPARE_FUNC=34893,lime_graphics_opengl_GL.SRGB=35904,lime_graphics_opengl_GL.SRGB8=35905,lime_graphics_opengl_GL.SRGB8_ALPHA8=35907,lime_graphics_opengl_GL.COMPARE_REF_TO_TEXTURE=34894,lime_graphics_opengl_GL.RGBA32F=34836,lime_graphics_opengl_GL.RGB32F=34837,lime_graphics_opengl_GL.RGBA16F=34842,lime_graphics_opengl_GL.RGB16F=34843,lime_graphics_opengl_GL.TEXTURE_2D_ARRAY=35866,lime_graphics_opengl_GL.TEXTURE_BINDING_2D_ARRAY=35869,lime_graphics_opengl_GL.R11F_G11F_B10F=35898,lime_graphics_opengl_GL.RGB9_E5=35901,lime_graphics_opengl_GL.RGBA32UI=36208,lime_graphics_opengl_GL.RGB32UI=36209,lime_graphics_opengl_GL.RGBA16UI=36214;lime_graphics_opengl_GL.RGB16UI=36215,lime_graphics_opengl_GL.RGBA8UI=36220,lime_graphics_opengl_GL.RGB8UI=36221,lime_graphics_opengl_GL.RGBA32I=36226,lime_graphics_opengl_GL.RGB32I=36227,lime_graphics_opengl_GL.RGBA16I=36232,lime_graphics_opengl_GL.RGB16I=36233,lime_graphics_opengl_GL.RGBA8I=36238,lime_graphics_opengl_GL.RGB8I=36239,lime_graphics_opengl_GL.RED_INTEGER=36244,lime_graphics_opengl_GL.RGB_INTEGER=36248,lime_graphics_opengl_GL.RGBA_INTEGER=36249,lime_graphics_opengl_GL.R8=33321,lime_graphics_opengl_GL.RG8=33323,lime_graphics_opengl_GL.R16F=33325,lime_graphics_opengl_GL.R32F=33326,lime_graphics_opengl_GL.RG16F=33327,lime_graphics_opengl_GL.RG32F=33328,lime_graphics_opengl_GL.R8I=33329,lime_graphics_opengl_GL.R8UI=33330,lime_graphics_opengl_GL.R16I=33331,lime_graphics_opengl_GL.R16UI=33332,lime_graphics_opengl_GL.R32I=33333,lime_graphics_opengl_GL.R32UI=33334,lime_graphics_opengl_GL.RG8I=33335,lime_graphics_opengl_GL.RG8UI=33336,lime_graphics_opengl_GL.RG16I=33337,lime_graphics_opengl_GL.RG16UI=33338,lime_graphics_opengl_GL.RG32I=33339,lime_graphics_opengl_GL.RG32UI=33340,lime_graphics_opengl_GL.R8_SNORM=36756,lime_graphics_opengl_GL.RG8_SNORM=36757,lime_graphics_opengl_GL.RGB8_SNORM=36758,lime_graphics_opengl_GL.RGBA8_SNORM=36759,lime_graphics_opengl_GL.RGB10_A2UI=36975,lime_graphics_opengl_GL.TEXTURE_IMMUTABLE_FORMAT=37167,lime_graphics_opengl_GL.TEXTURE_IMMUTABLE_LEVELS=33503,lime_graphics_opengl_GL.UNSIGNED_INT_2_10_10_10_REV=33640,lime_graphics_opengl_GL.UNSIGNED_INT_10F_11F_11F_REV=35899,lime_graphics_opengl_GL.UNSIGNED_INT_5_9_9_9_REV=35902,lime_graphics_opengl_GL.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,lime_graphics_opengl_GL.UNSIGNED_INT_24_8=34042,lime_graphics_opengl_GL.HALF_FLOAT=5131,lime_graphics_opengl_GL.RG=33319,lime_graphics_opengl_GL.RG_INTEGER=33320,lime_graphics_opengl_GL.INT_2_10_10_10_REV=36255,lime_graphics_opengl_GL.CURRENT_QUERY=34917,lime_graphics_opengl_GL.QUERY_RESULT=34918,lime_graphics_opengl_GL.QUERY_RESULT_AVAILABLE=34919,lime_graphics_opengl_GL.ANY_SAMPLES_PASSED=35887,lime_graphics_opengl_GL.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,lime_graphics_opengl_GL.MAX_DRAW_BUFFERS=34852,lime_graphics_opengl_GL.DRAW_BUFFER0=34853,lime_graphics_opengl_GL.DRAW_BUFFER1=34854,lime_graphics_opengl_GL.DRAW_BUFFER2=34855,lime_graphics_opengl_GL.DRAW_BUFFER3=34856,lime_graphics_opengl_GL.DRAW_BUFFER4=34857,lime_graphics_opengl_GL.DRAW_BUFFER5=34858,lime_graphics_opengl_GL.DRAW_BUFFER6=34859,lime_graphics_opengl_GL.DRAW_BUFFER7=34860,lime_graphics_opengl_GL.DRAW_BUFFER8=34861,lime_graphics_opengl_GL.DRAW_BUFFER9=34862,lime_graphics_opengl_GL.DRAW_BUFFER10=34863,lime_graphics_opengl_GL.DRAW_BUFFER11=34864,lime_graphics_opengl_GL.DRAW_BUFFER12=34865,lime_graphics_opengl_GL.DRAW_BUFFER13=34866,lime_graphics_opengl_GL.DRAW_BUFFER14=34867,lime_graphics_opengl_GL.DRAW_BUFFER15=34868,lime_graphics_opengl_GL.MAX_COLOR_ATTACHMENTS=36063,lime_graphics_opengl_GL.COLOR_ATTACHMENT1=36065,lime_graphics_opengl_GL.COLOR_ATTACHMENT2=36066,lime_graphics_opengl_GL.COLOR_ATTACHMENT3=36067,lime_graphics_opengl_GL.COLOR_ATTACHMENT4=36068,lime_graphics_opengl_GL.COLOR_ATTACHMENT5=36069,lime_graphics_opengl_GL.COLOR_ATTACHMENT6=36070,lime_graphics_opengl_GL.COLOR_ATTACHMENT7=36071,lime_graphics_opengl_GL.COLOR_ATTACHMENT8=36072,lime_graphics_opengl_GL.COLOR_ATTACHMENT9=36073,lime_graphics_opengl_GL.COLOR_ATTACHMENT10=36074,lime_graphics_opengl_GL.COLOR_ATTACHMENT11=36075,lime_graphics_opengl_GL.COLOR_ATTACHMENT12=36076,lime_graphics_opengl_GL.COLOR_ATTACHMENT13=36077,lime_graphics_opengl_GL.COLOR_ATTACHMENT14=36078,lime_graphics_opengl_GL.COLOR_ATTACHMENT15=36079,lime_graphics_opengl_GL.SAMPLER_3D=35679,lime_graphics_opengl_GL.SAMPLER_2D_SHADOW=35682,lime_graphics_opengl_GL.SAMPLER_2D_ARRAY=36289,lime_graphics_opengl_GL.SAMPLER_2D_ARRAY_SHADOW=36292,lime_graphics_opengl_GL.SAMPLER_CUBE_SHADOW=36293,lime_graphics_opengl_GL.INT_SAMPLER_2D=36298,lime_graphics_opengl_GL.INT_SAMPLER_3D=36299,lime_graphics_opengl_GL.INT_SAMPLER_CUBE=36300,lime_graphics_opengl_GL.INT_SAMPLER_2D_ARRAY=36303,lime_graphics_opengl_GL.UNSIGNED_INT_SAMPLER_2D=36306,lime_graphics_opengl_GL.UNSIGNED_INT_SAMPLER_3D=36307,lime_graphics_opengl_GL.UNSIGNED_INT_SAMPLER_CUBE=36308,lime_graphics_opengl_GL.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,lime_graphics_opengl_GL.MAX_SAMPLES=36183,lime_graphics_opengl_GL.SAMPLER_BINDING=35097,lime_graphics_opengl_GL.PIXEL_PACK_BUFFER=35051,lime_graphics_opengl_GL.PIXEL_UNPACK_BUFFER=35052,lime_graphics_opengl_GL.PIXEL_PACK_BUFFER_BINDING=35053,lime_graphics_opengl_GL.PIXEL_UNPACK_BUFFER_BINDING=35055,lime_graphics_opengl_GL.COPY_READ_BUFFER=36662,lime_graphics_opengl_GL.COPY_WRITE_BUFFER=36663,lime_graphics_opengl_GL.COPY_READ_BUFFER_BINDING=36662,lime_graphics_opengl_GL.COPY_WRITE_BUFFER_BINDING=36663,lime_graphics_opengl_GL.FLOAT_MAT2x3=35685,lime_graphics_opengl_GL.FLOAT_MAT2x4=35686,lime_graphics_opengl_GL.FLOAT_MAT3x2=35687,lime_graphics_opengl_GL.FLOAT_MAT3x4=35688,lime_graphics_opengl_GL.FLOAT_MAT4x2=35689,lime_graphics_opengl_GL.FLOAT_MAT4x3=35690,lime_graphics_opengl_GL.UNSIGNED_INT_VEC2=36294,lime_graphics_opengl_GL.UNSIGNED_INT_VEC3=36295,lime_graphics_opengl_GL.UNSIGNED_INT_VEC4=36296,lime_graphics_opengl_GL.UNSIGNED_NORMALIZED=35863,lime_graphics_opengl_GL.SIGNED_NORMALIZED=36764,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_INTEGER=35069,lime_graphics_opengl_GL.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,lime_graphics_opengl_GL.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_VARYINGS=35971,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BUFFER_START=35972,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,lime_graphics_opengl_GL.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,lime_graphics_opengl_GL.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,lime_graphics_opengl_GL.INTERLEAVED_ATTRIBS=35980,lime_graphics_opengl_GL.SEPARATE_ATTRIBS=35981,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BUFFER=35982,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK=36386,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_PAUSED=36387,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_ACTIVE=36388,lime_graphics_opengl_GL.TRANSFORM_FEEDBACK_BINDING=36389,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,lime_graphics_opengl_GL.FRAMEBUFFER_DEFAULT=33304,lime_graphics_opengl_GL.DEPTH24_STENCIL8=35056,lime_graphics_opengl_GL.DRAW_FRAMEBUFFER_BINDING=36006,lime_graphics_opengl_GL.READ_FRAMEBUFFER=36008,lime_graphics_opengl_GL.DRAW_FRAMEBUFFER=36009,lime_graphics_opengl_GL.READ_FRAMEBUFFER_BINDING=36010,lime_graphics_opengl_GL.RENDERBUFFER_SAMPLES=36011,lime_graphics_opengl_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,lime_graphics_opengl_GL.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,lime_graphics_opengl_GL.UNIFORM_BUFFER=35345,lime_graphics_opengl_GL.UNIFORM_BUFFER_BINDING=35368,lime_graphics_opengl_GL.UNIFORM_BUFFER_START=35369,lime_graphics_opengl_GL.UNIFORM_BUFFER_SIZE=35370,lime_graphics_opengl_GL.MAX_VERTEX_UNIFORM_BLOCKS=35371,lime_graphics_opengl_GL.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,lime_graphics_opengl_GL.MAX_COMBINED_UNIFORM_BLOCKS=35374,lime_graphics_opengl_GL.MAX_UNIFORM_BUFFER_BINDINGS=35375,lime_graphics_opengl_GL.MAX_UNIFORM_BLOCK_SIZE=35376,lime_graphics_opengl_GL.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,lime_graphics_opengl_GL.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,lime_graphics_opengl_GL.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,lime_graphics_opengl_GL.ACTIVE_UNIFORM_BLOCKS=35382,lime_graphics_opengl_GL.UNIFORM_TYPE=35383,lime_graphics_opengl_GL.UNIFORM_SIZE=35384,lime_graphics_opengl_GL.UNIFORM_BLOCK_INDEX=35386,lime_graphics_opengl_GL.UNIFORM_OFFSET=35387,lime_graphics_opengl_GL.UNIFORM_ARRAY_STRIDE=35388,lime_graphics_opengl_GL.UNIFORM_MATRIX_STRIDE=35389,lime_graphics_opengl_GL.UNIFORM_IS_ROW_MAJOR=35390,lime_graphics_opengl_GL.UNIFORM_BLOCK_BINDING=35391,lime_graphics_opengl_GL.UNIFORM_BLOCK_DATA_SIZE=35392,lime_graphics_opengl_GL.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,lime_graphics_opengl_GL.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,lime_graphics_opengl_GL.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,lime_graphics_opengl_GL.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,lime_graphics_opengl_GL.OBJECT_TYPE=37138,lime_graphics_opengl_GL.SYNC_CONDITION=37139,lime_graphics_opengl_GL.SYNC_STATUS=37140,lime_graphics_opengl_GL.SYNC_FLAGS=37141,lime_graphics_opengl_GL.SYNC_FENCE=37142,lime_graphics_opengl_GL.SYNC_GPU_COMMANDS_COMPLETE=37143,lime_graphics_opengl_GL.UNSIGNALED=37144,lime_graphics_opengl_GL.SIGNALED=37145,lime_graphics_opengl_GL.ALREADY_SIGNALED=37146,lime_graphics_opengl_GL.TIMEOUT_EXPIRED=37147,lime_graphics_opengl_GL.CONDITION_SATISFIED=37148,lime_graphics_opengl_GL.WAIT_FAILED=37149,lime_graphics_opengl_GL.SYNC_FLUSH_COMMANDS_BIT=1,lime_graphics_opengl_GL.COLOR=6144,lime_graphics_opengl_GL.DEPTH=6145,lime_graphics_opengl_GL.STENCIL=6146,lime_graphics_opengl_GL.MIN=32775,lime_graphics_opengl_GL.MAX=32776,lime_graphics_opengl_GL.DEPTH_COMPONENT24=33190,lime_graphics_opengl_GL.STREAM_READ=35041,lime_graphics_opengl_GL.STREAM_COPY=35042,lime_graphics_opengl_GL.STATIC_READ=35045,lime_graphics_opengl_GL.STATIC_COPY=35046,lime_graphics_opengl_GL.DYNAMIC_READ=35049,lime_graphics_opengl_GL.DYNAMIC_COPY=35050,lime_graphics_opengl_GL.DEPTH_COMPONENT32F=36012,lime_graphics_opengl_GL.DEPTH32F_STENCIL8=36013,lime_graphics_opengl_GL.INVALID_INDEX=-1,lime_graphics_opengl_GL.TIMEOUT_IGNORED=-1,lime_graphics_opengl_GL.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447,lime_math_ColorMatrix.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],lime_math_Matrix3.__identity=new lime_math_Matrix3,lime_math_Matrix4.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],lime_media_openal_AL.NONE=0,lime_media_openal_AL.FALSE=0,lime_media_openal_AL.TRUE=1,lime_media_openal_AL.SOURCE_RELATIVE=514,lime_media_openal_AL.CONE_INNER_ANGLE=4097,lime_media_openal_AL.CONE_OUTER_ANGLE=4098,lime_media_openal_AL.PITCH=4099,lime_media_openal_AL.POSITION=4100,lime_media_openal_AL.DIRECTION=4101,lime_media_openal_AL.VELOCITY=4102,lime_media_openal_AL.LOOPING=4103,lime_media_openal_AL.BUFFER=4105,lime_media_openal_AL.GAIN=4106,lime_media_openal_AL.MIN_GAIN=4109,lime_media_openal_AL.MAX_GAIN=4110,lime_media_openal_AL.ORIENTATION=4111,lime_media_openal_AL.SOURCE_STATE=4112,lime_media_openal_AL.INITIAL=4113,lime_media_openal_AL.PLAYING=4114,lime_media_openal_AL.PAUSED=4115,lime_media_openal_AL.STOPPED=4116,lime_media_openal_AL.BUFFERS_QUEUED=4117,lime_media_openal_AL.BUFFERS_PROCESSED=4118,lime_media_openal_AL.REFERENCE_DISTANCE=4128,lime_media_openal_AL.ROLLOFF_FACTOR=4129,lime_media_openal_AL.CONE_OUTER_GAIN=4130,lime_media_openal_AL.MAX_DISTANCE=4131,lime_media_openal_AL.SEC_OFFSET=4132,lime_media_openal_AL.SAMPLE_OFFSET=4133,lime_media_openal_AL.BYTE_OFFSET=4134,lime_media_openal_AL.SOURCE_TYPE=4135,lime_media_openal_AL.STATIC=4136,lime_media_openal_AL.STREAMING=4137,lime_media_openal_AL.UNDETERMINED=4144,lime_media_openal_AL.FORMAT_MONO8=4352,lime_media_openal_AL.FORMAT_MONO16=4353,lime_media_openal_AL.FORMAT_STEREO8=4354,lime_media_openal_AL.FORMAT_STEREO16=4355,lime_media_openal_AL.FREQUENCY=8193,lime_media_openal_AL.BITS=8194,lime_media_openal_AL.CHANNELS=8195,lime_media_openal_AL.SIZE=8196,lime_media_openal_AL.NO_ERROR=0,lime_media_openal_AL.INVALID_NAME=40961,lime_media_openal_AL.INVALID_ENUM=40962,lime_media_openal_AL.INVALID_VALUE=40963,lime_media_openal_AL.INVALID_OPERATION=40964,lime_media_openal_AL.OUT_OF_MEMORY=40965,lime_media_openal_AL.VENDOR=45057,lime_media_openal_AL.VERSION=45058,lime_media_openal_AL.RENDERER=45059,lime_media_openal_AL.EXTENSIONS=45060,lime_media_openal_AL.DOPPLER_FACTOR=49152,lime_media_openal_AL.SPEED_OF_SOUND=49155,lime_media_openal_AL.DOPPLER_VELOCITY=49153,lime_media_openal_AL.DISTANCE_MODEL=53248,lime_media_openal_AL.INVERSE_DISTANCE=53249,lime_media_openal_AL.INVERSE_DISTANCE_CLAMPED=53250,lime_media_openal_AL.LINEAR_DISTANCE=53251,lime_media_openal_AL.LINEAR_DISTANCE_CLAMPED=53252,lime_media_openal_AL.EXPONENT_DISTANCE=53253,lime_media_openal_AL.EXPONENT_DISTANCE_CLAMPED=53254,lime_media_openal_AL.METERS_PER_UNIT=131076,lime_media_openal_AL.DIRECT_FILTER=131077,lime_media_openal_AL.AUXILIARY_SEND_FILTER=131078,lime_media_openal_AL.AIR_ABSORPTION_FACTOR=131079,lime_media_openal_AL.ROOM_ROLLOFF_FACTOR=131080,lime_media_openal_AL.CONE_OUTER_GAINHF=131081,lime_media_openal_AL.DIRECT_FILTER_GAINHF_AUTO=131082,lime_media_openal_AL.AUXILIARY_SEND_FILTER_GAIN_AUTO=131083,lime_media_openal_AL.AUXILIARY_SEND_FILTER_GAINHF_AUTO=131084,lime_media_openal_AL.REVERB_DENSITY=1,lime_media_openal_AL.REVERB_DIFFUSION=2,lime_media_openal_AL.REVERB_GAIN=3,lime_media_openal_AL.REVERB_GAINHF=4,lime_media_openal_AL.REVERB_DECAY_TIME=5,lime_media_openal_AL.REVERB_DECAY_HFRATIO=6,lime_media_openal_AL.REVERB_REFLECTIONS_GAIN=7,lime_media_openal_AL.REVERB_REFLECTIONS_DELAY=8,lime_media_openal_AL.REVERB_LATE_REVERB_GAIN=9,lime_media_openal_AL.REVERB_LATE_REVERB_DELAY=10,lime_media_openal_AL.REVERB_AIR_ABSORPTION_GAINHF=11,lime_media_openal_AL.REVERB_ROOM_ROLLOFF_FACTOR=12,lime_media_openal_AL.REVERB_DECAY_HFLIMIT=13,lime_media_openal_AL.EAXREVERB_DENSITY=1,lime_media_openal_AL.EAXREVERB_DIFFUSION=2,lime_media_openal_AL.EAXREVERB_GAIN=3,lime_media_openal_AL.EAXREVERB_GAINHF=4,lime_media_openal_AL.EAXREVERB_GAINLF=5,lime_media_openal_AL.EAXREVERB_DECAY_TIME=6,lime_media_openal_AL.EAXREVERB_DECAY_HFRATIO=7,lime_media_openal_AL.EAXREVERB_DECAY_LFRATIO=8,lime_media_openal_AL.EAXREVERB_REFLECTIONS_GAIN=9,lime_media_openal_AL.EAXREVERB_REFLECTIONS_DELAY=10,lime_media_openal_AL.EAXREVERB_REFLECTIONS_PAN=11,lime_media_openal_AL.EAXREVERB_LATE_REVERB_GAIN=12,lime_media_openal_AL.EAXREVERB_LATE_REVERB_DELAY=13,lime_media_openal_AL.EAXREVERB_LATE_REVERB_PAN=14,lime_media_openal_AL.EAXREVERB_ECHO_TIME=15,lime_media_openal_AL.EAXREVERB_ECHO_DEPTH=16,lime_media_openal_AL.EAXREVERB_MODULATION_TIME=17,lime_media_openal_AL.EAXREVERB_MODULATION_DEPTH=18,lime_media_openal_AL.EAXREVERB_AIR_ABSORPTION_GAINHF=19,lime_media_openal_AL.EAXREVERB_HFREFERENCE=20,lime_media_openal_AL.EAXREVERB_LFREFERENCE=21,lime_media_openal_AL.EAXREVERB_ROOM_ROLLOFF_FACTOR=22,lime_media_openal_AL.EAXREVERB_DECAY_HFLIMIT=23,lime_media_openal_AL.CHORUS_WAVEFORM=1,lime_media_openal_AL.CHORUS_PHASE=2,lime_media_openal_AL.CHORUS_RATE=3,lime_media_openal_AL.CHORUS_DEPTH=4,lime_media_openal_AL.CHORUS_FEEDBACK=5,lime_media_openal_AL.CHORUS_DELAY=6,lime_media_openal_AL.DISTORTION_EDGE=1,lime_media_openal_AL.DISTORTION_GAIN=2,lime_media_openal_AL.DISTORTION_LOWPASS_CUTOFF=3,lime_media_openal_AL.DISTORTION_EQCENTER=4,lime_media_openal_AL.DISTORTION_EQBANDWIDTH=5,lime_media_openal_AL.ECHO_DELAY=1,lime_media_openal_AL.ECHO_LRDELAY=2,lime_media_openal_AL.ECHO_DAMPING=3,lime_media_openal_AL.ECHO_FEEDBACK=4,lime_media_openal_AL.ECHO_SPREAD=5,lime_media_openal_AL.FLANGER_WAVEFORM=1,lime_media_openal_AL.FLANGER_PHASE=2,lime_media_openal_AL.FLANGER_RATE=3,lime_media_openal_AL.FLANGER_DEPTH=4,lime_media_openal_AL.FLANGER_FEEDBACK=5,lime_media_openal_AL.FLANGER_DELAY=6,lime_media_openal_AL.FREQUENCY_SHIFTER_FREQUENCY=1,lime_media_openal_AL.FREQUENCY_SHIFTER_LEFT_DIRECTION=2,lime_media_openal_AL.FREQUENCY_SHIFTER_RIGHT_DIRECTION=3,lime_media_openal_AL.VOCAL_MORPHER_PHONEMEA=1,lime_media_openal_AL.VOCAL_MORPHER_PHONEMEA_COARSE_TUNING=2,lime_media_openal_AL.VOCAL_MORPHER_PHONEMEB=3,lime_media_openal_AL.VOCAL_MORPHER_PHONEMEB_COARSE_TUNING=4,lime_media_openal_AL.VOCAL_MORPHER_WAVEFORM=5,lime_media_openal_AL.VOCAL_MORPHER_RATE=6,lime_media_openal_AL.PITCH_SHIFTER_COARSE_TUNE=1,lime_media_openal_AL.PITCH_SHIFTER_FINE_TUNE=2,lime_media_openal_AL.RING_MODULATOR_FREQUENCY=1,lime_media_openal_AL.RING_MODULATOR_HIGHPASS_CUTOFF=2,lime_media_openal_AL.RING_MODULATOR_WAVEFORM=3,lime_media_openal_AL.AUTOWAH_ATTACK_TIME=1,lime_media_openal_AL.AUTOWAH_RELEASE_TIME=2,lime_media_openal_AL.AUTOWAH_RESONANCE=3,lime_media_openal_AL.AUTOWAH_PEAK_GAIN=4,lime_media_openal_AL.COMPRESSOR_ONOFF=1,lime_media_openal_AL.EQUALIZER_LOW_GAIN=1,lime_media_openal_AL.EQUALIZER_LOW_CUTOFF=2,lime_media_openal_AL.EQUALIZER_MID1_GAIN=3,lime_media_openal_AL.EQUALIZER_MID1_CENTER=4,lime_media_openal_AL.EQUALIZER_MID1_WIDTH=5,lime_media_openal_AL.EQUALIZER_MID2_GAIN=6,lime_media_openal_AL.EQUALIZER_MID2_CENTER=7,lime_media_openal_AL.EQUALIZER_MID2_WIDTH=8,lime_media_openal_AL.EQUALIZER_HIGH_GAIN=9,lime_media_openal_AL.EQUALIZER_HIGH_CUTOFF=10,lime_media_openal_AL.EFFECT_FIRST_PARAMETER=0,lime_media_openal_AL.EFFECT_LAST_PARAMETER=32768,lime_media_openal_AL.EFFECT_TYPE=32769,lime_media_openal_AL.EFFECT_NULL=0,lime_media_openal_AL.EFFECT_EAXREVERB=32768,lime_media_openal_AL.EFFECT_REVERB=1,lime_media_openal_AL.EFFECT_CHORUS=2,lime_media_openal_AL.EFFECT_DISTORTION=3,lime_media_openal_AL.EFFECT_ECHO=4,lime_media_openal_AL.EFFECT_FLANGER=5,lime_media_openal_AL.EFFECT_FREQUENCY_SHIFTER=6,lime_media_openal_AL.EFFECT_VOCAL_MORPHER=7,lime_media_openal_AL.EFFECT_PITCH_SHIFTER=8,lime_media_openal_AL.EFFECT_RING_MODULATOR=9,lime_media_openal_AL.FFECT_AUTOWAH=10,lime_media_openal_AL.EFFECT_COMPRESSOR=11,lime_media_openal_AL.EFFECT_EQUALIZER=12,lime_media_openal_AL.EFFECTSLOT_EFFECT=1,lime_media_openal_AL.EFFECTSLOT_GAIN=2,lime_media_openal_AL.EFFECTSLOT_AUXILIARY_SEND_AUTO=3,lime_media_openal_AL.LOWPASS_GAIN=1,lime_media_openal_AL.LOWPASS_GAINHF=2,lime_media_openal_AL.HIGHPASS_GAIN=1,lime_media_openal_AL.HIGHPASS_GAINLF=2,lime_media_openal_AL.BANDPASS_GAIN=1,lime_media_openal_AL.BANDPASS_GAINLF=2,lime_media_openal_AL.BANDPASS_GAINHF=3,lime_media_openal_AL.FILTER_FIRST_PARAMETER=0,lime_media_openal_AL.FILTER_LAST_PARAMETER=32768,lime_media_openal_AL.FILTER_TYPE=32769,lime_media_openal_AL.FILTER_NULL=0,lime_media_openal_AL.FILTER_LOWPASS=1,lime_media_openal_AL.FILTER_HIGHPASS=2,lime_media_openal_AL.FILTER_BANDPASS=3,lime_media_openal_ALC.FALSE=0,lime_media_openal_ALC.TRUE=1,lime_media_openal_ALC.FREQUENCY=4103,lime_media_openal_ALC.REFRESH=4104,lime_media_openal_ALC.SYNC=4105,lime_media_openal_ALC.MONO_SOURCES=4112,lime_media_openal_ALC.STEREO_SOURCES=4113,lime_media_openal_ALC.NO_ERROR=0,lime_media_openal_ALC.INVALID_DEVICE=40961,lime_media_openal_ALC.INVALID_CONTEXT=40962,lime_media_openal_ALC.INVALID_ENUM=40963,lime_media_openal_ALC.INVALID_VALUE=40964,lime_media_openal_ALC.OUT_OF_MEMORY=40965,lime_media_openal_ALC.ATTRIBUTES_SIZE=4098,lime_media_openal_ALC.ALL_ATTRIBUTES=4099,lime_media_openal_ALC.DEFAULT_DEVICE_SPECIFIER=4100,lime_media_openal_ALC.DEVICE_SPECIFIER=4101,lime_media_openal_ALC.EXTENSIONS=4102,lime_media_openal_ALC.ENUMERATE_ALL_EXT=1,lime_media_openal_ALC.DEFAULT_ALL_DEVICES_SPECIFIER=4114,lime_media_openal_ALC.ALL_DEVICES_SPECIFIER=4115,lime_system_Clipboard.onUpdate=new lime_app__$Event_$Void_$Void,lime_system_JNI.alreadyCreated=new haxe_ds_StringMap,lime_system_JNI.initialized=!1,lime_system_Sensor.sensorByID=new haxe_ds_IntMap,lime_system_Sensor.sensors=[],lime_system_System.__directories=new haxe_ds_IntMap,lime_ui_Gamepad.devices=new haxe_ds_IntMap,lime_ui_Gamepad.onConnect=new lime_app__$Event_$lime_$ui_$Gamepad_$Void,lime_ui_GamepadAxis.LEFT_X=0,lime_ui_GamepadAxis.LEFT_Y=1,lime_ui_GamepadAxis.RIGHT_X=2,lime_ui_GamepadAxis.RIGHT_Y=3,lime_ui_GamepadAxis.TRIGGER_LEFT=4,lime_ui_GamepadAxis.TRIGGER_RIGHT=5,lime_ui_GamepadButton.A=0,lime_ui_GamepadButton.B=1,lime_ui_GamepadButton.X=2,lime_ui_GamepadButton.Y=3,lime_ui_GamepadButton.BACK=4,lime_ui_GamepadButton.GUIDE=5,lime_ui_GamepadButton.START=6,lime_ui_GamepadButton.LEFT_STICK=7,lime_ui_GamepadButton.RIGHT_STICK=8,lime_ui_GamepadButton.LEFT_SHOULDER=9,lime_ui_GamepadButton.RIGHT_SHOULDER=10,lime_ui_GamepadButton.DPAD_UP=11,lime_ui_GamepadButton.DPAD_DOWN=12,lime_ui_GamepadButton.DPAD_LEFT=13,lime_ui_GamepadButton.DPAD_RIGHT=14,lime_ui_Joystick.devices=new haxe_ds_IntMap,lime_ui_Joystick.onConnect=new lime_app__$Event_$lime_$ui_$Joystick_$Void,lime_ui_JoystickHatPosition.CENTER=0,lime_ui_JoystickHatPosition.DOWN=4,lime_ui_JoystickHatPosition.LEFT=8,lime_ui_JoystickHatPosition.RIGHT=2,lime_ui_JoystickHatPosition.UP=1,lime_ui_JoystickHatPosition.DOWN_LEFT=12,lime_ui_JoystickHatPosition.DOWN_RIGHT=6,lime_ui_JoystickHatPosition.UP_LEFT=9,lime_ui_JoystickHatPosition.UP_RIGHT=3,lime_ui_KeyCode.UNKNOWN=0,lime_ui_KeyCode.BACKSPACE=8,lime_ui_KeyCode.TAB=9,lime_ui_KeyCode.RETURN=13,lime_ui_KeyCode.ESCAPE=27,lime_ui_KeyCode.SPACE=32,lime_ui_KeyCode.EXCLAMATION=33,lime_ui_KeyCode.QUOTE=34,lime_ui_KeyCode.HASH=35,lime_ui_KeyCode.DOLLAR=36,lime_ui_KeyCode.PERCENT=37,lime_ui_KeyCode.AMPERSAND=38,lime_ui_KeyCode.SINGLE_QUOTE=39,lime_ui_KeyCode.LEFT_PARENTHESIS=40,lime_ui_KeyCode.RIGHT_PARENTHESIS=41,lime_ui_KeyCode.ASTERISK=42,lime_ui_KeyCode.PLUS=43,lime_ui_KeyCode.COMMA=44,lime_ui_KeyCode.MINUS=45,lime_ui_KeyCode.PERIOD=46,lime_ui_KeyCode.SLASH=47,lime_ui_KeyCode.NUMBER_0=48,lime_ui_KeyCode.NUMBER_1=49,lime_ui_KeyCode.NUMBER_2=50,lime_ui_KeyCode.NUMBER_3=51,lime_ui_KeyCode.NUMBER_4=52,lime_ui_KeyCode.NUMBER_5=53,lime_ui_KeyCode.NUMBER_6=54,lime_ui_KeyCode.NUMBER_7=55,lime_ui_KeyCode.NUMBER_8=56,lime_ui_KeyCode.NUMBER_9=57,lime_ui_KeyCode.COLON=58,lime_ui_KeyCode.SEMICOLON=59,lime_ui_KeyCode.LESS_THAN=60,lime_ui_KeyCode.EQUALS=61,lime_ui_KeyCode.GREATER_THAN=62,lime_ui_KeyCode.QUESTION=63,lime_ui_KeyCode.AT=64,lime_ui_KeyCode.LEFT_BRACKET=91,lime_ui_KeyCode.BACKSLASH=92,lime_ui_KeyCode.RIGHT_BRACKET=93,lime_ui_KeyCode.CARET=94,lime_ui_KeyCode.UNDERSCORE=95,lime_ui_KeyCode.GRAVE=96,lime_ui_KeyCode.A=97,lime_ui_KeyCode.B=98,lime_ui_KeyCode.C=99,lime_ui_KeyCode.D=100,lime_ui_KeyCode.E=101,lime_ui_KeyCode.F=102,lime_ui_KeyCode.G=103,lime_ui_KeyCode.H=104,lime_ui_KeyCode.I=105,lime_ui_KeyCode.J=106,lime_ui_KeyCode.K=107,lime_ui_KeyCode.L=108,lime_ui_KeyCode.M=109,lime_ui_KeyCode.N=110,lime_ui_KeyCode.O=111,lime_ui_KeyCode.P=112,lime_ui_KeyCode.Q=113,lime_ui_KeyCode.R=114,lime_ui_KeyCode.S=115,lime_ui_KeyCode.T=116,lime_ui_KeyCode.U=117,lime_ui_KeyCode.V=118,lime_ui_KeyCode.W=119,lime_ui_KeyCode.X=120,lime_ui_KeyCode.Y=121,lime_ui_KeyCode.Z=122,lime_ui_KeyCode.DELETE=127,lime_ui_KeyCode.CAPS_LOCK=1073741881,lime_ui_KeyCode.F1=1073741882,lime_ui_KeyCode.F2=1073741883,lime_ui_KeyCode.F3=1073741884,lime_ui_KeyCode.F4=1073741885,lime_ui_KeyCode.F5=1073741886,lime_ui_KeyCode.F6=1073741887,lime_ui_KeyCode.F7=1073741888,lime_ui_KeyCode.F8=1073741889,lime_ui_KeyCode.F9=1073741890,lime_ui_KeyCode.F10=1073741891,lime_ui_KeyCode.F11=1073741892,lime_ui_KeyCode.F12=1073741893,lime_ui_KeyCode.PRINT_SCREEN=1073741894,lime_ui_KeyCode.SCROLL_LOCK=1073741895,lime_ui_KeyCode.PAUSE=1073741896,lime_ui_KeyCode.INSERT=1073741897,lime_ui_KeyCode.HOME=1073741898,lime_ui_KeyCode.PAGE_UP=1073741899,lime_ui_KeyCode.END=1073741901,lime_ui_KeyCode.PAGE_DOWN=1073741902,lime_ui_KeyCode.RIGHT=1073741903,lime_ui_KeyCode.LEFT=1073741904,lime_ui_KeyCode.DOWN=1073741905,lime_ui_KeyCode.UP=1073741906,lime_ui_KeyCode.NUM_LOCK=1073741907,lime_ui_KeyCode.NUMPAD_DIVIDE=1073741908,lime_ui_KeyCode.NUMPAD_MULTIPLY=1073741909,lime_ui_KeyCode.NUMPAD_MINUS=1073741910,lime_ui_KeyCode.NUMPAD_PLUS=1073741911,lime_ui_KeyCode.NUMPAD_ENTER=1073741912,lime_ui_KeyCode.NUMPAD_1=1073741913,lime_ui_KeyCode.NUMPAD_2=1073741914,lime_ui_KeyCode.NUMPAD_3=1073741915,lime_ui_KeyCode.NUMPAD_4=1073741916,lime_ui_KeyCode.NUMPAD_5=1073741917,lime_ui_KeyCode.NUMPAD_6=1073741918,lime_ui_KeyCode.NUMPAD_7=1073741919,lime_ui_KeyCode.NUMPAD_8=1073741920,lime_ui_KeyCode.NUMPAD_9=1073741921,lime_ui_KeyCode.NUMPAD_0=1073741922,lime_ui_KeyCode.NUMPAD_PERIOD=1073741923,lime_ui_KeyCode.APPLICATION=1073741925,lime_ui_KeyCode.POWER=1073741926,lime_ui_KeyCode.NUMPAD_EQUALS=1073741927,lime_ui_KeyCode.F13=1073741928,lime_ui_KeyCode.F14=1073741929,lime_ui_KeyCode.F15=1073741930,lime_ui_KeyCode.F16=1073741931,lime_ui_KeyCode.F17=1073741932,lime_ui_KeyCode.F18=1073741933,lime_ui_KeyCode.F19=1073741934,lime_ui_KeyCode.F20=1073741935,lime_ui_KeyCode.F21=1073741936,lime_ui_KeyCode.F22=1073741937,lime_ui_KeyCode.F23=1073741938,lime_ui_KeyCode.F24=1073741939,lime_ui_KeyCode.EXECUTE=1073741940,lime_ui_KeyCode.HELP=1073741941,lime_ui_KeyCode.MENU=1073741942,lime_ui_KeyCode.SELECT=1073741943,lime_ui_KeyCode.STOP=1073741944,lime_ui_KeyCode.AGAIN=1073741945,lime_ui_KeyCode.UNDO=1073741946,lime_ui_KeyCode.CUT=1073741947,lime_ui_KeyCode.COPY=1073741948,lime_ui_KeyCode.PASTE=1073741949,lime_ui_KeyCode.FIND=1073741950,lime_ui_KeyCode.MUTE=1073741951,lime_ui_KeyCode.VOLUME_UP=1073741952,lime_ui_KeyCode.VOLUME_DOWN=1073741953,lime_ui_KeyCode.NUMPAD_COMMA=1073741957,lime_ui_KeyCode.ALT_ERASE=1073741977,lime_ui_KeyCode.SYSTEM_REQUEST=1073741978,lime_ui_KeyCode.CANCEL=1073741979,lime_ui_KeyCode.CLEAR=1073741980,lime_ui_KeyCode.PRIOR=1073741981,lime_ui_KeyCode.RETURN2=1073741982,lime_ui_KeyCode.SEPARATOR=1073741983,lime_ui_KeyCode.OUT=1073741984,lime_ui_KeyCode.OPER=1073741985,lime_ui_KeyCode.CLEAR_AGAIN=1073741986,lime_ui_KeyCode.CRSEL=1073741987,lime_ui_KeyCode.EXSEL=1073741988,lime_ui_KeyCode.NUMPAD_00=1073742e3,lime_ui_KeyCode.NUMPAD_000=1073742001,lime_ui_KeyCode.THOUSAND_SEPARATOR=1073742002,lime_ui_KeyCode.DECIMAL_SEPARATOR=1073742003,lime_ui_KeyCode.CURRENCY_UNIT=1073742004,lime_ui_KeyCode.CURRENCY_SUBUNIT=1073742005,lime_ui_KeyCode.NUMPAD_LEFT_PARENTHESIS=1073742006,lime_ui_KeyCode.NUMPAD_RIGHT_PARENTHESIS=1073742007,lime_ui_KeyCode.NUMPAD_LEFT_BRACE=1073742008,lime_ui_KeyCode.NUMPAD_RIGHT_BRACE=1073742009,lime_ui_KeyCode.NUMPAD_TAB=1073742010,lime_ui_KeyCode.NUMPAD_BACKSPACE=1073742011,lime_ui_KeyCode.NUMPAD_A=1073742012,lime_ui_KeyCode.NUMPAD_B=1073742013,lime_ui_KeyCode.NUMPAD_C=1073742014,lime_ui_KeyCode.NUMPAD_D=1073742015,lime_ui_KeyCode.NUMPAD_E=1073742016,lime_ui_KeyCode.NUMPAD_F=1073742017,lime_ui_KeyCode.NUMPAD_XOR=1073742018,lime_ui_KeyCode.NUMPAD_POWER=1073742019,lime_ui_KeyCode.NUMPAD_PERCENT=1073742020,lime_ui_KeyCode.NUMPAD_LESS_THAN=1073742021,lime_ui_KeyCode.NUMPAD_GREATER_THAN=1073742022,lime_ui_KeyCode.NUMPAD_AMPERSAND=1073742023,lime_ui_KeyCode.NUMPAD_DOUBLE_AMPERSAND=1073742024,lime_ui_KeyCode.NUMPAD_VERTICAL_BAR=1073742025,lime_ui_KeyCode.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,lime_ui_KeyCode.NUMPAD_COLON=1073742027,lime_ui_KeyCode.NUMPAD_HASH=1073742028,lime_ui_KeyCode.NUMPAD_SPACE=1073742029,lime_ui_KeyCode.NUMPAD_AT=1073742030,lime_ui_KeyCode.NUMPAD_EXCLAMATION=1073742031,lime_ui_KeyCode.NUMPAD_MEM_STORE=1073742032,lime_ui_KeyCode.NUMPAD_MEM_RECALL=1073742033,lime_ui_KeyCode.NUMPAD_MEM_CLEAR=1073742034,lime_ui_KeyCode.NUMPAD_MEM_ADD=1073742035,lime_ui_KeyCode.NUMPAD_MEM_SUBTRACT=1073742036,lime_ui_KeyCode.NUMPAD_MEM_MULTIPLY=1073742037,lime_ui_KeyCode.NUMPAD_MEM_DIVIDE=1073742038,lime_ui_KeyCode.NUMPAD_PLUS_MINUS=1073742039,lime_ui_KeyCode.NUMPAD_CLEAR=1073742040,lime_ui_KeyCode.NUMPAD_CLEAR_ENTRY=1073742041,lime_ui_KeyCode.NUMPAD_BINARY=1073742042,lime_ui_KeyCode.NUMPAD_OCTAL=1073742043,lime_ui_KeyCode.NUMPAD_DECIMAL=1073742044,lime_ui_KeyCode.NUMPAD_HEXADECIMAL=1073742045,lime_ui_KeyCode.LEFT_CTRL=1073742048,lime_ui_KeyCode.LEFT_SHIFT=1073742049,lime_ui_KeyCode.LEFT_ALT=1073742050,lime_ui_KeyCode.LEFT_META=1073742051,lime_ui_KeyCode.RIGHT_CTRL=1073742052,lime_ui_KeyCode.RIGHT_SHIFT=1073742053,lime_ui_KeyCode.RIGHT_ALT=1073742054,lime_ui_KeyCode.RIGHT_META=1073742055,lime_ui_KeyCode.MODE=1073742081,lime_ui_KeyCode.AUDIO_NEXT=1073742082,lime_ui_KeyCode.AUDIO_PREVIOUS=1073742083,lime_ui_KeyCode.AUDIO_STOP=1073742084,lime_ui_KeyCode.AUDIO_PLAY=1073742085,lime_ui_KeyCode.AUDIO_MUTE=1073742086,lime_ui_KeyCode.MEDIA_SELECT=1073742087,lime_ui_KeyCode.WWW=1073742088,lime_ui_KeyCode.MAIL=1073742089,lime_ui_KeyCode.CALCULATOR=1073742090,lime_ui_KeyCode.COMPUTER=1073742091,lime_ui_KeyCode.APP_CONTROL_SEARCH=1073742092,lime_ui_KeyCode.APP_CONTROL_HOME=1073742093,lime_ui_KeyCode.APP_CONTROL_BACK=1073742094,lime_ui_KeyCode.APP_CONTROL_FORWARD=1073742095,lime_ui_KeyCode.APP_CONTROL_STOP=1073742096,lime_ui_KeyCode.APP_CONTROL_REFRESH=1073742097,lime_ui_KeyCode.APP_CONTROL_BOOKMARKS=1073742098,lime_ui_KeyCode.BRIGHTNESS_DOWN=1073742099,lime_ui_KeyCode.BRIGHTNESS_UP=1073742100,lime_ui_KeyCode.DISPLAY_SWITCH=1073742101,lime_ui_KeyCode.BACKLIGHT_TOGGLE=1073742102,lime_ui_KeyCode.BACKLIGHT_DOWN=1073742103,lime_ui_KeyCode.BACKLIGHT_UP=1073742104,lime_ui_KeyCode.EJECT=1073742105,lime_ui_KeyCode.SLEEP=1073742106,lime_ui_KeyModifier.NONE=0,lime_ui_KeyModifier.LEFT_SHIFT=1,lime_ui_KeyModifier.RIGHT_SHIFT=2,lime_ui_KeyModifier.LEFT_CTRL=64,lime_ui_KeyModifier.RIGHT_CTRL=128,lime_ui_KeyModifier.LEFT_ALT=256,lime_ui_KeyModifier.RIGHT_ALT=512,lime_ui_KeyModifier.LEFT_META=1024,lime_ui_KeyModifier.RIGHT_META=2048,lime_ui_KeyModifier.NUM_LOCK=4096,lime_ui_KeyModifier.CAPS_LOCK=8192,lime_ui_KeyModifier.MODE=16384,lime_ui_KeyModifier.CTRL=192,lime_ui_KeyModifier.SHIFT=3,lime_ui_KeyModifier.ALT=768,lime_ui_KeyModifier.META=3072,lime_ui_ScanCode.UNKNOWN=0,lime_ui_ScanCode.BACKSPACE=42,lime_ui_ScanCode.TAB=43,lime_ui_ScanCode.RETURN=40,lime_ui_ScanCode.ESCAPE=41,lime_ui_ScanCode.SPACE=44,lime_ui_ScanCode.SINGLE_QUOTE=52,lime_ui_ScanCode.COMMA=54,lime_ui_ScanCode.MINUS=45,lime_ui_ScanCode.PERIOD=55,lime_ui_ScanCode.SLASH=56,lime_ui_ScanCode.NUMBER_0=39,lime_ui_ScanCode.NUMBER_1=30,lime_ui_ScanCode.NUMBER_2=31,lime_ui_ScanCode.NUMBER_3=32,lime_ui_ScanCode.NUMBER_4=33,lime_ui_ScanCode.NUMBER_5=34,lime_ui_ScanCode.NUMBER_6=35,lime_ui_ScanCode.NUMBER_7=36,lime_ui_ScanCode.NUMBER_8=37,lime_ui_ScanCode.NUMBER_9=38,lime_ui_ScanCode.SEMICOLON=51,lime_ui_ScanCode.EQUALS=46,lime_ui_ScanCode.LEFT_BRACKET=47,lime_ui_ScanCode.BACKSLASH=49,lime_ui_ScanCode.RIGHT_BRACKET=48,lime_ui_ScanCode.GRAVE=53,lime_ui_ScanCode.A=4,lime_ui_ScanCode.B=5,lime_ui_ScanCode.C=6,lime_ui_ScanCode.D=7,lime_ui_ScanCode.E=8,lime_ui_ScanCode.F=9,lime_ui_ScanCode.G=10,lime_ui_ScanCode.H=11,lime_ui_ScanCode.I=12,lime_ui_ScanCode.J=13,lime_ui_ScanCode.K=14,lime_ui_ScanCode.L=15,lime_ui_ScanCode.M=16,lime_ui_ScanCode.N=17,lime_ui_ScanCode.O=18,lime_ui_ScanCode.P=19,lime_ui_ScanCode.Q=20,lime_ui_ScanCode.R=21,lime_ui_ScanCode.S=22,lime_ui_ScanCode.T=23,lime_ui_ScanCode.U=24,lime_ui_ScanCode.V=25,lime_ui_ScanCode.W=26,lime_ui_ScanCode.X=27,lime_ui_ScanCode.Y=28,lime_ui_ScanCode.Z=29,lime_ui_ScanCode.DELETE=76,lime_ui_ScanCode.CAPS_LOCK=57,lime_ui_ScanCode.F1=58,lime_ui_ScanCode.F2=59,lime_ui_ScanCode.F3=60,lime_ui_ScanCode.F4=61,lime_ui_ScanCode.F5=62,lime_ui_ScanCode.F6=63,lime_ui_ScanCode.F7=64,lime_ui_ScanCode.F8=65,lime_ui_ScanCode.F9=66,lime_ui_ScanCode.F10=67,lime_ui_ScanCode.F11=68,lime_ui_ScanCode.F12=69,lime_ui_ScanCode.PRINT_SCREEN=70,lime_ui_ScanCode.SCROLL_LOCK=71,lime_ui_ScanCode.PAUSE=72,lime_ui_ScanCode.INSERT=73,lime_ui_ScanCode.HOME=74,lime_ui_ScanCode.PAGE_UP=75,lime_ui_ScanCode.END=77,lime_ui_ScanCode.PAGE_DOWN=78,lime_ui_ScanCode.RIGHT=79,lime_ui_ScanCode.LEFT=80,lime_ui_ScanCode.DOWN=81,lime_ui_ScanCode.UP=82,lime_ui_ScanCode.NUM_LOCK=83,lime_ui_ScanCode.NUMPAD_DIVIDE=84,lime_ui_ScanCode.NUMPAD_MULTIPLY=85,lime_ui_ScanCode.NUMPAD_MINUS=86,lime_ui_ScanCode.NUMPAD_PLUS=87;lime_ui_ScanCode.NUMPAD_ENTER=88,lime_ui_ScanCode.NUMPAD_1=89,lime_ui_ScanCode.NUMPAD_2=90,lime_ui_ScanCode.NUMPAD_3=91,lime_ui_ScanCode.NUMPAD_4=92,lime_ui_ScanCode.NUMPAD_5=93,lime_ui_ScanCode.NUMPAD_6=94,lime_ui_ScanCode.NUMPAD_7=95,lime_ui_ScanCode.NUMPAD_8=96,lime_ui_ScanCode.NUMPAD_9=97,lime_ui_ScanCode.NUMPAD_0=98,lime_ui_ScanCode.NUMPAD_PERIOD=99,lime_ui_ScanCode.APPLICATION=101,lime_ui_ScanCode.POWER=102,lime_ui_ScanCode.NUMPAD_EQUALS=103,lime_ui_ScanCode.F13=104,lime_ui_ScanCode.F14=105,lime_ui_ScanCode.F15=106,lime_ui_ScanCode.F16=107,lime_ui_ScanCode.F17=108,lime_ui_ScanCode.F18=109,lime_ui_ScanCode.F19=110,lime_ui_ScanCode.F20=111,lime_ui_ScanCode.F21=112,lime_ui_ScanCode.F22=113,lime_ui_ScanCode.F23=114,lime_ui_ScanCode.F24=115,lime_ui_ScanCode.EXECUTE=116,lime_ui_ScanCode.HELP=117,lime_ui_ScanCode.MENU=118,lime_ui_ScanCode.SELECT=119,lime_ui_ScanCode.STOP=120,lime_ui_ScanCode.AGAIN=121,lime_ui_ScanCode.UNDO=122,lime_ui_ScanCode.CUT=123,lime_ui_ScanCode.COPY=124,lime_ui_ScanCode.PASTE=125,lime_ui_ScanCode.FIND=126,lime_ui_ScanCode.MUTE=127,lime_ui_ScanCode.VOLUME_UP=128,lime_ui_ScanCode.VOLUME_DOWN=129,lime_ui_ScanCode.NUMPAD_COMMA=133,lime_ui_ScanCode.ALT_ERASE=153,lime_ui_ScanCode.SYSTEM_REQUEST=154,lime_ui_ScanCode.CANCEL=155,lime_ui_ScanCode.CLEAR=156,lime_ui_ScanCode.PRIOR=157,lime_ui_ScanCode.RETURN2=158,lime_ui_ScanCode.SEPARATOR=159,lime_ui_ScanCode.OUT=160,lime_ui_ScanCode.OPER=161,lime_ui_ScanCode.CLEAR_AGAIN=162,lime_ui_ScanCode.CRSEL=163,lime_ui_ScanCode.EXSEL=164,lime_ui_ScanCode.NUMPAD_00=176,lime_ui_ScanCode.NUMPAD_000=177,lime_ui_ScanCode.THOUSAND_SEPARATOR=178,lime_ui_ScanCode.DECIMAL_SEPARATOR=179,lime_ui_ScanCode.CURRENCY_UNIT=180,lime_ui_ScanCode.CURRENCY_SUBUNIT=181,lime_ui_ScanCode.NUMPAD_LEFT_PARENTHESIS=182,lime_ui_ScanCode.NUMPAD_RIGHT_PARENTHESIS=183,lime_ui_ScanCode.NUMPAD_LEFT_BRACE=184,lime_ui_ScanCode.NUMPAD_RIGHT_BRACE=185,lime_ui_ScanCode.NUMPAD_TAB=186,lime_ui_ScanCode.NUMPAD_BACKSPACE=187,lime_ui_ScanCode.NUMPAD_A=188,lime_ui_ScanCode.NUMPAD_B=189,lime_ui_ScanCode.NUMPAD_C=190,lime_ui_ScanCode.NUMPAD_D=191,lime_ui_ScanCode.NUMPAD_E=192,lime_ui_ScanCode.NUMPAD_F=193,lime_ui_ScanCode.NUMPAD_XOR=194,lime_ui_ScanCode.NUMPAD_POWER=195,lime_ui_ScanCode.NUMPAD_PERCENT=196,lime_ui_ScanCode.NUMPAD_LESS_THAN=197,lime_ui_ScanCode.NUMPAD_GREATER_THAN=198,lime_ui_ScanCode.NUMPAD_AMPERSAND=199,lime_ui_ScanCode.NUMPAD_DOUBLE_AMPERSAND=200,lime_ui_ScanCode.NUMPAD_VERTICAL_BAR=201,lime_ui_ScanCode.NUMPAD_DOUBLE_VERTICAL_BAR=202,lime_ui_ScanCode.NUMPAD_COLON=203,lime_ui_ScanCode.NUMPAD_HASH=204,lime_ui_ScanCode.NUMPAD_SPACE=205,lime_ui_ScanCode.NUMPAD_AT=206,lime_ui_ScanCode.NUMPAD_EXCLAMATION=207,lime_ui_ScanCode.NUMPAD_MEM_STORE=208,lime_ui_ScanCode.NUMPAD_MEM_RECALL=209,lime_ui_ScanCode.NUMPAD_MEM_CLEAR=210,lime_ui_ScanCode.NUMPAD_MEM_ADD=211,lime_ui_ScanCode.NUMPAD_MEM_SUBTRACT=212,lime_ui_ScanCode.NUMPAD_MEM_MULTIPLY=213,lime_ui_ScanCode.NUMPAD_MEM_DIVIDE=214,lime_ui_ScanCode.NUMPAD_PLUS_MINUS=215,lime_ui_ScanCode.NUMPAD_CLEAR=216,lime_ui_ScanCode.NUMPAD_CLEAR_ENTRY=217,lime_ui_ScanCode.NUMPAD_BINARY=218,lime_ui_ScanCode.NUMPAD_OCTAL=219,lime_ui_ScanCode.NUMPAD_DECIMAL=220,lime_ui_ScanCode.NUMPAD_HEXADECIMAL=221,lime_ui_ScanCode.LEFT_CTRL=224,lime_ui_ScanCode.LEFT_SHIFT=225,lime_ui_ScanCode.LEFT_ALT=226,lime_ui_ScanCode.LEFT_META=227,lime_ui_ScanCode.RIGHT_CTRL=228,lime_ui_ScanCode.RIGHT_SHIFT=229,lime_ui_ScanCode.RIGHT_ALT=230,lime_ui_ScanCode.RIGHT_META=231,lime_ui_ScanCode.MODE=257,lime_ui_ScanCode.AUDIO_NEXT=258,lime_ui_ScanCode.AUDIO_PREVIOUS=259,lime_ui_ScanCode.AUDIO_STOP=260,lime_ui_ScanCode.AUDIO_PLAY=261,lime_ui_ScanCode.AUDIO_MUTE=262,lime_ui_ScanCode.MEDIA_SELECT=263,lime_ui_ScanCode.WWW=264,lime_ui_ScanCode.MAIL=265,lime_ui_ScanCode.CALCULATOR=266,lime_ui_ScanCode.COMPUTER=267,lime_ui_ScanCode.APP_CONTROL_SEARCH=268,lime_ui_ScanCode.APP_CONTROL_HOME=269,lime_ui_ScanCode.APP_CONTROL_BACK=270,lime_ui_ScanCode.APP_CONTROL_FORWARD=271,lime_ui_ScanCode.APP_CONTROL_STOP=272,lime_ui_ScanCode.APP_CONTROL_REFRESH=273,lime_ui_ScanCode.APP_CONTROL_BOOKMARKS=274,lime_ui_ScanCode.BRIGHTNESS_DOWN=275,lime_ui_ScanCode.BRIGHTNESS_UP=276,lime_ui_ScanCode.DISPLAY_SWITCH=277,lime_ui_ScanCode.BACKLIGHT_TOGGLE=278,lime_ui_ScanCode.BACKLIGHT_DOWN=279,lime_ui_ScanCode.BACKLIGHT_UP=280,lime_ui_ScanCode.EJECT=281,lime_ui_ScanCode.SLEEP=282,lime_ui_Touch.onCancel=new lime_app__$Event_$lime_$ui_$Touch_$Void,lime_ui_Touch.onEnd=new lime_app__$Event_$lime_$ui_$Touch_$Void,lime_ui_Touch.onMove=new lime_app__$Event_$lime_$ui_$Touch_$Void,lime_ui_Touch.onStart=new lime_app__$Event_$lime_$ui_$Touch_$Void,lime_utils_Assets.cache=new lime_utils_AssetCache,lime_utils_Assets.onChange=new lime_app__$Event_$Void_$Void,lime_utils_Assets.bundlePaths=new haxe_ds_StringMap,lime_utils_Assets.libraries=new haxe_ds_StringMap,lime_utils_Assets.libraryPaths=new haxe_ds_StringMap,lime_utils_Float32Array.BYTES_PER_ELEMENT=4,lime_utils_Float64Array.BYTES_PER_ELEMENT=8,lime_utils_Int16Array.BYTES_PER_ELEMENT=2,lime_utils_Int32Array.BYTES_PER_ELEMENT=4,lime_utils_Int8Array.BYTES_PER_ELEMENT=1,lime_utils_Log.throwErrors=!0,lime_utils_LogLevel.NONE=0,lime_utils_LogLevel.ERROR=1,lime_utils_LogLevel.WARN=2,lime_utils_LogLevel.INFO=3,lime_utils_LogLevel.DEBUG=4,lime_utils_LogLevel.VERBOSE=5,lime_utils_UInt16Array.BYTES_PER_ELEMENT=2,lime_utils_UInt32Array.BYTES_PER_ELEMENT=4,lime_utils_UInt8Array.BYTES_PER_ELEMENT=1,lime_utils_UInt8ClampedArray.BYTES_PER_ELEMENT=1,openfl_Lib.__lastTimerID=0,openfl_Lib.__sentWarnings=new haxe_ds_StringMap,openfl_Lib.__timers=new haxe_ds_IntMap,openfl__$Vector_IVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl__$Vector_BoolVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl__$Vector_FloatVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl__$Vector_FunctionVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl__$Vector_IntVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl__$Vector_ObjectVector.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{concat:{SuppressWarnings:["checkstyle:Dynamic"]},toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_Application.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display_BitmapData.__meta__={fields:{image:{SuppressWarnings:["checkstyle:Dynamic"]},__framebufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__indexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__surface:{SuppressWarnings:["checkstyle:Dynamic"]},__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__vertexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},compare:{SuppressWarnings:["checkstyle:Dynamic"]},getSurface:{SuppressWarnings:["checkstyle:Dynamic"]},__fromImage:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_BitmapData.VERTEX_BUFFER_STRIDE=14,openfl_display_BitmapData.__tempVector=new lime_math_Vector2,openfl_display_BlendMode.ADD=0,openfl_display_BlendMode.ALPHA=1,openfl_display_BlendMode.DARKEN=2,openfl_display_BlendMode.DIFFERENCE=3,openfl_display_BlendMode.ERASE=4,openfl_display_BlendMode.HARDLIGHT=5,openfl_display_BlendMode.INVERT=6,openfl_display_BlendMode.LAYER=7,openfl_display_BlendMode.LIGHTEN=8,openfl_display_BlendMode.MULTIPLY=9,openfl_display_BlendMode.NORMAL=10,openfl_display_BlendMode.OVERLAY=11,openfl_display_BlendMode.SCREEN=12,openfl_display_BlendMode.SHADER=13,openfl_display_BlendMode.SUBTRACT=14,openfl_display_DisplayObjectRenderer.__meta__={fields:{__context:{SuppressWarnings:["checkstyle:Dynamic"]},__type:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_CairoRenderer.__meta__={fields:{cairo:{SuppressWarnings:["checkstyle:Dynamic"]},__matrix3:{SuppressWarnings:["checkstyle:Dynamic"]},applyMatrix:{SuppressWarnings:["checkstyle:Dynamic"]},__setBlendModeCairo:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_CanvasRenderer.__meta__={fields:{context:{SuppressWarnings:["checkstyle:Dynamic"]},applySmoothing:{SuppressWarnings:["checkstyle:Dynamic"]},setTransform:{SuppressWarnings:["checkstyle:Dynamic"]},__setBlendModeContext:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_CapsStyle.NONE=0,openfl_display_CapsStyle.ROUND=1,openfl_display_CapsStyle.SQUARE=2,openfl_display_DOMElement.__meta__={fields:{__element:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_DOMRenderer.__meta__={fields:{element:{SuppressWarnings:["checkstyle:Dynamic"]},applyStyle:{SuppressWarnings:["checkstyle:Dynamic"]},clearStyle:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_Shader.__meta__={fields:{glProgram:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_GradientType.LINEAR=0,openfl_display_GradientType.RADIAL=1,openfl_display_Graphics.__meta__={fields:{overrideBlendMode:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_display_GraphicsPath.SIN45=.7071067811865476,openfl_display_GraphicsPath.TAN22=.41421356237309503,openfl_display_GraphicsPathWinding.EVEN_ODD=0,openfl_display_GraphicsPathWinding.NON_ZERO=1,openfl_display_InterpolationMethod.LINEAR_RGB=0,openfl_display_InterpolationMethod.RGB=1,openfl_display_JointStyle.BEVEL=0,openfl_display_JointStyle.MITER=1,openfl_display_JointStyle.ROUND=2,openfl_display_LineScaleMode.HORIZONTAL=0,openfl_display_LineScaleMode.NONE=1,openfl_display_LineScaleMode.NORMAL=2,openfl_display_LineScaleMode.VERTICAL=3,openfl_display_Loader.__meta__={fields:{BitmapData_onError:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_LoaderInfo.__meta__={statics:{create:{SuppressWarnings:["checkstyle:FieldDocComment"]}},fields:{parameters:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_LoaderInfo.__rootURL="undefined"!=typeof window?window.document.URL:"",openfl_geom_Rectangle.__pool=new lime_utils_ObjectPool((function(){return new openfl_geom_Rectangle}),(function(e){e.setTo(0,0,0,0)})),openfl_display_OpenGLRenderer.__meta__={fields:{gl:{SuppressWarnings:["checkstyle:Dynamic"]},__gl:{SuppressWarnings:["checkstyle:Dynamic"]},__matrix:{SuppressWarnings:["checkstyle:Dynamic"]},__projection:{SuppressWarnings:["checkstyle:Dynamic"]},__projectionFlipped:{SuppressWarnings:["checkstyle:Dynamic"]},getMatrix:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_OpenGLRenderer.__alphaValue=[1],openfl_display_OpenGLRenderer.__colorMultipliersValue=[0,0,0,0],openfl_display_OpenGLRenderer.__colorOffsetsValue=[0,0,0,0],openfl_display_OpenGLRenderer.__defaultColorMultipliersValue=[1,1,1,1],openfl_display_OpenGLRenderer.__emptyColorValue=[0,0,0,0],openfl_display_OpenGLRenderer.__emptyAlphaValue=[1],openfl_display_OpenGLRenderer.__hasColorTransformValue=[!1],openfl_display_OpenGLRenderer.__scissorRectangle=new openfl_geom_Rectangle,openfl_display_OpenGLRenderer.__textureSizeValue=[0,0],openfl_display_PixelSnapping.ALWAYS=0,openfl_display_PixelSnapping.AUTO=1,openfl_display_PixelSnapping.NEVER=2,openfl_display_Preloader.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{onComplete:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_ShaderInput.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_display_ShaderParameter.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_display_ShaderParameterType.BOOL=0,openfl_display_ShaderParameterType.BOOL2=1,openfl_display_ShaderParameterType.BOOL3=2,openfl_display_ShaderParameterType.BOOL4=3,openfl_display_ShaderParameterType.FLOAT=4,openfl_display_ShaderParameterType.FLOAT2=5,openfl_display_ShaderParameterType.FLOAT3=6,openfl_display_ShaderParameterType.FLOAT4=7,openfl_display_ShaderParameterType.INT=8,openfl_display_ShaderParameterType.INT2=9,openfl_display_ShaderParameterType.INT3=10,openfl_display_ShaderParameterType.INT4=11,openfl_display_ShaderParameterType.MATRIX2X2=12,openfl_display_ShaderParameterType.MATRIX2X3=13,openfl_display_ShaderParameterType.MATRIX2X4=14,openfl_display_ShaderParameterType.MATRIX3X2=15,openfl_display_ShaderParameterType.MATRIX3X3=16,openfl_display_ShaderParameterType.MATRIX3X4=17,openfl_display_ShaderParameterType.MATRIX4X2=18,openfl_display_ShaderParameterType.MATRIX4X3=19,openfl_display_ShaderParameterType.MATRIX4X4=20,openfl_display_ShaderPrecision.FAST=0,openfl_display_ShaderPrecision.FULL=1,openfl_display_SpreadMethod.PAD=0,openfl_display_SpreadMethod.REFLECT=1,openfl_display_SpreadMethod.REPEAT=2,openfl_display_Stage.__meta__={fields:{__broadcastEvent:{SuppressWarnings:["checkstyle:Dynamic"]},__dispatchEvent:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchStack:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchTarget:{SuppressWarnings:["checkstyle:Dynamic"]},__handleError:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display_StageAlign.BOTTOM=0,openfl_display_StageAlign.BOTTOM_LEFT=1,openfl_display_StageAlign.BOTTOM_RIGHT=2,openfl_display_StageAlign.LEFT=3,openfl_display_StageAlign.RIGHT=4,openfl_display_StageAlign.TOP=5,openfl_display_StageAlign.TOP_LEFT=6,openfl_display_StageAlign.TOP_RIGHT=7,openfl_display_StageDisplayState.FULL_SCREEN=0,openfl_display_StageDisplayState.FULL_SCREEN_INTERACTIVE=1,openfl_display_StageDisplayState.NORMAL=2,openfl_display_StageQuality.BEST=0,openfl_display_StageQuality.HIGH=1,openfl_display_StageQuality.LOW=2,openfl_display_StageQuality.MEDIUM=3,openfl_display_StageScaleMode.EXACT_FIT=0,openfl_display_StageScaleMode.NO_BORDER=1,openfl_display_StageScaleMode.NO_SCALE=2,openfl_display_StageScaleMode.SHOW_ALL=3,openfl_display_Tile.__meta__={fields:{data:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$Tileset_TileData.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display_TriangleCulling.NEGATIVE=0,openfl_display_TriangleCulling.NONE=1,openfl_display_TriangleCulling.POSITIVE=2,openfl_display_Window.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{_:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_AbstractNoise.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoBitmap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoDisplayObject.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoGraphics.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoShape.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoTextField.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CairoTilemap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_CanvasBitmap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CanvasDisplayObject.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DrawCommandBuffer.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{o:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_DrawCommandBuffer.empty=new openfl_display__$internal_DrawCommandBuffer,openfl_display__$internal_CanvasGraphics.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{windingRule:{SuppressWarnings:["checkstyle:Dynamic"]},createBitmapFill:{SuppressWarnings:["checkstyle:Dynamic"]},createGradientPattern:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_CanvasGraphics.SIN45=.7071067811865476,openfl_display__$internal_CanvasGraphics.TAN22=.41421356237309503,openfl_display__$internal_CanvasGraphics.fillCommands=new openfl_display__$internal_DrawCommandBuffer,openfl_display__$internal_CanvasGraphics.strokeCommands=new openfl_display__$internal_DrawCommandBuffer,openfl_display__$internal_CanvasShape.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CanvasTextField.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_CanvasTilemap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_CanvasVideo.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DBitmap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DBuffer.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DBuffer.MAX_INDEX_BUFFER_LENGTH=65535,openfl_display__$internal_Context3DBuffer.MAX_QUADS_PER_INDEX_BUFFER=10922,openfl_display__$internal_Context3DBuffer.MAX_QUAD_INDEX_BUFFER_LENGTH=65532,openfl_display__$internal_Context3DDisplayObject.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_geom_Matrix.__meta__={fields:{equals:{SuppressWarnings:["checkstyle:FieldDocComment"]},to3DString:{SuppressWarnings:["checkstyle:FieldDocComment"]},toMozString:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_geom_Matrix.__identity=new openfl_geom_Matrix,openfl_geom_Matrix.__pool=new lime_utils_ObjectPool((function(){return new openfl_geom_Matrix}),(function(e){e.identity()})),openfl_geom_Matrix.__matrix3=new lime_math_Matrix3,openfl_geom_ColorTransform.__pool=new lime_utils_ObjectPool((function(){return new openfl_geom_ColorTransform}),(function(e){e.__identity()})),openfl_display__$internal_Context3DGraphics.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DGraphics.blankBitmapData=new openfl_display_BitmapData(1,1,!1,0),openfl_display__$internal_Context3DGraphics.tempColorTransform=new openfl_geom_ColorTransform(1,1,1,1,0,0,0,0),openfl_display__$internal_Context3DMaskShader.opaqueBitmapData=new openfl_display_BitmapData(1,1,!1,0),openfl_display__$internal_Context3DShape.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DTextField.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DTilemap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DVideo.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_Context3DVideo.__textureSizeValue=[0,0],openfl_display__$internal_DOMBitmap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DOMDisplayObject.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DOMShape.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DOMTextField.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DOMTextField.__regexColor=new EReg("color=(\"#([^\"]+)\"|'#([^']+)')","i"),openfl_display__$internal_DOMTextField.__regexFace=new EReg("face=(\"([^\"]+)\"|'([^']+)')","i"),openfl_display__$internal_DOMTextField.__regexFont=new EReg("<font ([^>]+)>","gi"),openfl_display__$internal_DOMTextField.__regexCloseFont=new EReg("</font>","gi"),openfl_display__$internal_DOMTextField.__regexSize=new EReg("size=(\"([^\"]+)\"|'([^']+)')","i"),openfl_display__$internal_DOMTilemap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DOMVideo.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_DrawCommandReader.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{obj:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display__$internal_FlashRenderer.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_FlashTilemap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_FlashTilemap.alphaColorTransform=new openfl_geom_ColorTransform,openfl_display__$internal_FlashTilemap.bitmap=new openfl_display_Bitmap,openfl_display__$internal_FlashTilemap.destPoint=new openfl_geom_Point,openfl_display__$internal_FlashTilemap.sourceRect=new openfl_geom_Rectangle,openfl_display__$internal_PerlinNoise.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{P:{SuppressWarnings:["checkstyle:ConstantName"]}}},openfl_display__$internal_PerlinNoise.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],openfl_display__$internal_SamplerState.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display__$internal_ShaderBuffer.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{overrideIntValues:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display3D_Context3D.supportsVideoTexture=!0,openfl_display3D_Context3D.__glDepthStencil=-1,openfl_display3D_Context3D.__glMaxTextureMaxAnisotropy=-1,openfl_display3D_Context3D.__glMaxViewportDims=-1,openfl_display3D_Context3D.__glMemoryCurrentAvailable=-1,openfl_display3D_Context3D.__glMemoryTotalAvailable=-1,openfl_display3D_Context3D.__glTextureMaxAnisotropy=-1,openfl_display3D_Context3DBlendFactor.DESTINATION_ALPHA=0,openfl_display3D_Context3DBlendFactor.DESTINATION_COLOR=1,openfl_display3D_Context3DBlendFactor.ONE=2,openfl_display3D_Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA=3,openfl_display3D_Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR=4,openfl_display3D_Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA=5,openfl_display3D_Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR=6,openfl_display3D_Context3DBlendFactor.SOURCE_ALPHA=7,openfl_display3D_Context3DBlendFactor.SOURCE_COLOR=8,openfl_display3D_Context3DBlendFactor.ZERO=9,openfl_display3D_Context3DBufferUsage.DYNAMIC_DRAW=0,openfl_display3D_Context3DBufferUsage.STATIC_DRAW=1,openfl_display3D_Context3DCompareMode.ALWAYS=0,openfl_display3D_Context3DCompareMode.EQUAL=1,openfl_display3D_Context3DCompareMode.GREATER=2,openfl_display3D_Context3DCompareMode.GREATER_EQUAL=3,openfl_display3D_Context3DCompareMode.LESS=4,openfl_display3D_Context3DCompareMode.LESS_EQUAL=5,openfl_display3D_Context3DCompareMode.NEVER=6,openfl_display3D_Context3DCompareMode.NOT_EQUAL=7,openfl_display3D_Context3DMipFilter.MIPLINEAR=0,openfl_display3D_Context3DMipFilter.MIPNEAREST=1,openfl_display3D_Context3DMipFilter.MIPNONE=2,openfl_display3D_Context3DProfile.BASELINE=0,openfl_display3D_Context3DProfile.BASELINE_CONSTRAINED=1,openfl_display3D_Context3DProfile.BASELINE_EXTENDED=2,openfl_display3D_Context3DProfile.STANDARD=3,openfl_display3D_Context3DProfile.STANDARD_CONSTRAINED=4,openfl_display3D_Context3DProfile.STANDARD_EXTENDED=5,openfl_display3D_Context3DProgramFormat.AGAL=0,openfl_display3D_Context3DProgramFormat.GLSL=1,openfl_display3D_Context3DProgramType.FRAGMENT=0,openfl_display3D_Context3DProgramType.VERTEX=1,openfl_display3D_Context3DRenderMode.AUTO=0,openfl_display3D_Context3DRenderMode.SOFTWARE=1,openfl_display3D_Context3DStencilAction.DECREMENT_SATURATE=0,openfl_display3D_Context3DStencilAction.DECREMENT_WRAP=1,openfl_display3D_Context3DStencilAction.INCREMENT_SATURATE=2,openfl_display3D_Context3DStencilAction.INCREMENT_WRAP=3,openfl_display3D_Context3DStencilAction.INVERT=4,openfl_display3D_Context3DStencilAction.KEEP=5,openfl_display3D_Context3DStencilAction.SET=6,openfl_display3D_Context3DStencilAction.ZERO=7,openfl_display3D_Context3DTextureFilter.ANISOTROPIC16X=0,openfl_display3D_Context3DTextureFilter.ANISOTROPIC2X=1,openfl_display3D_Context3DTextureFilter.ANISOTROPIC4X=2,openfl_display3D_Context3DTextureFilter.ANISOTROPIC8X=3,openfl_display3D_Context3DTextureFilter.LINEAR=4,openfl_display3D_Context3DTextureFilter.NEAREST=5,openfl_display3D_Context3DTextureFormat.BGR_PACKED=0,openfl_display3D_Context3DTextureFormat.BGRA=1,openfl_display3D_Context3DTextureFormat.BGRA_PACKED=2,openfl_display3D_Context3DTextureFormat.COMPRESSED=3,openfl_display3D_Context3DTextureFormat.COMPRESSED_ALPHA=4,openfl_display3D_Context3DTextureFormat.RGBA_HALF_FLOAT=5,openfl_display3D_Context3DTriangleFace.BACK=0,openfl_display3D_Context3DTriangleFace.FRONT=1,openfl_display3D_Context3DTriangleFace.FRONT_AND_BACK=2,openfl_display3D_Context3DTriangleFace.NONE=3,openfl_display3D_Context3DVertexBufferFormat.BYTES_4=0,openfl_display3D_Context3DVertexBufferFormat.FLOAT_1=1,openfl_display3D_Context3DVertexBufferFormat.FLOAT_2=2,openfl_display3D_Context3DVertexBufferFormat.FLOAT_3=3,openfl_display3D_Context3DVertexBufferFormat.FLOAT_4=4,openfl_display3D_Context3DWrapMode.CLAMP=0,openfl_display3D_Context3DWrapMode.CLAMP_U_REPEAT_V=1,openfl_display3D_Context3DWrapMode.REPEAT=2,openfl_display3D_Context3DWrapMode.REPEAT_U_CLAMP_V=3,openfl_display3D_Uniform.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D_UniformMap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal_AGALConverter.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal_AGALConverter.limitedProfile=!0,openfl_display3D__$internal__$AGALConverter_DestRegister.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal_RegisterMap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal__$AGALConverter_SamplerRegister.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal__$AGALConverter_SourceRegister.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal_ATFReader.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D__$internal_Context3DState.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_display3D_textures_TextureBase.__meta__={fields:{__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__getGLFramebuffer:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_display3D_textures_Texture.__lowMemoryMode=!1,openfl_errors_Error.DEFAULT_TO_STRING="Error",openfl_events_Event.ACTIVATE="activate",openfl_events_Event.ADDED="added",openfl_events_Event.ADDED_TO_STAGE="addedToStage",openfl_events_Event.CANCEL="cancel",openfl_events_Event.CHANGE="change",openfl_events_Event.CLEAR="clear",openfl_events_Event.CLOSE="close",openfl_events_Event.COMPLETE="complete",openfl_events_Event.CONNECT="connect",openfl_events_Event.CONTEXT3D_CREATE="context3DCreate",openfl_events_Event.COPY="copy",openfl_events_Event.CUT="cut",openfl_events_Event.DEACTIVATE="deactivate",openfl_events_Event.ENTER_FRAME="enterFrame",openfl_events_Event.EXIT_FRAME="exitFrame",openfl_events_Event.FRAME_CONSTRUCTED="frameConstructed",openfl_events_Event.FRAME_LABEL="frameLabel",openfl_events_Event.FULLSCREEN="fullScreen",openfl_events_Event.ID3="id3",openfl_events_Event.INIT="init",openfl_events_Event.MOUSE_LEAVE="mouseLeave",openfl_events_Event.OPEN="open",openfl_events_Event.PASTE="paste",openfl_events_Event.REMOVED="removed",openfl_events_Event.REMOVED_FROM_STAGE="removedFromStage",openfl_events_Event.RENDER="render",openfl_events_Event.RESIZE="resize",openfl_events_Event.SCROLL="scroll",openfl_events_Event.SELECT="select",openfl_events_Event.SELECT_ALL="selectAll",openfl_events_Event.SOUND_COMPLETE="soundComplete",openfl_events_Event.TAB_CHILDREN_CHANGE="tabChildrenChange",openfl_events_Event.TAB_ENABLED_CHANGE="tabEnabledChange",openfl_events_Event.TAB_INDEX_CHANGE="tabIndexChange",openfl_events_Event.TEXTURE_READY="textureReady",openfl_events_Event.UNLOAD="unload",openfl_events_ActivityEvent.ACTIVITY="activity",openfl_events_TextEvent.LINK="link",openfl_events_TextEvent.TEXT_INPUT="textInput",openfl_events_ErrorEvent.ERROR="error",openfl_events__$EventDispatcher_DispatchIterator.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_events__$EventDispatcher_Listener.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_events_FocusEvent.FOCUS_IN="focusIn",openfl_events_FocusEvent.FOCUS_OUT="focusOut",openfl_events_FocusEvent.KEY_FOCUS_CHANGE="keyFocusChange",openfl_events_FocusEvent.MOUSE_FOCUS_CHANGE="mouseFocusChange",openfl_events_FullScreenEvent.FULL_SCREEN="fullScreen",openfl_events_FullScreenEvent.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",openfl_events_GameInputEvent.DEVICE_ADDED="deviceAdded",openfl_events_GameInputEvent.DEVICE_REMOVED="deviceRemoved",openfl_events_GameInputEvent.DEVICE_UNUSABLE="deviceUnusable",openfl_events_HTTPStatusEvent.HTTP_RESPONSE_STATUS="httpResponseStatus",openfl_events_HTTPStatusEvent.HTTP_STATUS="httpStatus",openfl_events_IOErrorEvent.IO_ERROR="ioError",openfl_events_KeyboardEvent.KEY_DOWN="keyDown",openfl_events_KeyboardEvent.KEY_UP="keyUp",openfl_events_MouseEvent.CLICK="click",openfl_events_MouseEvent.DOUBLE_CLICK="doubleClick",openfl_events_MouseEvent.MIDDLE_CLICK="middleClick",openfl_events_MouseEvent.MIDDLE_MOUSE_DOWN="middleMouseDown",openfl_events_MouseEvent.MIDDLE_MOUSE_UP="middleMouseUp",openfl_events_MouseEvent.MOUSE_DOWN="mouseDown",openfl_events_MouseEvent.MOUSE_MOVE="mouseMove",openfl_events_MouseEvent.MOUSE_OUT="mouseOut",openfl_events_MouseEvent.MOUSE_OVER="mouseOver",openfl_events_MouseEvent.MOUSE_UP="mouseUp",openfl_events_MouseEvent.MOUSE_WHEEL="mouseWheel",openfl_events_MouseEvent.RELEASE_OUTSIDE="releaseOutside",openfl_events_MouseEvent.RIGHT_CLICK="rightClick",openfl_events_MouseEvent.RIGHT_MOUSE_DOWN="rightMouseDown",openfl_events_MouseEvent.RIGHT_MOUSE_UP="rightMouseUp",openfl_events_MouseEvent.ROLL_OUT="rollOut",openfl_events_MouseEvent.ROLL_OVER="rollOver",openfl_events_NetStatusEvent.NET_STATUS="netStatus",openfl_events_ProgressEvent.PROGRESS="progress",openfl_events_ProgressEvent.SOCKET_DATA="socketData",openfl_events_RenderEvent.CLEAR_DOM="clearDOM",openfl_events_RenderEvent.RENDER_CAIRO="renderCairo",openfl_events_RenderEvent.RENDER_CANVAS="renderCanvas",openfl_events_RenderEvent.RENDER_DOM="renderDOM",openfl_events_RenderEvent.RENDER_OPENGL="renderOpenGL",openfl_events_SecurityErrorEvent.SECURITY_ERROR="securityError",openfl_events_TouchEvent.__meta__={fields:{delta:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_events_TouchEvent.TOUCH_BEGIN="touchBegin",openfl_events_TouchEvent.TOUCH_END="touchEnd",openfl_events_TouchEvent.TOUCH_MOVE="touchMove",openfl_events_TouchEvent.TOUCH_OUT="touchOut",openfl_events_TouchEvent.TOUCH_OVER="touchOver",openfl_events_TouchEvent.TOUCH_ROLL_OUT="touchRollOut",openfl_events_TouchEvent.TOUCH_ROLL_OVER="touchRollOver",openfl_events_TouchEvent.TOUCH_TAP="touchTap",openfl_events_UncaughtErrorEvent.UNCAUGHT_ERROR="uncaughtError",openfl_geom_Matrix3D.__meta__={statics:{create2D:{SuppressWarnings:["checkstyle:FieldDocComment"]},createABCD:{SuppressWarnings:["checkstyle:FieldDocComment"]},createOrtho:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_geom_Orientation3D.AXIS_ANGLE=0,openfl_geom_Orientation3D.EULER_ANGLES=1,openfl_geom_Orientation3D.QUATERNION=2,openfl_media_SoundTransform.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_media_SoundMixer.MAX_ACTIVE_CHANNELS=32,openfl_media_SoundMixer.__soundChannels=[],openfl_media_SoundMixer.__soundTransform=new openfl_media_SoundTransform,openfl_media_Video.VERTEX_BUFFER_STRIDE=5,openfl_net_NetConnection.__meta__={statics:{CONNECT_SUCCESS:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_net_NetConnection.CONNECT_SUCCESS="NetConnection.Connect.Success",openfl_net_NetStream.__meta__={fields:{audioCodec:{SuppressWarnings:["checkstyle:FieldDocComment"]},decodedFrames:{SuppressWarnings:["checkstyle:FieldDocComment"]},speed:{SuppressWarnings:["checkstyle:FieldDocComment"]},requestVideoStatus:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_net_SharedObject.defaultObjectEncoding=10,openfl_net_SharedObjectFlushStatus.FLUSHED=0,openfl_net_SharedObjectFlushStatus.PENDING=1,openfl_net_URLLoaderDataFormat.BINARY=0,openfl_net_URLLoaderDataFormat.TEXT=1,openfl_net_URLLoaderDataFormat.VARIABLES=2,openfl_net_URLRequestDefaults.followRedirects=!0,openfl_net_URLRequestDefaults.idleTimeout=0,openfl_net_URLRequestDefaults.manageCookies=!1,openfl_system_ApplicationDomain.currentDomain=new openfl_system_ApplicationDomain(null),openfl_system_SecurityDomain.__meta__={obj:{SuppressWarnings:["checkstyle:UnnecessaryConstructor"]}},openfl_system_SecurityDomain.currentDomain=new openfl_system_SecurityDomain,openfl_system_System.useCodePage=!1,openfl_text_AntiAliasType.ADVANCED=0,openfl_text_AntiAliasType.NORMAL=1,openfl_text_FontStyle.BOLD=0,openfl_text_FontStyle.BOLD_ITALIC=1,openfl_text_FontStyle.ITALIC=2,openfl_text_FontStyle.REGULAR=3,openfl_text_FontType.DEVICE=0,openfl_text_FontType.EMBEDDED=1,openfl_text_FontType.EMBEDDED_CFF=2,openfl_text_GridFitType.NONE=0,openfl_text_GridFitType.PIXEL=1,openfl_text_GridFitType.SUBPIXEL=2,openfl_text_TextField.__missingFontWarning=new haxe_ds_StringMap,openfl_text_TextFieldAutoSize.CENTER=0,openfl_text_TextFieldAutoSize.LEFT=1,openfl_text_TextFieldAutoSize.NONE=2,openfl_text_TextFieldAutoSize.RIGHT=3,openfl_text_TextFieldType.DYNAMIC=0,openfl_text_TextFieldType.INPUT=1,openfl_text_TextFormat.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_text_TextFormatAlign.CENTER=0,openfl_text_TextFormatAlign.END=1,openfl_text_TextFormatAlign.JUSTIFY=2,openfl_text_TextFormatAlign.LEFT=3,openfl_text_TextFormatAlign.RIGHT=4,openfl_text_TextFormatAlign.START=5,openfl_text__$internal_CacheMeasurement.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_text__$internal_GlyphPosition.__meta__={obj:{SuppressWarnings:[["checkstyle:FieldDocComment","checkstyle:Dynamic"]]}},openfl_text__$internal_HTMLParser.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_text__$internal_HTMLParser.__regexAlign=new EReg("align\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexBreakTag=new EReg("<br\\s*/?>","gi"),openfl_text__$internal_HTMLParser.__regexBlockIndent=new EReg("blockindent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexColor=new EReg("color\\s?=\\s?(\"#([^\"]+)\"|'#([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexEntities=[new EReg("&quot;","g"),new EReg("&apos;","g"),new EReg("&amp;","g"),new EReg("&lt;","g"),new EReg("&gt;","g"),new EReg("&nbsp;","g")],openfl_text__$internal_HTMLParser.__regexFace=new EReg("face\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexHTMLTag=new EReg("<.*?>","g"),openfl_text__$internal_HTMLParser.__regexHref=new EReg("href\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexIndent=new EReg(" indent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexLeading=new EReg("leading\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexLeftMargin=new EReg("leftmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexRightMargin=new EReg("rightmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexSize=new EReg("size\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_HTMLParser.__regexTabStops=new EReg("tabstops\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),openfl_text__$internal_ShapeCache.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_text__$internal_TextEngine.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{__cairoFont:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_text__$internal_TextEngine.GUTTER=2,openfl_text__$internal_TextEngine.UTF8_TAB=9,openfl_text__$internal_TextEngine.UTF8_ENDLINE=10,openfl_text__$internal_TextEngine.UTF8_SPACE=32,openfl_text__$internal_TextEngine.UTF8_HYPHEN=45,openfl_text__$internal_TextEngine.__defaultFonts=new haxe_ds_StringMap,openfl_text__$internal_TextLayout.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{glyphs:{SuppressWarnings:["checkstyle:Dynamic"]},__handle:{SuppressWarnings:["checkstyle:Dynamic"]},__hbBuffer:{SuppressWarnings:["checkstyle:Dynamic"]},__hbFont:{SuppressWarnings:["checkstyle:Dynamic"]},get_glyphs:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_text__$internal_TextLayout.FT_LOAD_DEFAULT=0,openfl_text__$internal_TextLayout.FT_LOAD_NO_SCALE=1,openfl_text__$internal_TextLayout.FT_LOAD_NO_HINTING=2,openfl_text__$internal_TextLayout.FT_LOAD_RENDER=4,openfl_text__$internal_TextLayout.FT_LOAD_NO_BITMAP=8,openfl_text__$internal_TextLayout.FT_LOAD_VERTICAL_LAYOUT=16,openfl_text__$internal_TextLayout.FT_LOAD_FORCE_AUTOHINT=32,openfl_text__$internal_TextLayout.FT_LOAD_CROP_BITMAP=64,openfl_text__$internal_TextLayout.FT_LOAD_PEDANTIC=128,openfl_text__$internal_TextLayout.FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH=256,openfl_text__$internal_TextLayout.FT_LOAD_NO_RECURSE=512,openfl_text__$internal_TextLayout.FT_LOAD_IGNORE_TRANSFORM=1024,openfl_text__$internal_TextLayout.FT_LOAD_MONOCHROME=2048,openfl_text__$internal_TextLayout.FT_LOAD_LINEAR_DESIGN=4096,openfl_text__$internal_TextLayout.FT_LOAD_NO_AUTOHINT=8192,openfl_text__$internal_TextLayout.FT_LOAD_COLOR=16384,openfl_text__$internal_TextLayout.FT_LOAD_COMPUTE_METRICS=32768,openfl_text__$internal_TextLayout.FT_LOAD_BITMAP_METRICS_ONLY=65536,openfl_text__$internal_TextLayout.FT_LOAD_TARGET_NORMAL=0,openfl_text__$internal_TextLayout.FT_LOAD_TARGET_LIGHT=0,openfl_text__$internal_TextDirection.INVALID=0,openfl_text__$internal_TextDirection.LEFT_TO_RIGHT=4,openfl_text__$internal_TextDirection.RIGHT_TO_LEFT=5,openfl_text__$internal_TextDirection.TOP_TO_BOTTOM=6,openfl_text__$internal_TextDirection.BOTTOM_TO_TOP=7,openfl_text__$internal_TextScript.COMMON="Zyyy",openfl_text__$internal_TextScript.INHERITED="Zinh",openfl_text__$internal_TextScript.UNKNOWN="Zzzz",openfl_text__$internal_TextScript.ARABIC="Arab",openfl_text__$internal_TextScript.ARMENIAN="Armn",openfl_text__$internal_TextScript.BENGALI="Beng",openfl_text__$internal_TextScript.CYRILLIC="Cyrl",openfl_text__$internal_TextScript.DEVANAGARI="Deva",openfl_text__$internal_TextScript.GEORGIAN="Geor",openfl_text__$internal_TextScript.GREEK="Grek",openfl_text__$internal_TextScript.GUJARATI="Gujr",openfl_text__$internal_TextScript.GURMUKHI="Guru",openfl_text__$internal_TextScript.HANGUL="Hang",openfl_text__$internal_TextScript.HAN="Hani",openfl_text__$internal_TextScript.HEBREW="Hebr",openfl_text__$internal_TextScript.HIRAGANA="Hira",openfl_text__$internal_TextScript.KANNADA="Knda",openfl_text__$internal_TextScript.KATAKANA="Kana",openfl_text__$internal_TextScript.LAO="Laoo",openfl_text__$internal_TextScript.LATIN="Latn",openfl_text__$internal_TextScript.MALAYALAM="Mlym",openfl_text__$internal_TextScript.ORIYA="Orya",openfl_text__$internal_TextScript.TAMIL="Taml",openfl_text__$internal_TextScript.TELUGA="Telu",openfl_text__$internal_TextScript.THAI="Thai",openfl_text__$internal_TextScript.TIBETAN="Tibt",openfl_text__$internal_TextScript.BOPOMOFO="Bopo",openfl_text__$internal_TextScript.BRAILLE="Brai",openfl_text__$internal_TextScript.CANADIAN_SYLLABICS="Cans",openfl_text__$internal_TextScript.CHEROKEE="Cher",openfl_text__$internal_TextScript.ETHIOPIC="Ethi",openfl_text__$internal_TextScript.KHMER="Khmr",openfl_text__$internal_TextScript.MONGOLIAN="Mong",openfl_text__$internal_TextScript.MYANMAR="Mymr",openfl_text__$internal_TextScript.OGHAM="Ogam",openfl_text__$internal_TextScript.RUNIC="Runr",openfl_text__$internal_TextScript.SINHALA="Sinh",openfl_text__$internal_TextScript.SYRIAC="Syrc",openfl_text__$internal_TextScript.THAANA="Thaa",openfl_text__$internal_TextScript.YI="Yiii",openfl_text__$internal_TextScript.DESERET="Dsrt",openfl_text__$internal_TextScript.GOTHIC="Goth",openfl_text__$internal_TextScript.OLD_ITALIC="Ital",openfl_text__$internal_TextScript.BUHID="Buhd",openfl_text__$internal_TextScript.HANUNOO="Hano",openfl_text__$internal_TextScript.TAGALOG="Tglg",openfl_text__$internal_TextScript.TAGBANWA="Tagb",openfl_text__$internal_TextScript.CYPRIOT="Cprt",openfl_text__$internal_TextScript.LIMBU="Limb",openfl_text__$internal_TextScript.LINEAR_B="Linb",openfl_text__$internal_TextScript.OSMANYA="Osma",openfl_text__$internal_TextScript.SHAVIAN="Shaw",openfl_text__$internal_TextScript.TAI_LE="Tale",openfl_text__$internal_TextScript.UGARITIC="Ugar",openfl_text__$internal_TextScript.BUGINESE="Bugi",openfl_text__$internal_TextScript.COPTIC="Copt",openfl_text__$internal_TextScript.GLAGOLITIC="Glag",openfl_text__$internal_TextScript.KHAROSHTHI="Khar",openfl_text__$internal_TextScript.NEW_TAI_LUE="Talu",openfl_text__$internal_TextScript.OLD_PERSIAN="Xpeo",openfl_text__$internal_TextScript.SYLOTI_NAGRI="Sylo",openfl_text__$internal_TextScript.TIFINAGH="Tfng",openfl_text__$internal_TextScript.BALINESE="Bali",openfl_text__$internal_TextScript.CUNEIFORM="Xsux",openfl_text__$internal_TextScript.NKO="Nkoo",openfl_text__$internal_TextScript.PHAGS_PA="Phag",openfl_text__$internal_TextScript.PHOENICIAN="Phnx",openfl_text__$internal_TextScript.CARIAN="Cari",openfl_text__$internal_TextScript.CHAM="Cham",openfl_text__$internal_TextScript.KAYAH_LI="Kali",openfl_text__$internal_TextScript.LEPCHA="Lepc",openfl_text__$internal_TextScript.LYCIAN="Lyci",openfl_text__$internal_TextScript.LYDIAN="Lydi",openfl_text__$internal_TextScript.OL_CHIKI="Olck",openfl_text__$internal_TextScript.REJANG="Rjng",openfl_text__$internal_TextScript.SAURASHTRA="Saur",openfl_text__$internal_TextScript.SUNDANESE="Sund",openfl_text__$internal_TextScript.VAI="Vaii",openfl_text__$internal_TextScript.AVESTAN="Avst",openfl_text__$internal_TextScript.BAMUM="Bamu",openfl_text__$internal_TextScript.EGYPTIAN_HIEROGLYPHS="Egyp",openfl_text__$internal_TextScript.IMPERIAL_ARAMAIC="Armi",openfl_text__$internal_TextScript.INSCRIPTIONAL_PAHLAVI="Phli",openfl_text__$internal_TextScript.INSCRIPTIONAL_PARTHIAN="Prti",openfl_text__$internal_TextScript.JAVANESE="Java",openfl_text__$internal_TextScript.KAITHI="Kthi",openfl_text__$internal_TextScript.LISU="Lisu",openfl_text__$internal_TextScript.MEETEI_MAYEK="Mtei",openfl_text__$internal_TextScript.OLD_SOUTH_ARABIAN="Sarb",openfl_text__$internal_TextScript.OLD_TURKIC="Orkh",openfl_text__$internal_TextScript.SAMARITAN="Samr",openfl_text__$internal_TextScript.TAI_THAM="Lana",openfl_text__$internal_TextScript.TAI_VIET="Tavt",openfl_text__$internal_TextScript.BATAK="Batk",openfl_text__$internal_TextScript.BRAHMI="Brah",openfl_text__$internal_TextScript.MANDAIC="Mand",openfl_text__$internal_TextScript.CHAKMA="Cakm",openfl_text__$internal_TextScript.MEROITIC_CURSIVE="Merc",openfl_text__$internal_TextScript.MEROITIC_HIEROGLYPHS="Mero",openfl_text__$internal_TextScript.MIAO="Plrd",openfl_text__$internal_TextScript.SHARADA="Shrd",openfl_text__$internal_TextScript.SORA_SOMPENG="Sora",openfl_text__$internal_TextScript.TAKRI="Takr",openfl_text__$internal_TextScript.BASSA_VAH="Bass",openfl_text__$internal_TextScript.CAUCASIAN_ALBANIAN="Aghb",openfl_text__$internal_TextScript.DUPLOYAN="Dupl",openfl_text__$internal_TextScript.ELBASAN="Elba",openfl_text__$internal_TextScript.GRANTHA="Gran",openfl_text__$internal_TextScript.KHOJKI="Khoj",openfl_text__$internal_TextScript.KHUDAWADI="Sind",openfl_text__$internal_TextScript.LINEAR_A="Lina",openfl_text__$internal_TextScript.MAHAJANI="Mahj",openfl_text__$internal_TextScript.MANICHAEAN="Mani",openfl_text__$internal_TextScript.MENDE_KIKAKUI="Mend",openfl_text__$internal_TextScript.MODI="Modi",openfl_text__$internal_TextScript.MRO="Mroo",openfl_text__$internal_TextScript.NABATAEAN="Nbat",openfl_text__$internal_TextScript.OLD_NORTH_ARABIAN="Narb",openfl_text__$internal_TextScript.OLD_PERMIC="Perm",openfl_text__$internal_TextScript.PAHAWH_HMONG="Hmng",openfl_text__$internal_TextScript.PALMYRENE="Palm",openfl_text__$internal_TextScript.PAU_CIN_HAU="Pauc",openfl_text__$internal_TextScript.PSALTER_PAHLAVI="Phlp",openfl_text__$internal_TextScript.SIDDHAM="Sidd",openfl_text__$internal_TextScript.TIRHUTA="Tirh",openfl_text__$internal_TextScript.WARANG_CITI="Wara",openfl_text__$internal_TextLayoutGroup.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_ui_GameInput.__meta__={fields:{addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_ui_GameInput.isSupported=!0,openfl_ui_GameInput.numDevices=0,openfl_ui_GameInput.__deviceList=[],openfl_ui_GameInput.__instances=[],openfl_ui_GameInput.__devices=new haxe_ds_ObjectMap,openfl_ui_GameInputDevice.MAX_BUFFER_SIZE=32e3,openfl_ui_Keyboard.__meta__={statics:{BREAK:{SuppressWarnings:["checkstyle:FieldDocComment"]},NUMLOCK:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},openfl_ui_Keyboard.NUMBER_0=48,openfl_ui_Keyboard.NUMBER_1=49,openfl_ui_Keyboard.NUMBER_2=50,openfl_ui_Keyboard.NUMBER_3=51,openfl_ui_Keyboard.NUMBER_4=52,openfl_ui_Keyboard.NUMBER_5=53,openfl_ui_Keyboard.NUMBER_6=54,openfl_ui_Keyboard.NUMBER_7=55,openfl_ui_Keyboard.NUMBER_8=56,openfl_ui_Keyboard.NUMBER_9=57,openfl_ui_Keyboard.A=65,openfl_ui_Keyboard.B=66,openfl_ui_Keyboard.C=67,openfl_ui_Keyboard.D=68,openfl_ui_Keyboard.E=69,openfl_ui_Keyboard.F=70,openfl_ui_Keyboard.G=71,openfl_ui_Keyboard.H=72,openfl_ui_Keyboard.I=73,openfl_ui_Keyboard.J=74,openfl_ui_Keyboard.K=75,openfl_ui_Keyboard.L=76,openfl_ui_Keyboard.M=77,openfl_ui_Keyboard.N=78,openfl_ui_Keyboard.O=79,openfl_ui_Keyboard.P=80,openfl_ui_Keyboard.Q=81,openfl_ui_Keyboard.R=82,openfl_ui_Keyboard.S=83,openfl_ui_Keyboard.T=84,openfl_ui_Keyboard.U=85,openfl_ui_Keyboard.V=86,openfl_ui_Keyboard.W=87,openfl_ui_Keyboard.X=88,openfl_ui_Keyboard.Y=89,openfl_ui_Keyboard.Z=90,openfl_ui_Keyboard.NUMPAD_0=96;openfl_ui_Keyboard.NUMPAD_1=97,openfl_ui_Keyboard.NUMPAD_2=98,openfl_ui_Keyboard.NUMPAD_3=99,openfl_ui_Keyboard.NUMPAD_4=100,openfl_ui_Keyboard.NUMPAD_5=101,openfl_ui_Keyboard.NUMPAD_6=102,openfl_ui_Keyboard.NUMPAD_7=103,openfl_ui_Keyboard.NUMPAD_8=104,openfl_ui_Keyboard.NUMPAD_9=105,openfl_ui_Keyboard.NUMPAD_MULTIPLY=106,openfl_ui_Keyboard.NUMPAD_ADD=107,openfl_ui_Keyboard.NUMPAD_ENTER=108,openfl_ui_Keyboard.NUMPAD_SUBTRACT=109,openfl_ui_Keyboard.NUMPAD_DECIMAL=110,openfl_ui_Keyboard.NUMPAD_DIVIDE=111,openfl_ui_Keyboard.F1=112,openfl_ui_Keyboard.F2=113,openfl_ui_Keyboard.F3=114,openfl_ui_Keyboard.F4=115,openfl_ui_Keyboard.F5=116,openfl_ui_Keyboard.F6=117,openfl_ui_Keyboard.F7=118,openfl_ui_Keyboard.F8=119,openfl_ui_Keyboard.F9=120,openfl_ui_Keyboard.F10=121,openfl_ui_Keyboard.F11=122,openfl_ui_Keyboard.F12=123,openfl_ui_Keyboard.F13=124,openfl_ui_Keyboard.F14=125,openfl_ui_Keyboard.F15=126,openfl_ui_Keyboard.BACKSPACE=8,openfl_ui_Keyboard.TAB=9,openfl_ui_Keyboard.ALTERNATE=18,openfl_ui_Keyboard.ENTER=13,openfl_ui_Keyboard.COMMAND=15,openfl_ui_Keyboard.SHIFT=16,openfl_ui_Keyboard.CONTROL=17,openfl_ui_Keyboard.BREAK=19,openfl_ui_Keyboard.CAPS_LOCK=20,openfl_ui_Keyboard.NUMPAD=21,openfl_ui_Keyboard.ESCAPE=27,openfl_ui_Keyboard.SPACE=32,openfl_ui_Keyboard.PAGE_UP=33,openfl_ui_Keyboard.PAGE_DOWN=34,openfl_ui_Keyboard.END=35,openfl_ui_Keyboard.HOME=36,openfl_ui_Keyboard.LEFT=37,openfl_ui_Keyboard.RIGHT=39,openfl_ui_Keyboard.UP=38,openfl_ui_Keyboard.DOWN=40,openfl_ui_Keyboard.INSERT=45,openfl_ui_Keyboard.DELETE=46,openfl_ui_Keyboard.NUMLOCK=144,openfl_ui_Keyboard.SEMICOLON=186,openfl_ui_Keyboard.EQUAL=187,openfl_ui_Keyboard.COMMA=188,openfl_ui_Keyboard.MINUS=189,openfl_ui_Keyboard.PERIOD=190,openfl_ui_Keyboard.SLASH=191,openfl_ui_Keyboard.BACKQUOTE=192,openfl_ui_Keyboard.LEFTBRACKET=219,openfl_ui_Keyboard.BACKSLASH=220,openfl_ui_Keyboard.RIGHTBRACKET=221,openfl_ui_Keyboard.QUOTE=222,openfl_ui_Mouse.supportsCursor=!0,openfl_ui_Mouse.supportsNativeCursor=!0,openfl_ui_Mouse.__cursor="auto",openfl_ui_MouseCursor.ARROW="arrow",openfl_ui_MouseCursor.AUTO="auto",openfl_ui_MouseCursor.BUTTON="button",openfl_ui_MouseCursor.HAND="hand",openfl_ui_MouseCursor.IBEAM="ibeam",openfl_ui_MouseCursor.__CROSSHAIR="crosshair",openfl_ui_MouseCursor.__CUSTOM="custom",openfl_ui_MouseCursor.__MOVE="move",openfl_ui_MouseCursor.__RESIZE_NESW="resize_nesw",openfl_ui_MouseCursor.__RESIZE_NS="resize_ns",openfl_ui_MouseCursor.__RESIZE_NWSE="resize_nwse",openfl_ui_MouseCursor.__RESIZE_WE="resize_we",openfl_ui_MouseCursor.__WAIT="wait",openfl_ui_MouseCursor.__WAIT_ARROW="waitarrow",openfl_ui_MultitouchInputMode.GESTURE=0,openfl_ui_MultitouchInputMode.NONE=1,openfl_ui_MultitouchInputMode.TOUCH_POINT=2,openfl_utils_AGALMiniAssembler.__meta__={obj:{SuppressWarnings:[["checkstyle:ConstantName","checkstyle:FieldDocComment"]]}},openfl_utils_AGALMiniAssembler.OPMAP=new haxe_ds_StringMap,openfl_utils_AGALMiniAssembler.REGMAP=new haxe_ds_StringMap,openfl_utils_AGALMiniAssembler.SAMPLEMAP=new haxe_ds_StringMap,openfl_utils_AGALMiniAssembler.MAX_NESTING=4,openfl_utils_AGALMiniAssembler.MAX_OPCODES=4096,openfl_utils_AGALMiniAssembler.FRAGMENT="fragment",openfl_utils_AGALMiniAssembler.VERTEX="vertex",openfl_utils_AGALMiniAssembler.SAMPLER_TYPE_SHIFT=8,openfl_utils_AGALMiniAssembler.SAMPLER_DIM_SHIFT=12,openfl_utils_AGALMiniAssembler.SAMPLER_SPECIAL_SHIFT=16,openfl_utils_AGALMiniAssembler.SAMPLER_REPEAT_SHIFT=20,openfl_utils_AGALMiniAssembler.SAMPLER_MIPMAP_SHIFT=24,openfl_utils_AGALMiniAssembler.SAMPLER_FILTER_SHIFT=28,openfl_utils_AGALMiniAssembler.REG_WRITE=1,openfl_utils_AGALMiniAssembler.REG_READ=2,openfl_utils_AGALMiniAssembler.REG_FRAG=32,openfl_utils_AGALMiniAssembler.REG_VERT=64,openfl_utils_AGALMiniAssembler.OP_SCALAR=1,openfl_utils_AGALMiniAssembler.OP_SPECIAL_TEX=8,openfl_utils_AGALMiniAssembler.OP_SPECIAL_MATRIX=16,openfl_utils_AGALMiniAssembler.OP_FRAG_ONLY=32,openfl_utils_AGALMiniAssembler.OP_VERT_ONLY=64,openfl_utils_AGALMiniAssembler.OP_NO_DEST=128,openfl_utils_AGALMiniAssembler.OP_VERSION2=256,openfl_utils_AGALMiniAssembler.OP_INCNEST=512,openfl_utils_AGALMiniAssembler.OP_DECNEST=1024,openfl_utils_AGALMiniAssembler.MOV="mov",openfl_utils_AGALMiniAssembler.ADD="add",openfl_utils_AGALMiniAssembler.SUB="sub",openfl_utils_AGALMiniAssembler.MUL="mul",openfl_utils_AGALMiniAssembler.DIV="div",openfl_utils_AGALMiniAssembler.RCP="rcp",openfl_utils_AGALMiniAssembler.MIN="min",openfl_utils_AGALMiniAssembler.MAX="max",openfl_utils_AGALMiniAssembler.FRC="frc",openfl_utils_AGALMiniAssembler.SQT="sqt",openfl_utils_AGALMiniAssembler.RSQ="rsq",openfl_utils_AGALMiniAssembler.POW="pow",openfl_utils_AGALMiniAssembler.LOG="log",openfl_utils_AGALMiniAssembler.EXP="exp",openfl_utils_AGALMiniAssembler.NRM="nrm",openfl_utils_AGALMiniAssembler.SIN="sin",openfl_utils_AGALMiniAssembler.COS="cos",openfl_utils_AGALMiniAssembler.CRS="crs",openfl_utils_AGALMiniAssembler.DP3="dp3",openfl_utils_AGALMiniAssembler.DP4="dp4",openfl_utils_AGALMiniAssembler.ABS="abs",openfl_utils_AGALMiniAssembler.NEG="neg",openfl_utils_AGALMiniAssembler.SAT="sat",openfl_utils_AGALMiniAssembler.M33="m33",openfl_utils_AGALMiniAssembler.M44="m44",openfl_utils_AGALMiniAssembler.M34="m34",openfl_utils_AGALMiniAssembler.DDX="ddx",openfl_utils_AGALMiniAssembler.DDY="ddy",openfl_utils_AGALMiniAssembler.IFE="ife",openfl_utils_AGALMiniAssembler.INE="ine",openfl_utils_AGALMiniAssembler.IFG="ifg",openfl_utils_AGALMiniAssembler.IFL="ifl",openfl_utils_AGALMiniAssembler.IEG="ieg",openfl_utils_AGALMiniAssembler.IEL="iel",openfl_utils_AGALMiniAssembler.ELS="els",openfl_utils_AGALMiniAssembler.EIF="eif",openfl_utils_AGALMiniAssembler.TED="ted",openfl_utils_AGALMiniAssembler.KIL="kil",openfl_utils_AGALMiniAssembler.TEX="tex",openfl_utils_AGALMiniAssembler.SGE="sge",openfl_utils_AGALMiniAssembler.SLT="slt",openfl_utils_AGALMiniAssembler.SGN="sgn",openfl_utils_AGALMiniAssembler.SEQ="seq",openfl_utils_AGALMiniAssembler.SNE="sne",openfl_utils_AGALMiniAssembler.VA="va",openfl_utils_AGALMiniAssembler.VC="vc",openfl_utils_AGALMiniAssembler.VT="vt",openfl_utils_AGALMiniAssembler.VO="vo",openfl_utils_AGALMiniAssembler.VI="vi",openfl_utils_AGALMiniAssembler.FC="fc",openfl_utils_AGALMiniAssembler.FT="ft",openfl_utils_AGALMiniAssembler.FS="fs",openfl_utils_AGALMiniAssembler.FO="fo",openfl_utils_AGALMiniAssembler.FD="fd",openfl_utils_AGALMiniAssembler.IID="iid",openfl_utils_AGALMiniAssembler.D2="2d",openfl_utils_AGALMiniAssembler.D3="3d",openfl_utils_AGALMiniAssembler.CUBE="cube",openfl_utils_AGALMiniAssembler.MIPNEAREST="mipnearest",openfl_utils_AGALMiniAssembler.MIPLINEAR="miplinear",openfl_utils_AGALMiniAssembler.MIPNONE="mipnone",openfl_utils_AGALMiniAssembler.NOMIP="nomip",openfl_utils_AGALMiniAssembler.NEAREST="nearest",openfl_utils_AGALMiniAssembler.LINEAR="linear",openfl_utils_AGALMiniAssembler.ANISOTROPIC2X="anisotropic2x",openfl_utils_AGALMiniAssembler.ANISOTROPIC4X="anisotropic4x",openfl_utils_AGALMiniAssembler.ANISOTROPIC8X="anisotropic8x",openfl_utils_AGALMiniAssembler.ANISOTROPIC16X="anisotropic16x",openfl_utils_AGALMiniAssembler.CENTROID="centroid",openfl_utils_AGALMiniAssembler.SINGLE="single",openfl_utils_AGALMiniAssembler.IGNORESAMPLER="ignoresampler",openfl_utils_AGALMiniAssembler.REPEAT="repeat",openfl_utils_AGALMiniAssembler.WRAP="wrap",openfl_utils_AGALMiniAssembler.CLAMP="clamp",openfl_utils_AGALMiniAssembler.REPEAT_U_CLAMP_V="repeat_u_clamp_v",openfl_utils_AGALMiniAssembler.CLAMP_U_REPEAT_V="clamp_u_repeat_v",openfl_utils_AGALMiniAssembler.RGBA="rgba",openfl_utils_AGALMiniAssembler.COMPRESSED="compressed",openfl_utils_AGALMiniAssembler.COMPRESSEDALPHA="compressedalpha",openfl_utils_AGALMiniAssembler.DXT1="dxt1",openfl_utils_AGALMiniAssembler.DXT5="dxt5",openfl_utils_AGALMiniAssembler.VIDEO="video",openfl_utils_AGALMiniAssembler.initialized=!1,openfl_utils__$AGALMiniAssembler_OpCode.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils__$AGALMiniAssembler_Register.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils__$AGALMiniAssembler_Sampler.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils_Assets.cache=new openfl_utils_AssetCache,openfl_utils_Assets.dispatcher=new openfl_events_EventDispatcher,openfl_utils_ByteArray.__bytePointer=new lime_utils_BytePointerData(null,0),openfl_utils_ByteArrayData.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils_ByteArrayData.defaultObjectEncoding=10,openfl_utils_CompressionAlgorithm.DEFLATE=0,openfl_utils_CompressionAlgorithm.LZMA=1,openfl_utils_CompressionAlgorithm.ZLIB=2,openfl_utils__$Dictionary_ClassMap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils__$Dictionary_FloatMap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils__$Dictionary_UtilsObjectMap.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils_Endian.BIG_ENDIAN=0,openfl_utils_Endian.LITTLE_ENDIAN=1,openfl_utils_Object.__meta__={statics:{iterator:{SuppressWarnings:["checkstyle:FieldDocComment"]},__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},haxe_lang_Iterator.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},haxe_lang_Iterable.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},openfl_utils__$internal_Lib.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{notImplemented:{SuppressWarnings:["checkstyle:NullableParameter"]}}},openfl_utils__$internal_Lib.__sentWarnings=new haxe_ds_StringMap,openfl_utils__$internal_TouchData.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{touch:{SuppressWarnings:["checkstyle:Dynamic"]}}},openfl_utils__$internal_TouchData.__pool=new lime_utils_ObjectPool((function(){return new openfl_utils__$internal_TouchData}),(function(e){e.reset()})),ApplicationMain.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
});
$hx_exports.lime = $hx_exports.lime || {};
$hx_exports.lime.$scripts = $hx_exports.lime.$scripts || {};
$hx_exports.lime.$scripts["KK"] = $hx_script;
$hx_exports.lime.embed = function(projectName) { var exports = {};
	var script = $hx_exports.lime.$scripts[projectName];
	if (!script) throw Error("Cannot find project name \"" + projectName + "\"");
	script(exports, $global);
	for (var key in exports) $hx_exports[key] = $hx_exports[key] || exports[key];
	var lime = exports.lime || window.lime;
	if (lime && lime.embed && this != lime.embed) lime.embed.apply(lime, arguments);
	return exports;
};
if(typeof define == "function" && define.amd) {
	define([], function() { return $hx_exports.lime; });
	define.__amd = define.amd;
	define.amd = null;
}
})(typeof exports != "undefined" ? exports : typeof define == "function" && define.amd ? {} : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this, typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);

/*! howler.js v2.1.1 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
!function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var o=this||n;if(e=parseFloat(e),o.ctx||_(),void 0!==e&&e>=0&&e<=1){if(o._volume=e,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var t=0;t<o._howls.length;t++)if(!o._howls[t]._webAudio)for(var r=o._howls[t]._getSoundIds(),a=0;a<r.length;a++){var u=o._howls[t]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return o}return o._volume},mute:function(e){var o=this||n;o.ctx||_(),o._muted=e,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(e?0:o._volume,n.ctx.currentTime);for(var t=0;t<o._howls.length;t++)if(!o._howls[t]._webAudio)for(var r=o._howls[t]._getSoundIds(),a=0;a<r.length;a++){var u=o._howls[t]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return o},unload:function(){for(var e=this||n,o=e._howls.length-1;o>=0;o--)e._howls[o].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||"suspended":"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var o=new Audio;void 0===o.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var o=new Audio;o.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,o=null;try{o="undefined"!=typeof Audio?new Audio:null}catch(n){return e}if(!o||"function"!=typeof o.canPlayType)return e;var t=o.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),a=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(a||!t&&!o.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!t,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!o.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n,o=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(e._navigator&&e._navigator.userAgent);if(!e._audioUnlocked&&e.ctx&&o){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var o=0;o<e.html5PoolSize;o++){var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var a=e._howls[o]._getSoundIds(),u=0;u<a.length;u++){var i=e._howls[o]._soundById(a[u]);i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load())}e._autoResume();var d=e.ctx.createBufferSource();d.buffer=e._scratchBuffer,d.connect(e.ctx.destination),void 0===d.start?d.noteOn(0):d.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),d.onended=function(){d.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var o=(new Audio).play();return o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var o=this||n;return e._unlocked&&o._html5AudioPool.push(e),o},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var o=0;o<e._howls.length;o++)if(e._howls[o]._webAudio)for(var t=0;t<e._howls[o]._sounds.length;t++)if(!e._howls[o]._sounds[t]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,o=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error("An array of source files must be passed with any new Howl.");n.init(e)};o.prototype={init:function(e){var o=this;return n.ctx||_(),o._autoplay=e.autoplay||!1,o._format="string"!=typeof e.format?e.format:[e.format],o._html5=e.html5||!1,o._muted=e.mute||!1,o._loop=e.loop||!1,o._pool=e.pool||5,o._preload="boolean"!=typeof e.preload||e.preload,o._rate=e.rate||1,o._sprite=e.sprite||{},o._src="string"!=typeof e.src?e.src:[e.src],o._volume=void 0!==e.volume?e.volume:1,o._xhrWithCredentials=e.xhrWithCredentials||!1,o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=e.onend?[{fn:e.onend}]:[],o._onfade=e.onfade?[{fn:e.onfade}]:[],o._onload=e.onload?[{fn:e.onload}]:[],o._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],o._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],o._onpause=e.onpause?[{fn:e.onpause}]:[],o._onplay=e.onplay?[{fn:e.onplay}]:[],o._onstop=e.onstop?[{fn:e.onstop}]:[],o._onmute=e.onmute?[{fn:e.onmute}]:[],o._onvolume=e.onvolume?[{fn:e.onvolume}]:[],o._onrate=e.onrate?[{fn:e.onrate}]:[],o._onseek=e.onseek?[{fn:e.onseek}]:[],o._onunlock=e.onunlock?[{fn:e.onunlock}]:[],o._onresume=[],o._webAudio=n.usingWebAudio&&!o._html5,void 0!==n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o.load(),o},load:function(){var e=this,o=null;if(n.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if("string"!=typeof(i=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(i),u||(u=/\.([^.]+)$/.exec(i.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&n.codecs(u)){o=e._src[r];break}}return o?(e._src=o,e._state="loading","https:"===window.location.protocol&&"http:"===o.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new t(e),e._webAudio&&a(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,o){var t=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===t._state&&!t._sprite[e])return null;if(void 0===e&&(e="__default",!t._playLock)){for(var a=0,u=0;u<t._sounds.length;u++)t._sounds[u]._paused&&!t._sounds[u]._ended&&(a++,r=t._sounds[u]._id);1===a?e=null:r=null}}var i=r?t._soundById(r):t._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||"__default"),"loaded"!==t._state){i._sprite=e,i._ended=!1;var d=i._id;return t._queue.push({event:"play",action:function(){t.play(d)}}),d}if(r&&!i._paused)return o||t._loadQueue("play"),i._id;t._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:t._sprite[e][0]/1e3),s=Math.max(0,(t._sprite[e][0]+t._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate),c=t._sprite[e][0]/1e3,f=(t._sprite[e][0]+t._sprite[e][1])/1e3,p=!(!i._loop&&!t._sprite[e][2]);i._sprite=e,i._ended=!1;var m=function(){i._paused=!1,i._seek=_,i._start=c,i._stop=f,i._loop=p};if(_>=f)return void t._ended(i);var v=i._node;if(t._webAudio){var h=function(){t._playLock=!1,m(),t._refreshBuffer(i);var e=i._muted||t._muted?0:i._volume;v.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===v.bufferSource.start?i._loop?v.bufferSource.noteGrainOn(0,_,86400):v.bufferSource.noteGrainOn(0,_,s):i._loop?v.bufferSource.start(0,_,86400):v.bufferSource.start(0,_,s),l!==1/0&&(t._endTimers[i._id]=setTimeout(t._ended.bind(t,i),l)),o||setTimeout(function(){t._emit("play",i._id),t._loadQueue()},0)};"running"===n.state?h():(t._playLock=!0,t.once("resume",h),t._clearTimer(i._id))}else{var y=function(){v.currentTime=_,v.muted=i._muted||t._muted||n._muted||v.muted,v.volume=i._volume*n.volume(),v.playbackRate=i._rate;try{var r=v.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(t._playLock=!0,m(),r.then(function(){t._playLock=!1,v._unlocked=!0,o||(t._emit("play",i._id),t._loadQueue())}).catch(function(){t._playLock=!1,t._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),i._ended=!0,i._paused=!0})):o||(t._playLock=!1,m(),t._emit("play",i._id),t._loadQueue()),v.playbackRate=i._rate,v.paused)return void t._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||i._loop?t._endTimers[i._id]=setTimeout(t._ended.bind(t,i),l):(t._endTimers[i._id]=function(){t._ended(i),v.removeEventListener("ended",t._endTimers[i._id],!1)},v.addEventListener("ended",t._endTimers[i._id],!1))}catch(e){t._emit("playerror",i._id,e)}},g=window&&window.ejecta||!v.readyState&&n._navigator.isCocoonJS;if(v.readyState>=3||g)y();else{t._playLock=!0;var b=function(){y(),v.removeEventListener(n._canPlayEvent,b,!1)};v.addEventListener(n._canPlayEvent,b,!1),t._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var o=n._getSoundIds(e),t=0;t<o.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused&&(r._seek=n.seek(o[t]),r._rateSeek=0,r._paused=!0,n._stopFade(o[t]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit("pause",r?r._id:null)}return n},stop:function(e,n){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"stop",action:function(){o.stop(e)}}),o;for(var t=o._getSoundIds(e),r=0;r<t.length;r++){o._clearTimer(t[r]);var a=o._soundById(t[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,o._stopFade(t[r]),a._node&&(o._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),o._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||o._emit("stop",a._id))}return o},mute:function(e,o){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"mute",action:function(){t.mute(e,o)}}),t;if(void 0===o){if("boolean"!=typeof e)return t._muted;t._muted=e}for(var r=t._getSoundIds(o),a=0;a<r.length;a++){var u=t._soundById(r[a]);u&&(u._muted=e,u._interval&&t._stopFade(u._id),t._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),t._emit("mute",u._id))}return t},volume:function(){var e,o,t=this,r=arguments;if(0===r.length)return t._volume;if(1===r.length||2===r.length&&void 0===r[1]){t._getSoundIds().indexOf(r[0])>=0?o=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=o?t._soundById(o):t._sounds[0],a?a._volume:0;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,r)}}),t;void 0===o&&(t._volume=e),o=t._getSoundIds(o);for(var u=0;u<o.length;u++)(a=t._soundById(o[u]))&&(a._volume=e,r[2]||t._stopFade(o[u]),t._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),t._emit("volume",a._id));return t},fade:function(e,o,t,r){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,o,t,r)}}),a;e=parseFloat(e),o=parseFloat(o),t=parseFloat(t),a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+t/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(o,s)}a._startFadeInterval(d,e,o,t,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,o,t,r,a){var u=this,i=n,d=o-n,_=Math.abs(d/.01),s=Math.max(4,_>0?t/_:t),l=Date.now();e._fadeTo=o,e._interval=setInterval(function(){var r=(Date.now()-l)/t;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(o<n&&i<=o||o>n&&i>=o)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(o,e._id),u._emit("fade",e._id))},s)},_stopFade:function(e){var o=this,t=o._soundById(e);return t&&t._interval&&(o._webAudio&&t._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(t._interval),t._interval=null,o.volume(t._fadeTo,e),t._fadeTo=null,o._emit("fade",e)),o},loop:function(){var e,n,o,t=this,r=arguments;if(0===r.length)return t._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(o=t._soundById(parseInt(r[0],10)))&&o._loop;e=r[0],t._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=t._getSoundIds(n),u=0;u<a.length;u++)(o=t._soundById(a[u]))&&(o._loop=e,t._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=e,e&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop)));return t},rate:function(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var a=t._getSoundIds(),u=a.indexOf(r[0]);u>=0?o=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var i;if("number"!=typeof e)return i=t._soundById(o),i?i._rate:t._rate;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,r)}}),t;void 0===o&&(t._rate=e),o=t._getSoundIds(o);for(var d=0;d<o.length;d++)if(i=t._soundById(o[d])){t.playing(o[d])&&(i._rateSeek=t.seek(o[d]),i._playStart=t._webAudio?n.ctx.currentTime:i._playStart),i._rate=e,t._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=t.seek(o[d]),s=(t._sprite[i._sprite][0]+t._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!t._endTimers[o[d]]&&i._paused||(t._clearTimer(o[d]),t._endTimers[o[d]]=setTimeout(t._ended.bind(t,i),l)),t._emit("rate",i._id)}return t},seek:function(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var a=t._getSoundIds(),u=a.indexOf(r[0]);u>=0?o=parseInt(r[0],10):t._sounds.length&&(o=t._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));if(void 0===o)return t;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"seek",action:function(){t.seek.apply(t,r)}}),t;var i=t._soundById(o);if(i){if(!("number"==typeof e&&e>=0)){if(t._webAudio){var d=t.playing(o)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=t.playing(o);s&&t.pause(o,!0),i._seek=e,i._ended=!1,t._clearTimer(o),t._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var l=function(){t._emit("seek",o),s&&t.play(o,!0)};if(s&&!t._webAudio){var c=function(){t._playLock?setTimeout(c,0):l()};setTimeout(c,0)}else l()}return t},playing:function(e){var n=this;if("number"==typeof e){var o=n._soundById(e);return!!o&&!o._paused}for(var t=0;t<n._sounds.length;t++)if(!n._sounds[t]._paused)return!0;return!1},duration:function(e){var n=this,o=n._duration,t=n._soundById(e);return t&&(o=n._sprite[t._sprite][1]/1e3),o},state:function(){return this._state},unload:function(){for(var e=this,o=e._sounds,t=0;t<o.length;t++){if(o[t]._paused||e.stop(o[t]._id),!e._webAudio){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(o[t]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),o[t]._node.removeEventListener("error",o[t]._errorFn,!1),o[t]._node.removeEventListener(n._canPlayEvent,o[t]._loadFn,!1),n._releaseHtml5Audio(o[t]._node)}delete o[t]._node,e._clearTimer(o[t]._id)}var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1);var u=!0;for(t=0;t<n._howls.length;t++)if(n._howls[t]._src===e._src||e._src.indexOf(n._howls[t]._src)>=0){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,o,t){var r=this,a=r["_on"+e];return"function"==typeof n&&a.push(t?{id:o,fn:n,once:t}:{id:o,fn:n}),r},off:function(e,n,o){var t=this,r=t["_on"+e],a=0;if("number"==typeof n&&(o=n,n=null),n||o)for(a=0;a<r.length;a++){var u=o===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)t["_on"+e]=[];else{var i=Object.keys(t);for(a=0;a<i.length;a++)0===i[a].indexOf("_on")&&Array.isArray(t[i[a]])&&(t[i[a]]=[])}return t},once:function(e,n,o){var t=this;return t.on(e,n,o,1),t},_emit:function(e,n,o){for(var t=this,r=t["_on"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&"load"!==e||(setTimeout(function(e){e.call(this,n,o)}.bind(t,r[a].fn),0),r[a].once&&t.off(e,r[a].fn,r[a].id));return t._loadQueue(e),t},_loadQueue:function(e){var n=this;if(n._queue.length>0){var o=n._queue[0];o.event===e&&(n._queue.shift(),n._loadQueue()),e||o.action()}return n},_ended:function(e){var o=this,t=e._sprite;if(!o._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(o._ended.bind(o,e),100),o;var r=!(!e._loop&&!o._sprite[t][2]);if(o._emit("end",e._id),!o._webAudio&&r&&o.stop(e._id,!0).play(e._id),o._webAudio&&r){o._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);o._endTimers[e._id]=setTimeout(o._ended.bind(o,e),a)}return o._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,o._clearTimer(e._id),o._cleanBuffer(e._node),n._autoSuspend()),o._webAudio||r||o.stop(e._id,!0),o},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if("function"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var o=n._soundById(e);o&&o._node&&o._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,o=0;o<n._sounds.length;o++)if(e===n._sounds[o]._id)return n._sounds[o];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new t(e)},_drain:function(){var e=this,n=e._pool,o=0,t=0;if(!(e._sounds.length<n)){for(t=0;t<e._sounds.length;t++)e._sounds[t]._ended&&o++;for(t=e._sounds.length-1;t>=0;t--){if(o<=n)return;e._sounds[t]._ended&&(e._webAudio&&e._sounds[t]._node&&e._sounds[t]._node.disconnect(0),e._sounds.splice(t,1),o--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var o=[],t=0;t<n._sounds.length;t++)o.push(n._sounds[t]._id);return o}return[e]},_refreshBuffer:function(e){var o=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[o._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),o},_cleanBuffer:function(e){var o=this,t=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}return e.bufferSource=null,o}};var t=function(e){this._parent=e,this.init()};t.prototype={init:function(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._rate=o._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,o._sounds.push(e),e.create(),e},create:function(){var e=this,o=e._parent,t=n._muted||e._muted||e._parent._muted?0:e._volume;return o._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(t,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=o._src,e._node.preload="auto",e._node.volume=t*n.volume(),e._node.load()),e},reset:function(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._rate=o._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,o=e._parent;o._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(o._sprite).length&&(o._sprite={__default:[0,1e3*o._duration]}),"loaded"!==o._state&&(o._state="loaded",o._emit("load"),o._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var o=atob(n.split(",")[1]),t=new Uint8Array(o.length),a=0;a<o.length;++a)t[a]=o.charCodeAt(a);i(t.buffer,e)}else{var _=new XMLHttpRequest;_.open("GET",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType="arraybuffer",_.onload=function(){var n=(_.status+"")[0];if("0"!==n&&"2"!==n&&"3"!==n)return void e._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,o){var t=function(){o._emit("loaderror",null,"Decoding audio data failed.")},a=function(e){e&&o._sounds.length>0?(r[o._src]=e,d(o,e)):t()};"undefined"!=typeof Promise&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(a).catch(t):n.ctx.decodeAudioData(e,a,t)},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(n.usingWebAudio){try{"undefined"!=typeof AudioContext?n.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),o=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=o?parseInt(o[1],10):null;if(e&&t&&t<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:o}}),"undefined"!=typeof exports&&(exports.Howler=n,exports.Howl=o),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=o,window.Sound=t):"undefined"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=o,global.Sound=t)}();
/*! Spatial Plugin */
!function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var t=n._howls.length-1;t>=0;t--)n._howls[t].stereo(e);return n},HowlerGlobal.prototype.pos=function(e,n,t){var r=this;return r.ctx&&r.ctx.listener?(n="number"!=typeof n?r._pos[1]:n,t="number"!=typeof t?r._pos[2]:t,"number"!=typeof e?r._pos:(r._pos=[e,n,t],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,n,t,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return n="number"!=typeof n?s[1]:n,t="number"!=typeof t?s[2]:t,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,n,t,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(t,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,n,t,r,o,i),a)},Howl.prototype.init=function(e){return function(n){var t=this;return t._orientation=n.orientation||[1,0,0],t._stereo=n.stereo||null,t._pos=n.pos||null,t._pannerAttr={coneInnerAngle:void 0!==n.coneInnerAngle?n.coneInnerAngle:360,coneOuterAngle:void 0!==n.coneOuterAngle?n.coneOuterAngle:360,coneOuterGain:void 0!==n.coneOuterGain?n.coneOuterGain:0,distanceModel:void 0!==n.distanceModel?n.distanceModel:"inverse",maxDistance:void 0!==n.maxDistance?n.maxDistance:1e4,panningModel:void 0!==n.panningModel?n.panningModel:"HRTF",refDistance:void 0!==n.refDistance?n.refDistance:1,rolloffFactor:void 0!==n.rolloffFactor?n.rolloffFactor:1},t._onstereo=n.onstereo?[{fn:n.onstereo}]:[],t._onpos=n.onpos?[{fn:n.onpos}]:[],t._onorientation=n.onorientation?[{fn:n.onorientation}]:[],e.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,t){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(n,t)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof n)return r._stereo;r._stereo=n,r._pos=[n,0,0]}for(var i=r._getSoundIds(t),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof n)return s._stereo;s._stereo=n,s._pos=[n,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(n,0,0):s._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(n,t,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(n,t,r,o)}}),i;if(t="number"!=typeof t?0:t,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof n)return i._pos;i._pos=[n,t,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var p=i._soundById(a[s]);if(p){if("number"!=typeof n)return p._pos;p._pos=[n,t,r],p._node&&(p._panner&&!p._panner.pan||e(p,"spatial"),void 0!==p._panner.positionX?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):p._panner.setPosition(n,t,r)),i._emit("pos",p._id)}}return i},Howl.prototype.orientation=function(n,t,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(n,t,r,o)}}),i;if(t="number"!=typeof t?i._orientation[1]:t,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof n)return i._orientation;i._orientation=[n,t,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var p=i._soundById(a[s]);if(p){if("number"!=typeof n)return p._orientation;p._orientation=[n,t,r],p._node&&(p._panner||(p._pos||(p._pos=i._pos||[0,0,-.5]),e(p,"spatial")),void 0!==p._panner.orientationX?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):p._panner.setOrientation(n,t,r)),i._emit("orientation",p._id)}}return i},Howl.prototype.pannerAttr=function(){var n,t,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;n=i[0],void 0===t&&(n.pannerAttr||(n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==n.pannerAttr.coneInnerAngle?n.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==n.pannerAttr.coneOuterAngle?n.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==n.pannerAttr.coneOuterGain?n.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==n.pannerAttr.distanceModel?n.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==n.pannerAttr.maxDistance?n.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==n.pannerAttr.refDistance?n.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==n.pannerAttr.rolloffFactor?n.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==n.pannerAttr.panningModel?n.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(n=i[0],t=parseInt(i[1],10));for(var a=o._getSoundIds(t),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var p=r._pannerAttr;p={coneInnerAngle:void 0!==n.coneInnerAngle?n.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:void 0!==n.coneOuterAngle?n.coneOuterAngle:p.coneOuterAngle,coneOuterGain:void 0!==n.coneOuterGain?n.coneOuterGain:p.coneOuterGain,distanceModel:void 0!==n.distanceModel?n.distanceModel:p.distanceModel,maxDistance:void 0!==n.maxDistance?n.maxDistance:p.maxDistance,refDistance:void 0!==n.refDistance?n.refDistance:p.refDistance,rolloffFactor:void 0!==n.rolloffFactor?n.rolloffFactor:p.rolloffFactor,panningModel:void 0!==n.panningModel?n.panningModel:p.panningModel};var c=r._panner;c?(c.coneInnerAngle=p.coneInnerAngle,c.coneOuterAngle=p.coneOuterAngle,c.coneOuterGain=p.coneOuterGain,c.distanceModel=p.distanceModel,c.maxDistance=p.maxDistance,c.refDistance=p.refDistance,c.rolloffFactor=p.rolloffFactor,c.panningModel=p.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var n=this,t=n._parent;n._orientation=t._orientation,n._stereo=t._stereo,n._pos=t._pos,n._pannerAttr=t._pannerAttr,e.call(this),n._stereo?t.stereo(n._stereo):n._pos&&t.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var n=this,t=n._parent;return n._orientation=t._orientation,n._stereo=t._stereo,n._pos=t._pos,n._pannerAttr=t._pannerAttr,n._stereo?t.stereo(n._stereo):n._pos?t.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,t._refreshBuffer(n)),e.call(this)}}(Sound.prototype.reset);var e=function(e,n){n=n||"spatial","spatial"===n?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}();
/* pako 1.0.2 nodeca/pako */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pako=t()}}(function(){return function t(e,a,i){function n(s,o){if(!a[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=a[s]={exports:{}};e[s][0].call(d.exports,function(t){var a=e[s][1][t];return n(a?a:t)},d,d.exports,t,e,a,i)}return a[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,a){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=l.assign({level:w,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var a=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==b)throw new Error(d[a]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?h.string2buf(e.dictionary):"[object ArrayBuffer]"===_.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=o.deflateSetDictionary(this.strm,n),a!==b)throw new Error(d[a]);this._dict_set=!0}}function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}function r(t,e){return e=e||{},e.raw=!0,n(t,e)}function s(t,e){return e=e||{},e.gzip=!0,n(t,e)}var o=t("./zlib/deflate"),l=t("./utils/common"),h=t("./utils/strings"),d=t("./zlib/messages"),f=t("./zlib/zstream"),_=Object.prototype.toString,u=0,c=4,b=0,g=1,m=2,w=-1,p=0,v=8;i.prototype.push=function(t,e){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?c:u,"string"==typeof t?n.input=h.string2buf(t):"[object ArrayBuffer]"===_.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new l.Buf8(r),n.next_out=0,n.avail_out=r),a=o.deflate(n,i),a!==g&&a!==b)return this.onEnd(a),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||i!==c&&i!==m)||("string"===this.options.to?this.onData(h.buf2binstring(l.shrinkBuf(n.output,n.next_out))):this.onData(l.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&a!==g);return i===c?(a=o.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===b):i!==m||(this.onEnd(b),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===b&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=i,a.deflate=n,a.deflateRaw=r,a.gzip=s},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var a=s.inflateInit2(this.strm,e.windowBits);if(a!==h.Z_OK)throw new Error(d[a]);this.header=new _,s.inflateGetHeader(this.strm,this.header)}function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}function r(t,e){return e=e||{},e.raw=!0,n(t,e)}var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),_=t("./zlib/gzheader"),u=Object.prototype.toString;i.prototype.push=function(t,e){var a,i,n,r,d,f,_=this.strm,c=this.options.chunkSize,b=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?_.input=l.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?_.input=new Uint8Array(t):_.input=t,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=new o.Buf8(c),_.next_out=0,_.avail_out=c),a=s.inflate(_,h.Z_NO_FLUSH),a===h.Z_NEED_DICT&&b&&(f="string"==typeof b?l.string2buf(b):"[object ArrayBuffer]"===u.call(b)?new Uint8Array(b):b,a=s.inflateSetDictionary(this.strm,f)),a===h.Z_BUF_ERROR&&g===!0&&(a=h.Z_OK,g=!1),a!==h.Z_STREAM_END&&a!==h.Z_OK)return this.onEnd(a),this.ended=!0,!1;_.next_out&&(0!==_.avail_out&&a!==h.Z_STREAM_END&&(0!==_.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(n=l.utf8border(_.output,_.next_out),r=_.next_out-n,d=l.buf2string(_.output,n),_.next_out=r,_.avail_out=c-r,r&&o.arraySet(_.output,_.output,n,r,0),this.onData(d)):this.onData(o.shrinkBuf(_.output,_.next_out)))),0===_.avail_in&&0===_.avail_out&&(g=!0)}while((_.avail_in>0||0===_.avail_out)&&a!==h.Z_STREAM_END);return a===h.Z_STREAM_END&&(i=h.Z_FINISH),i===h.Z_FINISH?(a=s.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),_.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=i,a.inflate=n,a.inflateRaw=r,a.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)return void t.set(e.subarray(a,a+i),n);for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(i=0,e=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),n=0,e=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},r={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(i)},{}],4:[function(t,e,a){"use strict";function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,a.string2buf=function(t){var e,a,i,r,s,o=t.length,l=0;for(r=0;r<o;r++)a=t.charCodeAt(r),55296===(64512&a)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),r++)),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(l),s=0,r=0;s<l;r++)a=t.charCodeAt(r),55296===(64512&a)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),r++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return i(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,s,l=e||t.length,h=new Array(2*l);for(n=0,a=0;a<l;)if(r=t[a++],r<128)h[n++]=r;else if(s=o[r],s>4)h[n++]=65533,a+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&a<l;)r=r<<6|63&t[a++],s--;s>1?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return i(h,n)},a.utf8border=function(t,e){var a;for(e=e||t.length,e>t.length&&(e=t.length),a=e-1;a>=0&&128===(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){"use strict";function i(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){s=a>2e3?2e3:a,a-=s;do n=n+e[i++]|0,r=r+n|0;while(--s);n%=65521,r%=65521}return n|r<<16|0}e.exports=i},{}],6:[function(t,e,a){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){"use strict";function i(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}function n(t,e,a,i){var n=r,s=i+a;t^=-1;for(var o=i;o<s;o++)t=t>>>8^n[255&(t^e[o])];return t^-1}var r=i();e.exports=n},{}],8:[function(t,e,a){"use strict";function i(t,e){return t.msg=D[e],e}function n(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(R.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function o(t,e){C._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function h(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,a,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,R.arraySet(e,t.input,t.next_in,n,a),1===t.state.wrap?t.adler=N(t.adler,e,n,a):2===t.state.wrap&&(t.adler=O(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)}function f(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-ft?t.strstart-(t.w_size-ft):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+dt,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,h[a+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do;while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=dt-(_-r),r=_-dt,i>s){if(t.match_start=e,s=i,i>=o)break;u=h[r+s-1],c=h[r+s]}}while((e=f[e&d])>l&&0!==--n);return s<=t.lookahead?s:t.lookahead}function _(t){var e,a,i,n,r,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-ft)){R.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,a=t.hash_size,e=a;do i=t.head[--e],t.head[e]=i>=s?i-s:0;while(--a);a=s,e=a;do i=t.prev[--e],t.prev[e]=i>=s?i-s:0;while(--a);n+=s}if(0===t.strm.avail_in)break;if(a=d(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=a,t.lookahead+t.insert>=ht)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+ht-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<ht)););}while(t.lookahead<ft&&0!==t.strm.avail_in)}function u(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&e===I)return vt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,o(t,!1),0===t.strm.avail_out))return vt;if(t.strstart-t.block_start>=t.w_size-ft&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.strstart>t.block_start&&(o(t,!1),0===t.strm.avail_out)?vt:vt}function c(t,e){for(var a,i;;){if(t.lookahead<ft){if(_(t),t.lookahead<ft&&e===I)return vt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ft&&(t.match_length=f(t,a)),t.match_length>=ht)if(i=C._tr_tally(t,t.strstart-t.match_start,t.match_length-ht),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ht){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=t.strstart<ht-1?t.strstart:ht-1,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function b(t,e){for(var a,i,n;;){if(t.lookahead<ft){if(_(t),t.lookahead<ft&&e===I)return vt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ht-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ft&&(t.match_length=f(t,a),t.match_length<=5&&(t.strategy===q||t.match_length===ht&&t.strstart-t.match_start>4096)&&(t.match_length=ht-1)),t.prev_length>=ht&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-ht,i=C._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ht),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ht-1,t.strstart++,i&&(o(t,!1),0===t.strm.avail_out))return vt}else if(t.match_available){if(i=C._tr_tally(t,0,t.window[t.strstart-1]),i&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return vt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=C._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ht-1?t.strstart:ht-1,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function g(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=dt){if(_(t),t.lookahead<=dt&&e===I)return vt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ht&&t.strstart>0&&(n=t.strstart-1,i=s[n],i===s[++n]&&i===s[++n]&&i===s[++n])){r=t.strstart+dt;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=dt-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ht?(a=C._tr_tally(t,1,t.match_length-ht),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function m(t,e){for(var a;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(e===I)return vt;break}if(t.match_length=0,a=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function w(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function p(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=Z[t.level].max_lazy,t.good_match=Z[t.level].good_length,t.nice_match=Z[t.level].nice_length,t.max_chain_length=Z[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ht-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*ot),this.dyn_dtree=new R.Buf16(2*(2*rt+1)),this.bl_tree=new R.Buf16(2*(2*st+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(lt+1),this.heap=new R.Buf16(2*nt+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*nt+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Q,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ut:wt,t.adler=2===e.wrap?0:1,e.last_flush=I,C._tr_init(e),H):i(t,K)}function y(t){var e=k(t);return e===H&&p(t.state),e}function x(t,e){return t&&t.state?2!==t.state.wrap?K:(t.state.gzhead=e,H):K}function z(t,e,a,n,r,s){if(!t)return K;var o=1;if(e===Y&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>$||a!==V||n<8||n>15||e<0||e>9||s<0||s>W)return i(t,K);8===n&&(n=9);var l=new v;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ht-1)/ht),l.window=new R.Buf8(2*l.w_size),l.head=new R.Buf16(l.hash_size),l.prev=new R.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new R.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,y(t)}function B(t,e){return z(t,e,V,tt,et,J)}function S(t,e){var a,o,d,f;if(!t||!t.state||e>L||e<0)return t?i(t,K):K;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===pt&&e!==F)return i(t,0===t.avail_out?P:K);if(o.strm=t,a=o.last_flush,o.last_flush=e,o.status===ut)if(2===o.wrap)t.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=O(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=ct):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,zt),o.status=wt);else{var _=V+(o.w_bits-8<<4)<<8,u=-1;u=o.strategy>=G||o.level<2?0:o.level<6?1:6===o.level?2:3,_|=u<<6,0!==o.strstart&&(_|=_t),_+=31-_%31,o.status=wt,h(o,_),0!==o.strstart&&(h(o,t.adler>>>16),h(o,65535&t.adler)),t.adler=1}if(o.status===ct)if(o.gzhead.extra){for(d=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=bt)}else o.status=bt;if(o.status===bt)if(o.gzhead.name){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.gzindex=0,o.status=gt)}else o.status=gt;if(o.status===gt)if(o.gzhead.comment){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.status=mt)}else o.status=mt;if(o.status===mt&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(l(o,255&t.adler),l(o,t.adler>>8&255),t.adler=0,o.status=wt)):o.status=wt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,H}else if(0===t.avail_in&&n(e)<=n(a)&&e!==F)return i(t,P);if(o.status===pt&&0!==t.avail_in)return i(t,P);if(0!==t.avail_in||0!==o.lookahead||e!==I&&o.status!==pt){var c=o.strategy===G?m(o,e):o.strategy===X?g(o,e):Z[o.level].func(o,e);if(c!==yt&&c!==xt||(o.status=pt),c===vt||c===yt)return 0===t.avail_out&&(o.last_flush=-1),H;if(c===kt&&(e===U?C._tr_align(o):e!==L&&(C._tr_stored_block(o,0,0,!1),e===T&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,H}return e!==F?H:o.wrap<=0?j:(2===o.wrap?(l(o,255&t.adler),l(o,t.adler>>8&255),l(o,t.adler>>16&255),l(o,t.adler>>24&255),l(o,255&t.total_in),l(o,t.total_in>>8&255),l(o,t.total_in>>16&255),l(o,t.total_in>>24&255)):(h(o,t.adler>>>16),h(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?H:j)}function E(t){var e;return t&&t.state?(e=t.state.status,e!==ut&&e!==ct&&e!==bt&&e!==gt&&e!==mt&&e!==wt&&e!==pt?i(t,K):(t.state=null,e===wt?i(t,M):H)):K}function A(t,e){var a,i,n,s,o,l,h,d,f=e.length;if(!t||!t.state)return K;if(a=t.state,s=a.wrap,2===s||1===s&&a.status!==ut||a.lookahead)return K;for(1===s&&(t.adler=N(t.adler,e,f,0)),a.wrap=0,f>=a.w_size&&(0===s&&(r(a.head),a.strstart=0,a.block_start=0,a.insert=0),d=new R.Buf8(a.w_size),R.arraySet(d,e,f-a.w_size,a.w_size,0),e=d,f=a.w_size),o=t.avail_in,l=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,_(a);a.lookahead>=ht;){i=a.strstart,n=a.lookahead-(ht-1);do a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+ht-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++;while(--n);a.strstart=i,a.lookahead=ht-1,_(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=ht-1,a.match_available=0,t.next_in=l,t.input=h,t.avail_in=o,a.wrap=s,H}var Z,R=t("../utils/common"),C=t("./trees"),N=t("./adler32"),O=t("./crc32"),D=t("./messages"),I=0,U=1,T=3,F=4,L=5,H=0,j=1,K=-2,M=-3,P=-5,Y=-1,q=1,G=2,X=3,W=4,J=0,Q=2,V=8,$=9,tt=15,et=8,at=29,it=256,nt=it+1+at,rt=30,st=19,ot=2*nt+1,lt=15,ht=3,dt=258,ft=dt+ht+1,_t=32,ut=42,ct=69,bt=73,gt=91,mt=103,wt=113,pt=666,vt=1,kt=2,yt=3,xt=4,zt=3;Z=[new w(0,0,0,0,u),new w(4,4,8,4,c),new w(4,5,16,8,c),new w(4,6,32,32,c),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],a.deflateInit=B,a.deflateInit2=z,a.deflateReset=y,a.deflateResetKeep=k,a.deflateSetHeader=x,a.deflate=S,a.deflateEnd=E,a.deflateSetDictionary=A,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],10:[function(t,e,a){"use strict";var i=30,n=12;e.exports=function(t,e){var a,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S,E,A;a=t.state,r=t.next_in,E=t.input,s=r+(t.avail_in-5),o=t.next_out,A=t.output,l=o-(e-t.avail_out),h=o+(t.avail_out-257),d=a.dmax,f=a.wsize,_=a.whave,u=a.wnext,c=a.window,b=a.hold,g=a.bits,m=a.lencode,w=a.distcode,p=(1<<a.lenbits)-1,v=(1<<a.distbits)-1;t:do{g<15&&(b+=E[r++]<<g,g+=8,b+=E[r++]<<g,g+=8),k=m[b&p];e:for(;;){if(y=k>>>24,b>>>=y,g-=y,y=k>>>16&255,0===y)A[o++]=65535&k;else{if(!(16&y)){if(0===(64&y)){k=m[(65535&k)+(b&(1<<y)-1)];continue e}if(32&y){a.mode=n;break t}t.msg="invalid literal/length code",a.mode=i;break t}x=65535&k,y&=15,y&&(g<y&&(b+=E[r++]<<g,g+=8),x+=b&(1<<y)-1,b>>>=y,g-=y),g<15&&(b+=E[r++]<<g,g+=8,b+=E[r++]<<g,g+=8),k=w[b&v];a:for(;;){if(y=k>>>24,b>>>=y,g-=y,y=k>>>16&255,!(16&y)){if(0===(64&y)){k=w[(65535&k)+(b&(1<<y)-1)];continue a}t.msg="invalid distance code",a.mode=i;break t}if(z=65535&k,y&=15,g<y&&(b+=E[r++]<<g,g+=8,g<y&&(b+=E[r++]<<g,g+=8)),z+=b&(1<<y)-1,z>d){t.msg="invalid distance too far back",a.mode=i;break t}if(b>>>=y,g-=y,y=o-l,z>y){if(y=z-y,y>_&&a.sane){t.msg="invalid distance too far back",a.mode=i;break t}if(B=0,S=c,0===u){if(B+=f-y,y<x){x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}}else if(u<y){if(B+=f+u-y,y-=u,y<x){x-=y;do A[o++]=c[B++];while(--y);if(B=0,u<x){y=u,x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}}}else if(B+=u-y,y<x){x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}for(;x>2;)A[o++]=S[B++],A[o++]=S[B++],A[o++]=S[B++],x-=3;x&&(A[o++]=S[B++],x>1&&(A[o++]=S[B++]))}else{B=o-z;do A[o++]=A[B++],A[o++]=A[B++],A[o++]=A[B++],x-=3;while(x>2);x&&(A[o++]=A[B++],x>1&&(A[o++]=A[B++]))}break}}break}}while(r<s&&o<h);x=g>>3,r-=x,g-=x<<3,b&=(1<<g)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<h?257+(h-o):257-(o-h),a.hold=b,a.bits=g}},{}],11:[function(t,e,a){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=T,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new w.Buf32(bt),e.distcode=e.distdyn=new w.Buf32(gt),e.sane=1,e.back=-1,Z):N}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):N}function o(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?N:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,s(t))):N}function l(t,e){var a,i;return t?(i=new n,t.state=i,i.window=null,a=o(t,e),a!==Z&&(t.state=null),a):N}function h(t){return l(t,wt)}function d(t){if(pt){var e;for(g=new w.Buf32(512),m=new w.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(y(z,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;y(B,t.lens,0,32,m,0,t.work,{bits:5}),pt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function f(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new w.Buf8(r.wsize)),i>=r.wsize?(w.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(n=r.wsize-r.wnext,n>i&&(n=i),w.arraySet(r.window,e,a-i,n,r.wnext),i-=n,i?(w.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function _(t,e){var a,n,r,s,o,l,h,_,u,c,b,g,m,bt,gt,mt,wt,pt,vt,kt,yt,xt,zt,Bt,St=0,Et=new w.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return N;a=t.state,a.mode===X&&(a.mode=W),o=t.next_out,r=t.output,h=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,u=a.bits,c=l,b=h,xt=Z;t:for(;;)switch(a.mode){case T:if(0===a.wrap){a.mode=W;break}for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(2&a.wrap&&35615===_){a.check=0,Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0),_=0,u=0,a.mode=F;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&_)<<8)+(_>>8))%31){t.msg="incorrect header check",a.mode=_t;break}if((15&_)!==U){t.msg="unknown compression method",a.mode=_t;break}if(_>>>=4,u-=4,yt=(15&_)+8,0===a.wbits)a.wbits=yt;else if(yt>a.wbits){t.msg="invalid window size",a.mode=_t;break}a.dmax=1<<yt,t.adler=a.check=1,a.mode=512&_?q:X,_=0,u=0;break;case F:for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(a.flags=_,(255&a.flags)!==U){t.msg="unknown compression method",a.mode=_t;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=_t;break}a.head&&(a.head.text=_>>8&1),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0,a.mode=L;case L:for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.head&&(a.head.time=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,Et[2]=_>>>16&255,Et[3]=_>>>24&255,a.check=v(a.check,Et,4,0)),_=0,u=0,a.mode=H;case H:for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.head&&(a.head.xflags=255&_,a.head.os=_>>8),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0,a.mode=j;case j:if(1024&a.flags){for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.length=_,a.head&&(a.head.extra_len=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0}else a.head&&(a.head.extra=null);a.mode=K;case K:if(1024&a.flags&&(g=a.length,g>l&&(g=l),g&&(a.head&&(yt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),w.arraySet(a.head.extra,n,s,g,yt)),512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,a.length-=g),a.length))break t;a.length=0,a.mode=M;case M:if(2048&a.flags){if(0===l)break t;g=0;do yt=n[s+g++],a.head&&yt&&a.length<65536&&(a.head.name+=String.fromCharCode(yt));while(yt&&g<l);if(512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,yt)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=P;case P:if(4096&a.flags){if(0===l)break t;g=0;do yt=n[s+g++],a.head&&yt&&a.length<65536&&(a.head.comment+=String.fromCharCode(yt));while(yt&&g<l);if(512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,yt)break t}else a.head&&(a.head.comment=null);a.mode=Y;case Y:if(512&a.flags){for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_!==(65535&a.check)){t.msg="header crc mismatch",a.mode=_t;break}_=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=X;break;case q:for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}t.adler=a.check=i(_),_=0,u=0,a.mode=G;case G:if(0===a.havedict)return t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,C;t.adler=a.check=1,a.mode=X;case X:if(e===E||e===A)break t;case W:if(a.last){_>>>=7&u,u-=7&u,a.mode=ht;break}for(;u<3;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}switch(a.last=1&_,_>>>=1,u-=1,3&_){case 0:a.mode=J;break;case 1:if(d(a),a.mode=at,e===A){_>>>=2,u-=2;break t}break;case 2:a.mode=$;break;case 3:t.msg="invalid block type",a.mode=_t}_>>>=2,u-=2;break;case J:for(_>>>=7&u,u-=7&u;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if((65535&_)!==(_>>>16^65535)){t.msg="invalid stored block lengths",a.mode=_t;break}if(a.length=65535&_,_=0,u=0,a.mode=Q,e===A)break t;case Q:a.mode=V;case V:if(g=a.length){if(g>l&&(g=l),g>h&&(g=h),0===g)break t;w.arraySet(r,n,s,g,o),l-=g,s+=g,h-=g,o+=g,a.length-=g;break}a.mode=X;break;case $:for(;u<14;){if(0===l)break t;
l--,_+=n[s++]<<u,u+=8}if(a.nlen=(31&_)+257,_>>>=5,u-=5,a.ndist=(31&_)+1,_>>>=5,u-=5,a.ncode=(15&_)+4,_>>>=4,u-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=_t;break}a.have=0,a.mode=tt;case tt:for(;a.have<a.ncode;){for(;u<3;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.lens[At[a.have++]]=7&_,_>>>=3,u-=3}for(;a.have<19;)a.lens[At[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,zt={bits:a.lenbits},xt=y(x,a.lens,0,19,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid code lengths set",a.mode=_t;break}a.have=0,a.mode=et;case et:for(;a.have<a.nlen+a.ndist;){for(;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(wt<16)_>>>=gt,u-=gt,a.lens[a.have++]=wt;else{if(16===wt){for(Bt=gt+2;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_>>>=gt,u-=gt,0===a.have){t.msg="invalid bit length repeat",a.mode=_t;break}yt=a.lens[a.have-1],g=3+(3&_),_>>>=2,u-=2}else if(17===wt){for(Bt=gt+3;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=gt,u-=gt,yt=0,g=3+(7&_),_>>>=3,u-=3}else{for(Bt=gt+7;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=gt,u-=gt,yt=0,g=11+(127&_),_>>>=7,u-=7}if(a.have+g>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=_t;break}for(;g--;)a.lens[a.have++]=yt}}if(a.mode===_t)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=_t;break}if(a.lenbits=9,zt={bits:a.lenbits},xt=y(z,a.lens,0,a.nlen,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid literal/lengths set",a.mode=_t;break}if(a.distbits=6,a.distcode=a.distdyn,zt={bits:a.distbits},xt=y(B,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,zt),a.distbits=zt.bits,xt){t.msg="invalid distances set",a.mode=_t;break}if(a.mode=at,e===A)break t;case at:a.mode=it;case it:if(l>=6&&h>=258){t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,k(t,b),o=t.next_out,r=t.output,h=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,u=a.bits,a.mode===X&&(a.back=-1);break}for(a.back=0;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(mt&&0===(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.lencode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=pt,u-=pt,a.back+=pt}if(_>>>=gt,u-=gt,a.back+=gt,a.length=wt,0===mt){a.mode=lt;break}if(32&mt){a.back=-1,a.mode=X;break}if(64&mt){t.msg="invalid literal/length code",a.mode=_t;break}a.extra=15&mt,a.mode=nt;case nt:if(a.extra){for(Bt=a.extra;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.length+=_&(1<<a.extra)-1,_>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=rt;case rt:for(;St=a.distcode[_&(1<<a.distbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(0===(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.distcode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=pt,u-=pt,a.back+=pt}if(_>>>=gt,u-=gt,a.back+=gt,64&mt){t.msg="invalid distance code",a.mode=_t;break}a.offset=wt,a.extra=15&mt,a.mode=st;case st:if(a.extra){for(Bt=a.extra;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.offset+=_&(1<<a.extra)-1,_>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=_t;break}a.mode=ot;case ot:if(0===h)break t;if(g=b-h,a.offset>g){if(g=a.offset-g,g>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=_t;break}g>a.wnext?(g-=a.wnext,m=a.wsize-g):m=a.wnext-g,g>a.length&&(g=a.length),bt=a.window}else bt=r,m=o-a.offset,g=a.length;g>h&&(g=h),h-=g,a.length-=g;do r[o++]=bt[m++];while(--g);0===a.length&&(a.mode=it);break;case lt:if(0===h)break t;r[o++]=a.length,h--,a.mode=it;break;case ht:if(a.wrap){for(;u<32;){if(0===l)break t;l--,_|=n[s++]<<u,u+=8}if(b-=h,t.total_out+=b,a.total+=b,b&&(t.adler=a.check=a.flags?v(a.check,r,b,o-b):p(a.check,r,b,o-b)),b=h,(a.flags?_:i(_))!==a.check){t.msg="incorrect data check",a.mode=_t;break}_=0,u=0}a.mode=dt;case dt:if(a.wrap&&a.flags){for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=_t;break}_=0,u=0}a.mode=ft;case ft:xt=R;break t;case _t:xt=O;break t;case ut:return D;case ct:default:return N}return t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,(a.wsize||b!==t.avail_out&&a.mode<_t&&(a.mode<ht||e!==S))&&f(t,t.output,t.next_out,b-t.avail_out)?(a.mode=ut,D):(c-=t.avail_in,b-=t.avail_out,t.total_in+=c,t.total_out+=b,a.total+=b,a.wrap&&b&&(t.adler=a.check=a.flags?v(a.check,r,b,t.next_out-b):p(a.check,r,b,t.next_out-b)),t.data_type=a.bits+(a.last?64:0)+(a.mode===X?128:0)+(a.mode===at||a.mode===Q?256:0),(0===c&&0===b||e===S)&&xt===Z&&(xt=I),xt)}function u(t){if(!t||!t.state)return N;var e=t.state;return e.window&&(e.window=null),t.state=null,Z}function c(t,e){var a;return t&&t.state?(a=t.state,0===(2&a.wrap)?N:(a.head=e,e.done=!1,Z)):N}function b(t,e){var a,i,n,r=e.length;return t&&t.state?(a=t.state,0!==a.wrap&&a.mode!==G?N:a.mode===G&&(i=1,i=p(i,e,r,0),i!==a.check)?O:(n=f(t,e,r,r))?(a.mode=ut,D):(a.havedict=1,Z)):N}var g,m,w=t("../utils/common"),p=t("./adler32"),v=t("./crc32"),k=t("./inffast"),y=t("./inftrees"),x=0,z=1,B=2,S=4,E=5,A=6,Z=0,R=1,C=2,N=-2,O=-3,D=-4,I=-5,U=8,T=1,F=2,L=3,H=4,j=5,K=6,M=7,P=8,Y=9,q=10,G=11,X=12,W=13,J=14,Q=15,V=16,$=17,tt=18,et=19,at=20,it=21,nt=22,rt=23,st=24,ot=25,lt=26,ht=27,dt=28,ft=29,_t=30,ut=31,ct=32,bt=852,gt=592,mt=15,wt=mt,pt=!0;a.inflateReset=s,a.inflateReset2=o,a.inflateResetKeep=r,a.inflateInit=h,a.inflateInit2=l,a.inflate=_,a.inflateEnd=u,a.inflateGetHeader=c,a.inflateSetDictionary=b,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){"use strict";var i=t("../utils/common"),n=15,r=852,s=592,o=0,l=1,h=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,c,b,g,m,w){var p,v,k,y,x,z,B,S,E,A=w.bits,Z=0,R=0,C=0,N=0,O=0,D=0,I=0,U=0,T=0,F=0,L=null,H=0,j=new i.Buf16(n+1),K=new i.Buf16(n+1),M=null,P=0;for(Z=0;Z<=n;Z++)j[Z]=0;for(R=0;R<c;R++)j[e[a+R]]++;for(O=A,N=n;N>=1&&0===j[N];N--);if(O>N&&(O=N),0===N)return b[g++]=20971520,b[g++]=20971520,w.bits=1,0;for(C=1;C<N&&0===j[C];C++);for(O<C&&(O=C),U=1,Z=1;Z<=n;Z++)if(U<<=1,U-=j[Z],U<0)return-1;if(U>0&&(t===o||1!==N))return-1;for(K[1]=0,Z=1;Z<n;Z++)K[Z+1]=K[Z]+j[Z];for(R=0;R<c;R++)0!==e[a+R]&&(m[K[e[a+R]]++]=R);if(t===o?(L=M=m,z=19):t===l?(L=d,H-=257,M=f,P-=257,z=256):(L=_,M=u,z=-1),F=0,R=0,Z=C,x=g,D=O,I=0,k=-1,T=1<<O,y=T-1,t===l&&T>r||t===h&&T>s)return 1;for(var Y=0;;){Y++,B=Z-I,m[R]<z?(S=0,E=m[R]):m[R]>z?(S=M[P+m[R]],E=L[H+m[R]]):(S=96,E=0),p=1<<Z-I,v=1<<D,C=v;do v-=p,b[x+(F>>I)+v]=B<<24|S<<16|E|0;while(0!==v);for(p=1<<Z-1;F&p;)p>>=1;if(0!==p?(F&=p-1,F+=p):F=0,R++,0===--j[Z]){if(Z===N)break;Z=e[a+m[R]]}if(Z>O&&(F&y)!==k){for(0===I&&(I=O),x+=C,D=Z-I,U=1<<D;D+I<N&&(U-=j[D+I],!(U<=0));)D++,U<<=1;if(T+=1<<D,t===l&&T>r||t===h&&T>s)return 1;k=F&y,b[k]=O<<24|D<<16|x-g|0}}return 0!==F&&(b[x+F]=Z-I<<24|64<<16|0),w.bits=O,0}},{"../utils/common":3}],13:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?lt[t]:lt[256+(t>>>7)]}function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,a){t.bi_valid>W-a?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,t.bi_valid+=a-W):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function h(t,e,a){l(t,a[2*e],a[2*e+1])}function d(t,e){var a=0;do a|=1&t,t>>>=1,a<<=1;while(--e>0);return a>>>1}function f(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function _(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=X;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<G;a++)i=t.heap[a],r=l[2*l[2*i+1]+1]+1,r>c&&(r=c,b++),l[2*i+1]=r,i>h||(t.bl_count[r]++,s=0,i>=u&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(b>0);for(r=c;0!==r;r--)for(i=t.bl_count[r];0!==i;)n=t.heap[--a],n>h||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}function u(t,e,a){var i,n,r=new Array(X+1),s=0;for(i=1;i<=X;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=d(r[o]++,o))}}function c(){var t,e,a,i,r,s=new Array(X+1);for(a=0,i=0;i<K-1;i++)for(dt[i]=a,t=0;t<1<<et[i];t++)ht[a++]=i;for(ht[a-1]=i,r=0,i=0;i<16;i++)for(ft[i]=r,t=0;t<1<<at[i];t++)lt[r++]=i;for(r>>=7;i<Y;i++)for(ft[i]=r<<7,t=0;t<1<<at[i]-7;t++)lt[256+r++]=i;for(e=0;e<=X;e++)s[e]=0;for(t=0;t<=143;)st[2*t+1]=8,t++,s[8]++;for(;t<=255;)st[2*t+1]=9,t++,s[9]++;for(;t<=279;)st[2*t+1]=7,t++,s[7]++;for(;t<=287;)st[2*t+1]=8,t++,s[8]++;for(u(st,P+1,s),t=0;t<Y;t++)ot[2*t+1]=5,ot[2*t]=d(t,5);_t=new n(st,et,M+1,P,X),ut=new n(ot,at,0,Y,X),ct=new n(new Array(0),it,0,q,J)}function b(t){var e;for(e=0;e<P;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<q;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Q]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,e,a,i){g(t),i&&(o(t,a),o(t,~a)),N.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}function w(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}function p(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&w(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!w(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function v(t,e,a){var i,n,r,o,d=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],n=t.pending_buf[t.l_buf+d],d++,0===i?h(t,n,e):(r=ht[n],h(t,r+M+1,e),o=et[r],0!==o&&(n-=dt[r],l(t,n,o)),i--,r=s(i),h(t,r,a),o=at[r],0!==o&&(i-=ft[r],l(t,i,o)));while(d<t.last_lit);h(t,Q,e)}function k(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=G,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)n=t.heap[++t.heap_len]=h<2?++h:0,r[2*n]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;a>=1;a--)p(t,r,a);n=l;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],p(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,p(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_(t,e),u(r,h,t.bl_count)}function y(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*V]++):o<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,o=0,r=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function x(t,e,a){var i,n,r=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=a;i++)if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f){do h(t,n,t.bl_tree);while(0!==--o)}else 0!==n?(n!==r&&(h(t,n,t.bl_tree),o--),h(t,V,t.bl_tree),l(t,o-3,2)):o<=10?(h(t,$,t.bl_tree),l(t,o-3,3)):(h(t,tt,t.bl_tree),l(t,o-11,7));o=0,r=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}}function z(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function B(t,e,a,i){var n;for(l(t,e-257,5),l(t,a-1,5),l(t,i-4,4),n=0;n<i;n++)l(t,t.bl_tree[2*nt[n]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,a-1)}function S(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return D;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return I;for(e=32;e<M;e++)if(0!==t.dyn_ltree[2*e])return I;return D}function E(t){bt||(c(),bt=!0),t.l_desc=new r(t.dyn_ltree,_t),t.d_desc=new r(t.dyn_dtree,ut),t.bl_desc=new r(t.bl_tree,ct),t.bi_buf=0,t.bi_valid=0,b(t)}function A(t,e,a,i){l(t,(T<<1)+(i?1:0),3),m(t,e,a,!0)}function Z(t){l(t,F<<1,3),h(t,Q,st),f(t)}function R(t,e,a,i){var n,r,s=0;t.level>0?(t.strm.data_type===U&&(t.strm.data_type=S(t)),k(t,t.l_desc),k(t,t.d_desc),s=z(t),n=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=n&&(n=r)):n=r=a+5,a+4<=n&&e!==-1?A(t,e,a,i):t.strategy===O||r===n?(l(t,(F<<1)+(i?1:0),3),v(t,st,ot)):(l(t,(L<<1)+(i?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),v(t,t.dyn_ltree,t.dyn_dtree)),b(t),i&&g(t)}function C(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(ht[a]+M+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var N=t("../utils/common"),O=4,D=0,I=1,U=2,T=0,F=1,L=2,H=3,j=258,K=29,M=256,P=M+1+K,Y=30,q=19,G=2*P+1,X=15,W=16,J=7,Q=256,V=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,st=new Array(2*(P+2));i(st);var ot=new Array(2*Y);i(ot);var lt=new Array(rt);i(lt);var ht=new Array(j-H+1);i(ht);var dt=new Array(K);i(dt);var ft=new Array(Y);i(ft);var _t,ut,ct,bt=!1;a._tr_init=E,a._tr_stored_block=A,a._tr_flush_block=R,a._tr_tally=C,a._tr_align=Z},{"../utils/common":3}],15:[function(t,e,a){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],"/":[function(t,e,a){"use strict";var i=t("./lib/utils/common").assign,n=t("./lib/deflate"),r=t("./lib/inflate"),s=t("./lib/zlib/constants"),o={};i(o,n,r,s),e.exports=o},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if(typeof e==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",d=1e3*40,c=function(e){var t=function(){if(typeof e==="string"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e["on"+t[r]];if(typeof o==="function"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,"writestart progress write writeend".split(" "))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");var n=e.open(t,"_blank");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,"_blank");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||"download",n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||"download";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})}

if(typeof define == "function" && define.__amd) {
	define.amd = define.__amd;
	delete define.__amd;
}